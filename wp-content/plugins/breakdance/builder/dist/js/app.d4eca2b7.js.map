{"version":3,"file":"js/app.d4eca2b7.js","mappings":"yEAA4CA,EAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAmD,oB,OAAC,QAAYG,CAAAA,EAAK,yBAAM,c,MAAC,CAAqC,MAAS,EAACC,OAAIC,GAAgB,mCAAG,QAAC,mB,GAA0B,CAAwC,kBAAE,iCAACC,G,YAAsC,EAAS,K,IAAEC,U,GAAsBJ,UAAO,MAAC,QAAC,I,MAAqD,GAAC,K,YAASA,O,MAAW,CAAuD,MAAO,OAAuE,mDAAqB,4EAAe,qBAAG,UAAC,I,GAA0B,CAAoD,kBAAC,+BAAKA,KAAqGK,EAAM,kE,YAASL,O,MAAe,CAAiC,QAAc,SAAO,6BAAG,gBAAC,G,GAA0B,CAAwD,kBAAC,mCAAG,KAAmE,OAAQA,EAAMM,KAAAA,EAAAA,iCAA0B,C,MAAC,CAA0B,8BAAG,eAAC,Q,GAA0B,CAAiE,kBAAC,4CAAG,KAAa,OAAKL,OAAmEA,EAAIM,YAAG,0BAA4EF,YAAM,Q,CAAC,gEAAgBG,EAAAA,aAAAA,CAAS,MAAC,CAAG,UAAC,aAA2B,IAAIP,MAAO,mBAEv8CQ,CAAAA,EAAAA,GAAAA,wBAAoB,aAExB,E,4JCwBA,IAAqBC,EAArB,cAA0DC,EAAAA,GAA1DC,c,oBAUE,KAAAC,aAAe,CAAC,EAEhB,KAAAX,gBAAkB,CAChBY,QAAS,CACPZ,gBAAiB,CACfa,aAAc,kBACdC,cAAe,SACfC,WAAY,4BAuEpB,CAhEEC,eAEEC,KAAKC,SAASC,WAAWX,6BACvBY,EAAAA,OAAAA,CACJ,CAEAC,sBAAsBC,GACpBL,KAAKM,MAAM,QAASD,EACtB,CAEAE,gBAAgBC,GACd,IAAKA,EAAM,OAAO,EAElB,MAAMC,EAAUC,EAAAA,GAAAA,QAAoBF,GAC9BG,EAAOF,EAAQG,YAAYD,KACjC,OAAQA,EAAKE,WAAW,QAC1B,CAEIxB,gBACF,QAAKyB,EAAAA,GAAAA,eACEA,EAAAA,GAAAA,cAAAA,KAAAA,OAAoCd,KAAKe,QAAQN,UAAUD,IACpE,CAEAQ,iBACE,IAAKF,EAAAA,GAAAA,cAAuB,OAE5B,MAAMG,EAAaR,IACV,CACLD,KAAMC,EAAQS,KAAKP,KACnBxB,kBAAmBsB,EAAQS,KAAKC,WAChCC,SAAUX,EAAQW,SAASC,IAAIJ,KAI7BK,GAAgBC,EAAAA,EAAAA,GAAcT,EAAAA,GAAAA,eAE9BU,EAAcF,EAAcF,SAASC,IAAIJ,GAE/CjB,KAAKI,sBAAsBoB,EAC7B,CAEIC,iDACF,OAAOC,OAAOC,KAAKjB,EAAAA,GAAAA,UAAsBkB,QAAQpB,IAC/C,MAAMqB,EAAgBnB,EAAAA,GAAAA,QAAoBV,KAAK8B,mBACzCC,EAA4BrB,EAAAA,GAAAA,QAAoBF,GAAMI,YAE5D,OAAOoB,EAAAA,EAAAA,IACLD,EACAF,EAAcjB,YACdiB,EAAcrB,KACf,GAEL,CAEAyB,WACEpD,EACAqD,EACAC,GAEA,MAAM9B,GAAWkB,EAAAA,EAAAA,GAAcvB,KAAKnB,QAAU,CAAC,EAC/CwB,EAAS6B,GAAeC,GAAQtD,EAEhCmB,KAAKM,MAAM,QAASD,EACtB,IArFA+B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,yCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAO,mCAeLF,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,8BAtBChD,GAA4B,UAXhDiD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVuC,WAAU,IACVC,+BAA8B,IAC9BC,UAAS,IACTC,SAAQ,IACRC,SAAQ,IACRC,UAAS,IACTC,UAASA,QAGQxD,G,UC5ByS,I,cCO1TyD,GAAY,OACd,EACAC,EACA3D,GACA,EACA,KACA,KACA,MAIF,QAAe0D,EAAiB,O,8FClBsK9D,EAAM,W,IAAC,O,EAAW,EAAM,MAAG,GAAC,EAAU,MAAMG,Y,OAAU,QAAW,SAAE,YAAC,QAAC6D,CAAE,EAAC,kC,YAASpE,OAA2B,OAAIA,MAAO,GAAoCI,KAAM,GAAC,UAAQ,YAAe,SAAS,I,GAAY,CAAc,kC,CAAK,KAAO,YAAKiE,EAAAA,MAAAA,EAAAA,EAAAA,EAAAA,CAAsB,OAAIrE,MAAO,eAA8BsE,KAAAA,GAA+DtE,MAAO,GAA+OsE,SAAY,IAAyFlE,GAAAA,CAAO,QAAY,yBAAOmE,CAAAA,EAAK,GAAC,2B,YAAYC,kD,CAAYC,EAAAA,GAAAA,4HAAwB,sG,YAAKD,6C,CAAc,EAAC,2B,MAACE,CAAuB,mBAAoCJ,MAAAA,CAAyBtE,MAAO,aAAyNI,SAAM,YAAC,aAAQ,CAAe,EAAU,0B,CAAK,MAAQJ,CAAAA,EAAI2E,EAAAA,GAAAA,CAAM,wBAAG,CAAC3E,EAAIM,GAAG,8BAA6BV,EAAG,KAAQ,0IAACQ,MAAM,CAAC,MAAQ,eAAgB,KAAO,IAAIgE,GAAG,CAAC,MAAQpE,EAAI4E,SAA2B,CAAC5E,EAAIM,GAAG,cAAe,EAAE,KAAQ,EAAE,IAAG,CAClhD,OACGE,MAAAA,gBAEJ,KAAS2D,I,yICKT,IAAqBP,EAArB,cAA4DlD,EAAAA,GAA5DC,c,oBAOE,KAAA6D,YAAa,EAEb,KAAAnE,kBAAoBa,KAAKnB,KA4C3B,CA1CMQ,gBACF,QAAKyB,EAAAA,GAAAA,eACEA,EAAAA,GAAAA,cAAAA,KAAAA,OAAoCd,KAAK2D,WAClD,CAEAF,SACEzD,KAAKsD,YAAa,CACpB,CAEAM,0BACE,IAAK9C,EAAAA,GAAAA,cAAuB,OAC5B,GAAIA,EAAAA,GAAAA,cAAAA,KAAAA,OAAoCd,KAAK2D,YAAa,OAE1D,MAAMxE,GAAoBoC,EAAAA,EAAAA,GACxBT,EAAAA,GAAAA,cAAAA,KAAAA,YAGE3B,IACE,aAAcA,UACTA,EAAkB0E,SAGvB,SAAU1E,UACLA,EAAkB2E,MAI7B9D,KAAKb,kBAAoBA,EAEzBa,KAAKsD,YAAa,CACpB,CAEAI,2BACE1D,KAAKsD,YAAa,EAClBtD,KAAKM,MAAM,QAASN,KAAKb,kBAC3B,CAEAgE,yBACMY,QAAQ,kBACV/D,KAAKM,MAAM,SAAS,EAExB,IAlDA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,kCAJYK,GAA8B,UAHlDF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEMwC,G,UCT2S,I,cCQ5TM,GAAY,OACd,EACAC,EACA3D,GACA,EACA,KACA,KACA,MAIF,QAAe0D,EAAiB,O,kDCnBYtE,EAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAgB,oB,OAAC,WAAQ,CAAI,MAAC,CAAG,OAAC,G,GAA0B,CAAyB,MAAC,YAAC,eAAgB,Q,EAA0C,gBAAC,YAAC,OAAS,EAAC,c,UAAgII,SAAU,GAAQ,mFAAE,gBAACE,G,YAAoC,KAAU,E,IAAC,QAAyC,GAAC,WAACgF,MAAM,gCAAK,EAAEC,OAAI,GAAOC,C,IAAc,O,GAAwBhF,W,MAAO,GAAM,YAAK,C,MAAC,CAA6B,UAACmE,YAAM,gB,MAA6BE,C,MAA6BY,EAAAA,gBAAmB,SAAC,YAACX,EAAAA,gBAAW,CAAiB,EAAI,gCAAa,EAAES,OAAI,GAAUC,C,IAAc,U,GAAoBhF,W,MAAO,GAAM,IAAC,CAAE,MAAC,CAAG,KAAC,I,GAA0B,CAAyB,kBAAC,uBAAIJ,I,CAAwC,KAAO,cAAO,O,MAAC,CAAU,aAAgC,QAAG,UAAC,mBAA8B,IAAIA,MAAO,sBAAmB,GAAC,eAAM,EAAG,aAI1gC,E,uECIA,IAAqBsF,EAArB,cAA+C5E,EAAAA,GAA/CC,c,oBAIE,KAAA0E,gBAAiC,EAcnC,CAZEE,wBAAwBC,GACtBA,EAAEC,iBAEGvE,KAAKmE,kBAENnE,KAAKwE,iBACDC,EAAAA,EAAAA,IAAqBzE,KAAKwE,UAAWxE,KAAKmE,iBAGlDnE,KAAKmE,gBAAkB,GACvBnE,KAAKM,MAAM,SACb,IAfA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEqC,UAAU,KAAO,gCADNN,GAAiB,UADrC5B,EAAAA,EAAAA,IAAU,CAAEtC,WAAY,CAAEyE,OAAM,IAAEhC,UAASA,EAAAA,MACvByB,G,UCR8R,I,cCO/SpB,GAAY,OACd,EACAC,EACA3D,GACA,EACA,KACA,KACA,MAIF,QAAe0D,EAAiB,O,mCClBhC,IAAIC,EAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,2BAA2B,CAACtE,EAAI+F,GAAI/F,EAAIgG,OAAO,SAASC,GAAc,MAAO,CAACrG,EAAG,gBAAgB,CAACuF,IAAIc,EAAaC,GAAG9F,MAAM,CAAC,QAAU6F,EAAa,MAAQjG,EAAImG,SAAS,KAAI,EACnS,EACI3F,EAAkB,G,iCCFlB2D,EAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAM,CAC5G,kBAAkB,EAClB,iCAAkClF,KAAKmF,mBACvCjG,MAAM,CAAC,kBAAkBJ,EAAI2B,QAAQuE,KAAK,CAACtG,EAAG,MAAM,CAAC0E,YAAY,gCAAgC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,uBAAuB8B,MAAMpG,EAAIsG,YAAYC,MAAOvG,EAAIwG,YAAapC,GAAG,CAAC,MAAQpE,EAAIyG,kBAAkB,CAAC7G,EAAG,MAAM,CAAC0E,YAAY,6BAA6B,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,iCAAiC,CAAEtE,EAAI2B,QAAQW,SAASoE,OAAQ9G,EAAG,OAAO,CAAC0E,YAAY,8BAA8BlE,MAAM,CAAC,KAAO,gBAAgB,KAAO,KAAK,OAASJ,EAAI2G,6BAA0BC,EAAY,OAAOxC,GAAG,CAAC,MAAQ,SAASyC,GAAiC,OAAzBA,EAAOC,kBAAyB9G,EAAI+G,eAAeC,MAAM,KAAMC,UAAU,KAAKjH,EAAIkH,MAAM,GAAGtH,EAAG,MAAM,CAACwG,MAAM,CACnoB,kCAAkC,EAClC,wCAAyCpG,EAAImH,sBAC5C,CAACvH,EAAG,cAAc,CAAC0E,YAAY,sBAAsBlE,MAAM,CAAC,KAAOJ,EAAIoH,YAAYC,OAAO,KAAO,QAAQzH,EAAG,MAAM,CAAC0E,YAAY,qBAAqBlE,MAAM,CAAC,MAAQJ,EAAIsH,wBAA0BtH,EAAIuH,cAAc,CAAGvH,EAAImH,oBAAuMnH,EAAIkH,KAAtLtH,EAAG,OAAO,CAAC0E,YAAY,mCAAmCF,GAAG,CAAC,SAAWpE,EAAIwH,4BAA4B,CAACxH,EAAIM,GAAG,IAAIN,EAAIyH,GAAGzH,EAAIsH,wBAA0BtH,EAAIuH,aAAa,OAAiBvH,EAAImH,oBAAqBvH,EAAG,QAAQ,CAAC8H,IAAI,uBAAuBpD,YAAY,4BAA4BlE,MAAM,CAAC,KAAOJ,EAAIsH,uBAAuB,WAAa,SAASK,SAAS,CAAC,MAAQ3H,EAAIsH,wBAAwBlD,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAI4H,mBAAmBf,EAAOgB,OAAO9H,MAAM,EAAE,MAAQ,CAAC,SAAS8G,GAAQ,IAAIA,EAAOhF,KAAKiG,QAAQ,QAAQ9H,EAAI+H,GAAGlB,EAAOmB,QAAQ,SAAS,CAAC,EAAE,IAAInB,EAAO1B,IAAI,CAAC,YAAY,SAAS,QAAQ,OAAO,KAAKnF,EAAIiI,yBAA0B,CAAK,EAAE,SAASpB,GAAQ,OAAIA,EAAOhF,KAAKiG,QAAQ,QAAQ9H,EAAI+H,GAAGlB,EAAOmB,QAAQ,QAAQ,GAAGnB,EAAO1B,IAAI,SAAgB,KAAYnF,EAAIkI,eAAelB,MAAM,KAAMC,UAAU,GAAG,KAAOjH,EAAIkI,eAAe,UAAY,SAASrB,GAAiC,OAAzBA,EAAOC,kBAAyB9G,EAAImI,KAAKnB,MAAM,KAAMC,UAAU,EAAE,YAAc,SAASJ,GAAiC,OAAzBA,EAAOC,kBAAyB9G,EAAImI,KAAKnB,MAAM,KAAMC,UAAU,KAAKjH,EAAIkH,KAAMlH,EAAIoI,iBAAmBpI,EAAImH,oBAAqBvH,EAAG,OAAO,CAAC0E,YAAY,uBAAuB,CAACtE,EAAIM,GAAG,eAAeN,EAAIkH,KAAMlH,EAAIqI,+BAAiCrI,EAAImH,oBAAqBvH,EAAG,OAAO,CAAC0E,YAAY,uBAAuB,CAACtE,EAAIM,GAAG,KAAKN,EAAIyH,GAAGzH,EAAI2B,QAAQuE,IAAI,OAAOlG,EAAIkH,OAASlH,EAAImH,oBAAghBnH,EAAIkH,KAA/ftH,EAAG,MAAM,CAAC0E,YAAY,mCAAmC,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,mCAAmClE,MAAM,CAAC,KAAO,KAAK,KAAO,WAAW,MAAQ,aAAagE,GAAG,CAAC,MAAQpE,EAAIsI,mBAAmB1I,EAAG,OAAO,CAAC0E,YAAY,mCAAmClE,MAAM,CAAC,KAAO,gBAAgB,MAAQ,qBAAqBgE,GAAG,CAAC,MAAQpE,EAAIuI,aAAa3I,EAAG,OAAO,CAAC0E,YAAY,mCAAmClE,MAAM,CAAC,KAAO,KAAK,KAAO,YAAY,MAAQ,kBAAkBgE,GAAG,CAAC,MAAQpE,EAAIwI,WAAW,IAAa,OAAO5I,EAAG,MAAM,CAAC0E,YAAY,cAAciC,MAAOvG,EAAIyI,gBAAiBrI,MAAM,CAAC,kBAAkBJ,EAAI2B,QAAQuE,MAAMtG,EAAG,MAAM,CAAC0E,YAAY,iBAAiBiC,MAAOvG,EAAI0I,mBAAoBtI,MAAM,CAAC,kBAAkBJ,EAAI2B,QAAQuE,MAAMtG,EAAG,MAAM,CAAC0E,YAAY,WAAWlE,MAAM,CAAC,kBAAkBJ,EAAI2B,QAAQuE,GAAG,aAAalG,EAAImG,SAASvG,EAAG,MAAM,CAAC0E,YAAY,cAAclE,MAAM,CAAC,kBAAkBJ,EAAI2B,QAAQuE,GAAG,aAAalG,EAAImG,WAAYnG,EAAI2G,wBAAyB/G,EAAG,sBAAsB,CAACQ,MAAM,CAAC,MAAQJ,EAAI2B,QAAQW,SAAS,MAAQtC,EAAImG,MAAQ,KAAKnG,EAAIkH,MAAM,EAChpF,EACI1G,EAAkB,G,oHCOtB,MAAMmI,EAAmB,GAUzB,IAAqBC,EAArB,cAA2ClI,EAAAA,GAA3CC,c,oBAOE,KAAAsH,yBAA0B,EAE1B,KAAAd,qBAAsB,CAoKxB,CAlKMR,8BACF,OAAOkC,EAAAA,EAAAA,IAA6B3H,KAAKS,QAAQuE,GACnD,CAEAjF,eAEEC,KAAKC,SAASC,WAAW0H,oBAAsBzH,EAAAA,OAAAA,CACjD,CAEAoF,kBACEzE,EAAAA,GAAAA,gBAAwBd,KAAKS,QAAQuE,KAGnC6C,EAAAA,EAAAA,IAAsB,wBACtBA,EAAAA,EAAAA,IAAsB,eAEtBC,EAAAA,EAAAA,IAAY,oBAEhB,CAEI5B,kBACF,OAAOxF,EAAAA,GAAAA,QAAoBV,KAAKS,QAAQS,KAAKP,KAC/C,CAEIyE,kBACF,MAAO,CACL,6BAA8BtE,EAAAA,GAAAA,kBAA4Bd,KAAKS,QAAQuE,GAE3E,CAEIM,kBACF,MAAMyC,EAAY/H,KAAKiF,MAAQwC,EAC/B,MAAO,CACLO,WAAY,GAAGD,MACfE,MAAO,qBAAqBF,MAEhC,CAEIR,sBACF,MAAMQ,GAAa/H,KAAKiF,MAAQ,GAAKwC,EACrC,MAAO,CACLS,KAAM,GAAGH,MAEb,CAEIP,yBACF,MAAMO,EAAY/H,KAAKiF,MAAQwC,EAC/B,MAAO,CACLQ,MAAO,GAAGF,MAEd,CAEI1B,kBACF,OAAO3F,EAAAA,GAAAA,QAAoBV,KAAKS,QAAQS,KAAKP,MAAMwH,IACrD,CAEIhD,wBACF,OAAOrE,EAAAA,GAAAA,mCAA6Cd,KAAKS,QAAQuE,EACnE,CAEImC,mCACF,OAAOrG,EAAAA,GAAAA,SAAAA,6BACT,CAEAuG,YACEe,EAAAA,GAAAA,8BAA4CpI,KAAKS,QAAQuE,GAC3D,CAEAoC,gBAAgB9C,GACdxD,EAAAA,GAAAA,uCAA+C,CAC7C0D,UAAWxE,KAAKS,QAAQuE,GACxBqD,SAAU,CACRC,EAAGhE,EAAEiE,QACLC,EAAGlE,EAAEmE,UAGX,CAEAnB,SACEc,EAAAA,GAAAA,cAA4B,CAAEM,OAAQ1I,KAAKS,QAAQuE,IACrD,CAEAa,iBACE,MAAM8C,GAAsCpH,EAAAA,EAAAA,GAC1CT,EAAAA,GAAAA,kCAGF6H,EAAoC3I,KAAKS,QAAQuE,KAAOhF,KACrDyF,wBAEH3E,EAAAA,GAAAA,oCACE6H,EAEJ,CAEIzB,qBACF,OAAIlH,KAAKS,QAAQS,KAAKP,OAASiI,EAAAA,IACtB,IACL5I,KAAKS,QAAQS,KAAKC,WAClB,0BAKN,CAEIiF,6BACF,YACuDV,IAArD1F,KAAKS,QAAQS,KAAKC,YAAY2C,MAAM+E,cAEpC7I,KAAK+G,yBAEL/G,KAAK+G,yBAA0B,EAExB/G,KAAKqG,cAIVrG,KAAKiG,sBAEPjG,KAAK+G,yBAA0B,GAI/B/G,KAAKS,QAAQS,KAAKC,YAAY2C,MAAM+E,cACpC7I,KAAKS,QAAQS,KAAKC,YAAY2C,MAAM+E,aAAaC,OAErD,CAEAxC,4BACEtG,KAAKiG,qBAAsB,GAG3B8C,EAAAA,EAAAA,IAAc,KAEZ/I,KAAKgJ,MAAMC,qBAAqBC,QAEhClJ,KAAKgJ,MAAMC,qBAAqBE,QAAQ,GAE5C,CAEAzC,mBAAmBmC,GACjBT,EAAAA,GAAAA,2BAAyC,CACvC5D,UAAWxE,KAAKS,QAAQuE,GACxB7C,KAAM,oBACN2B,KAAM,CACJsF,cAAe,sCAAsCpJ,KAAKqG,gBAE5DxH,MAAOgK,GAAcC,aAAUpD,GAEnC,CAEAsB,iBACEhH,KAAKiG,qBAAsB,EAC3BjG,KAAK+G,yBAA0B,CACjC,CAGAE,KAAK3C,GAEH,OADAA,EAAEsB,kBACK,CAAC,CACV,IA1KAxD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,+BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,4BAJYqF,GAAa,UARjClF,EAAAA,EAAAA,IAAU,CACT2F,KAAM,gBACNjI,WAAY,CACVmJ,YAAW,IACXC,KAAI,IACJC,qBAAoBA,EAAAA,MAGH7B,G,UCzB0R,I,cCO3S1E,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,QAAeA,EAAiB,QCNhC,IAAqB4E,EAArB,cAAiDpI,EAAAA,MAE/C4C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,4BAJYuF,GAAmB,UANvCpF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVwH,cAAaA,GAEfS,KAAM,yBAEaP,G,UCZgS,ICOrT,IAAI,GAAY,OACd,EACA3E,EACA3D,GACA,EACA,KACA,KACA,MAIF,QAAe,EAAiB,O,mFClByFJ,EAAM,W,IAAC,O,EAAgB,QAAY,GAAgB,QAAgB,Y,OAAY,QAAY,CAAC,cAAK,MAAC,CAACF,UAAYF,EAASmF,aAAI,EAAW,WAACC,aAAG,EAAU,W,YAAasF,G,YAAsB,OAAM,IAAC,YAAWnG,GAAK,WAAExE,MAAOC,CAAG,EAAC2K,GAAAA,WAAYlG,E,OAA6BkG,IAAe,S,MAACjG,CAAuB,mBAAI9E,SAAG,SAAS,GAACQ,EAAM,YAAC,EAAU,0BAAsBA,CAAAA,EAAK,IAAC,C,MAAC,CAAY,WAA2BwK,CAAAA,EAAAA,EAAAA,EAAS,C,MAAC,C,MAAyB,EAA6C,uBAAG,SAAK,CAA4DxK,MAAM,YAAC,OAAO,EAAI,iCAAC,IAAiCwK,CAAAA,EAAAA,EAAAA,GAAS,2B,MAAC,C,MAAyB,EAA8C,6BAAG,SAAK,CAA6DxK,MAAM,YAAC,OAAO,EAAI,kCAAC,IAA2CwK,CAAAA,EAAAA,EAAAA,GAAS,4B,MAAC,C,MAAyB,EAA2C,uCAAG,SAAK,CAAoExK,MAAM,YAAC,OAAO,EAAI,gCAAC,IAA2CwK,CAAAA,EAAAA,EAAAA,GAAS,mC,MAAC,C,MAAyB,EAA6C,uCAAG,SAAK,CAAsFxK,MAAM,YAAC,OAAO,EAAI,kCAAC,IAA2BwK,CAAAA,EAAAA,EAAAA,GAAS,4C,MAAC,C,MAAyB,EAA+C,uBAAG,SAAK,CAA8ExK,MAAM,YAAC,OAAO,EAAI,mCAAC,IAAsCwK,CAAAA,EAAAA,EAAAA,GAAS,oC,MAAC,C,MAAyB,EAA2D,kCAAG,SAAK,CAAqBtG,MAAW,SAAC,GAAwBtE,OAAO,4BAA8B,MAAK,KAAIA,UAAmDI,IAAmC,SAACgE,YAAG,uB,CAAC,KAAO,2BAAKyG,IAAAA,IAAAA,GAAAA,EAAAA,sBAAAA,EAAAA,oBAAAA,CAAsB,OAAG,aAAa,cAEl5DrK,GAAAA,CAEJ,MAAe,EAAEA,0B,8HCoBjB,IAAqBiK,EAArB,cAAkD/J,EAAAA,GAAlDC,c,oBACE,KAAAmK,uBAAwB,EACxB,KAAAC,iBAAkB,EAoBlB,KAAAC,iBAAkB,EAClB,KAAAC,2BAA4B,CAuF9B,CA1GMC,gBACF,MAAuD,WAAhDlJ,EAAAA,GAAAA,oCACHA,EAAAA,GAAAA,oCACA,IACN,CAEIuH,eACF,OAAOrI,KAAKgK,WAAW3B,UAAY,CAAEC,EAAG,EAAGE,EAAG,EAChD,CAEIhE,gBACF,OAAOxE,KAAKgK,WAAWxF,SACzB,CAEI/D,cACF,OAAOwJ,EAAAA,EAAAA,IAAS7B,EAAAA,GAAAA,SAAAA,KAA6BpI,KAAKwE,UACpD,CAOAH,sBACE,MAAM,WAAE6F,SAAqBC,EAAAA,EAAAA,MAI7B,GAFAnK,KAAKkK,WAAaA,GAAYE,MAEN,WAApBpK,KAAKkK,WAGP,OAFAlK,KAAK8J,iBAAkB,OACvB9J,KAAK+J,2BAA4B,GAInC/J,KAAK8J,sBAAwBA,EAAAA,EAAAA,IAC3B9J,KAAKgK,WAAWxF,UACZxE,KAAKgK,UAAUxF,UACf4D,EAAAA,GAAAA,SAAAA,KAAAA,KAAAA,IAGNpI,KAAK+J,4BAA4B/J,KAAKgK,WAAWxF,iBACvCuF,EAAAA,EAAAA,IAA0B/J,KAAKgK,UAAUxF,UAErD,CAEA6F,cACMrK,KAAKwE,YACP6F,EAAAA,EAAAA,IAAYrK,KAAKwE,UAErB,CAEA8F,eAC0B,WAApBtK,KAAKkK,aACPlK,KAAK6J,iBAAkB,GAGrB7J,KAAKwE,WACP8F,EAAAA,EAAAA,IAAatK,KAAKwE,YAElB8F,EAAAA,EAAAA,IAAalC,EAAAA,GAAAA,SAAAA,KAAAA,KAAAA,GAEjB,CAEAmC,uBAAuBpI,GACG,WAApBnC,KAAKkK,aACPlK,KAAK6J,iBAAkB,GAGrB7J,KAAKwE,YACP+F,EAAAA,EAAAA,IAAuBvK,KAAKwE,UAAWrC,EAE3C,CAEAqI,gBACOxK,KAAKwE,WAEV4D,EAAAA,GAAAA,cAA4B,CAAEM,OAAQ1I,KAAKwE,WAC7C,CAEAiG,4BACMzK,KAAKwE,YACPxE,KAAK4J,uBAAwB,EAEjC,CAEAD,yBACE3J,KAAK4J,uBAAwB,EAC7B5J,KAAKM,MAAM,QACb,CAEIoK,2BACF,OAAO1K,KAAKwE,YAAakG,EAAAA,EAAAA,IAAqB1K,KAAKwE,UACrD,CAEIiF,iBACF,MACkD,WAAhD3I,EAAAA,GAAAA,sCACCd,KAAK4J,qBAEV,CAEIH,eAAW5K,GACRA,GACHiC,EAAAA,GAAAA,uCAA+C,SAEnD,IAlFAsB,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,cAAY,kCA1BApB,GAAoB,UANxC/G,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVkE,kBAAiB,IACjBvB,SAAQA,EAAAA,MAGS0G,G,UCxBiS,I,cCOlTvG,GAAY,OACd,EACAC,EACA3D,GACA,EACA,KACA,KACA,MAIF,QAAe0D,EAAiB,O,iBCH1B,SAAU4H,EACdC,EACAC,EACAC,EACAC,EACAC,GAEA,SAASC,EACP/J,EACAgK,GAEA,GAAIC,EAAuBjK,GAAa,CACtC,MAAMkK,EAA0C,CAAC,EAEjD,IAAK,MAAMC,KAAenK,EAAY,CACpC,GAAImK,IAAgBR,EAClB,OAAO3J,EAAWmK,GAIpB,GAAIP,EAAiBQ,SAASD,GAAc,SAE5C,MAAME,EAASN,EACb/J,EAAWmK,GACX,GAAGH,EAAa,GAAGA,KAAgB,KAAKG,UAG3B5F,IAAX8F,IACFH,EAAeC,GAAeE,E,CAKlC,OAAO9J,OAAOC,KAAK0J,GAAgB7F,OAAS6F,OAAiB3F,C,CACxD,GAAI+F,MAAMC,QAAQvK,GAAa,CACpC,MAAMwK,EAA8B,GAUpC,GARAxK,EAAWyK,SAAQC,IACjBF,EAAiBG,KACfZ,EAA8BW,EAAU,GAAGV,OAC5C,IAKkE,IAAjEQ,EAAiB/J,QAAO/C,QAAmB6G,IAAV7G,IAAqB2G,OACxD,OAIF,OAAOmG,EAAiBnG,OAASmG,OAAmBjG,C,CAGtD,MAAMqG,EACJZ,GACAF,GAA0Be,MAAKC,GAC7Bd,EAAWtK,WAAWoL,KAK1B,OAAOnB,IAAiBE,GAAoBe,EACxC5K,OACAuE,CACN,CAEA,OAAOwF,EAA8BL,EAAgB,GACvD,CAEM,SAAUO,EACdvM,GAGA,MAAwB,kBAAVA,GAAgC,OAAVA,IAAmB4M,MAAMC,QAAQ7M,EACvE,C,8LClFM,SAAUqN,EAAQC,GACtB,IAAKC,EAAWD,GAAQ,OAAO,EAE/B,MAAME,EAAMC,EAAeH,GAErBI,EAAIC,SAASH,EAAII,OAAO,EAAG,GAAI,IAC/BC,EAAIF,SAASH,EAAII,OAAO,EAAG,GAAI,IAC/BE,EAAIH,SAASH,EAAII,OAAO,EAAG,GAAI,IAC/BG,EAAQJ,SAASH,EAAII,OAAO,EAAG,GAAI,IACnCI,GAAkB,IAAJN,EAAc,IAAJG,EAAc,IAAJC,GAAW,IAEnD,OAAOE,EAAa,KAAOD,EAAQ,GACrC,CAEM,SAAUE,EAAeX,GAC7B,OAAOA,EAAMY,QAAQ,IAAK,GAC5B,CAOM,SAAUT,EAAeH,GAC7B,MAAME,EAAMS,EAAeX,GAC3B,OAAmB,IAAfE,EAAI7G,OAAqB6G,EAEtBA,EACJW,MAAM,IACN3L,KAAIgL,GAAOA,EAAMA,IACjBY,KAAK,GACV,CAEM,SAAUb,EAAWD,GACzB,MAAME,EAAMC,EAAeH,GAC3B,OAAuB,IAAfE,EAAI7G,QAA+B,IAAf6G,EAAI7G,UAAkB0H,MAAMC,OAAO,KAAOd,GACxE,CAEM,SAAUe,EAAcjB,GAC5B,OAAOA,EAAMtN,MAAMgC,WAAW,SAChC,CAEM,SAAUwM,EAAwBlB,EAAcmB,GACpD,IAAKF,EAAcjB,GAAQ,OAC3B,MAAMhE,EAAOoF,EAAoBpB,EAAMtN,OACvC,OAAOyO,EAAOE,MAAKC,GAAKA,EAAEC,kBAAoBvF,GAChD,CAEM,SAAUoF,EAAoBpB,GAClC,MAAMwB,EAAS,iBACTC,EAAQD,EAAOE,KAAK1B,GAE1B,OAAc,OAAVyB,EACKA,EAAM,GAGR,IACT,CAEM,SAAUE,EAAmB3B,EAAe4B,GAChD,MAAMC,EAAS,eACTC,EAASF,EAAS,IAAIA,IAAW,GACjCvN,EAAO0N,IAAQ/B,EAAO,CAAEgC,OAAO,IAC/BC,GAAOC,EAAAA,EAAAA,KAEb,MAAO,GAAGL,IAASxN,KAAQ4N,IAAOH,GACpC,CAEM,SAAUK,EAAmBnC,GACjC,OAAOoC,EAAAA,EAAAA,IACLpC,EAAMtN,MACN2P,EAAAA,GAAAA,QACAC,EAAAA,EAAAA,KACE,IAAMtC,EAAMtN,QACZ6P,GAAYA,EAAS7P,QAG3B,CAEM,SAAU8P,EAAuBxC,GACrC,OAAOoC,EAAAA,EAAAA,IACLpC,EAAMtN,MACN2P,EAAAA,GAAAA,QACAC,EAAAA,EAAAA,KACE,KAAM,IACN,KAAM,IAGZ,C,sTCnFO,MAAMG,EAAiBC,EAAAA,GAAO,CACnCC,OAAQD,EAAAA,GACRvB,OAAQyB,EAAAA,GACRC,QAASH,EAAAA,GAAQI,EAAAA,IACjBxO,QAASyO,EAAAA,K,kECLX,SAASC,EAAexO,EAAmBF,GACzC,MAAM2O,EAAuB,CAC3BC,EACAlE,EACAmE,KAEA,MAAMC,EAAU,GAAGpE,KAAckE,EAAQ7O,OAUzC,OARIG,IAAS0O,EAAQ1P,QAAQgB,MAC3B2O,EAAIxD,KAAKyD,GAGXF,EAAQjO,SAASwK,SAAQyD,IACvBC,EAAMF,EAAqBC,EAASE,EAASD,EAAI,IAG5CA,CAAG,EAGNE,EAAkB,GAUxB,OARA/O,EAAQgP,SAASC,gBAAgB9D,SAAQyD,IACvCG,EAAMG,OAAOP,EAAqBC,EAAS,UAAWG,GAAO,IAG/D/O,EAAQgP,SAASG,eAAehE,SAAQyD,IACtCG,EAAMG,OAAOP,EAAqBC,EAAS,SAAUG,GAAO,IAGvDA,CACT,CAEA,SAASK,EACPC,EACAC,EACAC,GAEA,MAAMvP,GAAUc,EAAAA,EAAAA,GAAcuO,GACxBG,EAAiBvP,EAAAA,GAAAA,QAAoBD,EAAQS,KAAKP,MAKlDuP,EAAoBf,EAAe,aAAcc,GAEvDC,EAAkBtE,SAAQzJ,IACxB,MAAMgO,EAAW,IAAW1P,EAAQS,KAAKC,WAAY,GAAGgB,YAExD,IAAKgO,EAAU,OAEf,MAAMC,EAAoBC,EACxBN,EACAI,GAGEC,GACF,IAAW3P,EAAQS,KAAKC,WAAYgB,EAAM,CACxCmO,OAAQF,EAAkBE,Q,IAQhC,MAAMC,EAAapB,EAAe,QAASc,GAErCO,EAAmB,CAACrO,EAAcgK,KACtC,MAAMsE,EAAmBC,EAA8BV,EAAc7D,GAEjEsE,GACF,IAAWhQ,EAAQS,KAAKC,WAAYgB,EAAMsO,EAAiB5R,M,EAoB/D,OAhBA0R,EAAW3E,SAAQzJ,IACjB,MAAMgK,EAAQ,IAAW1L,EAAQS,KAAKC,WAAYgB,GAElD,GAAKgK,EAEL,GAAI,IAAgBA,GAElB,IAAK,MAAMN,KAAYM,EAErBqE,EAAiB,GAAGrO,KAAQ0J,IAAYM,EAAMN,SAGhD2E,EAAiBrO,EAAMgK,E,IAIpB1L,CACT,CAEM,SAAUkQ,EACdC,GAEA,MAAMC,EAAmBpQ,IACvB,MAAMqQ,EAAajB,EACjBpP,EACAmQ,EAAc5B,QACd4B,EAActD,QAGVlM,EAAWX,EAAQW,SAASC,IAAIwP,GAEtC,MAAO,IACFC,EACH1P,WACD,EAGH,OAAOyP,EAAgBD,EAAcnQ,QACvC,CAEM,SAAUsQ,EACdtQ,GAwBA,MAAMqO,EAASkC,SAASC,SAGxB,MAAO,CACLnC,SACArO,UACA6M,OAAQ,GACR0B,QAAS,GAEb,CAIA,MAAMqB,EAA2C,CAC/CN,EACAmB,KAEA,IAAIC,EAAwBD,GAC5B,OAAOnB,EAAcvC,MAAKqB,GAAKA,EAAEuC,OAAOpM,KAAOkM,GAAe,EAehE,SAASC,EAAwBhB,GAC/B,OAAOkB,EAAAA,GAAAA,mBAA+B7D,MAAKlF,GAAKA,EAAE8I,OAAOpM,KAAOmL,GAClE,CAQA,SAASO,EACPV,EACA7D,GAEA,IAAKmF,EAASnF,IAAWmF,EAASnF,IAAUoF,EAAsBpF,GAChE,OAGF,MAAMqF,GAASjE,EAAAA,EAAAA,IAAoBpB,GACnC,OAAO6D,EAAaxC,MAAKC,GAAKA,EAAEC,kBAAoB8D,GACtD,CAiBA,SAASF,EAASnF,GAChB,MAAwB,kBAAVA,GAAsBA,EAAMtL,WAAW,OACvD,CAEA,SAAS0Q,EAAsBpF,GAC7B,MAAMhE,GAAOoF,EAAAA,EAAAA,IAAoBpB,GACjC,OAAOkF,EAAAA,GAAAA,aAAAA,MAA8B/I,GAAKA,EAAEoF,kBAAoBvF,GAClE,CCrMA,MAAMsJ,EAAkB,IAAIC,EAAAA,GAEtB,SAAUC,IACd,MAAO,CACLC,WACEH,EAAgBvO,GAAG,OAAQ2O,GAC3BJ,EAAgBvO,GAAG,MAAO2O,GAC1BJ,EAAgBvO,GAAG,QAAS2O,EAC9B,EACAC,SACEL,EAAgBM,WAClB,EAEJ,CAEA,SAASF,EAAsBG,GAC7B,MAAMC,EAAYC,OAAOC,WAAWC,OAAOC,SACrCC,GACJC,EAAAA,EAAAA,IAAqBN,KAAcM,EAAAA,EAAAA,IAAqBF,UAEtDC,IAEJN,EAAMzN,iBAEa,SAAfyN,EAAMrR,MAAmBG,EAAAA,GAAAA,gBAC3BuJ,EAAYvJ,EAAAA,GAAAA,iBACY,QAAfkR,EAAMrR,MAAkBG,EAAAA,GAAAA,gBACjC0R,EAAW1R,EAAAA,GAAAA,iBACa,UAAfkR,EAAMrR,MACf2J,EAAaxJ,EAAAA,GAAAA,gBAAyBkR,GAE1C,CAEA3N,eAAeoO,EAAuBT,GACpC,MAAM,OAAEU,EAAM,WAAExI,SAAqBC,EAAAA,EAAAA,MAGrC,OAAI6H,IAAUE,OAAOS,OAAe,QAC/BD,EACc,OAAfxI,GAA4C,WAArBA,EAAWE,MAC7B,eAGF,YALa,cAMtB,CAEA/F,eAAeuO,EAAiBC,GAC9B,UACQC,UAAUC,UAAUC,UAAUH,GACpCI,QAAQC,MAAM,uB,CACd,MAAOC,IACPC,EAAAA,EAAAA,IAAyBP,GACzBI,QAAQC,MAAM,iC,EAGhBG,EAAAA,EAAAA,GAAoB,wCAAyCR,EAC/D,CAEAxO,eAAeiP,EAAkBtB,GAC/B,MAAMuB,EAAYvB,GAAOpB,eAAe4C,QAAQ,QAC1CC,QAAehB,EAAuBT,GAI5C,OAHAiB,QAAQC,MAAM,0BAA0BO,KAGzB,UAAXA,EACKF,EAGM,iBAAXE,GACKC,EAAAA,EAAAA,GAAqB,+CAGjBZ,UAAUC,UAAUY,UACnC,CAEOtP,eAAeuP,EACpB5B,GAEA,MAAM6B,QAA4BP,EAAkBtB,GAEpD,IAAK6B,EAAqB,OAAO,KAEjC,MAAMC,GAAqBC,EAAAA,EAAAA,GACzBF,EACAjF,GAGF,OAAOL,EAAAA,EAAAA,MACLuF,GACArF,EAAAA,EAAAA,OACE,IAAM,OACNmC,IACEqC,QAAQC,MAAM,6BAA8BtC,GACrCD,EAAiCC,MAIhD,CAEM,SAAUvG,EAAY7F,GAC1B,MAAMwP,GAAgB/J,EAAAA,EAAAA,IAAS7B,EAAAA,GAAAA,SAAAA,KAA6B5D,GAC5D,IAAKwP,EAAe,OAEpB,MAAMC,GAAkBC,EAAAA,EAAAA,IAAWF,GAE7BG,EACJpD,EAAmCkD,IAErC1F,EAAAA,EAAAA,MACE4F,EACAC,EAAAA,GACA3F,EAAAA,EAAAA,OACEnK,GACE2O,QAAQoB,MACN,4BACG/P,EAAEjD,KAAI8R,GAAOA,EAAImB,gBAExBC,IACE3B,EAAiB2B,EAA4B,IAIrD,CAEM,SAAU/B,EAAWhO,GACzB6F,EAAY7F,GACZ4D,EAAAA,GAAAA,cAA4B,CAAEM,OAAQlE,GACxC,CAEOH,eAAeiG,EACpBkK,EACAxC,GAGA,GAAyC,YAArCtR,EAAAA,GAAAA,qBAAgD,OAEpD,MAAM+T,QAAuBb,EAAwB5B,GAErD,IAAKyC,EAAgB,OAErB,MAAMC,GAAaC,EAAAA,EAAAA,GACjBvM,EAAAA,GAAAA,SAAAA,KACAoM,GACAI,EAAAA,EAAAA,IAAuBH,IAoBnBI,GAAWxG,EAAAA,EAAAA,KACXyG,EAAiB,SAASD,KAEhCtG,EAAAA,EAAAA,MACEmG,GACAjG,EAAAA,EAAAA,OACE,SACAsG,IAC0B,cAApBA,EACFC,EAAAA,EAAAA,aACE,KACE,MAAMC,EAA+C,CACnDvM,YAAQhD,GAGV0C,EAAAA,GAAAA,mBAAiC,CAC/BzE,aAAauR,EAAAA,EAAAA,MACbC,aAAc/M,EAAAA,GAAAA,SAAAA,KAAAA,KAAAA,GACdnJ,OAAO,EACPmW,QAASH,SAG4BvP,IAAnCuP,EAAwBvM,SAC1BN,EAAAA,GAAAA,2BAAyC,CACvC3H,QAASgU,EACTY,aAAcJ,EAAwBvM,OACtC4M,gBAAiB,IAGnBC,EAAAA,EAAAA,IAAAA,iBAA4C,CAC1C/Q,UAAWiQ,EAAezP,GAC1B8P,mB,GAIN,iBAAgBU,EAAAA,EAAAA,IACdf,EAAevT,KAAKP,2BAEtBmU,GAGFE,EAAAA,EAAAA,aACE,KACE,MAAMC,EAA+C,CACnDvM,YAAQhD,GAGV0C,EAAAA,GAAAA,2BAAyC,CACvC3H,QAASgU,EACTY,aAAcN,EAAgBU,MAAMzQ,GACpCsQ,gBACEP,EAAgB9V,OAChB8V,EAAgBU,MAAMrU,SAASoE,OACjC4P,QAASH,IAGPA,EAAwBvM,QAC1B6M,EAAAA,EAAAA,IAAAA,iBAA4C,CAC1C/Q,UAAWyQ,EAAwBvM,OACnCoM,kB,GAIN,iBAAgBU,EAAAA,EAAAA,IACdf,EAAevT,KAAKP,QAEtBmU,E,IAMZ,CAEOzQ,eAAekG,EACpBmL,EACAvT,EAA0C,UAE1C,MAAMwT,QAAoC/B,IAE1C,IAAK+B,EAA6B,OAElC,MAAMC,GAA6B3L,EAAAA,EAAAA,IACjC7B,EAAAA,GAAAA,SAAAA,KACAsN,GAGF,IAAKE,EAA4B,OAEjC,MAAMC,EAAmB,IACvBF,EAA4BzU,KAAKC,WACjCgB,EACA,MAQAwT,EAA4BzU,KAAKP,OACjCiV,EAA2B1U,KAAKP,MAEhCyH,EAAAA,GAAAA,yBAAuC,CACrC5D,UAAWoR,EAA2B5Q,GACtC7C,KAAMA,EACNtD,OAAO0C,EAAAA,EAAAA,GAAcsU,GACrB/R,KAAM,CACJsF,cAAe,wBAAuBoM,EAAAA,EAAAA,IACpCG,EAA4BzU,KAAKP,aAC3B6U,EAAAA,EAAAA,IACNI,EAA2B1U,KAAKP,UAK1C,CAEO0D,eAAeyF,EAAgB0K,GAEpC,GAAyC,YAArC9T,EAAAA,GAAAA,qBAAgD,OAAO,EAE3D,MAAM+T,QAAuBb,IAE7B,IAAKa,EAAgB,OAAO,EAE5B,MAAMC,GAAaC,EAAAA,EAAAA,GACjBvM,EAAAA,GAAAA,SAAAA,KACAoM,GACAI,EAAAA,EAAAA,IAAuBH,IAGzB,OAAOqB,EAAAA,EAAAA,SAAQpB,EACjB,CAEOrQ,eAAe0F,EACpB2L,GAEA,MAAMjV,QAAgBmT,IAEtB,IAAKnT,EAAS,OAAO,EAErB,MAAMsV,GAAmB9L,EAAAA,EAAAA,IACvB7B,EAAAA,GAAAA,SAAAA,KACAsN,GAGF,OAAOjV,EAAQS,KAAKP,OAASoV,GAAkB7U,KAAKP,IACtD,C,kBC7UO0D,eAAe2R,IACpB,IACE,aAAalD,UAAUmD,YAAYC,MAAM,CACvC/N,KAAM,iBACNgO,qBAAqB,G,CAEvB,MAAO7R,GACP,OAAO,I,CAEX,CAEOD,eAAe8F,IACpB,MAAMD,QAAmB8L,IAEzB,MAAO,CACLtD,OAAQR,OAAOkE,gBACflM,aAEJ,CAEM,SAAUkJ,EAAyBP,GACvC,MAAMwD,EAAWhE,SAASiE,cAAc,YAcxC,IAAI9K,EAbJ6K,EAASxX,MAAQgU,EAGjBwD,EAAShR,MAAMkR,IAAM,IACrBF,EAAShR,MAAM6C,KAAO,IACtBmO,EAAShR,MAAMgD,SAAW,QAE1BgO,EAASG,UAAUC,IAAI,8BAEvBpE,SAASqE,KAAKC,YAAYN,GAC1BA,EAASnN,QACTmN,EAASlN,SAIT,IACEqC,EAAS6G,SAASuE,YAAY,O,CAC9B,MAAOzD,GACP3H,GAAS,C,CAIX,OADA6G,SAASqE,KAAKG,YAAYR,GACnB7K,CACT,CAEA,SAASsL,EAAmBhH,GAC1B,MAA0B,UAAnBA,GAAMiH,QACf,CAEA,SAASC,EAAYlH,GACnB,MAAMmH,EAAgB,CACpB,SACA,WACA,SACA,OACA,QACA,QACA,QACA,QACA,SACA,SACA,QACA,QAGF,OACGH,EAAmBhH,IAClBA,EAAKnP,OACJsW,EAAc1L,SAASuE,EAAKnP,OACb,aAAlBmP,EAAKiH,UACoB,SAAzBjH,EAAKoH,eAET,CAEM,SAAUC,EAAyBC,GACvC,MAAMC,EAAYD,GAAKE,aAAaC,eAC9BC,EAAQH,GAAWI,WAAaJ,EAAUK,WAAW,GAAK,KAChE,QAASF,IAAUA,EAAMG,SAC3B,CAEM,SAAUpF,EAAqB6E,GACnC,MAAMQ,EAAWR,EAAI9V,cAErB,OACEsW,IACCd,EAAmBc,IAClBZ,EAAYY,IACZT,EAAyBC,GAE/B,C,+NCvFO/S,eAAewT,EACpBC,GAEA,MAAMC,GAAkBC,EAAAA,EAAAA,KAExB,IAAKF,EAAkBtS,OACrB,MAAO,CAAC,EAGV,MAAMyS,EAA0BC,EAAmEJ,GAEnG,IAAIK,EAAyC,CAAC,EAQ9C,OAAKJ,IAOLxJ,EAAAA,EAAAA,YACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,8BACRN,gBAAiBA,EACjBO,WAAY,CACVC,WAAYN,EACZjT,GAAIoD,EAAAA,GAAAA,SAAAA,aAAAA,IAENoQ,QAASC,EAAAA,GACTC,UAAW,UAEbjK,EAAAA,EAAAA,OACEkK,IACEA,EAAO/M,SAAQtH,GAAKsU,EAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,OAIrDnX,OAAOC,KAAKsW,GAAyBrM,SAAQ3H,IAC3CkU,EAA0BlU,GAAO,EAAE,GACnC,IAEJ/C,IACEiX,EAA4BjX,CAAI,KAK/BiX,IAjCLzW,OAAOC,KAAKsW,GAAyBrM,SAAQ3H,IAC3CkU,EAA0BlU,GAAO,EAAE,IAE9BkU,EA+BX,CAEO9T,eAAeyU,IACpB,MAAMhB,EAAoBiB,EACxB3Q,EAAAA,GAAAA,SAAAA,MAEI4Q,QAA0BnB,EAAgBC,GAChDpX,EAAAA,GAAAA,uBAAmCsY,EACrC,CAMM,SAAUC,EACdC,EACAC,GAEA,MAAMC,EAAqC,GAS3C,OANAC,EAAAA,EAAAA,IAAcH,GAA4Bra,KACpCya,EAAAA,EAAAA,IAAmBza,KAAWsa,EAA6Bta,IAC7Dua,EAAyBtN,KAAKjN,E,IAI3Bua,CACT,CAEA,SAASL,EAAgCQ,GACvC,MAAO,IACF,IAAIC,KACLC,EAAAA,EAAAA,KACE,CAAC3J,EAAMR,KACL,MAAMwI,EAAoBmB,EACxBnJ,EAAK5O,KAAKC,WACVT,EAAAA,GAAAA,iBAAAA,MAGF,MAAO,IAAI4O,KAAQwI,EAAkB,GAEvCyB,EAAKG,KACL,KAIR,CAGA,SAASxB,EACPJ,GAEA,MAAM6B,EAAuB,CAAC,EAK9B,OAJA7B,EAAkBlM,SAAQgO,IACxB,MAAMC,EAAYC,EAAqBF,GACvCD,EAAQE,GAAaD,CAAS,IAEzBD,CACT,CAEM,SAAUG,EAAqBF,GACnC,OAAOG,EAAAA,EAAAA,GAAQH,EACjB,C,kBClIM,SAAUI,GAAsB,UACpCC,EAAS,aACTC,EAAY,OACZ/T,EAAM,IACNgU,EAAG,WACHC,EAAU,eACVC,EAAc,KACdlS,EAAI,UACJmS,EAAS,SACTC,EAAQ,MACRC,EAAK,kBACLrb,EAAiB,wBACjBsb,EAAuB,eACvBC,EAAc,gBACdC,EAAe,iBACfC,EAAgB,aAChBC,EAAY,SACZhX,EAAQ,cACRiX,EAAa,QACbC,EAAO,aACPC,EAAY,YACZC,EAAW,WACXC,EAAU,aACVC,EAAY,MACZC,EAAK,qBACLC,EAAoB,kBACpBC,EAAiB,kBACjBC,EAAiB,oCACjBC,EAAmC,0CACnCC,IAgCA,MAAO,sBAEGxB,wLAOLA,QAAgBC,6FAIfA,sGAIU/T,mEAKAgU,yEAKDC,4EAKAC,mEAKClS,yEAKAmS,wEAKAC,oEAKDC,kXAoBArb,6EAKAsb,yNAWAC,6EAKAC,8EAKAC,0EAKAC,sEAKAhX,2EAKAiX,4EAKAC,yEAKAC,yEAKAC,wEAKAC,0EAKAC,mEAKAC,kFAKAC,+EAKAC,+EAKAC,iGAKAC,uGAKAC,gBAIjB,C,kCCzOM,SAAUC,EACdlb,EACA6O,EACA4K,EACAta,GAEA,MAAO,sBAEGsa,yNAMLzZ,YACD6O,sBAEA1P,WAIN,C,0MCWO0E,eAAesX,IAGpB,aAAavD,EAAAA,EAAAA,GAAyB,CACpCC,OAAQ,yBACRK,UAAW,SACXF,QAASoD,EAAAA,GAEb,CAGOvX,eAAeI,EACpBoX,EACAC,GAEA,MAAMC,GAAgB9R,EAAAA,EAAAA,IACpB7B,EAAAA,GAAAA,SAAAA,KACAyT,GAEF,IAAKE,EAAe,OAEpB,MAAMC,EAAkBC,EAA8BF,GAEtDjb,EAAAA,GAAAA,wBAAgC,CAC9B0D,UAAWqX,EACXK,YAAY,KAGd3N,EAAAA,EAAAA,YACQ4N,EAA2B,CAC/B5C,KAAMyC,EACNI,MAAON,EACP9W,IAAK,EACLqX,qBAAsB,MAExB5N,EAAAA,EAAAA,OACEkK,IACEA,EAAO/M,SAAQtH,GAAKsU,EAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,OAErD/X,EAAAA,GAAAA,wBAAgC,CAC9B0D,UAAWqX,EACXK,YAAY,GACZ,IAEJI,IACE,MAAMrd,GAAQsd,EAAAA,EAAAA,GACZnU,EAAAA,GAAAA,SAAAA,KACA2T,EAAc/W,IAEVwX,GAASC,EAAAA,EAAAA,IACbrU,EAAAA,GAAAA,SAAAA,KACA2T,EAAc/W,IAQhB,GALAlE,EAAAA,GAAAA,wBAAgC,CAC9B0D,UAAWqX,EACXK,YAAY,KAGTM,EAAQ,OAEb,KACGxa,EAAAA,EAAAA,KACC0a,EAAAA,EAAAA,IAA8BC,EAAAA,KAC9BD,EAAAA,EAAAA,IAA8BF,EAAOtb,KAAKP,MAC1C6b,EAAOtb,KAAKP,KACZ,oBAGF,OAGF,MAAMsU,EAA+C,CACnDvM,YAAQhD,GAIV0C,EAAAA,GAAAA,mBAAiC,CAC/BzE,YAAagZ,EAAAA,GACbxH,aAAcqH,EAAOxX,GACrB/F,MAAOA,EACPmW,QAASH,IAGNA,EAAwBvM,SAI7B6M,EAAAA,EAAAA,IAAAA,iBAA4C,CAC1C/Q,UAAWyQ,EAAwBvM,OACnCoM,oBAAgBpP,IAGlB0C,EAAAA,GAAAA,cAA4B,CAAEM,OAAQmT,IAEtCzT,EAAAA,GAAAA,yBAAuC,CACrC5D,UAAWyQ,EAAwBvM,OACnCvG,KAAM,wBACNtD,MAAOyd,EAAetX,GACtBlB,KAAM,CAEJsF,cAAe,yCAInBtI,EAAAA,GAAAA,gBAAwBmU,EAAwBvM,QAAO,IAI/D,CAEA,SAASuT,EAA8BnM,GACrC,MAAMyJ,GAAOqD,EAAAA,EAAAA,MACPC,GAAaC,EAAAA,EAAAA,IAASvD,EAAMzJ,GAE5BiN,GAAsBC,EAAAA,EAAAA,IAC1BzD,EACAsD,EACAtD,EAAKG,KAAK1U,GACV,oBAGF,GAAI+X,GACFE,EAAAA,EAAAA,IACE1D,EACAsD,EAAW7X,GACXuU,EAAKG,KAAK1U,GACVuU,EAAKG,KAAKtY,SAASoE,OACnB,wBAEG,CACL,MAAM0X,GAAiBC,EAAAA,EAAAA,IAAW5D,EAAM,CACtC5Y,KAAMyc,EAAAA,GACNjc,WAAYT,EAAAA,GAAAA,QAAoB0c,EAAAA,IAAUje,mBACtCoC,EAAAA,EAAAA,GAAcb,EAAAA,GAAAA,QAAoB0c,EAAAA,IAAUje,mBAC5C,QAEN8d,EAAAA,EAAAA,IACE1D,EACA2D,EAAelY,GACfuU,EAAKG,KAAK1U,GACVuU,EAAKG,KAAKtY,SAASoE,OACnB,qBAEFyX,EAAAA,EAAAA,IACE1D,EACAsD,EAAW7X,GACXkY,EAAelY,GACfkY,EAAe9b,SAASoE,OACxB,mB,CAIJ,OAAO6X,EAAAA,EAAAA,IAAW9D,EACpB,CAEOlV,eAAe8X,EAA2BmB,GAC/C,aAAalF,EAAAA,EAAAA,GAAyB,CACpCvP,aAAc,mCACdwP,OAAQ,+BACRC,WAAY,IACPgF,EACH/D,MAAMnF,EAAAA,EAAAA,GAAgBkJ,EAAY/D,OAEpCf,QAAS+E,EAAAA,EACT7E,UAAW,SAEf,CAEM,SAAUhO,EAAqB8S,GACnC,MAAMC,GAAaxT,EAAAA,EAAAA,IAAS7B,EAAAA,GAAAA,SAAAA,KAA6BoV,GAEzD,IAAKC,EAAY,OAAO,EAExB,GAAIA,EAAWvc,KAAKP,OAASgc,EAAAA,GAAmB,OAAO,EAYvD,MAAMe,GAAWd,EAAAA,EAAAA,MACXe,GAAUR,EAAAA,EAAAA,IAAWO,EAAU,CACnC/c,KAAMyc,EAAAA,GACNjc,WAAY,OAUd,OARA8b,EAAAA,EAAAA,IACES,EACAC,EAAQ3Y,GACR0Y,EAAShE,KAAK1U,GACd0Y,EAAShE,KAAKtY,SAASoE,OACvB,uBAIAwX,EAAAA,EAAAA,IACEU,EACAD,EACAE,EAAQ3Y,GACR,wBAOFgY,EAAAA,EAAAA,IACEU,EACAD,EACAC,EAAShE,KAAK1U,GACd,mBAON,C,iJCpPOX,eAAeuZ,IACpB,MAAMC,QAAgCzF,EAAAA,EAAAA,GAAyB,CAC7DC,OAAQ,kCACRG,QAASsF,EAAAA,KAEX,OAAOvP,EAAAA,EAAAA,MACLsP,GACApP,EAAAA,EAAAA,OACEkK,KACEoF,EAAAA,EAAAA,IACEpF,EAAOtX,KAAI8R,IACF,IACFA,EACH6K,yBAA0B7K,EAAI6K,yBACY,0BAAtC7K,EAAI6K,yBAAyBrd,KAC3B,IAAKwS,EAAI6K,yBAA0BC,UAAU,GAC7C9K,EAAI6K,8BACNtY,QAIH,KAETwY,IACElJ,EAAAA,EAAAA,QAAsB,KACpB3D,EAAAA,GAAAA,kBAA8B6M,EAAWC,gBACzC9M,EAAAA,GAAAA,sCAAkD,KAE7C,KAIf,CAEOhN,eAAe+Z,IACpB,OAAO7P,EAAAA,EAAAA,YACC6J,EAAAA,EAAAA,GAAyB,CAC7BvP,aAAc,sCACdwP,OAAQ,kCACRC,WAAY,CACV6F,gBAAgB/J,EAAAA,EAAAA,GAAgB/C,EAAAA,GAAAA,iBAElCmH,QAAS3J,EAAAA,MAEXJ,EAAAA,EAAAA,OACGkK,KACCoF,EAAAA,EAAAA,IAAmBpF,IACZ,KAET,KACE3D,EAAAA,EAAAA,QAAsB,IACpB3D,EAAAA,GAAAA,0CAEK,KAIf,C,4HC/DM,SAAUgN,EACd7Z,EACA8Z,GAEA,OAAOxd,EAAAA,GAAAA,WAAAA,eAAAA,kBAAoD0D,KACzD8Z,EAEJ,CAEM,SAAUC,EACd/Z,EACA8Z,EACAE,GAEA,MAAMC,GAAgBld,EAAAA,EAAAA,GAAcT,EAAAA,GAAAA,YAEpC2d,EAAcC,eAAeC,kBAAoB,IAC5CF,EAAcC,eAAeC,kBAChC,CAACna,GAAY,IACRia,EAAcC,eAAeC,kBAAkBna,GAClD,CAAC8Z,GAAgBE,IAIrB1d,EAAAA,GAAAA,cAAsB2d,EACxB,CAEM,SAAUG,EACdC,EACAP,GAEA,OAAOxd,EAAAA,GAAAA,WAAAA,eAAAA,UAA4C+d,KACjDP,EAEJ,CAEM,SAAUQ,EACdD,EACAP,EACAE,GAEA,MAAMC,GAAgBld,EAAAA,EAAAA,GAAcT,EAAAA,GAAAA,YAEpC2d,EAAcC,eAAeK,UAAY,IACpCN,EAAcC,eAAeK,UAChC,CAACF,GAAe,IACXJ,EAAcC,eAAeK,UAAUF,GAC1C,CAACP,GAAgBE,IAIrB1d,EAAAA,GAAAA,cAAsB2d,EACxB,CAEM,SAAUO,EACdV,EACAE,GAEA,MAAMC,GAAgBld,EAAAA,EAAAA,GAAcT,EAAAA,GAAAA,YAEpC2d,EAAcC,eAAeP,eAAiB,IACzCM,EAAcC,eAAeP,eAChC,CAACG,GAAgBE,GAGnB1d,EAAAA,GAAAA,cAAsB2d,EACxB,CAEM,SAAUQ,EACdX,GAEA,OAAOxd,EAAAA,GAAAA,YAAoB4d,gBAAgBP,eAAeG,EAC5D,CAEM,SAAUY,EACdZ,EACAE,GAEA,MAAMC,GAAgBld,EAAAA,EAAAA,GAAcT,EAAAA,GAAAA,YAEpC2d,EAAcC,eAAeS,2BAA6B,IACrDV,EAAcC,eAAeS,2BAChC,CAACb,GAAgBE,GAGnB1d,EAAAA,GAAAA,cAAsB2d,EACxB,CAEM,SAAUW,EACdd,GAEA,OAAOxd,EAAAA,GAAAA,YAAoB4d,gBAAgBS,2BACzCb,EAEJ,C,wNCpFM,SAAUe,EAAiBlX,GAC/B,MAAO,mCAAmCmX,KAAKnX,EACjD,CAGM,SAAUoX,EAAoBpX,GAClC,IACEkK,SAASmN,yBAAyBC,cAActX,E,CAChD,MACA,OAAO,C,CAET,OAAO,CACT,CAEM,SAAUuX,EAAYC,GAE1B,GAAyB,UAArBA,EAAYhf,MACd,IAAK0e,EAAiBM,EAAYxX,MAIhC,YAHAyQ,EAAAA,EAAAA,IAAAA,QACE,GAAG+G,EAAYxX,4CAKnB,IAAKoX,EAAoBI,EAAYxX,MAKnC,YAJAyQ,EAAAA,EAAAA,IAAAA,QACE,GAAG+G,EAAYxX,qCAQnBkJ,EAAAA,GAAAA,aAAAA,MACEuO,GAAYA,EAASzX,OAASwX,EAAYxX,OAG5CyQ,EAAAA,EAAAA,IAAAA,QAA+B,GAAG+G,EAAYxX,4BAIhD6M,EAAAA,EAAAA,aACE,IAAM3D,EAAAA,GAAAA,aAAyB,IAAIA,EAAAA,GAAAA,aAA0BsO,KAC7D,eAEJ,CAEM,SAAUE,EACdD,GAEAF,EAAYE,IAGPE,EAAAA,EAAAA,IAAc,cACjBC,GAEJ,CAEM,SAAUC,EACdnB,GAEA,IAAKU,EAAoBV,GACvB,OAAO3W,EAAAA,EAAAA,MAAK,CAAC,IAAI2W,oCAGnB,MAAMoB,IAAYZ,EAAiBR,GAEnC,OAAOqB,EAAAA,EAAAA,OAAM,CACX/X,KAAM0W,EACNle,KAAMsf,EAAU,QAAU,SAC1B9e,WAAY,CAAC,GAEjB,CAEOkD,eAAe8b,IAGpB,MAAMC,QAAoChI,EAAAA,EAAAA,GAAyB,CACjEC,OAAQ,4BACRG,QAAS6H,EAAAA,KAGX,OAAO9R,EAAAA,EAAAA,IACL6R,GACA3R,EAAAA,EAAAA,KACEkK,KACEoF,EAAAA,EAAAA,IACEpF,EAAOtX,KAAI8R,IACF,IACFA,EACH6K,yBAA0B7K,EAAI6K,yBACY,0BAAtC7K,EAAI6K,yBAAyBrd,KAC3B,IAAKwS,EAAI6K,yBAA0BC,UAAU,GAC7C9K,EAAI6K,8BACNtY,QAIH,KAETwY,IACElJ,EAAAA,EAAAA,QAAsB,KACpB3D,EAAAA,GAAAA,aAAyB6M,GACzB7M,EAAAA,GAAAA,iCAA6C,KAExC,KAIf,CAEOhN,eAAe0b,IACpB,OAAOxR,EAAAA,EAAAA,UACC6J,EAAAA,EAAAA,GAAyB,CAC7BvP,aAAc,gCACdwP,OAAQ,4BACRC,WAAY,CACVyG,WAAW3K,EAAAA,EAAAA,GAAgB/C,EAAAA,GAAAA,eAE7BmH,QAAS3J,EAAAA,MAEXJ,EAAAA,EAAAA,KACGkK,KACCoF,EAAAA,EAAAA,IAAmBpF,IACZ,KAET,KACE3D,EAAAA,EAAAA,QAAsB,IACpB3D,EAAAA,GAAAA,qCAEK,KAIf,C,yFCxIM,SAAUiP,EACd/G,EACAiF,GAEA,OAAO/E,EAAAA,EAAAA,KACL,CAAC3J,EAAMR,KACLA,EAAIQ,EAAK9K,IAAMwZ,EACRlP,IAETiK,EAAKG,KACL,CAAC,EAEL,CAEM,SAAU6G,EACdhH,EACAiH,GAEA,MAAMC,GAAaxW,EAAAA,EAAAA,IAASsP,EAAMiH,GAElC,GAAKC,EAEL,OAAOC,EAAAA,EAAAA,KACL,CAAC5Q,EAAMR,KACLA,EAAIQ,EAAK9K,KAAM,EACRsK,IAETiK,EACAkH,EACA,CAAC,EAEL,CAEM,SAAUE,EAA8BjY,GAC5C,OAA4D,IAArD5H,EAAAA,GAAAA,iCAAyC4H,EAClD,CAEM,SAAUf,EAA6Be,GAC3C,YACuDhD,IAArD5E,EAAAA,GAAAA,iCAAyC4H,KACY,IAArD5H,EAAAA,GAAAA,iCAAyC4H,EAE7C,C,8EClDM,SAAUkY,EACdxE,EACAyE,GAEA,OAAIA,EAAUC,QACLC,EAA2B3E,GAG7BA,CACT,CAEM,SAAU2E,EAA2B3E,GACzC,MAAqC,SAAjC1b,EAAAA,GAAAA,iBACK,GAAG0b,UAGLA,CACT,CAEM,SAAU4E,EACdC,EACAC,GAEA,OACED,GACAC,EAAkB1b,QAClByb,EACGE,OACA3T,MAAK4T,GACJF,EAAkB1T,MAAKqT,GAAaA,EAAUrgB,OAAS4gB,EAAKC,YAGpE,CAeM,SAAUC,EAAyCC,GACvD,MAAwC,SAAjC7gB,EAAAA,GAAAA,kBAA2C6gB,EAAMT,OAC1D,CAEM,SAAUU,IACd,MAAO,CACLC,gBAAiB,iBACjBrF,MAAO,MACPsF,UAAW,iBAEf,C,qTCvBOrd,eAAesd,EACpB3c,GAEA,aAAaoT,EAAAA,EAAAA,GAAyB,CACpCC,OAAQ,2BACRC,WAAY,CAAEtT,GAAIA,GAClBwT,QAASoJ,EAAAA,IAEb,CAEOvd,eAAewd,IAGpB,aAAazJ,EAAAA,EAAAA,GAAyB,CACpCC,OAAQ,2BACRG,QAASsJ,EAAAA,IAEb,CAKM,SAAUC,EACdC,EACAC,IAKA1T,EAAAA,EAAAA,MACEyT,GACAvT,EAAAA,EAAAA,OACEkK,IACE7X,EAAAA,GAAAA,kBAA0B,WAE1Bid,EAAAA,EAAAA,IACEpF,EAAOtX,KAAI8R,IACF,IACFA,EACH6K,yBAA0B7K,EAAI6K,yBACY,0BAAtC7K,EAAI6K,yBAAyBrd,KAC3B,IAAKwS,EAAI6K,yBAA0BC,UAAU,GAC7C9K,EAAI6K,8BACNtY,MAGT,IAEHrB,UACE6d,KACAC,EAAAA,EAAAA,IAAQjE,EAAWkE,SAEnBC,EAAkCnE,GAE9B+D,GAAmBK,WACrBC,EAAAA,GAAAA,kBAAkCN,EAAkBK,YAGtDE,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,MAEA3hB,EAAAA,GAAAA,wBAEA4hB,EAAAA,EAAAA,IACE,iBACAT,GAAmBU,kBACpB,IAIT,CAKM,SAAUC,EACdZ,IAEAzT,EAAAA,EAAAA,MACEyT,GACAvT,EAAAA,EAAAA,OACEkK,IACE7X,EAAAA,GAAAA,kBAA0B,WAE1Bid,EAAAA,EAAAA,IACEpF,EAAOtX,KAAI8R,IACF,IACFA,EACH6K,yBAA0B7K,EAAI6K,yBACY,0BAAtC7K,EAAI6K,yBAAyBrd,KAC3B,IAAKwS,EAAI6K,yBAA0BC,UAAU,GAC7C9K,EAAI6K,8BACNtY,MAGT,IAEHrB,UACE,GAAI,cAAe6Z,EAIjB,OAHApd,EAAAA,GAAAA,kBAA0B,eAC1BJ,EAAAA,GAAAA,mBAA+Bwd,GAKjCgE,KACAW,EAAAA,EAAAA,OAEAV,EAAAA,EAAAA,IAAQjE,EAAWkE,SAEnBU,EAA8C5E,IAE9CsE,EAAAA,EAAAA,OACAC,EAAAA,EAAAA,YAEM3J,EAAAA,EAAAA,MAENhY,EAAAA,GAAAA,uBACAA,EAAAA,GAAAA,kBAA0B,UAE1BkU,EAAAA,EAAAA,YAA2B,IAInC,CAEM,SAAUqN,EACdU,GAEAriB,EAAAA,GAAAA,eAA2BqiB,EAAEC,aAC7BtiB,EAAAA,GAAAA,gCAA4CqiB,EAAEE,iBAC9CviB,EAAAA,GAAAA,uCACEqiB,EAAEG,qCAEJxiB,EAAAA,GAAAA,qBAAiCqiB,EAAEI,0BACnCziB,EAAAA,GAAAA,eAA2BqiB,EAAEK,aAC7B1iB,EAAAA,GAAAA,iBAA6BqiB,EAAEM,eAC/B3iB,EAAAA,GAAAA,cAA0BqiB,EAAEO,YAC5B5iB,EAAAA,GAAAA,SAAqBqiB,EAAEQ,OACvB7iB,EAAAA,GAAAA,qCACEqiB,EAAES,mCAEJ9iB,EAAAA,GAAAA,sBAAkCqiB,EAAEU,oBACpC/iB,EAAAA,GAAAA,uBAAmCqiB,EAAEW,qBACrChjB,EAAAA,GAAAA,wBAAoCqiB,EAAEY,sBACtCjjB,EAAAA,GAAAA,cAA0BqiB,EAAE7Y,YAC5BxJ,EAAAA,GAAAA,oBAAgCqiB,EAAEhE,UAAUtP,UAC5C/O,EAAAA,GAAAA,iBAA6BqiB,EAAEhE,UAAU6E,UACzCljB,EAAAA,GAAAA,cAA0BqiB,EAAEc,YAC5BnjB,EAAAA,GAAAA,sBAAkCqiB,EAAEe,gBACpCpjB,EAAAA,GAAAA,sBAAkCqiB,EAAEgB,oBACpCrjB,EAAAA,GAAAA,cAA0BqiB,EAAEiB,YAC5BtjB,EAAAA,GAAAA,kBAA8BqiB,EAAEkB,gBAChCvjB,EAAAA,GAAAA,6BAAyCqiB,EAAEmB,2BAC3CxjB,EAAAA,GAAAA,iBAA6BqiB,EAAEoB,eAC/BzjB,EAAAA,GAAAA,oBAAgCqiB,EAAEqB,kBAElCpP,EAAAA,EAAAA,QAAsB,KACpB3D,EAAAA,GAAAA,kBAA8B0R,EAAE5E,gBAChC9M,EAAAA,GAAAA,uCAEAA,EAAAA,GAAAA,aAAyB0R,EAAEhE,UAAUA,WACrC1N,EAAAA,GAAAA,iCAA6C,GAEjD,CAEM,SAAUyR,EACdC,GAEA3a,EAAAA,GAAAA,YAA0B2a,EAAE1Q,UAE5B3R,EAAAA,GAAAA,8BAA0CqiB,EAAEsB,4BAC5C3jB,EAAAA,GAAAA,wBAAoCqiB,EAAEuB,iBAEtCjC,EAAkCU,EACpC,CAEA,SAASb,IAGPhQ,OAAOC,WAAWoS,YAAcvT,SAASwT,KAEzCtS,OAAOC,WAAWsS,OAAS,CACzB/jB,YAAW,KACX0H,cAAa,KACbtH,QAAO,KACPuQ,YAAWA,EAAAA,GAEf,CAEM,SAAUqT,EAAqBC,GACnC,MAAMC,EAAa,IAAIC,IAAI3S,OAAOC,WAAWoS,aAK7C,OAHAK,EAAWE,aAAaC,IAAI,KAAM,GAAGJ,KACrCC,EAAWI,OAASJ,EAAWE,aAAaxQ,WAErCsQ,EAAWJ,IACpB,CAEOngB,eAAe4gB,EACpBC,GAEA,OAAO9M,EAAAA,EAAAA,GAAyB,CAC9BC,OAAQ,+CACRG,QAAS3J,EAAAA,GAAO,CAAEsW,QAAStW,EAAAA,IAAU,KACrCyJ,WAAY,CACV8M,OAAQhd,EAAAA,GAAAA,SAAAA,aAAAA,GACRid,MAAMjR,EAAAA,EAAAA,GAAgB8Q,KAG5B,CAEA,MAAMI,EAIJC,UAAUC,GACRxlB,KAAKwlB,MAAQA,EACbxlB,KAAKylB,cAAelkB,EAAAA,EAAAA,GAAcvB,KAAKwlB,MAAMpb,MAC/C,CAEAsb,sBAEE,MAAMC,GAAWpkB,EAAAA,EAAAA,GAAcvB,KAAKylB,cACpCzlB,KAAKwlB,MAAMI,aAAaD,EAC1B,EAG+B,IAAIL,EAM9BjhB,eAAewhB,KACpBtX,EAAAA,EAAAA,YACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,mCACRK,UAAW,WACXF,QAAS3J,EAAAA,GAAQiX,EAAAA,OAEnBrX,EAAAA,EAAAA,OACEkK,IACEA,EAAO/M,SAAQtH,GAAKsU,EAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,OACrDnY,EAAAA,GAAAA,wBAAoC,UACpCI,EAAAA,GAAAA,SAAiB,0BAA0B,IAE7CilB,IACE,MAAMC,EAAU,IAAMD,EAAU,IAEhCC,EAAQpa,SAAQ,CAACqa,EAAehnB,KAE9BinB,qBAAoB,KAClBxlB,EAAAA,GAAAA,oCAAgDulB,IAChDxD,EAAAA,EAAAA,IAA8BwD,GAE9B,MAAME,EAAclnB,IAAU+mB,EAAQxgB,OAAS,EAC3C2gB,IAEF5Q,EAAAA,EAAAA,0BACA7U,EAAAA,GAAAA,wBAAoC,W,GAEtC,GACF,IAIV,C,qDClT4ChC,EAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAO,GAAQI,EAAI0X,MAAAA,YAAS,OAAM,OAA6DvS,MAAI,aAAY,GAAEvF,iBAAa,uCAACuF,IAAI,aAAc,CAAC,EAAC,WACrP,kBACG3E,EAEJ,E,iDCJI2D,EAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,sBAAsB,CAAEtE,EAAIsnB,cAAe1nB,EAAG,uBAA+C,WAAvBI,EAAIunB,eAA6B3nB,EAAG,iBAAyC,YAAvBI,EAAIunB,eAA8B3nB,EAAG,WAAWI,EAAIkH,MAAM,EAC5S,EACI1G,EAAkB,GCFlB2D,EAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,YAAY,CAACwG,MAAMpG,EAAI0X,UAAUxX,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,SAASC,GAAG,WAAW,MAAO,CAACxF,EAAG,iBAAiB,EAAEsF,OAAM,GAAM,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACxF,EAAG,wBAAwBA,EAAG,sBAAsBA,EAAG,kBAAkBA,EAAG,gBAAgB,CAACQ,MAAM,CAAC,WAAaJ,EAAIynB,sBAAsB,SAAW,UAAU7nB,EAAG,eAAe,CAACwE,GAAG,CAAC,OAASpE,EAAI0nB,kBAAmB1nB,EAAI2nB,mBAAoB/nB,EAAG,iBAAiB,CAACQ,MAAM,CAAC,cAAcJ,EAAI4nB,WAAW,gBAAgB5nB,EAAI6nB,aAAa,mBAAqB7nB,EAAI8nB,mBAAmB,iBAAmB9nB,EAAI+nB,oBAAoB/nB,EAAIkH,KAAMlH,EAAIgoB,sBAAuBpoB,EAAG,qBAAqBI,EAAIkH,KAAMlH,EAAIioB,qBAAsBroB,EAAG,mBAAmB,CAACQ,MAAM,CAAC,KAAOJ,EAAIioB,sBAAsB7jB,GAAG,CAAC,gBAAgBpE,EAAIkoB,0BAA0BloB,EAAIkH,KAAMlH,EAAImoB,+BAAgCvoB,EAAG,6BAA6B,CAACQ,MAAM,CAAC,KAAOJ,EAAImoB,gCAAgC/jB,GAAG,CAAC,gBAAgBpE,EAAIooB,oCAAoCpoB,EAAIkH,KAAKtH,EAAG,gBAAgB,CAACQ,MAAM,CAAC,WAAaJ,EAAIqoB,uBAAuB,SAAW,WAAYroB,EAAIsoB,kBAAmB1oB,EAAG,MAAM,CAAC0E,YAAY,8CAA8C,CAAC1E,EAAG,kBAAkB,GAAGI,EAAIkH,KAAK,EAAEhC,OAAM,MACvxC,EACI1E,EAAkB,GCFlB2D,EAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAQ9F,EAAIuoB,UAAW3oB,EAAG,gBAAgB,CAACQ,MAAM,CAAC,aAAaJ,EAAIuoB,UAAU,uBAAuBvoB,EAAIwoB,mBAAmB,gBAAgBxoB,EAAIyoB,aAAa,eAAezoB,EAAI0oB,YAAY,YAAY1oB,EAAI2oB,eAAe,qBAAqB3oB,EAAI4oB,kBAAkB,YAAY,UAAUxkB,GAAG,CAAC,mBAAqBpE,EAAI6oB,yBAAyB,oCAAsC7oB,EAAI8oB,0CAA0C,aAAe9oB,EAAI+oB,oBAAoB,eAAiB/oB,EAAIgpB,kBAAkB,aAAehpB,EAAIipB,aAAa,kBAAoBjpB,EAAIkpB,2BAA2BlpB,EAAIkH,IACnqB,EACI1G,EAAkB,GCFtB,kue,wFCQA,MAAM2oB,EAAe,EACfC,EAAY,EAEZ,SAAUC,EACdC,EACA9R,EACA+R,GACA,8BACEC,EAA6B,oBAC7BC,IAMF,MAAMC,EAAgB1jB,IACpB,MAAM2jB,EAA2C,GA2EjD,OA1EA3jB,EAAM8G,SAAQkE,IACZ,GAAIA,EAAK4Y,WAAaR,EAAW,CAE/B,MAAMS,EAAY7Y,EAAK6Y,UAEG,iBAAtBA,GAAW7f,OAGb2f,EAAa3c,KAAKuc,KACTM,GACTF,EAAa3c,KAAK6c,E,MAEf,GAAI7Y,EAAK4Y,WAAaT,GAAgBnY,aAAgB8Y,QAAS,CAEpE,MAAMC,EAAgB/Y,EAAKoL,WACrBf,EAAMrK,EAAKiH,SACX+R,EAA8B,CAAC,EAC/BriB,EAAkC,CAAC,EACnCsiB,EAAyC,CAAC,EAC1C3nB,EAA0B,GAGhC,IAAI4nB,EACAC,EAEJ,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAcrjB,OAAQ0jB,IAAK,CAC7C,MAAMC,EAAeN,EAAcxD,KAAK6D,GAExC,GAAIC,EAAc,CAChB,MAAMC,EAAgBD,EAAahhB,KAEb,UAAlBihB,EACFJ,EAAcG,EAAatqB,MACA,UAAlBuqB,EACTH,EAAcE,EAAatqB,MAE3BiqB,EAAQM,GAAiBD,EAAatqB,MAUlB,wCAAlBuqB,IACFL,EAAsBM,SAAWf,EACjCS,EAAsBO,KAAOf,EAC7B9hB,EAAS8iB,UAAYzZ,EAAKyZ,U,GAK3B9iB,EAAS8iB,WAAazZ,EAAK0Z,iBAC9BpoB,EAAS0K,QAAQ0c,EAAa1Y,EAAK2Z,aAGrChB,EAAa3c,KACXwK,EACE6D,EACA,CACEjV,MAAO8jB,EACP3jB,MAAO4jB,EACP/pB,MAAO,IAAK4pB,GACZ5lB,GAAI,IAAK6lB,GACTtiB,YAEFrF,G,KAMDqnB,CAAY,EAGfiB,EAAY,IAAIC,UAGhBC,EAAcF,EAAUG,gBAAgBzB,EAAM,aAAa1R,KAE3DoT,GAAgB,IAAIC,eAAgBC,kBAAkBJ,GAEtDK,EAAoBH,EAGvB/c,QAAQ,YAAa,IACrBA,QAAQ,UAAW,IAEhBqK,EAAMsS,EAAUG,gBACpB,SAAWI,EAAoB,UAC/B,yBAGF,OAAOzB,EAAapR,EAAI8S,gBAAgBT,WAC1C,C,qCCtH4C5a,EAAAA,GAAU,CACpDsb,0BAA2Btb,EAAAA,GAC3Bub,2BAA4Bvb,EAAAA,GAC5Bwb,iCAAkCxb,EAAAA,KAH7B,MAWMyb,EAA6Bzb,EAAAA,GAAU,CAClD0b,gBAAiB1b,EAAAA,GACjB2b,wBAAyB3b,EAAAA,KAQd4b,EAAiC5b,EAAAA,GAAO,CACnD6b,2BAA4B7b,EAAAA,GAASA,EAAAA,GAAUyb,KAGpCK,EAAc9b,EAAAA,GAAe,CACxC4b,EACA5b,EAAAA,GAAO,CACLgM,aAAc+P,EAAAA,MC3BLC,EAAWhc,EAAAA,GAAe,CACrCA,EAAAA,GAAO,CACLuZ,KAAMvZ,EAAAA,KAER8b,I,0BCCF,MAAMG,EAEF,CAAC,EAQL,SAASC,EACPld,EACAmd,EACAhmB,GAEA,IAAIimB,EAAuE,GAE3E,OAAO5mB,SAAU6mB,KACXJ,EAAqB9lB,IACvBmmB,aAAaL,EAAqB9lB,IAGpC8lB,EAAqB9lB,GAAMomB,YAAW,KACpC,MAAM5f,EAASqC,KAAQqd,GACvBD,EAASrf,SAAQyf,GAAWA,EAAQ7f,KACpCyf,EAAW,UAEJH,EAAqB9lB,EAAG,GAC9BgmB,GAEI,IAAIM,SAAQD,GAAWJ,EAASnf,KAAKuf,KAEhD,CAEM,SAAUE,EACd5nB,EACAxC,EACA6D,EACAwmB,GAEA,MAAMC,EAAmC,KACvCrT,EAAAA,EAAAA,GAAyB,CACvBC,OAAQ,gCACRN,iBAAiBC,EAAAA,EAAAA,KACjBM,WAAY,CACVnX,YAAYiT,EAAAA,EAAAA,GAAgBjT,GAC5BqqB,kBAAkBpX,EAAAA,EAAAA,GAAgBoX,GAClC7nB,cACA+nB,mBAAoBtjB,EAAAA,GAAAA,SAAAA,aAAAA,IAEtBoQ,QAASqS,IAGb,OAAOE,EAAgBU,EAAkC,IAAMzmB,EAAxD+lB,EACT,C,0BC/DI9nB,EAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,6BAA6BlE,MAAM,CAAC,GAAK,+BAA+B,CAACR,EAAG,MAAM,CAAC0E,YAAY,0CAA0C8B,MAAM,CAC/P,qDAAsDpG,EAAI6sB,eAC1DzoB,GAAG,CAAC,MAAQpE,EAAI8sB,eAAe,CAACltB,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,WAAW,KAAO,SAAS,IAC1F,EACII,EAAkB,G,sBCMtB,IAAqBusB,EAArB,cAA4CrsB,EAAAA,GAItCmsB,oBACF,OAAO7qB,EAAAA,GAAAA,aACT,CAEA8qB,aAAatnB,GAEXA,EAAEC,iBACFD,EAAEsB,kBAEG5F,KAAK2rB,iBAEV7jB,EAAAA,EAAAA,IAAY,OAEZhH,EAAAA,GAAAA,gBAAwBd,KAAKgF,IAC/B,IAhBA5C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,QAAO,yBADLupB,GAAc,UAHlCrpB,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEoJ,KAAIA,EAAAA,MAECuiB,G,UCVuS,I,cCOxT7oB,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,QAAeA,EAAiB,QClBhC,IAAIC,EAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,4BAA4B,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,4CAA4C,CAACtE,EAAIM,GAAG,iCAAiCV,EAAG,MAAM,CAAC0E,YAAY,oCAAoC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,wCAAwC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,+CAA+CF,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIgtB,WAAWnmB,EAAQ,EAAE,IAAI,CAAC7G,EAAIitB,GAAG,KAAKrtB,EAAG,MAAM,CAAC0E,YAAY,+CAA+CF,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIgtB,WAAWnmB,EAAQ,EAAE,IAAI,CAAC7G,EAAIitB,GAAG,KAAKrtB,EAAG,MAAM,CAAC0E,YAAY,+CAA+CF,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIgtB,WAAWnmB,EAAQ,EAAE,IAAI,CAAC7G,EAAIitB,GAAG,OAAOrtB,EAAG,MAAM,CAAC0E,YAAY,wCAAwC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,+CAA+CF,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIgtB,WAAWnmB,EAAQ,EAAG,CAAC,GAAI,IAAI,IAAI,CAAC7G,EAAIitB,GAAG,KAAKrtB,EAAG,MAAM,CAAC0E,YAAY,+CAA+CF,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIgtB,WAAWnmB,EAAQ,EAAG,CAAC,GAAI,IAAI,IAAI,CAAC7G,EAAIitB,GAAG,UACvqC,EACIzsB,GAAkB,CAAC,WAAY,IAAIR,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,wCAAwC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,gDAAgD1E,EAAG,MAAM,CAAC0E,YAAY,iDAC/P,EAAE,WAAY,IAAItE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,wCAAwC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,gDAAgD1E,EAAG,MAAM,CAAC0E,YAAY,gDAAgD1E,EAAG,MAAM,CAAC0E,YAAY,iDAChT,EAAE,WAAY,IAAItE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,wCAAwC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,gDAAgD1E,EAAG,MAAM,CAAC0E,YAAY,gDAAgD1E,EAAG,MAAM,CAAC0E,YAAY,gDAAgD1E,EAAG,MAAM,CAAC0E,YAAY,iDACtX,EAAE,WAAY,IAAItE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,wCAAwC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,8CAA8C4oB,YAAY,CAAC,MAAQ,SAASttB,EAAG,MAAM,CAAC0E,YAAY,8CAA8C4oB,YAAY,CAAC,MAAQ,UACzU,EAAE,WAAY,IAAIltB,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,wCAAwC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,8CAA8C4oB,YAAY,CAAC,MAAQ,SAASttB,EAAG,MAAM,CAAC0E,YAAY,8CAA8C4oB,YAAY,CAAC,MAAQ,UACzU,G,iFCOA,IAAqBC,GAArB,cAA0CzsB,EAAAA,GAIxCssB,WAAWxnB,EAAU4nB,EAAyBC,GAE5C7nB,EAAEC,iBACFD,EAAEsB,kBAEF,MAAMd,EAAoB,GACpBsnB,EAAmBD,EACrBA,EAAa9qB,KAAIgrB,IACf,MAAMC,GAAuBC,EAAAA,GAAAA,GAA0BF,GAEvD,OAAO,KAAW,CAAC,EAAGG,GAAAA,GAAwB,CAC5CC,OAAQH,EACRI,KAAM,IACNrnB,MAAO,GAAGinB,MACV,IAEJ,GAEJ,IAAK,IAAIpD,EAAI,EAAGA,EAAIgD,EAAiBhD,IACnCpkB,EAAMgH,KAAK,CACT9G,GAAIkkB,EACJhoB,KAAM,CACJP,KAAMgsB,GAAAA,GACNxrB,WAAYgrB,EAAeC,EAAiBlD,GAAK,CAAC,GAEpD9nB,SAAU,KAId4T,GAAAA,EAAAA,aAA2B,KACzB5M,EAAAA,GAAAA,iBAA+B,CAC7BtD,MAAOA,EACP8nB,SAAU5sB,KAAKgF,KAGZmnB,IACHU,EAAAA,GAAAA,GAA+B7sB,KAAKgF,G,GAErC,4BAA4BknB,MAE/BpkB,EAAAA,EAAAA,IAAY,oBACd,IA3CA1F,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,0BADY4pB,IAAY,UADhCzpB,EAAAA,EAAAA,IAAU,CAAC,IACSypB,I,YCdqS,MCO1T,IAAI,IAAY,OACd,GACA,EACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,8DClBhC,MAAMa,GAAkB,CAAC,SAAU,kBAE7B,SAAUC,KACd,MAAMC,EAAiB9a,OAAOC,WAAWC,OAAOC,SAC1C4a,EAAaD,EAAeE,iBAEhC,UAGF,IAAK,MAAMC,KAAUF,EAAY,CAC/B,GACEH,GAAgBtf,MACd4f,GACED,EAAOnoB,GAAGqoB,cAAc9hB,SAAS6hB,IACjCD,EAAOG,IAAID,cAAc9hB,SAAS6hB,KAGtC,SAGF,MAAMG,EAAYC,GAAgBL,GAElCA,EAAO7lB,SACP0lB,EAAevN,cAAc,SAAS9I,YAAY4W,E,CAEtD,CAEA,SAASC,GAAgBC,GACvB,MAAMC,EAAgBrb,SAASiE,cAAc,UAY7C,OAVA7K,MAAMkiB,KAAKF,EAAWvS,YAAYtP,SAAQgiB,IACxCF,EAAcG,aAAaD,EAAKzlB,KAAMylB,EAAK/uB,MAAM,IAG/C4uB,EAAWH,IACbI,EAAcJ,IAAMG,EAAWH,IAE/BI,EAAcnE,UAAYkE,EAAWlE,UAGhCmE,CACT,C,gBCvCO,MAAMI,GAA0B,4MAO1BC,GAAkB,6JAKlBC,GAAqC,CAChD3nB,EACA4nB,IAEO,qGAEU5nB,iDAA2D4nB,EAAgBhhB,KAC1F,iH,8KC6DJ,MAAMihB,GAAiC,IACrCC,EAAAA,EACA,KAIF,IAAqBC,GAAuB,GAA5C,cAAqD5uB,EAAAA,GAArDC,c,oBAWE,KAAA4uB,UAAW,EACX,KAAAnS,YAAa,EACb,KAAA/W,mBAAoB,EACpB,KAAAmpB,yBAA0C,KAK1C,KAAAzZ,UAAW0Z,EAAAA,GAAAA,KAqPX,KAAAC,aAA8B,KAE9B,KAAAC,wBAAyBltB,EAAAA,GAAAA,GAAcvB,KAAK0uB,qBA+B5C,KAAAC,cAAeptB,EAAAA,GAAAA,GAAcvB,KAAKS,QAAQS,KAAKC,YAuoB/C,KAAAytB,iBAAkC,EAClC,KAAAC,iBAAkC,EAElC,KAAAC,UAAY,IAAIpd,GAAAA,EA4QlB,CA1qCMqd,uBACF,MAAMC,GAAyBtS,EAAAA,GAAAA,IAC7B1c,KAAKS,QAAQS,KAAKP,MAClBA,KAEIsuB,EACuB,UAA3BD,GAC2B,cAA3BA,GAC2B,mBAA3BA,GAC2B,YAA3BA,EAEF,OAAOC,GAAgD,IAAjCjvB,KAAKS,QAAQW,SAASoE,MAC9C,CAEI0pB,qBACF,OACElvB,KAAKS,QAAQS,KAAKP,OAASwuB,GAAAA,IACM,IAAjCnvB,KAAKS,QAAQW,SAASoE,MAE1B,CAEI4pB,kBACF,MAAMC,EACJrvB,KAAKkG,YAAYrC,UACjB7D,KAAKkG,YAAYrC,SAASwrB,2BAItB,OAAEC,KAAWC,GAAUvvB,KAAKS,QAAQS,KAAKC,YAAc,CAAC,EAI9D,OAAQkuB,EAA4BE,EAAQvvB,KAAK0uB,sBAAwB,CAAC,CAC5E,CAEAc,SAASC,GACP,MAAMC,EAAU1vB,KAAK2vB,QAErB,IAAK3vB,KAAKyJ,WACR,OAAO,EAGT,GAAIzJ,KAAKkvB,eACP,OAAO,EAAP,aAEiB,IAAKlvB,KAAKkb,YAAY,GAK/Blb,KAAK4vB,QAAM,cAHF5vB,KAAK6vB,0BAAyB,UAC9B7vB,KAAK8vB,mBAAkB,MAC3B9vB,KAAK+vB,qBAAmB,MAE1B/vB,KAAKwW,WAAS,iBAIfxW,KAAKS,QAAQuE,QAKzB,MAAMukB,GAAYyG,EAAAA,GAAAA,IAAWhwB,KAAKiwB,kBAAmB,CACnDC,IAAKlwB,KAAKmwB,oBAGN/uB,EAAWpB,KAAK+uB,iBAAmB,EAAH,aAG9B/uB,KAAKS,QAAQuE,MAGnBhF,KAAKS,QAAQW,SAASC,KAAIyO,GACjB,EAAP,QAGSA,EAAK9K,GAAE,eAEH8K,EAAI,SACH9P,KAAKS,QAAQuE,GAAE,oBACJhF,KAAKovB,iBAM5BgB,EAEJpwB,KAAKqwB,6BAEuB,OAA3BrwB,KAAKmwB,oBAEHnwB,KAAKmwB,kBAAkB5kB,SAAS,gBAE/B9E,EAAkC,CAAC,EAErC2pB,IACF3pB,EAAS8iB,UAAYA,GAGvB,MAAM+G,EAAqBF,EACvB,GACAjI,EACEoB,EACAkG,GAEA,IAAMruB,GACN,CACEknB,8BAA+BtoB,KAAKsoB,8BACpCC,oBAAqBvoB,KAAKuoB,sBAIlC,OAAOkH,EACLzvB,KAAK2vB,QACL,CACEzqB,MAAOlF,KAAKwW,UACZtX,MAAO,IACFc,KAAKkb,WACRlW,GAAIhF,KAAK4vB,QAEXnpB,WACAvD,GAAI,CACFqtB,UAAWvwB,KAAK6vB,0BAChBW,UAAWxwB,KAAK8vB,mBAChBW,MAAOzwB,KAAK+vB,oBACZ1G,SAAUrpB,KAAK0wB,kBACfpH,KAAMtpB,KAAKqwB,4BACPrwB,KAAKuoB,oBACL,SAGR+H,EAEJ,CAEArtB,OAAOwsB,GACL,OAAOzvB,KAAKwvB,SAASC,EACvB,CAEIQ,wBACF,IACGjwB,KAAK2wB,uCACN3wB,KAAKkG,YAAYrC,UACjB7D,KAAKkG,YAAYrC,SAASoqB,gBAE1B,OAAOD,GACLhuB,KAAKkG,YAAYiC,KACjBnI,KAAKkG,YAAYrC,SAASoqB,iBAI9B,MAAMrK,GAAWgN,EAAAA,GAAAA,IACf5wB,KAAKkG,YAAY0d,SACjB5jB,KAAK6wB,WACLC,EAAAA,GAAAA,IAAkC9wB,KAAKkG,cAGzC,OAAK0d,GAEEoM,EAAAA,GAAAA,IAAWpM,EAAU5jB,KAAK+wB,MAFX,EAGxB,CAEIC,gBACF,MAAMC,EAAiBjxB,KAAKiwB,kBAAkB1kB,SAAS,WACvD,IAAK0lB,EACH,OAAO,EAIT,GAAIjxB,KAAKkxB,WACP,OAAO,EAIT,GAAsC,OAAlClxB,KAAKsuB,yBACP,OAAO,EAGT,MAAM7S,EACJzb,KAAKkG,YAAYuV,0CAEb0V,GAAsB1V,EAC5B,QAAI0V,GAIG1V,EAA0CzP,MAAK7J,GAEpDnC,KAAKsuB,0BAA0BztB,WAAWsB,IAE9C,CAEI+uB,iBACF,QAAKpwB,EAAAA,GAAAA,qBAEEA,EAAAA,GAAAA,sBAAgCd,KAAKS,QAAQuE,EACtD,CAEI2rB,4CACF,IACG3wB,KAAKkG,YAAYrC,WACjB7D,KAAKkG,YAAYrC,SAASoqB,gBAE3B,OAAO,EAGT,MAAMmD,EAAmBpxB,KAAKkG,YAAYrC,SAASoqB,gBAAgBrsB,QACjEyvB,GACE3wB,EAAAA,GAAAA,0BAAAA,SAA+C2wB,KAGnD,OACED,EAAiB5rB,SACjBxF,KAAKkG,YAAYrC,SAASoqB,gBAAgBzoB,MAE9C,CAEI2qB,wBAEF,MAA0B,KAAtBnwB,KAAKwuB,aACH1tB,EAAAA,GAAAA,SAAAA,iCAA0D,GAEvDgtB,GAIJ9tB,KAAKgxB,WAAchxB,KAAKwuB,aAEzBxuB,KAAKkc,WACAlc,KAAKwuB,cAAgB,GAGvBxuB,KAAKwuB,aANsC,IAOpD,CAEIuC,WACF,MAAO,CACL/rB,GAAIhF,KAAKS,QAAQuE,GACjB4a,SAAU5f,KAAKsxB,gBACfC,WAAYvxB,KAAKwxB,gBACjBpM,OAAQplB,KAAKolB,OACb/e,YAAarG,KAAKkG,YAAYiC,KAElC,CAQA9D,gDACOrE,KAAKgxB,aAMLS,EAAAA,GAAAA,GAAUzxB,KAAK0uB,oBAAqB1uB,KAAKyuB,0BAC5CzuB,KAAKyuB,wBAAyBltB,EAAAA,GAAAA,GAAcvB,KAAK0uB,2BAC3C1uB,KAAK0xB,2BAIf,CAGArtB,uCACMrE,KAAKkxB,mBACDlxB,KAAK0xB,0BAEX5wB,EAAAA,GAAAA,uBAA+B,MAE/Bd,KAAK2xB,qBAET,CAIAttB,sDAUQrE,KAAK4xB,YAEN5xB,KAAKgxB,WA8BNS,EAAAA,GAAAA,GAAUzxB,KAAK6wB,UAAW7wB,KAAK2uB,gBAInC3uB,KAAK2uB,aAAe3uB,KAAK6wB,gBACnB7wB,KAAK0xB,0BAEX1xB,KAAK2xB,sBAnCE3xB,KAAKiwB,kBAAkB1kB,SAAS,aAET,OAAtBvL,KAAKwuB,eACPxuB,KAAKwuB,aAAe,MAOtBxuB,KAAK6xB,iCA0BX,CAEAF,qBACEpc,GAAAA,EAAAA,IAAAA,wBAAmD,CACjD/Q,UAAWxE,KAAKS,QAAQuE,KAGtBhF,KAAKS,QAAQqxB,WACfvc,GAAAA,EAAAA,IAAAA,sBAAiD,CAC/Cwc,uBAAwB/xB,KAAKS,QAAQS,KAAKP,KAC1CqxB,yBAA0BhyB,KAAKS,QAAQqxB,UACvChd,oBAAgBpP,IAIpB6P,GAAAA,EAAAA,IAAAA,iBAA4C,CAC1C/Q,UAAWxE,KAAKS,QAAQuE,IAE5B,CAEAX,gCACE,IAAKrE,KAAKgxB,UACR,OAGFlwB,EAAAA,GAAAA,wBAAgC,CAC9B0D,UAAWxE,KAAKS,QAAQuE,GACxBkX,YAAY,IAGd,MAAM+V,GAAU1jB,EAAAA,EAAAA,YACRgd,EACJvrB,KAAKkG,YAAY1F,KACjBR,KAAKS,QAAQS,KAAKC,WAClBnB,KAAKS,QAAQuE,GACbhF,KAAKovB,cAEP3gB,EAAAA,EAAAA,OACEkK,IACEA,EAAO/M,SAAQyI,IACbuE,GAAAA,EAAAA,IAAAA,QAA+BvE,EAAMwE,IAAI,IAGpC,CACLuP,KAAM2F,GACNrD,2BAA4B,CAAC,EAC7B7P,aAAc,CAAC,MAGnBoX,GAAWA,KAIfnxB,EAAAA,GAAAA,wBAAgC,CAC9B0D,UAAWxE,KAAKS,QAAQuE,GACxBkX,YAAY,IAGdlc,KAAKwuB,aAAeyD,EAAQ7J,KAC5BpoB,KAAK6xB,+BACHI,EAAQpX,aACRoX,EAAQvH,2BAEZ,CAEAwH,2CACE,MAAMC,EACJnyB,KAAKkG,YAAYrC,UACjB7D,KAAKkG,YAAYrC,SAASsuB,uBAExBA,GACFpF,IAEJ,CAOA8E,+BACEhX,EACA6P,GAEA1qB,KAAKkyB,2CAEDrX,IACFsT,EAAAA,EAAAA,IAAoCiE,EAAAA,GAAAA,MAA4B,CAC9DvX,aAAc,CAACA,GAEfwX,0BAA0B,EAC1B5xB,QAAST,KAAKS,WAIlB6xB,EAAAA,GAAAA,KACEF,EAAAA,GAAAA,MACApyB,KAAKS,QAAQuE,GACb0lB,EAEJ,CAEIjhB,iBACF,OAAO8oB,EAAAA,EAAAA,GACL,qBACA,EACAvyB,KAAKS,QAAQS,KAAKC,WAClB,CACEumB,kBAAmB5mB,EAAAA,GAAAA,mBAIzB,CAEI0xB,kBACF,OAAO9xB,EAAAA,GAAAA,WACT,CAKA+xB,sBACEzyB,KAAK0yB,qBACP,CAGAC,oBACE3yB,KAAK0yB,qBACP,CAIAE,sBACE5yB,KAAK0yB,qBACP,CAGAG,qBACE7yB,KAAK0yB,qBACP,CAGAI,+BACE,GAAI9yB,KAAKkG,YAAY2U,aAAc,CAGjC,MAAMkY,EACJ/yB,KAAKkG,YAAY2U,aAAaxZ,KAAI2xB,IAAQ,IACrCA,EACHC,cAAe,OAGnB/E,IAA+BkE,EAAAA,GAAAA,MAA4B,CACzDvX,aAAckY,EACdhC,KAAM/wB,KAAK+wB,KACXtwB,QAAST,KAAKS,S,CAGpB,CAII0d,qBACF,OAAO9M,EAAAA,GAAAA,cACT,CAaA6hB,mCACElzB,KAAK0yB,qBACP,CAEIS,2BACF,OAAOnzB,KAAKS,QAAQW,SAASoE,MAC/B,CAGA4tB,8BACEpzB,KAAK0yB,qBACP,CAEAA,sBACE,MAAMW,GAAMC,EAAAA,EAAAA,GACVtzB,KAAK6wB,UACL7wB,KAAKwyB,YACLxyB,KAAKkG,YAAYqtB,YACjBvzB,KAAK+wB,KACL/wB,KAAKkG,YAAYsV,oCACjBxb,KAAKmzB,sBACLK,EAAAA,GAAAA,GAAqCxzB,KAAKkG,eAI5CutB,EAAAA,GAAAA,KACErB,EAAAA,GAAAA,MACApyB,KAAKkG,YAAY1F,KACjBR,KAAKkG,YAAYwtB,aAGnBC,EAAAA,GAAAA,KACEvB,EAAAA,GAAAA,MACApyB,KAAKS,QAAQuE,GACbquB,EACArzB,KAAK6U,SAET,CAEAxQ,gBAQErE,KAAK6xB,uCAGCvG,QAAQsI,IAAI,CAChB5zB,KAAK6zB,mBACL7zB,KAAK0xB,4BAIPnc,GAAAA,EAAAA,IAAAA,iBAA4C,CAC1C/Q,UAAWxE,KAAKS,QAAQuE,IAE5B,CAEA8uB,YACE,MAAMC,EAIE,KAHNC,EAAAA,GAAAA,IACE5rB,EAAAA,GAAAA,SAAAA,KAAAA,KACApI,KAAKkG,YAAY1F,MAGjBuzB,IACFE,EAAAA,GAAAA,KACE7B,EAAAA,GAAAA,MACApyB,KAAKkG,YAAY1F,OAIrB0zB,EAAAA,GAAAA,KACE9B,EAAAA,GAAAA,MACApyB,KAAKS,QAAQuE,GACbhF,KAAK6U,WAGPsf,EAAAA,GAAAA,KACE/B,EAAAA,GAAAA,MACApyB,KAAKS,QAAQuE,IAGXhF,KAAKS,QAAQqxB,WACfvc,GAAAA,EAAAA,IAAAA,sBAAiD,CAC/Cwc,uBAAwB/xB,KAAKS,QAAQS,KAAKP,KAC1CqxB,yBAA0BhyB,KAAKS,QAAQqxB,UACvChd,eAAgB,4BAA4B9U,KAAKS,QAAQuE,MAG/D,CAEA6uB,mBACE,OAAO1F,EAAAA,EAAAA,IAAoCiE,EAAAA,GAAAA,MAA4B,CACrEvX,aAAc,IACR7a,KAAKkG,YAAY2U,cAAgB,MACjCna,EAAAA,GAAAA,oCAAAA,cAAgE,IAEtED,QAAST,KAAKS,QACdswB,KAAM/wB,KAAK+wB,MAEf,CAEIO,sBACF,MAAO,gBAAgBtxB,KAAKwxB,iBAC9B,CAEI7B,cACF,MAAMyE,EAAqBp0B,KAAKkG,YAAYmuB,QAAQC,cAChD,IACEt0B,KAAKS,QAAQS,KAAKC,WAClBnB,KAAKkG,YAAYmuB,QAAQC,eAE3Bt0B,KAAKS,QAAQS,KAAKC,YAAY0C,UAAU0wB,UAAUpa,IAEtD,MAAyB,kBAAdia,GACFA,GAEFp0B,KAAKkG,YAAYmuB,QAAQ/xB,OAClC,CAEI4D,kBACF,OAAOxF,EAAAA,GAAAA,QAAoBV,KAAKS,QAAQS,KAAKP,KAC/C,CAEIkwB,gBACF,IACE2D,EAAAA,GAAAA,IAASx0B,KAAKS,QAAQS,KAAKC,aAC6B,IAAxDO,OAAO+yB,QAAQz0B,KAAKS,QAAQS,KAAKC,YAAYqE,OAC7C,CACA,MAAMkvB,EAAoBh0B,EAAAA,GAAAA,iBAAAA,KAEpBoX,GAAoBmB,EAAAA,EAAAA,IACxBjZ,KAAKS,QAAQS,KAAKC,WAClBuzB,GAGIC,EAA4B7c,EAAkBlW,QAClDgzB,IACGlzB,OAAOC,KAAK+yB,GAAmBnpB,UAASuO,EAAAA,EAAAA,IAAqB8a,MAI9DD,EAA0BnvB,SAC5BqS,EAAAA,EAAAA,IAAgB8c,GAA2BE,MAAKC,IAC9Cp0B,EAAAA,GAAAA,8BAA0Co0B,EAAe,IAI7D,MAAMC,IAA8Br0B,EAAAA,GAAAA,cAEpC,OAAO2Y,EAAAA,GAAAA,IAAcrZ,KAAKS,QAAQS,KAAKC,YAAatC,IAC9Cya,EAAAA,GAAAA,IAAmBza,KAYjB61B,GAAkB5a,EAAAA,EAAAA,IAAqBjb,KAAWk2B,GAC7CL,GAAkB5a,EAAAA,EAAAA,IAAqBjb,IAK3CA,G,CAIX,MAAO,CAAC,CACV,CAEIumB,aACF,OAAOhd,EAAAA,GAAAA,SAAAA,aAAAA,EACT,CAEIwnB,aACF,OAAOoF,EAAAA,GAAAA,IAAch1B,KAAKS,QAC5B,CAEI+wB,sBACF,OAAOyD,EAAAA,GAAAA,IAAoBj1B,KAAKS,QAAST,KAAKolB,OAChD,CAEI8P,oBACF,OAAOC,EAAAA,GAAAA,IAAkCn1B,KAAKkG,YAChD,CAEIsQ,gBACF,MAAM4e,EAAU,CACdp1B,KAAKwxB,gBACL,kBACAxxB,KAAKk1B,eAGHl1B,KAAKquB,UACP+G,EAAQtpB,KAAK,8BAGX9L,KAAKmF,mBACPiwB,EAAQtpB,KAAK,kCAGX9L,KAAK+uB,kBACPqG,EAAQtpB,KAAK,+BAGf,MAAM0K,EAAaxW,KAAKS,QAAQS,KAAKC,YAAY0C,UAAU0wB,UACvDa,UAAW,EAmBf,OAjBI5e,GACF4e,EAAQtpB,QAAQ0K,GAIhBxW,KAAKkG,YAAYrC,UACjB7D,KAAKkG,YAAYrC,SAASwxB,qBAE1BD,EAAQtpB,KAAK,2CAGX9L,KAAKkc,YACPkZ,EAAQtpB,KAAK,kCAGfspB,EAAQtpB,QAAQ9L,KAAKsb,mBAEd8Z,CACT,CAEI9Z,wBACF,OAAKtb,KAAKkG,YAAYoV,kBACftb,KAAKkG,YAAYoV,kBACrBja,KAAIi0B,IACH,MAAM1R,GAAWgN,EAAAA,GAAAA,IACf0E,EAAU1R,SACV5jB,KAAK6wB,WACL0E,EAAAA,GAAAA,IACEv1B,KAAKkG,YACLovB,IAIJ,GAAK1R,EAEL,MAAO,CACLzb,KAAMmtB,EAAUntB,KAChBqtB,QAAS5R,EACV,IAEFhiB,OAAO6zB,GAAAA,IACP7zB,QAAO0G,KAAOA,EAAEktB,UAChBn0B,KAAIiH,GAAKA,EAAEH,OArBkC,EAsBlD,CAEAutB,qBAAqBC,GACnB,MAAI,aAAcA,GACT/E,EAAAA,GAAAA,IACL+E,EAAU/R,SACV5jB,KAAK6wB,WACL+E,EAAAA,GAAAA,IAA2C51B,KAAKkG,YAAayvB,IAG7D,iBAAkBA,EACbE,OACL,IAAW71B,KAAKS,QAAQS,KAAKC,WAAYw0B,EAAU1pB,aAAc,KAGjE,aAAc0pB,EACTA,EAAUG,SAGZ,IACT,CAEI5a,iBAIF,MAAM6a,EAAc,CAAC,EAGf7a,EAAa,IACblb,KAAKkG,YAAYgV,YAAc,MAC/Bxa,EAAAA,GAAAA,oCAAAA,YAA8D,IAGpEwa,EAAWtP,SAAQwV,IACjB,MAAMviB,EAAQmB,KAAK01B,qBAAqBtU,GAEpCviB,IACFk3B,EAAK3U,EAAKjZ,OAAQ6nB,EAAAA,GAAAA,IAAWnxB,EAAOmB,KAAK+wB,M,IAO7C,MAAMiF,EAAmBh2B,KAAKS,QAAQS,KAAKC,YAAY0C,UAAU0wB,UAC7DrZ,YAAc,GAElB8a,EAAgBpqB,SAASqqB,IACvBF,EAAKE,EAAQ9tB,MAAQ8tB,EAAQp3B,KAAK,IAGpCk3B,EAAK,gBAAkB,GAAG/1B,KAAKS,QAAQuE,KAGvC,MAAMkxB,EAAmB,CAAC,EAQ1B,OANAx0B,OAAOC,KAAKo0B,GAAMnqB,SAAQ3H,IACpB8xB,EAAK9xB,KACPiyB,EAAUjyB,GAAO8xB,EAAK9xB,G,IAInBiyB,CACT,CAEI7F,kCACF,OAAOrwB,KAAKkb,WAAW,sCACzB,CAEIib,2BACF,OAAOr1B,EAAAA,GAAAA,aACT,CAKIs1B,6CACF,OAAOt1B,EAAAA,GAAAA,2BACT,CAGAu1B,yCACEC,GAEIA,EAAa9xB,YAAcxE,KAAKS,QAAQuE,GAC1ChF,KAAKsuB,yBAA2BgI,EAAan0B,KACF,OAAlCnC,KAAKsuB,2BACdtuB,KAAKsuB,yBAA2B,KAEpC,CAKIiI,kCACF,OAAOz1B,EAAAA,GAAAA,mCAA6Cd,KAAKS,QAAQuE,EACnE,CAOAwxB,8BAA8BrxB,GAC5BnF,KAAKmF,kBAAoBA,CAC3B,CAKIsxB,gCACF,OAAO31B,EAAAA,GAAAA,eACT,CAOA41B,4BAA4BlW,GAC1BxgB,KAAKquB,SAAW7N,IAAoBxgB,KAAKS,QAAQuE,EACnD,CAKI2xB,kCACF,OAAOC,QAAQ91B,EAAAA,GAAAA,wBAAgCd,KAAKS,QAAQuE,IAC9D,CAOA6xB,6BAA6B3a,GACvBlc,KAAKkc,aAAeA,IACtBlc,KAAKkc,WAAaA,EAEtB,CAEI4a,0BACF,MAAMC,EAAoBj2B,EAAAA,GAAAA,yBAE1B,QAAIi2B,IACKC,EAAAA,GAAAA,IACL5uB,EAAAA,GAAAA,SAAAA,KACA2uB,EACA/2B,KAAKS,QAAQuE,GAKnB,CAQAO,kBACMvF,KAAK82B,sBAETh2B,EAAAA,GAAAA,gBAAwBd,KAAKS,QAAQuE,KACrC8C,EAAAA,EAAAA,IAAY,qBACd,CAEAmvB,QAAQ3yB,GACN,IAAKtE,KAAKm2B,qBAAsB,OAAO,EAEvC,MAAMxvB,EAASrC,EAAEqC,OACXuwB,EAAmB,CAAC,WAAY,QAAS,UACzCC,EAAiBxwB,EAAOywB,QAAQ/J,cAGtC,OAAI6J,EAAiB3rB,SAAS4rB,KAG1Br2B,EAAAA,GAAAA,0BAGN,CAEAgvB,mBAAmBxrB,GAEjBA,EAAEC,gBACJ,CAEAwrB,oBAAoB/d,GAOlB,MAAMrL,EAASqL,EAAMrL,OACf0wB,EAAoB,CAAC,IAAK,UAC1BzX,EAAWyX,EAAkBpqB,KAAK,MAClCqqB,EAAWD,EAAkBrrB,MAAKurB,GAAM5wB,EAAO6wB,QAAQD,MAEzD5wB,EAAO8wB,QAAQ7X,IAAa0X,IAC9BtlB,EAAMzN,gBAEV,CAEAsrB,0BAA0BvrB,GACxBA,EAAEsB,kBAEF5F,KAAKuF,kBAEAvF,KAAKi3B,QAAQ3yB,KACdtE,KAAK82B,sBAET92B,KAAK4uB,gBAAkBtqB,EAAEiE,QACzBvI,KAAK6uB,gBAAkBvqB,EAAEmE,QAEzBzI,KAAK8uB,UAAU5rB,GAAG,YAAalD,KAAK03B,UACpC13B,KAAK8uB,UAAU5rB,GAAG,UAAWlD,KAAK23B,sBACpC,CAEAA,sBACE33B,KAAK8uB,UAAU/c,YAEf/R,KAAK4uB,iBAAkB,EACvB5uB,KAAK6uB,iBAAkB,CACzB,CAEA6I,SAASpzB,GACP,GAAItE,KAAK82B,oBAAqB,OAC9B,KAAKc,EAAAA,GAAAA,IAActzB,GAAI,OAEvB,IAA6B,IAAzBtE,KAAK4uB,kBAAsD,IAAzB5uB,KAAK6uB,gBACzC,OAEF,MAAMgJ,EAASvzB,EAAEiE,QACXuvB,EAASxzB,EAAEmE,SAGfsvB,KAAKC,IAAIH,EAAS73B,KAAK4uB,iBAAmB,GAC1CmJ,KAAKC,IAAIF,EAAS93B,KAAK6uB,iBAAmB,KAE1C/tB,EAAAA,GAAAA,0BAAkCd,KAAKS,QAAQuE,IAC/ChF,KAAK23B,sBAET,CAIAjH,kBAAkBpsB,GACZtE,KAAKqwB,4BACPrwB,KAAKsoB,8BAA8BhkB,GAG5BtE,KAAKS,QAAQS,KAAKP,OAASs3B,GAAAA,KAClCC,EAAAA,GAAAA,IAAgB,QAEpB,CAKA5P,8BAA8BhkB,GAC5B,MAAMqC,EAAsBrC,EAAEqC,OAC9B,IAAIwxB,EAAkB,KActB,GAVEA,EADExxB,EAAOyxB,QAAQ/H,6BAA+B1pB,EAAOyxB,QAAQ1vB,OAC7C/B,EAKAA,EAAO6wB,QACvB,0CAICW,EAAiB,OAEtB,MAAM9H,EACJ8H,EAAgBC,QAAQ/H,4BAE1B,GAAIA,EAA6B,CAC/B,MAAMgI,EAAmD,IACvDr4B,KAAK6wB,WACLyH,EAAAA,GAAAA,IAAmBjI,IAGfkI,EAAwBF,GAAkB9W,MAAM/gB,KAEtD,GAAI+3B,EACF,M,CAIJ,MAAMC,EACgD,SAApDL,EAAgBM,aAAa,mBAE3BD,IAEJ13B,EAAAA,GAAAA,4BAAoCd,KAAKS,QAAQuE,IAEjDmzB,EAAgBtK,aAAa,kBAAmB,QAChDsK,EAAgBjvB,QAEhBgJ,OAAOC,WAAWC,OAAOC,SAASqmB,iBAChC,UACA14B,KAAK24B,oCAGPR,EAAgBO,iBAAiB,QAAS14B,KAAK44B,wBACjD,CAGArQ,oBAAoBjkB,GAClB,MAAMqC,EAASrC,EAAEqC,OAEjBuL,OAAOC,WAAWC,OAAOC,SAASwmB,oBAChC,UACA74B,KAAK24B,oCAGPhyB,EAAOkyB,oBAAoB,QAAS74B,KAAK44B,wBAEzCjyB,EAAOknB,aAAa,kBAAmB,SAEvC/sB,EAAAA,GAAAA,4BAAoC,MAEpC,MAAMqB,EACJwE,EAAOyxB,QAAQ/H,6BACfrwB,KAAKqwB,4BAEP,IAAKluB,EACH,OAGFwE,EAAO4iB,UAAY5iB,EAAO4iB,UAAUzgB,OAGpC,MAAMgwB,EAAcnyB,EAAO8iB,WAAW9iB,EAAO8iB,WAAWjkB,OAAS,GAI7DszB,GAAuC,OAAxBA,EAAY1B,SAC7B0B,EAAYxxB,SAId,MAAMyxB,EAA8B1mB,SAASiE,cAAc,YAC3DyiB,EAA4BxP,UAAY5iB,EAAO4iB,UAC/C,MAAMK,EAAcmP,EAA4Bl6B,MAG1Cm6B,EAAqB,IAAWh5B,KAAKS,QAAQS,KAAKC,WAAYgB,GAEhE62B,IAAcpP,GAElBxhB,EAAAA,GAAAA,yBAAuC,CACrC5D,UAAWxE,KAAKS,QAAQuE,GACxB7C,OACAtD,MAAO+qB,EACP9lB,KAAM,CACJsF,cACE6vB,GAAAA,GAAAA,2CACEj5B,KAAKkG,YACL/D,EACA+2B,GAAAA,EAAAA,UAIV,CAIAN,uBAAuB5mB,GACrB,MAAMmnB,EAAQnnB,EAAMpB,eAAe4C,QAAQ,cACtC2lB,IAELjnB,OAAOC,WAAWC,OAAOC,SAASuE,YAChC,cACA,GAGAwiB,EAAAA,GAAAA,GAAMD,IAIRnnB,EAAMzN,iBACR,CAEAo0B,mCAAmC3mB,GAGjC,MAAmB,UAAfA,EAAMqnB,MACRrnB,EAAMzN,iBACNyN,EAAMpM,uBACNsM,OAAOC,WAAWC,OAAOC,SAASuE,YAAY,cAAc,EAAO,MAUlD,UAAf5E,EAAMqnB,MACRnnB,OAAOC,WAAWC,OAAOC,SAASuE,YAAY,wBAC9C5E,EAAMzN,kBAIW,WAAfyN,EAAMqnB,OAQLrnB,EAAMsnB,SAAWtnB,EAAMunB,UAA0B,MAAdvnB,EAAM/N,KAP5C+N,EAAMzN,sBACNvE,KAAKuoB,oBAAoBvW,SAM3B,CAKF,IA3rCA5P,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,gCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,4CAuQPD,EAAAA,EAAAA,IAAAA,EAHCuI,EAAAA,EAAAA,IAAM,sBAAuB,CAC5B6uB,MAAM,KACN,8DAiBFp3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,eAAa,qDAapBvI,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,cAAY,8DA4KnBvI,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,cAAe,CAAE6uB,MAAM,KAAO,0CAMrCp3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,YAAa,CAAE6uB,MAAM,EAAMC,WAAW,KAAO,wCAOpDr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,4BAA0B,0CAMjCvI,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,2BAAyB,yCAMhCvI,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,2BAA4B,CAAE6uB,MAAM,KAAO,mDAoClDp3B,EAAAA,EAAAA,IAAAA,EAHCuI,EAAAA,EAAAA,IAAM,kBAAkB+uB,GAAAA,EAAAA,oBAA2C,CAClEF,MAAM,KACN,uDAUFp3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,uBAAwB,CAAC,IAAE,kDA+UlCvI,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,yCAA0C,CAAE8uB,WAAW,KAAO,+DAuBrEr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,8BAA+B,CAAE8uB,WAAW,KAAO,oDAiB1Dr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,4BAA6B,CAAE8uB,WAAW,KAAO,kDAiBxDr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,8BAA+B,CAAE8uB,WAAW,KAAO,kDA15BvCrL,GAAuB,cAD3C5rB,EAAAA,EAAAA,IAAU,CAAC,IACS4rB,I,YCxF4R,MCAjT,IAAI,GAAQ,GAOR,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAInrB,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,cAAc8B,MAAMpG,EAAI66B,WAAW,CAACj7B,EAAG,MAAM,CAACk7B,WAAW,CAAC,CAACzxB,KAAK,aAAa0xB,QAAQ,eAAeh7B,MAAO,OAAQ2E,WAAW,YAAY,CAAC9E,EAAG,eAAeA,EAAG,oBAAoB,GAAGA,EAAG,gBAAgBA,EAAG,qBAAqBA,EAAG,wBAAwB,EACnX,EACIY,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,oBAAoBiC,MAAOvG,EAAIg7B,8BAA+B,CAACp7B,EAAG,MAAM,CAAC0E,YAAY,6BAA6BF,GAAG,CAAC,UAAYpE,EAAIi7B,aAAar7B,EAAG,MAAM,CAAC0E,YAAY,+BAA+BF,GAAG,CAAC,UAAYpE,EAAIi7B,aAAar7B,EAAG,MAAM,CAAC0E,YAAY,8BAA8BF,GAAG,CAAC,UAAYpE,EAAIi7B,aAAar7B,EAAG,MAAM,CAAC0E,YAAY,iCAAiCF,GAAG,CAAC,UAAYpE,EAAIi7B,aAAar7B,EAAG,MAAM,CAAC0E,YAAY,kCAAkCF,GAAG,CAAC,UAAYpE,EAAIi7B,aAAar7B,EAAG,MAAM,CAAC0E,YAAY,gCAAgCF,GAAG,CAAC,UAAYpE,EAAIi7B,aAAar7B,EAAG,MAAM,CAAC0E,YAAY,gCAAgCF,GAAG,CAAC,UAAYpE,EAAIi7B,aAAar7B,EAAG,MAAM,CAAC0E,YAAY,iCAAiCF,GAAG,CAAC,UAAYpE,EAAIi7B,cAC91B,EACIz6B,GAAkB,GCwBhB,SAAU06B,GAAiBC,GAC/B,MAAO,CACLC,EACAC,KAEA,GAAIr5B,EAAAA,GAAAA,gBAAyB,CAC3B,MAAMs5B,EAAqB,CAACC,EAAW1tB,IAC9B0tB,EAAI1tB,GAAK,EAAI0tB,EAAI1tB,EAAI,EAgC9B,GAAI,cAAestB,GAAsBA,EAAmBK,UAAW,CACrE,MAAMC,EAAcN,EAAmBK,UAAUvtB,QAC/C,wBACAjM,EAAAA,GAAAA,kBAAAA,IAGIT,EAAW+5B,EACfF,EAAuBjyB,MACvBkyB,EAAcK,aAGhBpyB,EAAAA,GAAAA,yBAAuC,CACrC5D,UAAW1D,EAAAA,GAAAA,gBACXqB,KAAMo4B,EACN17B,MAAO,CACL4tB,OAAQpsB,EACRqsB,KAAM,MAER5oB,KAAM,CACJsF,cAAe,mB,CAKrB,GAAI,cAAe6wB,GAAsBA,EAAmBQ,UAAW,CACrE,MAAMF,EAAcN,EAAmBQ,UAAU1tB,QAC/C,wBACAjM,EAAAA,GAAAA,kBAAAA,IAGIT,EAAW+5B,EACfF,EAAuBQ,OACvBP,EAAcQ,aAGhBvyB,EAAAA,GAAAA,yBAAuC,CACrC5D,UAAW1D,EAAAA,GAAAA,gBACXqB,KAAMo4B,EACN17B,MAAO,CACL4tB,OAAQpsB,EACRqsB,KAAM,MAER5oB,KAAM,CACJsF,cAAe,mB,GAM3B,C,gBCpGA,MAAMwxB,GAA8C,CAClDN,UACE,2CAMJ,IAAqBO,GAArB,cAAwCr7B,EAAAA,GAAxCC,c,oBACE,KAAA06B,eAA+B,EAE/B,KAAAL,6BAA0D,CACxDgB,QAAS,QAGX,KAAAC,cAAqC,EAErC,KAAAC,wCAA0C,OAmB1C,KAAAlM,UAAY,IAAIpd,GAAAA,EAiFlB,CAnGEupB,mCACElyB,EAAAA,GAAAA,IAAc,IAAM/I,KAAKk7B,2BAC3B,CACAC,cACEn7B,KAAKk7B,0BAELl7B,KAAKg7B,wCAA0Ch7B,KAAKo7B,OAAOC,UACzDr7B,KAAKi7B,iCAGP/oB,OAAOwmB,iBAAiB,SAAU14B,KAAKi7B,gCACzC,CAEAK,gBACEt7B,KAAKg7B,0CACL9oB,OAAO2mB,oBAAoB,SAAU74B,KAAKi7B,gCAC5C,CAIAlB,UAAUz1B,GACRA,EAAEC,iBACFD,EAAEsB,kBAEF5F,KAAKm6B,cAAgB,CACnBoB,OAAQj3B,EAAEiE,QACVizB,OAAQl3B,EAAEmE,QACVgzB,SAAUn3B,EAAEiE,QACZmzB,SAAUp3B,EAAEmE,QACZ+xB,YAAa,EACbG,YAAa,EACbgB,aAAc,EACdC,aAAc,GAGhB57B,KAAK+6B,aAAef,GAAiBY,IAErC56B,KAAK8uB,UAAU5rB,GAAG,YAAalD,KAAK03B,UACpC13B,KAAK8uB,UAAU5rB,GAAG,UAAWlD,KAAK67B,QACpC,CAEAnE,SAASpzB,GACP,IAAIszB,EAAAA,GAAAA,IAActzB,GAAI,CACpBA,EAAEC,iBACFD,EAAEsB,kBAEF,MAAMs0B,GAAyB4B,EAAAA,GAAAA,MAC/B,IAAK5B,IAA2Bl6B,KAAKm6B,cAAe,OAEpDn6B,KAAKm6B,cAAgB,IAChBn6B,KAAKm6B,cACRsB,SAAUn3B,EAAEiE,QACZmzB,SAAUp3B,EAAEmE,QACZ+xB,YAAal2B,EAAEiE,QAAUvI,KAAKm6B,cAAcsB,SAC5Cd,YAAar2B,EAAEmE,QAAUzI,KAAKm6B,cAAcuB,SAC5CC,aAAcr3B,EAAEiE,QAAUvI,KAAKm6B,cAAcoB,OAC7CK,aAAct3B,EAAEmE,QAAUzI,KAAKm6B,cAAcqB,QAG3Cx7B,KAAK+6B,cACP/6B,KAAK+6B,aAAab,EAAwBl6B,KAAKm6B,eAGjDn6B,KAAKk7B,yB,CAET,CAEAW,QAAQv3B,GACNA,EAAEC,iBACFD,EAAEsB,kBAEF5F,KAAK8uB,UAAU/c,YAEf/R,KAAKm6B,eAAgB,EACrBn6B,KAAK+6B,cAAe,CACtB,CAEAG,0BACOp6B,EAAAA,GAAAA,kBACHd,KAAK85B,6BAA+B,CAClCgB,QAAS,SAIb,MAAMZ,GAAyB4B,EAAAA,GAAAA,MAC/B,IAAK5B,EAAwB,OAE7B,MAAM,EAAE5xB,EAAC,EAAEE,EAAC,MAAEP,EAAK,OAAEyyB,GAAWR,EAEhCl6B,KAAK85B,6BAA+B,CAClCzxB,SACE,WAEFkO,IAAK/N,EAAE8L,WAAa,KACpBpM,KAAMI,EAAEgM,WAAa,KACrBrM,MAAOA,EAAMqM,WAAa,KAC1BomB,OAAQA,EAAOpmB,WAAa,KAEhC,GA5GmBumB,IAAU,UAD9Br4B,EAAAA,EAAAA,IAAU,CAAC,IACSq4B,I,YCtBiS,MCOtT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI53B,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAMI,EAAI+F,GAAI/F,EAAIi9B,MAAM,SAASC,EAAI9S,GAAG,OAAOxqB,EAAG,aAAa,CAACuF,IAAIilB,EAAEhqB,MAAM,CAAC,IAAM88B,EAAI,WAAal9B,EAAIm9B,WAAW,YAAcn9B,EAAIo9B,gBAAkBF,EAAIhrB,UAAU9N,GAAG,CAAC,UAAY,SAASyC,GAAQ,OAAO7G,EAAIi7B,UAAUp0B,EAAQq2B,EAAIhrB,SAAS,IAAI,IAAG,EAC1V,EACI1R,GAAkB,G,uBCWtB,IAAa68B,GAAb,cAA+B38B,EAAAA,GAA/BC,c,oBACE,KAAAy8B,eAAgC,EAEhC,KAAA/B,eAA+B,EAsD/B,KAAAiC,kBAAoBC,KAAUr8B,KAAK03B,SAAU,IA4D7C,KAAA4E,oCAAsC,OAoBtC,KAAAC,qBAAkD,CAChDzB,QAAS,OA2Bb,CAhKEC,aAEEyB,EAEAC,EAEAC,GAEAzpB,QAAQ0pB,KAAK,qDACf,CAEAC,kBAAmB,CAEnBC,kBAEEH,GACC,CAEH3C,UAAUz1B,EAAew4B,GAEvBx4B,EAAEsB,kBAEoB,kBAAXk3B,GAOXh8B,EAAAA,GAAAA,sBAA6B,GAC7Bd,KAAKk8B,cAAgBY,EAErB98B,KAAKm6B,cAAgB,CACnBoB,OAAQj3B,EAAEiE,QACVizB,OAAQl3B,EAAEmE,QACVgzB,SAAUn3B,EAAEiE,QACZmzB,SAAUp3B,EAAEmE,QACZ+xB,YAAa,EACbG,YAAa,EACbgB,aAAc,EACdC,aAAc,GAGhB1pB,OAAOC,WAAWC,OAAOC,SAASqmB,iBAChC,YACA14B,KAAKo8B,mBAEPlqB,OAAOC,WAAWC,OAAOC,SAASqmB,iBAAiB,UAAW14B,KAAK67B,SAEnE77B,KAAK68B,kBAAkBC,IA1BrB7pB,QAAQ0pB,KACN,+JA0BN,CAIAjF,SAASpzB,GACPA,EAAEC,iBACFD,EAAEsB,kBAEFm3B,uBAAsB,IAAM/8B,KAAKg9B,cAAc14B,IACjD,CAEA04B,cAAc14B,GACZ,MAAM41B,GAAyB4B,EAAAA,GAAAA,MAC1B5B,GAA2Bl6B,KAAKm6B,gBAErCn6B,KAAKm6B,cAAgB,IAChBn6B,KAAKm6B,cACRsB,SAAUn3B,EAAEiE,QACZmzB,SAAUp3B,EAAEmE,QACZ+xB,YAAal2B,EAAEiE,QAAUvI,KAAKm6B,cAAcsB,SAC5Cd,YAAar2B,EAAEmE,QAAUzI,KAAKm6B,cAAcuB,SAC5CC,aAAcr3B,EAAEiE,QAAUvI,KAAKm6B,cAAcoB,OAC7CK,aAAct3B,EAAEmE,QAAUzI,KAAKm6B,cAAcqB,QAG3Cx7B,KAAKk8B,eACPl8B,KAAK+6B,aACHb,EACAl6B,KAAKm6B,cACLn6B,KAAKk8B,eAITl8B,KAAKi9B,mBACLC,EAAAA,GAAAA,MACF,CAEArB,QAAQv3B,GACNA,EAAEC,iBACFD,EAAEsB,kBAGFsM,OAAOC,WAAWC,OAAOC,SAASwmB,oBAChC,YACA74B,KAAKo8B,mBAEPlqB,OAAOC,WAAWC,OAAOC,SAASwmB,oBAChC,UACA74B,KAAK67B,SAEP77B,KAAKm6B,eAAgB,EACrBn6B,KAAKk8B,eAAgB,EAErBp7B,EAAAA,GAAAA,sBAA6B,GAC7Bd,KAAK48B,mBACLM,EAAAA,GAAAA,KACF,CAEIjB,iBACF,QAASj8B,KAAKm6B,aAChB,CAGAgD,4BACEp0B,EAAAA,GAAAA,GAAc/I,KAAKi9B,gBACrB,CAEA9B,cACEn7B,KAAKi9B,kBAELj9B,KAAKs8B,oCAAsCt8B,KAAKo7B,OAAOC,UACrDr7B,KAAKm9B,0BAGPjrB,OAAOwmB,iBAAiB,SAAU14B,KAAKm9B,yBACzC,CAEA7B,gBACEt7B,KAAKs8B,sCACLpqB,OAAO2mB,oBAAoB,SAAU74B,KAAKm9B,yBAC5C,CAMAF,kBACE,IAAKn8B,EAAAA,GAAAA,gBAKH,YAJAd,KAAKu8B,qBAAuB,CAC1BzB,QAAS,SAMb,MAAMZ,GAAyB4B,EAAAA,GAAAA,MAC/B,IAAK5B,EAAwB,OAE7B,MAAM,EAAE5xB,EAAC,EAAEE,EAAC,MAAEP,EAAK,OAAEyyB,GAAWR,EAEhCl6B,KAAKu8B,qBAAuB,CAC1Bl0B,SACE,WAEFkO,IAAK,GAAG/N,MACRN,KAAM,GAAGI,MACTL,MAAO,GAAGA,MACVyyB,OAAQ,GAAGA,MAEf,GApKWyB,IAAS,SADrB35B,EAAAA,IACY25B,ICbb,IAAIl5B,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,cAAc8B,MAAMpG,EAAI0X,UAAUnR,MAAOvG,EAAIuG,MAAOnC,GAAG,CAAC,UAAY,SAASyC,GAAQ,OAAO7G,EAAIwB,MAAM,YAAaqF,EAAO,EAAE,UAAY,SAASA,GAAQ7G,EAAIs+B,YAAa,CAAI,EAAE,WAAa,SAASz3B,GAAQ7G,EAAIs+B,YAAa,CAAK,IAAI,CAAC1+B,EAAG,MAAM,CAAC0E,YAAY,6BAA6B,CAACtE,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAID,OAAO,SAC5a,EACIS,GAAkB,GCEhB,SAAU+9B,GACdpxB,EACAqxB,GAEA,MAAMC,EAAUC,GAAoBvxB,EAAcqxB,GAClD,OAAOC,GAAoB,CAC7B,CAEM,SAAUC,GAAoBr7B,EAAcm7B,GAChD,IAAKx8B,EAAAA,GAAAA,cAAuB,OAAO,EAEnC,MAAM28B,EAAWC,GAAsBv7B,EAAMrB,EAAAA,GAAAA,kBAAAA,IAE7C,IAAI68B,EAAenxB,SACjB,IAAW1L,EAAAA,GAAAA,cAAuB,mBAAmB28B,aAGlDE,IACHA,EAAe,GAGjB,IAAIC,EAAc,IAChB98B,EAAAA,GAAAA,cACA,mBAAmB28B,UAOrB,GAJKG,IACHA,EAAc,MAGI,OAAhBA,GAAyC,IAAjBD,EAAoB,CAC9C,MAAME,GAAgBC,EAAAA,GAAAA,IACpBh9B,EAAAA,GAAAA,eAEF,IAAK+8B,EAAe,OAAO,EAE3B,MAAME,EAAavxB,SAASqxB,EAAcG,iBAAiBV,IAE3D,OAAOS,C,CAET,OAAOJ,CACT,CAEM,SAAUD,GAAsBv7B,EAAc87B,GAClD,OAAO97B,EAAK4K,QAAQ,iBAAkBkxB,EACxC,C,gBCnCA,IAAqBC,GAArB,cAAwC1+B,EAAAA,GAAxCC,c,oBAUE,KAAA29B,YAAa,EAEb,KAAAe,eAAiC,IAAIC,eACnCp+B,KAAKq+B,uBAGP,KAAAC,6BAA8D,KAC9D,KAAAC,iDAAkE,IA6KpE,CAzKM1/B,YACF,OAAOw+B,GACLr9B,KAAKg8B,IAAIwC,qBACTx+B,KAAKg8B,IAAIsB,YAEb,CAEIh8B,oBACF,OAAOR,GAAAA,GAAAA,aACT,CAEA29B,4CACE,MAAMn9B,EAAgBtB,KAAKsB,cAC3B,GAAIA,EAAe,CACjB,MAAMo9B,GAAuBC,EAAAA,GAAAA,IAA0Br9B,GACvD,GAAIo9B,EAMF,OALA1+B,KAAKs+B,8BACHM,EAAAA,GAAAA,IAA6BF,IAAyB,UAExD1+B,KAAKu+B,iDAAmDv+B,KAAKnB,M,CAMjEmB,KAAKs+B,6BAA+B,KACpCt+B,KAAKu+B,iDAAmD,IAC1D,CAEAM,UACE7+B,KAAK8+B,eAAiBC,aAAY,MAChCh2B,EAAAA,GAAAA,GAAc/I,KAAKy+B,0CAA0C,GAC5D,GACL,CAGAO,4BACEh/B,KAAKy+B,4CAELz+B,KAAKm+B,eAAec,aAEpB,MAAM39B,EAAgBtB,KAAKsB,cAE3B,GAAIA,EAAe,CACjB,MAAMo9B,GAAuBC,EAAAA,GAAAA,IAA0Br9B,GACnDo9B,IACF1+B,KAAKm+B,eAAee,QAAQR,EAAsB,CAChDS,IAAK,eAEHT,EAAqB78B,eACvB7B,KAAKm+B,eAAee,QAAQR,EAAqB78B,cAAe,CAC9Ds9B,IAAK,e,CAKf,CAEAd,wBACEr+B,KAAKy+B,2CACP,CAEIjoB,gBACF,MAAO,CAAC,eAAexW,KAAKg8B,IAAIhrB,WAClC,CAEI3L,YACF,OACGrF,KAAKi8B,YAAcj8B,KAAKo/B,aAExBp/B,KAAKo9B,aAAep9B,KAAKi8B,WAEnB,IAAKj8B,KAAKq/B,SAAUC,QAAS,GAG/Bt/B,KAAKq/B,QACd,CAEIA,eACF,MAAME,EAAkBv/B,KAAKs+B,6BAE7B,IAAKiB,EAAiB,MAAO,CAAC,EAE9B,MAAMhB,EACJv+B,KAAKu+B,kDAAoDv+B,KAAKnB,OAE1D,MAAEoJ,EAAK,OAAEyyB,EAAQlyB,EAAG+N,EAAKjO,EAAGJ,GAASq3B,EAErCC,EACJjB,EAAmD,EAC/CA,EACA,EAEN,OAAQv+B,KAAKg8B,IAAIhrB,UACf,IAAK,aACH,MAAO,CACL/I,MAAO,GAAGA,MACVyyB,OAAQ,GAAG8E,MACXjpB,IAAK,GAAGA,MACRrO,KAAM,GAAGA,MACTu3B,OAAQ,cAEZ,IAAK,cACH,MAAO,CACLx3B,MAAO,GAAGA,MACVyyB,OAAQ,GAAG8E,MACXjpB,IAAK,IAAIipB,EAAYjpB,MACrBrO,KAAM,GAAGA,MACTu3B,OAAQ,cAEZ,IAAK,gBACH,MAAO,CACLx3B,MAAO,GAAGA,MACVyyB,OAAQ,GAAG8E,MACXjpB,IAAQA,EAAMmkB,EAAS8E,EAAlB,KACLt3B,KAAM,GAAGA,MACTu3B,OAAQ,cAEZ,IAAK,iBACH,MAAO,CACLx3B,MAAO,GAAGA,MACVyyB,OAAQ,GAAG8E,MACXjpB,IAAK,GAAGA,EAAMmkB,MACdxyB,KAAM,GAAGA,MACTu3B,OAAQ,cAEZ,IAAK,cACH,MAAO,CACLx3B,MAAO,GAAGu3B,MACVjpB,IAAK,GAAGA,MACRmkB,OAAQ,GAAGA,MACXxyB,KAAM,GAAGA,MACTu3B,OAAQ,cAEZ,IAAK,eACH,MAAO,CACLx3B,MAAO,GAAGu3B,MACVjpB,IAAK,GAAGA,MACRmkB,OAAQ,GAAGA,MACXxyB,KAASA,EAAOs3B,EAAV,KACNC,OAAQ,cAEZ,IAAK,eACH,MAAO,CACLx3B,MAAO,GAAGu3B,MACVjpB,IAAK,GAAGA,MACRmkB,OAAQ,GAAGA,MACXxyB,KAASA,EAAOD,EAAQu3B,EAAlB,KACNC,OAAQ,cAEZ,IAAK,gBACH,MAAO,CACLx3B,MAAO,GAAGu3B,MACVjpB,IAAK,GAAGA,MACRmkB,OAAQ,GAAGA,MACXxyB,KAAM,GAAGA,EAAOD,MAChBw3B,OAAQ,cAEZ,QACE,MAAO,CAAC,EAEd,CAEAnE,gBACEt7B,KAAKm+B,eAAec,aAChBj/B,KAAK8+B,gBACPY,cAAc1/B,KAAK8+B,eAEvB,IA3LA18B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,4BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,mCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,oCAkDPD,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,gBAAiB,CAAE8uB,WAAW,KAAO,+CAxDzByE,IAAU,UAD9B17B,EAAAA,EAAAA,IAAU,CAAC,IACS07B,I,YCdmS,MCOxT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCAhC,IAAqByB,GAArB,eAAyCC,EAAAA,EAAAA,IAAOzD,KAAhD18B,c,oBAWE,KAAAogC,eAAgC,CAsElC,CAhFM9D,WACF,OAAO/7B,KAAK8/B,yBAA2B9/B,KAAK8/B,yBAA2B,EACzE,CAEIA,+BACF,QAAOh/B,EAAAA,GAAAA,eACHJ,EAAAA,GAAAA,QAAoBI,EAAAA,GAAAA,cAAAA,KAAAA,MAAiCma,WAE3D,CAIA8f,aACEyB,EACArC,EACA2C,GAEA,MAAMd,EAAMh8B,KAAK+7B,KAAKn6B,QAAO+K,GAAKA,EAAEqE,WAAa8rB,IAAQiD,MAEzD,IAAKj/B,EAAAA,GAAAA,kBAA4Bk7B,EAAK,OAEtC,IAAI37B,EAAW,EACXs9B,EAAeH,GACjBxB,EAAIwC,qBACJxC,EAAIsB,aAWN,OARKK,IACHA,EAAe,GAGZ39B,KAAK6/B,gBACR7/B,KAAK6/B,cAAgBlC,GAGfb,GACN,IAAK,aACL,IAAK,gBACL,IAAK,cACL,IAAK,iBACHz8B,EAAWL,KAAK6/B,cAAgB1F,EAAcyB,aAC9C,MACF,IAAK,cACL,IAAK,eACL,IAAK,eACL,IAAK,gBACHv7B,EAAWL,KAAK6/B,cAAgB1F,EAAcwB,aAC9C,MAGAt7B,EAAW,IACbA,EAAW,GAGb,MAAM2/B,EAA4BtC,GAChC1B,EAAIwC,qBACJ19B,EAAAA,GAAAA,kBAAAA,IAGFsH,EAAAA,GAAAA,yBAAuC,CACrC5D,UAAW1D,EAAAA,GAAAA,gBACXqB,KAAM69B,EACNnhC,MAAO,CACL4tB,OAAQpsB,EACRqsB,KAAM,KACNrnB,MAAO,GAAGhF,OAEZyD,KAAM,CACJsF,cAAe6vB,GAAAA,GAAAA,uBACbn4B,EAAAA,GAAAA,gBACAk/B,EACA9G,GAAAA,EAAAA,UAIR,CAEA0D,kBACE58B,KAAK6/B,eAAgB,CACvB,GAhFmBF,IAAW,UAH/Bn9B,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEg+B,WAAUA,OAELyB,I,YClBoS,MCOzT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI18B,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAQ9F,EAAI2K,WAAY/K,EAAG,MAAM,CAAC0E,YAAY,oBAAoBiC,MAAOvG,EAAIy9B,sBAAuB,CAAEz9B,EAAImhC,mBAAoBvhC,EAAG,MAAM,CAAC0E,YAAY,gCAAgCF,GAAG,CAAC,UAAY,SAASyC,GAAQ,OAAO7G,EAAIi7B,UAAUp0B,EAAQ,OAAO,IAAI,CAAE7G,EAAIohC,eAAiB,SAAUphC,EAAIohC,cAAexhC,EAAG,MAAM,CAAC0E,YAAY,kCAAkC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,wBAAwB,CAACtE,EAAIM,GAAG,IAAIN,EAAIyH,GAAGzH,EAAIohC,cAAch4B,KAAKi4B,cAAc,QAAQzhC,EAAG,MAAM,CAAC0E,YAAY,yBAAyB,CAACtE,EAAIM,GAAG,IAAIN,EAAIyH,GAAGzH,EAAIohC,cAAch4B,KAAKk4B,cAAc,UAAUthC,EAAIkH,OAAOlH,EAAIkH,KAAMlH,EAAIuhC,oBAAqB3hC,EAAG,MAAM,CAAC0E,YAAY,iCAAiCF,GAAG,CAAC,UAAY,SAASyC,GAAQ,OAAO7G,EAAIi7B,UAAUp0B,EAAQ,QAAQ,IAAI,CAAE7G,EAAIohC,eAAiB,UAAWphC,EAAIohC,cAAexhC,EAAG,MAAM,CAAC0E,YAAY,kCAAkC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,wBAAwB,CAACtE,EAAIM,GAAG,IAAIN,EAAIyH,GAAGzH,EAAIohC,cAAchgB,MAAMkgB,cAAc,QAAQ1hC,EAAG,MAAM,CAAC0E,YAAY,yBAAyB,CAACtE,EAAIM,GAAG,IAAIN,EAAIyH,GAAGzH,EAAIohC,cAAchgB,MAAMigB,cAAc,UAAUrhC,EAAIkH,OAAOlH,EAAIkH,OAAOlH,EAAIkH,IAC1rC,EACI1G,GAAkB,GCOhB,SAAUghC,GAAgCC,GAC9C,MAAMC,EAAkBC,GAA+BF,GACjDG,EAAwBC,GAAqCJ,GAEnE,IAAKC,IAAoBE,EAAuB,OAAO,EAEvD,MAAME,GAAuBrU,EAAAA,GAAAA,GAC1BiU,EAAkBE,EAAyB,KAG9C,OAAOE,IAA8C,CACvD,CAEM,SAAUC,GACdN,EACAO,EACAC,GAEA,MAAMC,EAAgBD,EAChBE,EAAsBN,GAAqCJ,GAEjE,IAAKS,IAAkBC,EAAqB,OAAO,EAEnD,MAAMC,GACIF,EAAgBF,GAAeG,EAAvC,IAEF,OAAO1U,EAAAA,GAAAA,GAA0B2U,EACnC,CAEM,SAAUT,GAA+BF,GAC7C,MAAMY,GAAiBC,EAAAA,GAAAA,IAA2Bb,GAClD,QAAIY,GACKA,EAAel5B,KAI1B,CAEA,SAAS04B,GAAqCJ,GAC5C,MAAMc,GAAe5kB,EAAAA,GAAAA,IAAcrU,EAAAA,GAAAA,SAAAA,KAA6Bm4B,EAAOv7B,IAEvE,GAAIq8B,EAAc,CAChB,MAAMC,GAAuBF,EAAAA,GAAAA,IAA2BC,GACxD,GAAIC,EACF,OAAOA,EAAqBr5B,K,CAIhC,OAAO,CACT,CAEM,SAAUs5B,GAAwChB,GACtD,MAAM1C,GAAgBC,EAAAA,GAAAA,IAAgCyC,GACtD,IAAK1C,EAAe,OAAO,EAE3B,MAAM2D,EAAch1B,SAASqxB,EAAcG,iBAAiB,iBACtDyD,EAAej1B,SACnBqxB,EAAcG,iBAAiB,kBAGjC,GAAI7wB,OAAOD,MAAMs0B,IAAgBr0B,OAAOD,MAAMu0B,GAAe,OAAO,EAEpE,MAAMR,EAAsBN,GAAqCJ,GAEjE,IAAKU,EAAqB,OAAO,EAEjC,MAAMS,GACIF,EAAcC,GAAgBR,EAAtC,IAEF,OAAOlJ,KAAK4J,KAAKD,EACnB,C,gBCtEA,MAAME,GAAoB,GAOpB,SAAUC,GACdC,EACAC,EACAC,EACAC,GAEA,MAAMC,EACc,UAAlBD,EACIF,EAAsB,EACtBA,EAAsB,EACtBI,EAAkBL,EAAQ1gC,SAAS8gC,GACnCE,EAAiBN,EAAQ1gC,SAAS2gC,GAExC,IAAKK,IAAmBD,EAAiB,OAAO,EAChD,GAAIJ,EAAsB,GAAKG,EAAuB,EAAG,OAAO,EAEhE,MAAMG,EAAiBd,GACrBa,GAEIE,EAAkBf,GACtBY,GAGF,IAAII,EAAYX,IAEO,IAAnBS,IAAgD,IAApBC,IAC9BC,EAAYxK,KAAKyK,IAAIH,EAAgBC,IAGvC,IAAIG,EACF,KAAMC,EAAAA,GAAAA,IAAeN,IAAkBM,EAAAA,GAAAA,IAAeP,GAEpDhC,EAAe,IAAMsC,EAAmBT,EA+B5C,OA7BIA,EAAWO,IACbP,EAAWO,EACXpC,EAAe,IAAMsC,EAAmBT,GAGtC7B,EAAeoC,IACjBpC,EAAeoC,EACfP,EAAW,IAAMS,EAAmBtC,GAGlCsC,EAAmB,IAAkB,EAAZF,IAC3BP,GAAY,IAAMS,GAAoB,EACtCtC,GAAgB,IAAMsC,GAAoB,GAG5CT,GAAWzV,EAAAA,GAAAA,GAA0ByV,GACrC7B,GAAe5T,EAAAA,GAAAA,GAA0B4T,GACzCsC,GAAmBlW,EAAAA,GAAAA,GAA0BkW,GAEzCT,EAAW7B,EAAesC,IAAqB,MACjDtC,EAAe,IAAMsC,EAAmBT,EACxC7B,GAAe5T,EAAAA,GAAAA,GAA0B4T,KAG3CwC,EAAAA,GAAAA,GAAkCP,EAAep9B,GAAIg9B,IACrDW,EAAAA,GAAAA,GAAkCR,EAAgBn9B,GAAIm7B,IAEtDyC,EAAAA,GAAAA,IAA8Bd,GAEvB,CACL1B,aAAc4B,EACd7B,aAAcA,EAElB,C,gBC/DA,IAAqB0C,GAArB,eAA6CjD,EAAAA,EAAAA,IAAOzD,KAApD18B,c,oBACE,KAAAygC,eAGiC,EAEjC,KAAA4C,kBAAmC,CA+IrC,CA7IMC,8CACF,IAAK/iC,KAAKgjC,aAAc,OAAO,EAE/B,MAAMlB,GAAUmB,EAAAA,GAAAA,IAAkBjjC,KAAKgjC,cACvC,IAAKlB,EAAS,OAAO,EAErB,MAAMoB,EAAyB,iCACzBC,EAAmB,8BAEnBC,EAAmB,IACvBtB,EAAQ5gC,KAAKC,WACb+hC,GACA,GAEIG,EAAa,IACjBvB,EAAQ5gC,KAAKC,WACbgiC,GACA,GAGF,OACEC,IAAqBE,GAAAA,IACrBD,IAAeC,GAAAA,EAEnB,CAEI75B,iBACF,OACE3I,EAAAA,GAAAA,kBAAAA,KAAiCwiC,GAAAA,IACjCtjC,KAAKgjC,eACJhjC,KAAK+iC,uCAEV,CAEAlG,oBACE7nB,GAAAA,EAAAA,kBACF,CAEA+lB,aACEyB,EACArC,EACA2C,GAEA,IAAK98B,KAAKgjC,cAA4B,SAAXlG,GAAgC,UAAXA,EAAqB,OAErE,MAAMyG,GAAchnB,EAAAA,GAAAA,GAClBnU,EAAAA,GAAAA,SAAAA,KACApI,KAAKgjC,aAAah+B,IAEdq8B,GAAe5kB,EAAAA,GAAAA,IACnBrU,EAAAA,GAAAA,SAAAA,KACApI,KAAKgjC,aAAah+B,IAGpB,IAAoB,IAAhBu+B,IAA0C,IAAjBlC,EAAwB,OAErD,IAAImC,EAAW,EAMf,GAJKxjC,KAAK8iC,mBACR9iC,KAAK8iC,iBAAmBrC,GAA+BzgC,KAAKgjC,gBAGzDhjC,KAAK8iC,iBAAkB,OAE5BU,EACa,UAAX1G,EACI3C,EAAcwB,cACb,EAAIxB,EAAcwB,aAIzB,MAAMqG,EAAWnB,GACf7gC,KAAKgjC,aACLQ,EACAxjC,KAAK8iC,kBAGP,IAAKd,EAAU,OAEf,MAAM9B,EAAgB2B,GACpBR,EACAkC,EACAvB,EACAlF,GAGEoD,IAEFlgC,KAAKkgC,cAAgB,CACnB,CAACpD,GAAS,CACRsD,aAAcjzB,OAAO+yB,EAAcE,aAAaqD,QAAQ,IACxDtD,aAAchzB,OAAO+yB,EAAcC,aAAasD,QAAQ,MAIhE,CAEA7G,kBACE58B,KAAKkgC,eAAgB,EACrBlgC,KAAK8iC,kBAAmB,EACxB9tB,GAAAA,EAAAA,eAA8B,kBAChC,CAEIirB,yBACF,IAAKjgC,KAAKgjC,aAAc,OAAO,EAE/B,MAAMO,GAAchnB,EAAAA,GAAAA,GAClBnU,EAAAA,GAAAA,SAAAA,KACApI,KAAKgjC,aAAah+B,IAEpB,OAAoB,IAAhBu+B,GAEmB,IAAhBA,CACT,CAEIlD,0BACF,IAAKrgC,KAAKgjC,aAAc,OAAO,EAE/B,MAAMO,GAAchnB,EAAAA,GAAAA,GAClBnU,EAAAA,GAAAA,SAAAA,KACApI,KAAKgjC,aAAah+B,IAEdq8B,GAAe5kB,EAAAA,GAAAA,IACnBrU,EAAAA,GAAAA,SAAAA,KACApI,KAAKgjC,aAAah+B,IAEpB,OAAoB,IAAhBu+B,IAA0C,IAAjBlC,GAEtBkC,IAAgBlC,EAAajgC,SAASoE,OAAS,CACxD,CAEIw9B,mBACF,SAAOU,EAAAA,GAAAA,IAAgB5iC,EAAAA,GAAAA,gBACnBA,EAAAA,GAAAA,aAEN,CAEI8/B,2BACF,QAAK5gC,KAAKgjC,cACH1C,GAAgCtgC,KAAKgjC,aAC9C,GApJmBH,IAAe,UADnCrgC,EAAAA,EAAAA,IAAU,CAAC,IACSqgC,I,YCpBwS,MCO7T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI5/B,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAM,CAC5G,yBAAyB,EACzB,oCAAqCpG,EAAIm9B,YACzC52B,MAAOvG,EAAIy9B,sBAAuB,CAAC79B,EAAG,MAAM,CAAC0E,YAAY,gBAAgB8B,MAAMpG,EAAI6kC,gBAAgBt+B,MAAOvG,EAAI8kC,sBAAuB1gC,GAAG,CAAC,YAAcpE,EAAI+kC,kBAAkB,CAAE/kC,EAAIq3B,qBAAsBz3B,EAAG,qBAAqB,CAACQ,MAAM,CAAC,KAAOJ,EAAIgR,OAAO,CAACpR,EAAG,OAAO,CAAC0E,YAAY,sBAAsBlE,MAAM,CAAC,MAAQ,iBAAiB,CAACR,EAAG,OAAO,CAAC0E,YAAY,wBAAwB,CAAC1E,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,eAAe,KAAO,SAAS,GAAGR,EAAG,OAAO,CAACI,EAAIM,GAAG,IAAIN,EAAIyH,GAAGzH,EAAIglC,cAAc,OAAQhlC,EAAIoI,eAAgBxI,EAAG,OAAO,CAACstB,YAAY,CAAC,cAAc,QAAQ,CAACltB,EAAIM,GAAG,eAAeN,EAAIkH,SAAS,CAAClH,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAIglC,gBAAiBhlC,EAAIilC,UAAWrlC,EAAG,OAAO,CAAC0E,YAAY,4DAA4DlE,MAAM,CAAC,MAAQ,iBAAiBgE,GAAG,CAAC,MAAQpE,EAAIklC,iBAAiB,CAACtlC,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,kBAAkB,OAAS,MAAM,KAAO,SAAS,GAAGJ,EAAIkH,KAAMlH,EAAImlC,OAAQvlC,EAAG,OAAO,CAACk7B,WAAW,CAAC,CAACzxB,KAAK,aAAa0xB,QAAQ,eAAeh7B,MAAO,OAAQ2E,WAAW,WAAW0B,MAAM,CACr+B,wBAAwB,EACxB,6BAA6B,EAC7B,2CAA4CpG,EAAIolC,mBAChDhlC,MAAM,CAAC,MAAQ,mBAAmBgE,GAAG,CAAC,MAAQpE,EAAIoyB,aAAa,CAACxyB,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,aAAa,KAAO,SAAS,GAAGJ,EAAIkH,KAAKtH,EAAG,OAAO,CAACk7B,WAAW,CAAC,CAACzxB,KAAK,aAAa0xB,QAAQ,eAAeh7B,MAAO,OAAQ2E,WAAW,WAAW0B,MAAM,CAC9O,wBAAwB,EACxB,6BAA8BpG,EAAImlC,QAClC/kC,MAAM,CAAC,MAAQ,aAAagE,GAAG,CAAC,MAAQpE,EAAIuI,YAAY,CAAC3I,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,gBAAgB,KAAO,SAAS,GAAGR,EAAG,OAAO,CAACk7B,WAAW,CAAC,CAACzxB,KAAK,aAAa0xB,QAAQ,eAAeh7B,MAAO,OAAQ2E,WAAW,WAAWJ,YAAY,uBAAuBlE,MAAM,CAAC,MAAQ,UAAUgE,GAAG,CAAC,MAAQpE,EAAIwI,SAAS,CAAC5I,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,YAAY,KAAO,SAAS,IAAI,IAClX,EACII,GAAkB,GCZlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwE,GAAG,CAAC,UAAY,SAASyC,GAAiC,OAAzBA,EAAOC,kBAAyB9G,EAAIqlC,iCAAiCr+B,MAAM,KAAMC,UAAU,IAAI,CAACjH,EAAI0K,GAAG,YAAY,EAC9P,EACIlK,GAAkB,G,uBC+BtB,IAAqB8kC,GAArB,cAAgD5kC,EAAAA,GAAhDC,c,oBAIE,KAAA4kC,mBAAyC,EAqBzC,KAAAvV,UAAY,IAAIpd,GAAAA,EAyclB,CA5dM4yB,yBACF,OAAO1vB,EAAAA,GAAAA,IAAuB5U,KAAK8P,KACrC,CAEIy0B,6BACF,OAAOzjC,EAAAA,GAAAA,gCACT,CAGA0jC,8BACExkC,KAAK+5B,WACP,CAIAoK,mCACErjC,EAAAA,GAAAA,0BAAkCd,KAAK8P,KAAK9K,GAC9C,CAIA+0B,YACE,IAAKj5B,EAAAA,GAAAA,gBAA0Bd,KAAKukC,uBAAwB,OAE5DvkC,KAAK8uB,UAAU5rB,GAAG,YAAalD,KAAK03B,UACpC13B,KAAK8uB,UAAU5rB,GAAG,UAAWlD,KAAK67B,SAElC,MAAM4I,GAAchoB,EAAAA,GAAAA,IAClBrU,EAAAA,GAAAA,SAAAA,KACApI,KAAK8P,KAAK9K,IAGRy/B,GACFzkC,KAAK0kC,iCAAiC,CACpCC,WAAY,EACZt8B,SAAU,SACVukB,SAAU6X,EAAYz/B,GACtB4/B,uBAAuB,KAI3B1H,EAAAA,GAAAA,KACF,CAEAwH,iCACEG,GAEA/jC,EAAAA,GAAAA,iCAAyC+jC,EAC3C,CAEAnN,SAASpzB,GACP,IAAIszB,EAAAA,GAAAA,IAActzB,GAAI,CACpBA,EAAEC,iBACFD,EAAEsB,kBAEF,MAAMiyB,EAASvzB,EAAEiE,QACXuvB,EAASxzB,EAAEmE,QAEXq8B,GAAoBC,EAAAA,GAAAA,IAAyBlN,EAAQC,GAE3D,QAA0BpyB,IAAtBo/B,EAAiC,OAErC,MAAME,GAAkB/6B,EAAAA,GAAAA,IACtB7B,EAAAA,GAAAA,SAAAA,KACA08B,GAEF,QAAwBp/B,IAApBs/B,EAA+B,OAEnC,MAAMC,GAAiBC,EAAAA,GAAAA,IACrB98B,EAAAA,GAAAA,SAAAA,KACA48B,EACAhlC,KAAKskC,oBAGP,IAAKW,EAAgB,OAErB,MAAME,EAAmBF,EAAejgC,GAIxC,GACE8/B,IAAsB9kC,KAAK8P,KAAK9K,KAChCyU,EAAAA,GAAAA,KACE,CAAC3J,EAAMs1B,KACAA,IACHA,EAAYt1B,EAAK1O,SAASoM,MAAK63B,GAAKP,IAAsBO,EAAErgC,MAEvDogC,IAETplC,KAAK8P,UACLpK,GAMF1F,KAAK0kC,iCAAiC,CACpCC,WAAY,EACZt8B,SAAU,SACVukB,SAAUuY,EACVP,uBAAuB,IAGzB5kC,KAAKslC,iBAAgB,QAChB,GAAIR,IAAsBK,EAI/BnlC,KAAKulC,6EACH1N,EACAC,EACAgN,EACA9kC,KAAK8P,KAAK9K,GACVigC,QAEG,GACLA,EAAe7jC,SAASoM,MAAK63B,GAAKP,IAAsBO,EAAErgC,KAK1DhF,KAAKwlC,+CACH3N,EACAC,EACAgN,EACA9kC,KAAK8P,KAAK9K,GACVigC,QAEG,IAILxrB,EAAAA,GAAAA,KACE,CAAC3J,EAAMs1B,KACAA,IACHA,EAAYt1B,EAAK1O,SAASoM,MAAK63B,GAAKP,IAAsBO,EAAErgC,MAEvDogC,IAETH,OACAv/B,GAEF,CACA,MAAM+/B,GAAyCC,EAAAA,GAAAA,IAC7C7N,EACAC,GACA6N,QAAO,CAACP,EAAiC18B,IACpC08B,GACIH,EAAe7jC,SAASoM,MAAK63B,GAAKA,EAAErgC,KAAO0D,UAGnDhD,GAEC+/B,GACFzlC,KAAKwlC,+CACH3N,EACAC,EACA2N,EAAuCzgC,GACvChF,KAAK8P,KAAK9K,GACVigC,E,EAKV,CAEApJ,QAAQv3B,GACNA,EAAEC,iBACFD,EAAEsB,kBAEF5F,KAAK8uB,UAAU/c,YAEX/R,KAAKqkC,mBACPj8B,EAAAA,GAAAA,YAA0BpI,KAAKqkC,mBAGjCrkC,KAAK0kC,iCAAiC,MACtC1kC,KAAKqkC,mBAAoB,EACzBvjC,EAAAA,GAAAA,wBAEAo8B,EAAAA,GAAAA,KACF,CAEAsI,+CACE3N,EACAC,EACA8N,EACAC,EACAZ,EACAa,GAAkB,GAElB,MAAMC,GAAgBC,EAAAA,GAAAA,IAAiBf,GAEjCgB,EAME,YALNC,EAAAA,GAAAA,IACErO,EACAC,EACA8N,EACAG,GAEE,SACA,QAEAI,EAAoBlB,EAAe7jC,SACtCC,KAAIyO,GAAQA,EAAK9K,KACjBpD,QAAOoD,GAAMA,IAAO6gC,IAEjBO,EAAuBnB,EAAe7jC,SACzCC,KAAIyO,GAAQA,EAAK9K,KACjBqhC,WAAUrhC,GAAMA,IAAO4gC,IAE1B,IAAIU,EAAqBH,EAAkBE,WACzCrhC,GAAMA,IAAO4gC,IAGa,UAAxBK,GACFK,KAGsB,IAApBR,GACF9lC,KAAKumC,eAAe,CAClBC,aAAcvB,EAAejgC,GAC7BohC,qBAAsBA,EACtBK,cAAeR,IAGjBjmC,KAAKslC,iBAAgB,KAErBtlC,KAAKumC,eAAe,CAClBC,aAAcvB,EAAejgC,GAC7BohC,qBAAsBA,EACtBK,cAAeR,IAGjBjmC,KAAKslC,gBAAgB,CACnBoB,iBAAkBb,EAClBc,mBAAoB1B,EAAejgC,GACnC/F,MAAOqnC,IAGb,CAEAf,6EACE1N,EACAC,EACA8O,EACAf,EACAZ,GAEA,GAAuC,IAAnCA,EAAe7jC,SAASoE,OAC1BxF,KAAKumC,eAAe,CAClBC,aAAcvB,EAAejgC,GAC7BohC,qBAAsB,EACtBK,cAAe,UAGjBzmC,KAAKslC,gBAAgB,CACnBoB,iBAAkBb,EAClBc,mBAAoB1B,EAAejgC,GACnC/F,MAAO,QAEJ,CACL,MAAM4nC,EAAS5B,EAAe7jC,SAC3BC,KAAI,CAACyO,EAAMoZ,KACH,CACLqW,iBAAiB6B,EAAAA,GAAAA,IAA2BtxB,EAAM,YAClD7Q,MAAOiqB,EACPlkB,GAAI8K,EAAK9K,OAGZpD,QAAO2K,GAAKA,EAAEgzB,kBAKdl+B,KAAIkL,IACI,CACLu6B,IAAK,CACHx+B,EAAGiE,EAAEgzB,gBAAgBj3B,EACrBE,EAAG+D,EAAEgzB,gBAAgB/2B,GAEvBg6B,IAAK,CACHl6B,EAAGiE,EAAEgzB,gBAAgBj3B,EAAIiE,EAAEgzB,gBAAgBt3B,MAC3CO,EAAG+D,EAAEgzB,gBAAgB/2B,EAAI+D,EAAEgzB,gBAAgB7E,QAE7CiK,UAAWp4B,EAAEtN,MACb+F,GAAIuH,EAAEvH,OAGT3D,KAAIkL,IACI,IACFA,EACHw6B,UAAUA,EAAAA,GAAAA,GAASx6B,EAAG,CAAEjE,EAAGuvB,EAAQrvB,EAAGsvB,QAItCkP,EAAcH,EAAMlB,QAAO,CAACsB,EAAIC,IACpCD,EAAGF,SAAWG,EAAGH,SAAWE,EAAKC,IAG7BC,GAAWH,EAAYF,IAAIx+B,EAAI0+B,EAAYxE,IAAIl6B,GAAK,EACpD8+B,GAAWJ,EAAYF,IAAIt+B,EAAIw+B,EAAYxE,IAAIh6B,GAAK,EAEpD6+B,EAAcF,EAAUtP,EAAS,OAAS,QAC1CyP,EAAeF,EAAUtP,EAAS,QAAU,QAE5CiO,GAAgBC,EAAAA,GAAAA,IAAiBf,GAEvC,IAAIgB,EAQJ,GALEA,EADoB,aAAlBF,EACqC,UAAjBuB,EAA2B,SAAW,QAEtB,SAAhBD,EAAyB,SAAW,QAGxDL,EAAYhiC,KAAO6gC,EAWrB,OARA7lC,KAAKumC,eAAe,CAClBC,aAAcvB,EAAejgC,GAC7BohC,qBAAsBY,EAAYrC,UAClC8B,cAAeR,SAGjBjmC,KAAKslC,iBAAgB,GAKvB,MAAMiC,EAAuBtC,EAAe7jC,SACzCC,KAAIyO,GAAQA,EAAK9K,KACjBpD,QAAOoD,GAAMA,IAAO6gC,IAEvB,IAAIS,EAAqBiB,EAAqBlB,WAC5CrhC,GAAMA,IAAOgiC,EAAYhiC,KAGC,UAAxBihC,GACFK,IAGFtmC,KAAKumC,eAAe,CAClBC,aAAcvB,EAAejgC,GAC7BohC,qBAAsBY,EAAYrC,UAClC8B,cAAeR,IAGjBjmC,KAAKslC,gBAAgB,CACnBoB,iBAAkBb,EAClBc,mBAAoB1B,EAAejgC,GACnC/F,MAAOqnC,G,CAGb,CAEAC,eAAeiB,IAEXxqB,EAAAA,GAAAA,IACE5U,EAAAA,GAAAA,SAAAA,KACApI,KAAK8P,KACL03B,EAAoBhB,eAGtBxmC,KAAKynC,gBACHD,EAAoBhB,aACpBgB,EAAoBpB,qBACpBoB,EAAoBf,cAG1B,CAEAnB,gBAAgBoC,IACO,IAAjBA,GAMF1qB,EAAAA,GAAAA,IACE5U,EAAAA,GAAAA,SAAAA,KACApI,KAAK8P,KACL43B,EAAaf,sBAGf3mC,KAAKqkC,kBAAoBqD,GAXzB1nC,KAAKqkC,mBAAoB,CAa7B,CAEAoD,gBACEjB,EACAJ,EACAK,GAEA,IAAI7B,GAAwB,EAG5B,MAAM+C,GAAa19B,EAAAA,GAAAA,IAAS7B,EAAAA,GAAAA,SAAAA,KAA6Bo+B,GACzD,GAAImB,EAAY,CACd,MAAMC,EACJD,EAAWvmC,SAASglC,GAChByB,EACJF,EAAWvmC,SAASglC,EAAuB,GACvC0B,EACJH,EAAWvmC,SAASglC,EAAuB,GAEzCwB,GACEA,EAA6B5iC,KAAOhF,KAAK8P,KAAK9K,KAChD4/B,GAAwB,GAKxBiD,GAEAA,EAAmC7iC,KAAOhF,KAAK8P,KAAK9K,IAClC,WAAlByhC,IAEA7B,GAAwB,GAKxBkD,GAEAA,EAAkC9iC,KAAOhF,KAAK8P,KAAK9K,IACjC,UAAlByhC,IAEA7B,GAAwB,E,CAQ9B,GAAI9jC,EAAAA,GAAAA,8BAAuC,CACzC,MAAMinC,EAAgB,IACpB3B,IACCtlC,EAAAA,GAAAA,8BAAAA,UAEC,EAEEknC,EAAiB,IACrB5B,IACCtlC,EAAAA,GAAAA,8BAAAA,UAEC,EAEJ,GAAIA,EAAAA,GAAAA,8BAAAA,WAAmD0lC,EAAc,CACnE,GACEuB,KACmD,UAAnDjnC,EAAAA,GAAAA,8BAAAA,UACkB,WAAlB2lC,EAEA,OAGF,GACEuB,KACmD,WAAnDlnC,EAAAA,GAAAA,8BAAAA,UACkB,UAAlB2lC,EAEA,M,EAMNzmC,KAAK0kC,iCAAiC,CACpC9X,SAAU4Z,EACV7B,UAAWyB,EACX/9B,SAAUo+B,EACV7B,sBAAuBA,GAE3B,IA/dAxiC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAcPD,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,2BAAyB,iDAdby5B,IAAkB,SADtC5hC,EAAAA,IACoB4hC,I,YCjC2S,MCOhU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QChB1B,SAAU6D,GACdpQ,EACAC,GAEA,MAAQxvB,EAAG4/B,EAAS1/B,EAAG2/B,IAAYC,EAAAA,GAAAA,MAE7BC,EAASh2B,SAASi2B,eAAe,UAEjCC,EAAcr2B,OAAOC,WAAWC,OAAOC,SAASoN,cACpD,uCAGF,IAAK8oB,IAAgBF,EACnB,OAGF,MACEpgC,MAAOugC,EACP9N,OAAQ+N,GACNJ,EAAOK,yBAEL,UAAEC,EAAS,WAAEC,GAAeC,GAAYN,GAExCjgC,EACJuvB,EAAS8Q,EAAY,GAAKH,EACtB3Q,EAASqQ,EAAUS,EACnB9Q,EAASqQ,EAET1/B,EACJsvB,EAAS8Q,EAAa,GAAKH,EACvB3Q,EAASqQ,EAAUS,EACnB9Q,EAASqQ,EAEf,MAAO,CACL7/B,IACAE,IAEJ,CAEA,SAASqgC,GAAYN,GAEnBA,EAAYljC,MAAMy1B,QAAU,QAC5B,MAAM,MAAE7yB,EAAK,OAAEyyB,GAAW6N,EAAYG,wBAEtC,MAAO,CACLC,UAAW1gC,EACX2gC,WAAYlO,EAEhB,CC5BA,IAAqBoO,GAArB,cAA0CtpC,EAAAA,GAA1CC,c,oBAEE,KAAAspC,YAAc,IAEd,KAAAzM,oCAAsC,OAiEtC,KAAAsH,sBAAmD,CAAC,EAEpD,KAAArH,qBAAkD,CAChDzB,QAAS,QAGX,KAAAgJ,aAAe,EAuFjB,CA7JE3G,4BACEp0B,EAAAA,GAAAA,GAAc/I,KAAKgpC,wBACrB,CAEAnF,gBAAgBv/B,GAEdA,EAAEsB,kBACFtB,EAAEC,iBAEF,MAAM8D,EAAW4/B,GAAkC3jC,EAAEiE,QAASjE,EAAEmE,SAE3D3H,EAAAA,GAAAA,iBAA4BuH,GAEjCvH,EAAAA,GAAAA,+BAAuC,CACrC0D,UAAW1D,EAAAA,GAAAA,gBACXuH,YAEJ,CAEAw2B,UACE7+B,KAAKgpC,0BAELhpC,KAAKs8B,oCAAsCt8B,KAAKo7B,OAAOC,UACrDr7B,KAAKm9B,0BAGPjrB,OAAOwmB,iBAAiB,SAAU14B,KAAKm9B,0BAEvCn9B,KAAKgrB,SAAW+T,YACd/+B,KAAKm9B,yBACLn9B,KAAK+oC,YAET,CAEAzN,gBACEt7B,KAAKs8B,sCAELpqB,OAAO2mB,oBAAoB,SAAU74B,KAAKm9B,0BAE1CuC,cAAc1/B,KAAKgrB,SACrB,CAEI9jB,qBACF,IAAKpG,EAAAA,GAAAA,cAAuB,OAAO,EAEnC,GAAIA,EAAAA,GAAAA,cAAAA,KAAAA,OAAoC8H,GAAAA,GAAc,OAAO,EAE7D,MAAMqgC,EAAU,IACdnoC,EAAAA,GAAAA,cAAAA,KAAAA,WACA,2BAGF,QAASmoC,CACX,CAEI9S,2BACF,OAAOr1B,EAAAA,GAAAA,aACT,CAEIojC,wBACF,QAAKpjC,EAAAA,GAAAA,mBACIA,EAAAA,GAAAA,wBAAgCA,EAAAA,GAAAA,gBAC3C,CAWAkoC,2BACMloC,EAAAA,GAAAA,4BAAuCA,EAAAA,GAAAA,eAQ3Cd,KAAK8jC,aAAepjC,EAAAA,GAAAA,QAClBI,EAAAA,GAAAA,cAAAA,KAAAA,MACAqH,KAEFnI,KAAKu8B,sBAAuB2M,EAAAA,GAAAA,KAC1BvK,EAAAA,GAAAA,IAA0B79B,EAAAA,GAAAA,gBAG5Bd,KAAK4jC,uBAAwBuF,EAAAA,GAAAA,IAAsBroC,EAAAA,GAAAA,gBAfjDd,KAAKu8B,qBAAuB,CAC1BzB,QAAS,OAef,CAEI6I,sBACF,MAAO,CACL,4BAA6B3jC,KAAKi8B,WAClC,iCAAkCj8B,KAAKkH,eAE3C,CAEI+0B,iBACF,OAAOn7B,EAAAA,GAAAA,mCAA6CA,EAAAA,GAAAA,eACtD,CAEAuG,YACMvG,EAAAA,GAAAA,iBACFsH,EAAAA,GAAAA,8BAA4CtH,EAAAA,GAAAA,gBAEhD,CAEAwG,SACkC,OAA5BxG,EAAAA,GAAAA,iBACFsH,EAAAA,GAAAA,cAA4B,CAAEM,OAAQ5H,EAAAA,GAAAA,iBAE1C,CAEAowB,aACEpwB,EAAAA,GAAAA,uBAA+BA,EAAAA,GAAAA,gBACjC,CAEImjC,aACF,MAAMmF,EACJtoC,EAAAA,GAAAA,eACAJ,EAAAA,GAAAA,QAAoBI,EAAAA,GAAAA,cAAAA,KAAAA,MAEtB,OAAKsoC,EAIEA,EAAkBxlB,SAASrY,SAAS,WAHlC,EAIX,CAEIw4B,gBACF,OAAO/jC,KAAK6B,eAAkD,SAAjC7B,KAAK6B,cAAcX,KAAKP,IACvD,CAEImP,WAEF,OAAOhP,EAAAA,GAAAA,gBAAyB,CAClC,CAEAkjC,iBACMhkC,KAAK6B,eACPf,EAAAA,GAAAA,gBAAwBd,KAAK6B,cAAcmD,GAE/C,CAEInD,oBACF,IAAKf,EAAAA,GAAAA,cAAuB,OAAO,EAEnC,MAAM2jC,GAAchoB,EAAAA,GAAAA,IAClBrU,EAAAA,GAAAA,SAAAA,KACAtH,EAAAA,GAAAA,cAAAA,IAGF,OAAO2jC,IAA4B,CACrC,GAjKmBqE,IAAY,UANhCtmC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVoJ,KAAI,IACJ86B,mBAAkBA,OAGD0E,I,YCtBqS,MCO1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI7lC,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,sBAAsB8B,MAAMpG,EAAIuqC,iBAAiBhkC,MAAOvG,EAAIy9B,sBAClL,EACIj9B,GAAkB,GCYtB,IAAqBgqC,GAArB,cAA+C9pC,EAAAA,GAA/CC,c,oBAEE,KAAAspC,YAAc,IACd,KAAAQ,oBAAqB,EAErB,KAAAjN,oCAAsC,OAEtC,KAAAkN,iCAAmCC,MACjC,KAAM1gC,EAAAA,GAAAA,IAAc,IAAM/I,KAAKi9B,qBAC/B,KAuFF,KAAAyM,oCAAsC,KAGpCte,YAAW,IAAMtqB,EAAAA,GAAAA,gCAAwC,OAAO,IAAI,EAGtE,KAAA6oC,4CAA8CF,KAC5CzpC,KAAK4pC,mCACL,KA8BF,KAAArN,qBAAkD,CAChDzB,QAAS,OAgBb,CA3IEK,cACEn7B,KAAKi9B,kBAELj9B,KAAKs8B,oCAAsCt8B,KAAKo7B,OAAOC,UACrDr7B,KAAKwpC,kCAGPt3B,OAAOwmB,iBAAiB,SAAU14B,KAAKwpC,iCACzC,CAEA3K,UACE,MAAMgL,EAAgB33B,OAAOC,WAAWC,OAAOC,SAASi2B,eACtD,qBAGGuB,IAELA,EAAcnR,iBACZ,YACA14B,KAAK2pC,6CAEPE,EAAcnR,iBACZ,aACA14B,KAAK0pC,qCAGP1pC,KAAKgrB,SAAW+T,YACd/+B,KAAKwpC,iCACLxpC,KAAK+oC,aAET,CAEAzN,gBACE,MAAMuO,EAAgB33B,OAAOC,WAAWC,OAAOC,SAASi2B,eACtD,qBAGFtoC,KAAKs8B,sCACLpqB,OAAO2mB,oBAAoB,SAAU74B,KAAKwpC,kCAC1CK,GAAehR,oBACb,YACA74B,KAAK2pC,6CAEPjK,cAAc1/B,KAAKgrB,SACrB,CAEIqe,uBACF,MAAO,CACL,2BAA4BrpC,KAAKupC,oBAAsBvpC,KAAK8pC,cAC5D,+BAAgC9pC,KAAK8pC,cAEzC,CAEIA,oBACF,OAAQhpC,EAAAA,GAAAA,8BAAwCA,EAAAA,GAAAA,mBAClD,CAEIL,cACF,IACGK,EAAAA,GAAAA,8BACDA,EAAAA,GAAAA,2BAEA,OAAO,EAET,MAAMipC,GAAqB9/B,EAAAA,GAAAA,IACzB7B,EAAAA,GAAAA,SAAAA,KACAtH,EAAAA,GAAAA,8BAGF,OAAOipC,IAAsB,CAC/B,CAEAC,eAAe1hC,EAAWE,GACxB,MAAMyhC,GAAgBlF,EAAAA,GAAAA,IAAyBz8B,EAAGE,GAElD,QAAsB9C,IAAlBukC,EAA6B,CAC/B,MAAMC,GAAcjgC,EAAAA,GAAAA,IAAS7B,EAAAA,GAAAA,SAAAA,KAA6B6hC,GAEtDC,GACFppC,EAAAA,GAAAA,gCAAwCopC,EAAYllC,G,CAG1D,CAYA4kC,mCAAmCtlC,GACjC,MAAQiE,QAASsvB,EAAQpvB,QAASqvB,GAAWxzB,EAI7C,GAFAtE,KAAKgqC,eAAenS,EAAQC,IAEP,IAAjB93B,KAAKS,QAAmB,OAE5B,MAAMy5B,GAAyBkH,EAAAA,GAAAA,IAC7BphC,KAAKS,QACL,YAGF,IAAKy5B,EAAwB,OAE7B,MACE5xB,EAAG6hC,EACH3hC,EAAG4hC,EACHniC,MAAOoiC,EACP3P,OAAQ4P,GACNpQ,EAEJl6B,KAAKupC,mBACH1R,EAASsS,EAAWE,EAAe,IACnCxS,EAASsS,EAAWE,GACpBvS,EAASsS,GACTtS,EAASsS,EAAWE,CACxB,CAMArN,mBACMn8B,EAAAA,GAAAA,4BAAuCd,KAAKS,QAQhDT,KAAKu8B,sBAAuB2M,EAAAA,GAAAA,KAC1BvK,EAAAA,GAAAA,IAA0B3+B,KAAKS,UAR/BT,KAAKu8B,qBAAuB,CAC1BzB,QAAS,OASf,GAtJmBwO,IAAiB,UADrC9mC,EAAAA,EAAAA,IAAU,CAAC,IACS8mC,I,YCd0S,MCO/T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAIrmC,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,wBAAwBiC,MAAOvG,EAAIyrC,cACzJ,EACIjrC,GAAkB,GCStB,IAAqBkrC,GAArB,cAAiDhrC,EAAAA,GAAjDC,c,oBACE,KAAA68B,oCAAsC,OACtC,KAAAiO,aAA0C,CACxCzP,QAAS,QAEX,KAAA2P,uBAA6C,IAqE/C,CAnEE5L,UACE7+B,KAAK0qC,yBAEL1qC,KAAKs8B,oCAAsCt8B,KAAKo7B,OAAOC,UACrDr7B,KAAK0qC,wBAGPx4B,OAAOwmB,iBAAiB,SAAU14B,KAAK0qC,uBACzC,CAEApP,gBACEt7B,KAAKs8B,sCAELpqB,OAAO2mB,oBAAoB,SAAU74B,KAAK0qC,uBAC5C,CAEIC,iBACF,IAAK7pC,EAAAA,GAAAA,2BAAoC,OAAO,KAEhD,MAAM8pC,GAAyB3gC,EAAAA,GAAAA,IAC7B7B,EAAAA,GAAAA,SAAAA,KACAtH,EAAAA,GAAAA,4BAGF,IAAK8pC,EAAwB,OAAO,KAEpC,MAAMD,GAAahM,EAAAA,GAAAA,IAA0BiM,GAE7C,GAAoC,SAAhCD,GAAYzzB,gBAEd,OADAlX,KAAKyqC,uBAAyBE,EACvBA,EAGT,MAAME,EAA2BF,GAAYlrB,cAC3C,4BAGF,OAAIorB,GACF7qC,KAAKyqC,uBAAyBI,EAEvBA,GAGF,IACT,CAEAH,0BAEE3hC,EAAAA,GAAAA,IAAc,MACP/I,KAAK2qC,YAAc3qC,KAAKyqC,yBAC3BzqC,KAAKyqC,uBAAuB5R,oBAC1B,QACA74B,KAAK0qC,wBAEP1qC,KAAKyqC,uBAAyB,MAGhCzqC,KAAKuqC,cAAerB,EAAAA,GAAAA,IAClBlpC,KAAK2qC,YAGH3qC,KAAK2qC,YAEP3qC,KAAK2qC,WAAWjS,iBAAiB,QAAS14B,KAAK0qC,uB,GAGrD,GAzEmBF,IAAmB,UADvChoC,EAAAA,EAAAA,IAAU,CAAC,IACSgoC,I,YCX4S,MCOjU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCShC,IAAqB3P,GAArB,cAAwCr7B,EAAAA,GAAxCC,c,oBAGE,KAAAqrC,cAAe,EACf,KAAAC,mBAAoB,CAyFtB,CAvFMtqC,cACF,OAAOK,GAAAA,GAAAA,gBAAyB,CAClC,CAEIkqC,qBACF,QAAIlqC,GAAAA,GAAAA,+BACKmJ,EAAAA,GAAAA,IACL7B,GAAAA,GAAAA,SAAAA,KACAtH,GAAAA,GAAAA,6BAKN,CAEI64B,gBACF,IAAI3rB,EAAS,KAUb,OARIhO,KAAK8qC,cAAgB9qC,KAAK+qC,kBAC5B/8B,EAAS,MACAhO,KAAK+qC,kBACd/8B,EAAS,QACAhO,KAAK8qC,eACd98B,EAAS,YAGJA,EAAS,qBAAqBA,IAAW,IAClD,CAGAi9B,oBACEjrC,KAAKkrC,UAAUjM,aACVj/B,KAAKS,UAEVT,KAAKkrC,SAAWlrC,KAAKmrC,sBAAsBnrC,KAAKS,SAASkG,IACvD3G,KAAK8qC,cAAeM,EAAAA,GAAAA,IAA8BzkC,EAAO,IAE7D,CAGA0kC,2BACErrC,KAAKsrC,eAAerM,aACfj/B,KAAKgrC,iBAEVhrC,KAAKsrC,cAAgBtrC,KAAKmrC,sBACxBnrC,KAAKgrC,gBACLrkC,IACE3G,KAAK+qC,mBAAoBK,EAAAA,GAAAA,IAA8BzkC,EAAO,IAGpE,CAEA20B,gBACEt7B,KAAKurC,iBACP,CAEAJ,sBACE1qC,EACA8C,GAEA,IAAK9C,EAAS,OACd,MAAMqP,GAAO6uB,EAAAA,GAAAA,IAA0Bl+B,GAEvC,IAAKqP,EAAM,OAEX,MAAM07B,EAAYC,IAChBA,EAAU7/B,SAAQ8/B,IAChB,MAAM/kC,EAAS+kC,EAAO/kC,OACtBpD,EAASoD,EAAO,GAChB,EAGEukC,EAAW,IAAIS,iBAAiBH,GAEhC7rC,EAAU,CACdub,YAAY,EACZ0wB,gBAAiB,CAAC,UAIpB,OADAV,EAAShM,QAAQpvB,EAAMnQ,GAChBurC,CACT,CAEAK,kBACEvrC,KAAKkrC,UAAUjM,aACfj/B,KAAKsrC,eAAerM,YACtB,IAxDA78B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,YAAU,wCAWjBvI,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,mBAAiB,8CA7CLkwB,IAAU,UAV9Br4B,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVsqC,oBAAmB,GACnBqB,SAAQ,GACRlM,YAAW,GACXkD,gBAAe,GACfiG,aAAY,GACZQ,kBAAiBA,OAGAzO,I,YC3BmS,MCOxT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI53B,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACA,EAAG,mBAAmBA,EAAG,iBAAiB,CAACk7B,WAAW,CAAC,CAACzxB,KAAK,aAAa0xB,QAAQ,eAAeh7B,MAAO,OAAQ2E,WAAW,cAAc,EACnP,EACIlE,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,uCAAuC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,8BAA8BiC,MAAOvG,EAAIgtC,+BAAgCptC,EAAG,MAAM,CAAC0E,YAAY,iCAAiCiC,MAAOvG,EAAIitC,0BAC/T,EACIzsC,GAAkB,GCYtB,IAAqB0sC,GAArB,cAA6CxsC,EAAAA,GACvCqlC,oCACF,OAAO/jC,EAAAA,GAAAA,6BACT,CAEImrC,iBACF,IAAKjsC,KAAK6kC,8BAA+B,OAAO,EAEhD,MAAMqH,GAAYjiC,EAAAA,GAAAA,IAChB7B,EAAAA,GAAAA,SAAAA,KACApI,KAAK6kC,8BAA8BjY,UAErC,OAAOsf,IAAwB,CACjC,CAEInG,oBACF,OAAK/lC,KAAK6kC,+BAEL7kC,KAAKisC,YAEHjG,EAAAA,GAAAA,IAAiBhmC,KAAKisC,YAJmB,CAAC,CAKnD,CAEIH,mCACF,IACG9rC,KAAK6kC,gCACuD,IAA7D7kC,KAAK6kC,8BAA8BD,sBAEnC,MAAO,CAAC,EAEV,MAAMqH,GAAahiC,EAAAA,GAAAA,IACjB7B,EAAAA,GAAAA,SAAAA,KACApI,KAAK6kC,8BAA8BjY,UAGrC,IAAKqf,EAAY,MAAO,CAAC,EAEzB,MAAME,EAAsB,EAEtBC,EAAqB,GAAGD,MAE9B,GAAmC,IAA/BF,EAAW7qC,SAASoE,OAAc,CAEpC,MAAM00B,EACJ+R,EAAWjnC,KAAOqnC,GAAAA,IACdC,EAAAA,GAAAA,OACAlL,EAAAA,GAAAA,IAA2B6K,GAEjC,IAAK/R,EAAwB,MAAO,CAAC,EAGrC,IAAI,EAAE5xB,EAAC,EAAEE,EAAC,MAAEP,EAAK,OAAEyyB,GAAWR,EAO9B,OALIjyB,EAAQ,GAAK,MACfK,GAAQ,GACRL,GAAgB,IAGX,CACL6yB,QAAS,QACTvkB,IAAQ/N,EAAIkyB,EAAS,EAAIyR,EAAsB,EAA1C,KACLjkC,KAAM,GAAGI,MACTL,MAAO,GAAGA,MACVyyB,OAAQ0R,E,CAEL,CACL,MAAMG,EACJN,EAAW7qC,SAASpB,KAAK6kC,8BAA8BF,WAInDzK,GAAyBkH,EAAAA,GAAAA,IAA2BmL,GACpDxG,GAAgBC,EAAAA,GAAAA,IAAiBiG,GAEvC,IAAK/R,EAAwB,MAAO,CAAC,EAErC,MAAM,EAAE5xB,EAAC,EAAEE,EAAC,MAAEP,EAAK,OAAEyyB,GAAWR,EAEhC,GAAsB,aAAlB6L,EAA8B,CAChC,GAAoD,WAAhD/lC,KAAK6kC,8BAA8Bx8B,SACrC,MAAO,CACLyyB,QAAS,QACTvkB,IAAQ/N,GAAK2jC,EAAsB,EAAI,GAAlC,KACLjkC,KAAM,GAAGI,MACTL,MAAO,GAAGA,MACVyyB,OAAQ0R,GAEL,GAAoD,UAAhDpsC,KAAK6kC,8BAA8Bx8B,SAC5C,MAAO,CACLyyB,QAAS,QACTvkB,IAAQmkB,EAASlyB,GAAK2jC,EAAsB,EAAI,GAA3C,KACLjkC,KAAM,GAAGI,MACTL,MAAO,GAAGA,MACVyyB,OAAQ0R,E,MAGP,GAAsB,eAAlBrG,EAAgC,CACzC,GAAoD,WAAhD/lC,KAAK6kC,8BAA8Bx8B,SACrC,MAAO,CACLyyB,QAAS,QACTvkB,IAAK,GAAG/N,MACRN,KAASI,EAAI6jC,EAAsB,EAA7B,KACNzR,OAAQ,GAAGA,MACXzyB,MAAOmkC,GAEJ,GAAoD,UAAhDpsC,KAAK6kC,8BAA8Bx8B,SAC5C,MAAO,CACLyyB,QAAS,QACT5yB,KAASD,EAAQK,EAAI6jC,EAAsB,EAArC,KACN51B,IAAK,GAAG/N,MACRkyB,OAAQ,GAAGA,MACXzyB,MAAOmkC,E,EAMf,MAAO,CAAC,CACV,CAEIL,6BACF,IAAK/rC,KAAKisC,WAAY,MAAO,CAAC,EAE9B,MAAM/R,EACJl6B,KAAKisC,WAAWjnC,KAAOqnC,GAAAA,IAC8B,IAArDjkC,EAAAA,GAAAA,SAAAA,KAAAA,KAAAA,SAAAA,QACIkkC,EAAAA,GAAAA,OACAlL,EAAAA,GAAAA,IAA2BphC,KAAKisC,YAEtC,IAAK/R,EAAwB,MAAO,CAAC,EAErC,MAAM,EAAE5xB,EAAC,EAAEE,EAAC,MAAEP,EAAK,OAAEyyB,GAAWR,EAEhC,MAAO,CACLY,QAAS,QACTzyB,SACE,WAEFkO,IAAK,GAAG/N,MACRN,KAAM,GAAGI,MACTL,MAAO,GAAGA,MACVyyB,OAAQ,GAAGA,MAEf,GA/ImBsR,IAAe,UAHnCxpC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEM8rC,I,YCdoT,MCOzU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI/oC,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACA,EAAG,MAAM,CAACk7B,WAAW,CAAC,CAACzxB,KAAK,OAAO0xB,QAAQ,SAASh7B,MAAOC,EAAI2K,WAAYjG,WAAW,eAAeJ,YAAY,qCAAqCiC,MAAOvG,EAAIy9B,sBAAuB,CAAC79B,EAAG,qBAAqB,CAACQ,MAAM,CAAC,UAAYJ,EAAI0tC,kBAAkBtpC,GAAG,CAAC,MAAQpE,EAAIuL,cAAc,CAACvL,EAAIM,GAAG,YAAYV,EAAG,qBAAqB,CAACQ,MAAM,CAAC,UAAYJ,EAAIgL,iBAAiB5G,GAAG,CAAC,MAAQpE,EAAIwL,eAAe,CAACxL,EAAIM,GAAG,aAAaV,EAAG,qBAAqB,CAACQ,MAAM,CAAC,UAAYJ,EAAIiL,2BAA2B7G,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIyL,uBAAuB,SAAS,IAAI,CAACzL,EAAIM,GAAG,oBAAoBV,EAAG,qBAAqB,CAACQ,MAAM,CAAC,UAAYJ,EAAIiL,2BAA2B7G,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIyL,uBAAuB,WAAW,IAAI,CAACzL,EAAIM,GAAG,sBAAsBV,EAAG,MAAM,CAAC0E,YAAY,+CAA+C1E,EAAG,qBAAqB,CAACQ,MAAM,CAAC,UAAYJ,EAAI0tC,kBAAkBtpC,GAAG,CAAC,MAAQpE,EAAI0L,gBAAgB,CAAC1L,EAAIM,GAAG,cAAcV,EAAG,MAAM,CAAC0E,YAAY,+CAA+C1E,EAAG,qBAAqB,CAACQ,MAAM,CAAC,UAAYJ,EAAI4L,sBAAsBxH,GAAG,CAAC,MAAQpE,EAAI2L,4BAA4B,CAAC3L,EAAIM,GAAG,6BAA6B,GAAIN,EAAI8K,sBAAuBlL,EAAG,oBAAoB,CAACQ,MAAM,CAAC,aAAaJ,EAAI2tC,8BAA8BvpC,GAAG,CAAC,MAAQpE,EAAI6K,0BAA0B7K,EAAIkH,KAAKtH,EAAG,kBAAkB,CAAC2E,MAAM,CAACxE,MAAOC,EAAI+K,gBAAiBtG,SAAS,SAAUmpC,GAAM5tC,EAAI+K,gBAAgB6iC,CAAG,EAAElpC,WAAW,sBAAsB,EAC3jD,EACIlE,GAAkB,G,WCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAM,CAC5G,2CAA2C,EAC3C,mDAAoDpG,EAAI6tC,UACxDzpC,GAAG,CAAC,MAAQ,SAASyC,GAAQ7G,EAAI6tC,UAAsB7tC,EAAIwB,MAAM,QAASqF,EAAO,IAAI,CAAC7G,EAAI0K,GAAG,YAAY,EAC7G,EACIlK,GAAkB,GCEtB,IAAqBstC,GAArB,cAAgDptC,EAAAA,MAE9C4C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,gCADNsqC,IAAkB,UAHtCpqC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEM0sC,I,YCPuT,MCO5U,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,4BClB5B3pC,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,SAAS,CAACQ,MAAM,CAAC,MAAQJ,EAAID,MAAM,MAAQ,IAAI,WAAY,GAAMqE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIwB,MAAM,QAASqF,EAAO,GAAG3G,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACpF,EAAIM,GAAG,gBAAgB,EAAE4E,OAAM,GAAM,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACxF,EAAG,IAAI,CAACI,EAAIM,GAAG,mCAAoCN,EAAI+tC,SAAW/tC,EAAI+tC,OAAOn6B,OAAQ,CAAC5T,EAAIM,GAAG,kDAAmDN,EAAI+tC,SAAW/tC,EAAIguC,kBAAmB,CAAChuC,EAAIM,GAAG,6CAA6CN,EAAIkH,MAAM,GAAGtH,EAAG,IAAI,CAACI,EAAIM,GAAG,yDAAyDV,EAAG,KAAK,CAAC0E,YAAY,8BAA8B,CAAC1E,EAAG,KAAK,CAAC0E,YAAY,6BAA6B,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,kCAAkC,CAACtE,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAIy6B,SAAS,QAAQ76B,EAAG,OAAO,CAAC0E,YAAY,oCAAoC,CAACtE,EAAIM,GAAG,YAAYV,EAAG,KAAK,CAAC0E,YAAY,6BAA6B,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,kCAAkC,CAACtE,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAIy6B,SAAS,QAAQ76B,EAAG,OAAO,CAAC0E,YAAY,oCAAoC,CAACtE,EAAIM,GAAG,WAAWV,EAAG,KAAK,CAAC0E,YAAY,6BAA6B,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,kCAAkC,CAACtE,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAIy6B,SAAS,QAAQ76B,EAAG,OAAO,CAAC0E,YAAY,oCAAoC,CAACtE,EAAIM,GAAG,eAAe,EAAE4E,OAAM,MAC93C,EACI1E,GAAkB,G,wBCMtB,IAAqBytC,GAArB,cAA6CvtC,EAAAA,GAA7CC,c,oBAIE,KAAAotC,OAAiC,IA2BnC,CAxBExoC,iBACErE,KAAK6sC,aAAe1iC,EAAAA,GAAAA,MAEhBnK,KAAK6sC,QAAQ3iC,aACflK,KAAK6sC,OAAO3iC,WAAW8iC,SAAW,KAChChtC,KAAKM,MAAM,SAAS,EAAM,EAEhC,CAEIwsC,wBACF,MAA0C,YAAnC9sC,KAAK6sC,QAAQ3iC,YAAYE,KAClC,CAEImvB,cACF,OAAOv5B,KAAKitC,cAAgB,IAAM,SACpC,CAEIA,oBACF,MAAO,0BAA0B3tB,KAAKxM,UAAUo6B,SAClD,CAEAC,QACEntC,KAAKM,MAAM,SAAS,EACtB,IA5BA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAMPD,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,QAAS,CAAE8uB,WAAW,KAAO,8BANjBsT,IAAe,UADnCvqC,EAAAA,EAAAA,IAAU,CAAEtC,WAAY,CAAEyE,OAAMA,GAAAA,MACZooC,I,YCRoT,MCQzU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCOhC,IAAqBK,GAArB,cAA4C5tC,EAAAA,GAA5CC,c,oBACE,KAAAmK,uBAAwB,EACxB,KAAAC,iBAAkB,EAkGlB,KAAAC,iBAAkB,EAClB,KAAAC,2BAA4B,EAkE5B,KAAA0iC,6BAA8C,IAoBhD,CAvLEpoC,gBACE6N,OAAOC,WAAWC,OAAOC,SAASqmB,iBAChC,cACA14B,KAAKqtC,0BAGPn7B,OAAOC,WAAWC,OAAOC,SAASqmB,iBAChC,QACA14B,KAAKstC,uDACL,CACEC,SAAS,IAGbr7B,OAAOwmB,iBACL,QACA14B,KAAKstC,uDACL,CACEC,SAAS,GAGf,CAEAjS,gBACEppB,OAAOC,WAAWC,OAAOC,SAASwmB,oBAChC,cACA74B,KAAKqtC,0BAGPn7B,OAAOC,WAAWC,OAAOC,SAASwmB,oBAChC,QACA74B,KAAKstC,uDACL,CACEC,SAAS,IAGbr7B,OAAO2mB,oBACL,QACA74B,KAAKstC,uDACL,CACEC,SAAS,GAGf,CAEIvjC,gBACF,MAA+C,WAAxClJ,EAAAA,GAAAA,4BACHA,EAAAA,GAAAA,4BACA,IACN,CAEI2I,iBACF,MAC0C,WAAxC3I,EAAAA,GAAAA,8BACCd,KAAK4J,qBAEV,CAEAyjC,yBAAyB/oC,GACvBA,EAAEC,iBAEF,MAAMC,GAAYugC,EAAAA,GAAAA,IAAyBzgC,EAAEiE,QAASjE,EAAEmE,SAClDJ,EAAW4/B,GAAkC3jC,EAAEiE,QAASjE,EAAEmE,SAE3DJ,GAELvH,EAAAA,GAAAA,+BAAuC,CACrC0D,YACA6D,YAEJ,CAEAilC,uDAAuDhpC,GACrD,GAAItE,KAAK4J,sBAAuB,OAEhC,MAAM4jC,EAAelpC,EAAEqC,OAAuB6wB,QAC5C,uCAGGgW,GACH1sC,EAAAA,GAAAA,+BAAuC,SAE3C,CAEIy7B,2BACF,OAAKv8B,KAAKgK,UAEH,CACL9B,KAAM,GAAGlI,KAAKgK,UAAU3B,SAASC,MACjCiO,IAAK,GAAGvW,KAAKgK,UAAU3B,SAASG,OAJN,CAAC,CAM/B,CAEIgkC,uBACF,OAAOxsC,KAAKgK,WAAWxF,SACzB,CAOAH,sBACE,MAAM,WAAE6F,SAAqBC,EAAAA,GAAAA,MAI7B,GAFAnK,KAAKkK,WAAaA,GAAYE,MAEN,WAApBpK,KAAKkK,WAGP,OAFAlK,KAAK8J,iBAAkB,OACvB9J,KAAK+J,2BAA4B,GAInC/J,KAAK8J,sBAAwBA,EAAAA,GAAAA,IAC3B9J,KAAKgK,WAAWxF,UACZxE,KAAKgK,UAAUxF,UACf4D,EAAAA,GAAAA,SAAAA,KAAAA,KAAAA,IAGNpI,KAAK+J,4BAA4B/J,KAAKgK,WAAWxF,iBACvCuF,EAAAA,GAAAA,IAA0B/J,KAAKgK,UAAUxF,UAErD,CAEA6F,cACMrK,KAAKgK,WAAWxF,YAClB6F,EAAAA,GAAAA,IAAYrK,KAAKgK,UAAUxF,WAE7B1D,EAAAA,GAAAA,+BAAuC,SACzC,CAEAwJ,eAC0B,WAApBtK,KAAKkK,aACPlK,KAAK6J,iBAAkB,GAGrB7J,KAAKgK,WAAWxF,WAClB8F,EAAAA,GAAAA,IAAatK,KAAKgK,UAAUxF,YAE5B8F,EAAAA,GAAAA,IAAalC,EAAAA,GAAAA,SAAAA,KAAAA,KAAAA,IAGftH,EAAAA,GAAAA,+BAAuC,SACzC,CAEAyJ,uBAAuBpI,GACG,WAApBnC,KAAKkK,aACPlK,KAAK6J,iBAAkB,GAGrB7J,KAAKgK,WAAWxF,YAClB+F,EAAAA,GAAAA,IAAuBvK,KAAKgK,UAAUxF,UAAWrC,GAGnDrB,EAAAA,GAAAA,+BAAuC,SACzC,CAEA0J,gBACOxK,KAAKgK,WAAWxF,YAErB4D,EAAAA,GAAAA,cAA4B,CAAEM,OAAQ1I,KAAKgK,WAAWxF,YACtD1D,EAAAA,GAAAA,+BAAuC,UACzC,CAGA2J,4BACMzK,KAAKgK,WAAWxF,YAClBxE,KAAKysC,6BAA+BzsC,KAAKgK,UAAUxF,UACnDxE,KAAK4J,uBAAwB,EAEjC,CAEAD,yBACE3J,KAAK4J,uBAAwB,EAC7B5J,KAAKysC,6BAA+B,KACpC3rC,EAAAA,GAAAA,+BAAuC,SACzC,CAEI4J,2BACF,OACE1K,KAAKgK,WAAWxF,YAChBkG,EAAAA,GAAAA,IAAqB1K,KAAKgK,UAAUxF,UAExC,IAjFApC,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,cAAY,mCAxGAyiC,IAAc,UAPlC5qC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV6sC,gBAAe,GACf3oC,kBAAiB,KACjBwoC,mBAAkBA,OAGDQ,I,YC1BmT,MCOxU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCNhC,IAAqBK,GAArB,cAA0CjuC,EAAAA,KAArBiuC,IAAY,UANhCjrC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV8rC,gBAAe,GACfoB,eAAcA,OAGGK,I,YCZqS,MCO1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCIhC,IAAqBC,GAArB,cAAoCluC,EAAAA,GAClCyD,SAAM,qBACE7B,EAAW,IAC0B,IAArCpB,KAAK2tC,YAAYvsC,SAASoE,OACrB,EAAP,GAGKxF,KAAK2tC,YAAYvsC,SAASC,KAAIZ,GAAW,EAAJ,QAGnCA,EAAQuE,GAAE,gBAELhF,KAAK2tC,YAAY3oC,GAAE,QACpBvE,OAKf,OAAO,EAAP,WACYT,KAAK4tC,UAAS,MAAS5tC,KAAKwW,UAAS,UAAK,sBAAmB,CACpEpV,IAAU,aAKjB,CAEAy9B,UACE/9B,EAAAA,GAAAA,eAAuB,SACzB,CAEI8sC,gBACF,OAAO9sC,EAAAA,GAAAA,SACT,CAEI0V,gBACF,MAAO,CACLq3B,YAAY,EACZz7B,QAAQ,EACRslB,SACE52B,EAAAA,GAAAA,6BAAuCA,EAAAA,GAAAA,yBAE7C,CAEI6sC,kBACF,OAAOvlC,EAAAA,GAAAA,SAAAA,KAAAA,IACT,CAEI+V,qBACF,OAAO9M,EAAAA,GAAAA,cACT,CAEI0N,gBACF,OAAO1N,EAAAA,GAAAA,YACT,CAGAy8B,2BACEC,EAAAA,GAAAA,IAA4B3b,EAAAA,GAAAA,MAC9B,CAGA4b,sBACEC,EAAAA,GAAAA,IAA6B7b,EAAAA,GAAAA,MAC/B,IAPAhwB,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,iBAAkB,CAAE6uB,MAAM,EAAMC,WAAW,KAAO,8CAMzDr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,YAAa,CAAE6uB,MAAM,EAAMC,WAAW,KAAO,wCA7DjCiU,IAAM,UAR1BlrC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV2rB,eAAc,EACdqiB,eAAc,GACdrT,WAAU,GACV4S,aAAYA,OAGKC,I,YCtBoR,MCAzS,IAAI,GAAQ,GAOR,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAIzqC,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAMpG,EAAIs2B,QAAQ/vB,MAAOvG,EAAIuG,OAAQ,CAAC3G,EAAG,OAAO,CAAC0E,YAAY,0DAA0DlE,MAAM,CAAC,KAAO,6BAA6B,KAAO,IAAI,YAAa,GAAMgE,GAAG,CAAC,UAAYpE,EAAIi7B,UAAU,SAAWj7B,EAAIqvC,qBAAsBrvC,EAAIm9B,YAAcn9B,EAAIsvC,+BAAgC1vC,EAAG,MAAM,CAAC0E,YAAY,wBAAwB,CAACtE,EAAIM,GAAG,IAAIN,EAAIyH,GAAGzH,EAAIuvC,UAAU,KAAK3vC,EAAG,OAAO,CAAC0E,YAAY,uBAAuBlE,MAAM,CAAC,KAAO,kBAAkB,KAAO,MAAMgE,GAAG,CAAC,MAAQpE,EAAIqvC,sBAAsB,GAAGrvC,EAAIkH,MAAM,EACroB,EACI1G,GAAkB,GCStB,IAAqBgvC,GAArB,cAA0D9uC,EAAAA,GAA1DC,c,oBA+CE,KAAA8uC,aAAe,EACf,KAAAC,WAAa,EAEb,KAAAvS,YAAa,EAEb,KAAAnN,UAAY,IAAIpd,GAAAA,EA6FlB,CAlIM08B,qCACF,MAAmD,SAA/CpuC,KAAK0nB,kBAAkB+mB,oBACU,SAA5BzuC,KAAK0uC,aAAazmC,MAGvBjI,KAAK0uC,aAAazmC,QAAUjI,KAAK0nB,kBAAkB+mB,mBAGzD,CAEIppC,YACF,MAAO,CACL6C,KAAM,GAAGlI,KAAK2uC,sBAAsBrmC,EAClCtI,KAAK2uC,sBAAsB1mC,UAC7ByyB,OAAQ,GAAG16B,KAAK2uC,sBAAsBjU,WAE1C,CAEI2T,eACF,MAAmC,SAA5BruC,KAAK0uC,aAAazmC,MACrB,OACA,GAAGjI,KAAK0uC,aAAazmC,SAC3B,CAEI2mC,4BACF,MAAgC,SAA5B5uC,KAAK0uC,aAAazmC,OAGpBjI,KAAK0uC,aAAazmC,OAASjI,KAAK0uC,aAAaG,oBAAoB5mC,KAErE,CASA8xB,UAAUz1B,GACRA,EAAEC,iBACFD,EAAEsB,kBAEF5F,KAAK8uB,UAAU5rB,GAAG,YAAalD,KAAK03B,UACpC13B,KAAK8uB,UAAU5rB,GAAG,UAAWlD,KAAK67B,SAElC77B,KAAKwuC,WAAalqC,EAAEiE,QAEhBvI,KAAKqoC,SAEProC,KAAKqoC,OAAOhjC,MAAMypC,cAAgB,QAGhC9uC,KAAK+uC,cACP/uC,KAAK+uC,YAAY1pC,MAAMo6B,OAAS,aAEpC,CAEA/H,SAASpzB,IACFszB,EAAAA,GAAAA,IAActzB,KACjBtE,KAAKi8B,YAAa,EAElB33B,EAAEC,iBACFD,EAAEsB,kBAEF5F,KAAKuuC,aAAejqC,EAAEiE,QAAUvI,KAAKwuC,WAErCxuC,KAAKgvC,mBAAuC,EAApBhvC,KAAKuuC,cAE7BvuC,KAAKwuC,WAAalqC,EAAEiE,QAExB,CAEAszB,QAAQv3B,GACNA,EAAEC,iBACFD,EAAEsB,kBAEF5F,KAAK8uB,UAAU/c,YAEX/R,KAAKqoC,SACProC,KAAKqoC,OAAOhjC,MAAMypC,cAAgB,QAGhC9uC,KAAK+uC,cACP/uC,KAAK+uC,YAAY1pC,MAAMo6B,OAAS,QAGlCz/B,KAAKi8B,YAAa,CACpB,CAEA+S,mBAAmBC,GACjB,IAAIC,EAEJ,MAAMC,EAAuBnvC,KAAK0uC,aAAazmC,MAM/C,GAJIjI,KAAK4uC,uBAAyBK,EAAU,IAC1CA,EAAU,GAGoB,SAA5BjvC,KAAK0uC,aAAazmC,MAAkB,CACtC,IAAKjI,KAAKqoC,OAER,YADAp1B,QAAQ0pB,KAAK,6BAGfuS,EAAkBlvC,KAAKqoC,OAAO+G,YAAcH,C,MAE5CC,EAAkBlvC,KAAK0uC,aAAazmC,MAAQgnC,EAInB,SAAzBE,GACAD,EAAkBC,GAClBD,EAAkBlvC,KAAK0uC,aAAaG,oBAAoB5mC,QAExDinC,EAAkBlvC,KAAK0uC,aAAaG,oBAAoB5mC,OAG1DjI,KAAKM,MAAM,sCAAuC4uC,EACpD,CAEAf,oBACEnuC,KAAKM,MAAM,oBACb,CAEI80B,cACF,MAAO,CACL,gCAAgC,EAChC,2CAA4Cp1B,KAAKi8B,WAErD,IA9IA75B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8CAQCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,qCACCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,0CAECD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,oCACCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,8BAbYisC,IAA4B,UAHhD9rC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEoJ,KAAIA,EAAAA,MAECglC,I,YCXqT,MCQ1U,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnBY5vC,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAO,GAAeI,EAAI0X,MAAAA,Y,OAAe,EAAC,W,MAAC,Y,MAAgB,CAAsB,UAAS,IAAK,QAAU,EAAI,QAAU,OAAU,KAAI,WAAe1X,SAAU,YAAGA,eAAgB,EAAI,SAEpRQ,EAAAA,YAAkB,CAAC,EAAC,iBAExB,E,MCGA,IAAqB+vC,GAArB,cAA4C7vC,EAAAA,GAiBtCgX,gBACF,MAAO,CACL,6BAA6B,EAC7B,oCAAqCxW,KAAKsvC,OAE9C,IAlBAltC,EAAAA,EAAAA,IAAAA,EAHCC,EAAAA,EAAAA,IAAK,CACJC,SAAS,KACT,gCAKFF,EAAAA,EAAAA,IAAAA,EAHCC,EAAAA,EAAAA,IAAK,CACJC,SAAS,KACT,+BAKFF,EAAAA,EAAAA,IAAAA,EAHCC,EAAAA,EAAAA,IAAK,CACJC,QAAS,UACT,iCAIFF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAdYgtC,IAAc,UAHlC7sC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEMmvC,I,YCP2R,MCQhT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnB5BpsC,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAQ9F,EAAIywC,YAAa7wC,EAAG,MAAM,CAAC0E,YAAY,uCAAuCiC,MAAOvG,EAAI0wC,cAAetsC,GAAG,CAAC,WAAapE,EAAI2wC,0BAA0B,CAAC/wC,EAAG,MAAM,CAAC0E,YAAY,yDAAyD,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,iDAAiD,CAAC1E,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAOJ,EAAI4wC,2BAA2BxsC,GAAG,CAAC,MAAQpE,EAAI6wC,iBAAiB,CAAC7wC,EAAIM,GAAG,SAASN,EAAIyH,GAAGzH,EAAI8wC,sBAAsB,KAAKlxC,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,eAAe,SAASJ,EAAIkH,IACnlB,EACI1G,GAAkB,GCFf,MAAMuwC,GAAMC,GAAc,GAAGA,MCSpC,IAAKC,IAAL,SAAKA,GAEHA,EAAAA,qBAAAA,SAEAA,EAAAA,qBAAAA,QACD,EALD,CAAKA,KAAAA,GAAyB,KAU9B,IAAqBC,GAArB,cAAqDxwC,EAAAA,GAArDC,c,oBAUE,KAAAwwC,iCAAuD,KACvD,KAAAC,uCAAyD,KAEzD,KAAAC,aAAc,EACd,KAAAC,0BAAmD,KACnD,KAAAC,4BAA8B,KAASrwC,KAAKswC,mBAAoB,KAChE,KAAAC,uCAAyC,KACvCvwC,KAAKwwC,8BACL,GAmLJ,CAhLMjB,kBACF,OAAOzuC,EAAAA,GAAAA,aAET,CAEI4uC,gCACF,OAAO1vC,KAAKiwC,kCAAkC7X,QAC3CqY,mCACL,CAEIC,+BACF,MAAMC,EAAe3wC,KAAKiwC,kCAAkC7X,QACzDwY,8BAIH,OAAOD,EAAeZ,GAA0BY,IAAiB,GAAK,EACxE,CAEIf,2BACF,MAAMiB,EAAgB7wC,KAAKiwC,kCAAkC7X,QAC1D0Y,+BACH,OAAOD,GAAgC,kBACzC,CAEIrB,oBACF,IAAKxvC,KAAK+wC,oCACR,OAGF,MAAM,IACJx6B,EAAG,KACHrO,EAAI,OACJwyB,EAAM,MACNzyB,GACEjI,KAAKkwC,uCAET,MAAO,CACLpV,QAAS,OACTvkB,IAAKs5B,GAAGt5B,GACRrO,KAAM2nC,GAAG3nC,GACTwyB,OAAQmV,GAAGnV,GACXzyB,MAAO4nC,GAAG5nC,GAEd,CAEA42B,UACE7+B,KAAKgxC,oCACLhxC,KAAKixC,oCACP,CAEA3V,gBACEt7B,KAAKkxC,yCACLlxC,KAAKmxC,yCACP,CAEAH,oCACEhxC,KAAKoxC,eAAe1Y,iBAClB,SACA14B,KAAKqwC,4BAET,CAEAa,yCACElxC,KAAKoxC,eAAevY,oBAClB,SACA74B,KAAKqwC,4BAET,CAEAY,qCACEjxC,KAAKqxC,gBAAgBzlC,SAAQkE,IAC3BA,EAAK4oB,iBACH,YACA14B,KAAKuwC,wCAEPzgC,EAAK4oB,iBAAiB,aAAc14B,KAAKsxC,+BAA+B,GAE5E,CAEAH,0CACEnxC,KAAKqxC,gBAAgBzlC,SAAQkE,IAC3BA,EAAK+oB,oBACH,YACA74B,KAAKuwC,wCAEPzgC,EAAK+oB,oBACH,aACA74B,KAAKsxC,+BACN,GAEL,CAEAP,oCAKE,OAC4C,OAA1C/wC,KAAKiwC,kCAC2C,OAAhDjwC,KAAKkwC,sCAET,CAEAqB,oCAAoC1yC,GAClCmB,KAAKiwC,iCAAmCpxC,EACxCmB,KAAKkwC,uCAAyClwC,KAAKwxC,WACrD,CAEAA,YACE,MAAMja,EAAKv3B,KAAKiwC,iCAChB,GAA8B,IAA1B1Y,GAAIka,kBAAyB,CAG/B,MAAMC,EAAQna,EAAGoa,kBACjB,OAAOD,EAAMhJ,uB,CAEb,OAAOnR,GAAImR,yBAA2B,IAE1C,CAEAkJ,eAAezB,GACTA,GACFnwC,KAAKiwC,iCAAmC,KACxCjwC,KAAKkwC,uCAAyC,KAC9ClwC,KAAKmxC,2CAELnxC,KAAKixC,qCAEPjxC,KAAKmwC,YAAcA,CACrB,CAEAG,qBACEtwC,KAAK4xC,gBAAe,GAEhB5xC,KAAKowC,2BACPjlB,aAAanrB,KAAKowC,2BAGpBpwC,KAAKowC,0BAA4BhlB,YAC/B,IAAMprB,KAAK4xC,gBAAe,IAC1B,IAEJ,CAEAnC,0BACEzvC,KAAKuxC,oCAAoC,KAC3C,CAEAf,8BAA8BlsC,GACvBA,EAAEutC,eAEP7xC,KAAKuxC,oCACHjtC,EAAEutC,cAEN,CAEAP,+BAA+BhtC,GACzBtE,KAAK8xC,IAAIC,SAASztC,EAAE0tC,eACwB,OAA1ChyC,KAAKiwC,mCACPjwC,KAAKkwC,uCAAyClwC,KAAKwxC,aAGrDxxC,KAAKuxC,oCAAoC,KAE7C,CAEA5B,iBACE,MAAMsC,EAAajyC,KAAK0vC,0BACpBuC,GACFjyC,KAAKM,MAAM,eAAgB,CACzB2xC,aACAC,MAAOlyC,KAAK4vC,sBAGlB,IAlMAxtC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,sCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,uCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,uCAPY2tC,IAAuB,UAH3CxtC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEoJ,KAAIA,EAAAA,MAEC0mC,I,YCnBoS,MCOzT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,0BClB5B/sC,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC8H,IAAI,cAAcpD,YAAY,iCAAiCiC,MAAOvG,EAAIqzC,iBAAkBjzC,MAAM,CAAC,GAAK,gBAAgB,CAACR,EAAG,+BAA+B,CAACQ,MAAM,CAAC,0BAA0BJ,EAAI6vC,sBAAsB,gBAAgB7vC,EAAIszC,mBAAmB,qBAAqBtzC,EAAI4oB,kBAAkB,OAAS5oB,EAAIupC,OAAO,eAAevpC,EAAIiwC,aAAa7rC,GAAG,CAAC,kBAAoB,IAAMlD,KAAKM,MAAM,qBAAqB,oCAAsC2H,GAASjI,KAAKM,MAAM,sCAAuC2H,MAAWnJ,EAAIyoB,aAAc7oB,EAAG,MAAM,CAAC0E,YAAY,iCAAiC,CAACtE,EAAIM,GAAG,iEAAiEV,EAAG,iBAAiB,CAAC0E,YAAY,OAAOlE,MAAM,CAAC,SAAW,MAAMgE,GAAG,CAAC,MAAQpE,EAAIuzC,qBAAqB,CAACvzC,EAAIM,GAAG,yBAAyB,GAAGV,EAAG,MAAM,CAAC8H,IAAI,gBAAgBpD,YAAY,kCAAkCiC,MAAOvG,EAAIwzC,oBAAqBpzC,MAAM,CAAC,GAAK,mBAAmB,CAAEJ,EAAIyzC,gBAAiB7zC,EAAG,UAAU,CAACQ,MAAM,CAAC,SAAW,MAAMJ,EAAIkH,KAAKtH,EAAG,SAAS,CAACuF,IAAInF,EAAI0zC,UAAUhsC,IAAI,SAASpD,YAAY,oBAAoBiC,MAAOvG,EAAI2zC,YAAavzC,MAAM,CAAC,GAAKJ,EAAI4zC,SAAS,KAAO5zC,EAAI4zC,SAAS,IAAM5zC,EAAI0zC,WAAWtvC,GAAG,CAAC,KAAOpE,EAAI6zC,uBAAuB,IAAI,EAC7yC,EACIrzC,GAAkB,GCQtB,MAAMszC,GAAiB,EASvB,IAAqBC,GAArB,cAA2CrzC,EAAAA,GAA3CC,c,oBAaE,KAAAkvC,sBAAwB,CACtBrmC,EAAG,EACHE,EAAG,EACHP,MAAO,EACPyyB,OAAQ,EAgIZ,CA7HMyX,uBACF,MAAO,CACLW,QAAS,GAAGF,OAEhB,CAEIN,0BACF,MAAO,CACLrqC,MACoC,SAAlCjI,KAAKoyC,mBAAmBnqC,MACpB,OACA,GAAGjI,KAAKoyC,mBAAmBnqC,UACjC8qC,SACkC,kBAAhCjyC,GAAAA,GAAAA,SAAAA,WAAkD,SAAW,OAEnE,CAEI2xC,kBACF,MAAMO,EAAgB/qC,IACpB,MAAMgrC,EAAclb,KAAK+O,IACvB,EACA9mC,KAAKoyC,mBAAmBvD,oBAAoB5mC,MAAQA,GAEtD,MAAO,CACLA,MAAO,GAAGA,MACVhH,UAAW,SAASgyC,KACpBvY,OAAW16B,KAAKoyC,mBAAmBvD,oBAAoBnU,QACpD,EAAIuY,GADC,KAET,EAGH,MAAoC,gBAAhCnyC,GAAAA,GAAAA,SAAAA,WACoC,SAAlCd,KAAKoyC,mBAAmBnqC,MACnB,CACLA,MAAO,OACPirC,SAAU,GAAGlzC,KAAKkzC,cAGb,CACLjrC,MAAO,GAAGjI,KAAKoyC,mBAAmBnqC,WAIA,SAAlCjI,KAAKoyC,mBAAmBnqC,MACtBjI,KAAKoyC,mBAAmBvD,oBAAoB5mC,MAAQjI,KAAKkzC,SACpDF,EAAahzC,KAAKkzC,UAElB,CACLjrC,MAAO,OACPirC,SAAU,GAAGlzC,KAAKkzC,cAIfF,EAAahzC,KAAKoyC,mBAAmBnqC,MAGlD,CAEIsqC,sBACF,MAA4B,YAArBvyC,KAAKmzC,WACd,CAEAR,qBACM3yC,KAAKqoC,QAAQ+K,gBACfpzC,KAAKqoC,OAAO+K,cAAcC,SAAW,KACnCrzC,KAAKM,MAAM,iBAAiB,GAIhCN,KAAKM,MAAM,eAAgBN,KAAKqoC,OAClC,CAEAgK,qBACEryC,KAAKM,MAAM,eACb,CAEAu+B,UACM7+B,KAAK+uC,YACP,IAAI3Q,eAAep+B,KAAKszC,wBAAwBpU,QAAQl/B,KAAK+uC,aAE7DjuC,GAAAA,GAAAA,SAAiB,sBAGfd,KAAKuzC,cACP,IAAInV,eAAep+B,KAAKwzC,0BAA0BtU,QAChDl/B,KAAKuzC,eAGPzyC,GAAAA,GAAAA,SAAiB,8BAGnBd,KAAKszC,wBACP,CAEAA,yBACE,GAAItzC,KAAK+uC,YAAa,CACpB,MAAM0E,EAAOzzC,KAAK+uC,YAAYrG,wBAExBwG,EAAsC,IACvClvC,KAAKoyC,mBACRvD,oBAAqB,CACnB5mC,MAAOwrC,EAAKxrC,MAAyB,EAAjB2qC,GACpBlY,OAAQ+Y,EAAK/Y,OAA0B,EAAjBkY,KAI1B5yC,KAAKM,MAAM,qBAAsB4uC,E,CAKnClvC,KAAKwzC,0BACP,CAEAA,2BACE,GAAIxzC,KAAKuzC,cAAe,CACtB,MAAME,EAAOzzC,KAAKuzC,cAAc7K,wBAChC1oC,KAAK2uC,sBAAwB,CAC3BrmC,EAAGmrC,EAAKnrC,EACRE,EAAGirC,EAAKjrC,EACRP,MAAOwrC,EAAKxrC,MACZyyB,OAAQ+Y,EAAK/Y,O,CAGnB,IA/IQt4B,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,oCACCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,2CACCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,kCACCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,iCACCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,iCACCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,qCACCD,EAAAA,EAAAA,IAAAA,EAAPC,EAAAA,EAAAA,OAAM,0CAEAD,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,oCACCtxC,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,sCACCtxC,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,8BAXab,IAAa,UAPjCrwC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVmvC,eAAc,GACdsE,QAAO,KACPrF,6BAA4BA,OAGXuE,I,YCnBsS,MCQ3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCsBhC,IAAqBe,GAArB,cAA0Cp0C,EAAAA,GAA1CC,c,oBACE,KAAA8nB,cAAe,EACf,KAAAssB,8BAA4C,KAC5C,KAAAC,UAAwB,IAiL1B,CA/KEnsB,yBAAyB+mB,GACvB5tC,EAAAA,GAAAA,2BAAmC4tC,EACrC,CAEA9mB,0CAA0CmsB,GACxCjzC,EAAAA,GAAAA,oCAA4CizC,EAC9C,CAEA/rB,0BACElnB,EAAAA,GAAAA,sBACF,CAEAgnB,oBACMpnB,EAAAA,GAAAA,uBACFA,EAAAA,GAAAA,2BAAsC,GAEtCV,KAAKunB,cAAe,CAExB,CAEAQ,eACE/nB,KAAKunB,cAAe,EAEpB6D,YAAW,KAETlZ,OAAO8hC,OAAO,UAAUhjC,SAASijC,QAAQ,GACxC,EACL,CAEIxsB,qBACF,OAAOysB,EAAAA,GAAAA,IAAgB7iC,EAAAA,GACzB,CAEIiW,yBACF,OAAOxmB,EAAAA,GAAAA,kBACT,CAEI4tC,mBACF,OAAO5tC,EAAAA,GAAAA,mBAAAA,KACT,CAEI0mB,kBACF,OAAO1mB,EAAAA,GAAAA,WACT,CAEI4mB,wBACF,OAAO5mB,EAAAA,GAAAA,iBACT,CAEIumB,gBACF,GACE3mB,EAAAA,GAAAA,6BAC4C,IAA5C0H,EAAAA,GAAAA,SAAAA,aAAAA,GACA,CACA,MAAMoqC,EAAY,IAAI3tB,IACpBnkB,EAAAA,GAAAA,2BAAAA,WAOF,OALA8xC,EAAU1tB,aAAa7W,OAAO,oBAAqB,QACnDukC,EAAU1tB,aAAa7W,OACrB,2BACA,GAAG7F,EAAAA,GAAAA,SAAAA,aAAAA,MAEEoqC,EAAUl+B,U,CAEnB,OAAO,IACT,CAEU6/B,2CACR/C,EACAgD,GAEA,MAAMC,EAAoBjD,EAAe96B,cAAc,OACvD+9B,EAAkB79B,UAAUC,IAC1B,mDAEF26B,EAAe16B,KAAKC,YAAY09B,GAEhCr0C,KAAK6zC,8BAAgC,IAAIr0C,EAAAA,GAGtC,CACD+3B,GAAI8c,EACJ7uB,MAAK,KACL8uB,QAAO,KACPrxC,OAAOwsB,GACL,OAAOA,EAAEugB,GAAyB,CAChCzgB,MAAO,CACL8hB,gBAAiBD,EAAelkB,iBAC9B,sCAEF2c,cAAeuK,EACfhD,kBAEFluC,GAAI,CACFqxC,aAAeC,IACTzwC,QAAQ,QAAQywC,EAAQtC,WAC1BhgC,OAAOuiC,KAAKD,EAAQvC,WAAY,O,IAK1C,GAEJ,CAEApqB,oBAAoB6sB,GAClB,IAAKA,EAAaC,gBAChB,KAAM,oEAGRC,EAAAA,GAAAA,IAAkCF,EAAaC,kBAE/CE,EAAAA,GAAAA,IACExiC,SACAH,OAAOC,WAAWC,OAAOC,UAG3BkD,GAAAA,EAAAA,0BAEA,MAAMu/B,EAA8B5iC,OAAOC,WAAWC,OAAOC,SAASoN,cACpE,8BAGFzf,KAAK8zC,UAAY,IAAIt0C,EAAAA,GAAI,CACvBgmB,MAAK,KACL8uB,QAAO,KACPrxC,OAAQwsB,GAAKA,EAAEie,MACdqH,OAAOD,GAEV90C,KAAKm0C,2CACHjiC,OAAOC,WAAWC,OAAOC,SACzBrS,KAAK8zC,UAAUhC,MAGjBkD,EAAAA,GAAAA,MAAuBr+B,aACrBs+B,EAAAA,GAAAA,IAAmC5iC,SAAU6iC,EAAW,kBAG1Dl1C,KAAKm1C,qCACLn1C,KAAKM,MAAM,SACb,CAEA60C,qCACE,MAAMC,EAAW,IACZljC,OAAOC,WAAWC,OAAOC,SAAS6a,iBACnC,gCAGEmoB,EAA8B,IAC/BnjC,OAAOC,WAAWC,OAAOC,SAAS6a,iBACnC,yBAKEooB,EAA0CF,EAASxzC,QACvDnB,IAAY40C,EAA4B9pC,SAAS9K,KAGnD60C,EAAwC1pC,SAAQ2pC,IAC9CA,EAAK7c,iBAAiB,SAAU1mB,IAC9BA,EAAMzN,gBAAgB,GACtB,GAEN,CAEAuvB,YACM9zB,KAAK8zC,WACP9zC,KAAK8zC,UAAU0B,WAGbx1C,KAAK6zC,+BACP7zC,KAAK6zC,8BAA8B2B,UAEvC,GAnLmB5B,IAAY,UAVhCpxC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV2yC,cAAa,GACbc,QAAO,KACPjG,OAAM,GACNsC,wBAAuB,GACvB1B,6BAA4B,GAC5Be,eAAcA,OAGGuE,I,YCzCyR,MCO9S,IAAI,IAAY,OACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBClBYl1C,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAA0Bk7B,EAAY,kB,OAACzxB,EAAK,YAAY,a,WAAS,EAAetJ,KAAK,aAAU2E,QAAAA,eAAoB,aAAI9E,WAAG,aAAwB,kBAAe,CAAI,OAAIA,gBAAe,IAA+CQ,CAAAA,EAAK,aAAC,C,YAAUJ,iC,MAA4B,CAAkB,OAAO,0BAAK,gBAAG,KAAC,MAAoC,IAAI,MAAO,8BAAyBqJ,GAAI,EAAC,M,WAAqB,EAAetJ,KAAK,aAAU2E,QAAAA,eAAoB,aAAI9E,WAAG,aAAgF,qBAAc,oDAAI,OAAIA,aAAG,I,CAA+BG,EAAAA,uBAAW6oB,C,MAAmBnkB,C,MAA6BmkB,EAAAA,kBAAqB,SAAC,YAAClkB,EAAAA,kBAAW,CAAmB,EAAI,WAAO,wBAAoGtE,GAAM,yC,YAAC,yCAAkB,OAAIR,eAAe,IAA8CQ,CAAAA,EAAK,aAAC,C,YAAUJ,gC,MAAyB,CAAoB,OAAO,uBAAK,kBAAG,KAAC,MAAiC,IAAIJ,MAAG,0BAAmD,uBAAa,sBAAI,OAAIA,YAAa,IAE1rCY,CAAAA,EAAAA,SAAe,GAAG,EAAE,WAExB,E,MCJI2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,iBAAiB,CAACstB,YAAY,CAAC,cAAc,MAAM,eAAe,OAAO9sB,MAAM,CAAC,QAAUJ,EAAI22C,eAAe,SAAW,KAAK,OAAS,oBAAoBvyC,GAAG,CAAC,MAAQpE,EAAI42C,OAAO,CAAC52C,EAAIM,GAAG,WAC5R,EACIE,GAAkB,G,YCQf+E,eAAesxC,KAGpB,OAAOpnC,EAAAA,EAAAA,YACC6J,EAAAA,EAAAA,GAAyB,CAC7BvP,aAAc,sBACdwP,OAAQ,kBACRC,WAAY,CACVtT,GAAIoD,EAAAA,GAAAA,SAAAA,aAAAA,GACJmR,MAAMnF,EAAAA,EAAAA,IAAgBiJ,EAAAA,GAAAA,IAAWjV,EAAAA,GAAAA,SAAAA,OACjC+V,gBAAgB/J,EAAAA,EAAAA,GAAgB/C,EAAAA,GAAAA,gBAChC+jB,SAAShhB,EAAAA,EAAAA,GAAgB/C,EAAAA,GAAAA,eAE3BmH,QAAS3J,EAAAA,MAEXJ,EAAAA,EAAAA,OACGkK,KACCoF,EAAAA,GAAAA,IAAmBpF,IACZzQ,EAAAA,EAAAA,MAAKyQ,MAEdpM,IACEzL,EAAAA,GAAAA,0BAAiC,GACjCkU,GAAAA,EAAAA,QAAsB,KACpB3D,EAAAA,GAAAA,uCACAA,EAAAA,GAAAA,iCAA6C,KAExC6O,EAAAA,EAAAA,OAAM3T,MAIrB,C,2BCrBA,IAAqBqpC,GAArB,cAAkCp2C,EAAAA,GAAlCC,c,oBACE,KAAAg2C,gBAAiB,EAkBjB,KAAAI,YAAmC,IAsBrC,CAtCMC,4BACF,OAAOh1C,EAAAA,GAAAA,qBACT,CAEAuD,aACEgO,SAAS0jC,cAAc,IAAIC,MAAM,gCAEjCh2C,KAAKy1C,gBAAiB,QAEhBE,KAEN31C,KAAKy1C,gBAAiB,CACxB,CAMA5W,UACEoX,GAAAA,GAAAA,OAAyBC,GAAAA,EAAAA,OACzBD,GAAAA,GAAAA,SAA2BC,GAAAA,EAAAA,MAA0Bl2C,KAAK01C,MAE1D11C,KAAK61C,YAAc71C,KAAKo7B,OAAOC,WAAU8a,IAClCnhC,GAAAA,EAAAA,wBAAuCmhC,IAC1Cr1C,EAAAA,GAAAA,0BAAiC,E,IAIrCd,KAAKo2C,uBAAwBC,EAAAA,GAAAA,IAC3B,IAAMv1C,EAAAA,GAAAA,uBAEV,CAEAw6B,gBACE2a,GAAAA,GAAAA,OAAyBC,GAAAA,EAAAA,OACzBl2C,KAAK61C,aAAe71C,KAAK61C,eACzBS,EAAAA,GAAAA,GAA6Bt2C,KAAKo2C,sBACpC,GAxCmBR,IAAI,UALxBpzC,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVmvC,eAAcA,OAGGuG,I,YCnB6R,MCOlT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,2CClBsF,W,IAAc,OAAC52C,EAAAA,EAAAA,MAAYF,GAAa,QAAW,Y,OAAG,EAAC,WAAS,C,MAAEoE,CAAG,WAAE,I,YAAiC8oB,EAAW,GAAC,E,mBAAmB,UAAC,G,UAA6B,GAAM,aAAKuqB,EAAa,GAACz3C,C,YAAmCA,CAAoD,eAAO,KAAM,MAAM,kBAAG,6CAAO,OAAY,EAAKA,sBAAiB,oBAAoB,IAAQJ,KAAG,OAAsC,IAAgCQ,M,GAAqB,KAAO,EAAC,8B,OAAG,QAACgE,IAAG,K,MAAC,EAAQ,YAASyC,EAAO,I,MAAC,CAAuC,cAAC,UAAcvC,GAAAA,CAAoC1E,MAAS,SAAC,GAACQ,OAAM,qBAAC,I,CAA0F,QAAO,CAAI,mCAAI,GAAG,OAAI,CAAuBkE,MAAAA,CAAqB1E,KAAG,gBAAqBI,EAAWyH,IAAmgB,OAAI,8BAC95C,cAGQtD,GAAAA,EAAM,MAAiB,C,uaCiBhC,IAAqBuzC,GAArB,cAAkDh3C,EAAAA,GAIhD+2C,cAAczrC,GACZ,OAAO2rC,GAAAA,GAAa3rC,IAAe4rC,MAAQC,GAAAA,EAC7C,CAEAC,sBAAsB9rC,GACpB,OAAO2rC,GAAAA,GAAa3rC,IAAe+rC,MACrC,CAEIC,aACF,OAAO92C,KAAK0nB,kBAAkB1iB,KAAOs+B,GAAAA,EACvC,CAEI9Q,kBACF,OAAO9xB,EAAAA,GAAAA,WACT,CAEIgnB,wBACF,OAAO1nB,KAAKnB,KACd,CAEAuG,YAAY0F,GACV,OAAO9K,KAAK0nB,kBAAkB1iB,KAAO8F,GACjC,mBAEN,CAEAisC,iBAAiBC,GACfh3C,KAAKM,MAAM,QAAS02C,EACtB,CAMAC,uBACOj3C,KAAKwyB,YAAYhlB,MAAKb,GAAKA,EAAE3H,KAAOhF,KAAK0nB,kBAAkB1iB,MAE9DlE,EAAAA,GAAAA,sBAEJ,IAzCAsB,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAqCPD,EAAAA,EAAAA,IAAAA,EAJCuI,EAAAA,EAAAA,IAAM,cAAe,CACpB6uB,MAAM,EACNC,WAAW,KACX,0CArCiB+c,IAAoB,UAPxCh0C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVoJ,KAAI,IACJzG,SAAQ,KACRq0C,WAAUA,GAAAA,MAGOV,I,YCrB6S,MCQlU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIvzC,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,gBAAgB,CAAC0E,YAAY,4BAA4BlE,MAAM,CAAC,eAAc,IAAO,CAACR,EAAG,aAAa,CAACQ,MAAM,CAAC,UAAYJ,EAAIq4C,QAAQ,KAAO,WAAW,KAAO,MAAMj0C,GAAG,CAAC,MAAQpE,EAAIs4C,QAAQ14C,EAAG,aAAa,CAACQ,MAAM,CAAC,UAAYJ,EAAIu4C,QAAQ,KAAO,WAAW,KAAO,MAAMn0C,GAAG,CAAC,MAAQpE,EAAIw4C,SAAS,EACxY,EACIh4C,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAMpG,EAAI0X,WAAW,CAAC1X,EAAI0K,GAAG,YAAY,EACnJ,EACIlK,GAAkB,GCKtB,IAAqBi4C,GAArB,cAA2C/3C,EAAAA,GAWrCgX,gBACF,MAAMA,EAAY,CAAC,kBAKnB,OAHIxW,KAAKw3C,YAAYhhC,EAAU1K,KAAK,qBAChC9L,KAAKy3C,aAAajhC,EAAU1K,KAAK,qBAE9B0K,CACT,IAdApU,EAAAA,EAAAA,IAAAA,EAHCC,EAAAA,EAAAA,IAAK,CACJC,SAAS,KACT,mCAMFF,EAAAA,EAAAA,IAAAA,EAHCC,EAAAA,EAAAA,IAAK,CACJC,SAAS,KACT,mCARiBi1C,IAAa,UAHjC/0C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEMq3C,I,YCPkT,MCQvU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCHhC,IAAqBG,GAArB,cAAsCl4C,EAAAA,GACpCq/B,UACEoX,GAAAA,GAAAA,SAA2BC,GAAAA,EAAAA,MAA0Bl2C,KAAKo3C,MAC1DnB,GAAAA,GAAAA,SAA2BC,GAAAA,EAAAA,YAAgCl2C,KAAKs3C,KAClE,CAEIH,cACF,OAAOQ,EAAAA,GAAAA,OACT,CAEIN,cACF,OAAOM,EAAAA,GAAAA,OACT,CAEAP,OACOp3C,KAAKm3C,SACVniC,GAAAA,EAAAA,MACF,CAEAsiC,OACOt3C,KAAKq3C,SACVriC,GAAAA,EAAAA,MACF,CAEAsmB,gBACE2a,GAAAA,GAAAA,OAAyBC,GAAAA,EAAAA,OACzBD,GAAAA,GAAAA,OAAyBC,GAAAA,EAAAA,YAC3B,GA3BmBwB,IAAQ,UAN5Bl1C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVg3C,WAAU,KACVK,cAAaA,OAGIG,I,YChBiS,MCQtT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,+BCnBoH,W,IAAmB,OAAE,EAAK,QAAU,GAAQ,oB,OAAC,WAAa,4B,MAAC,CAA+B,oB,CAAsBzzC,EAAG,WAAC,C,MAAe,C,WAAWf,GAAG,0BAAE,G,YAA0BE,EAAW,GAAC,E,IAAmB8B,Y,GAE7U,UAAS,G,UAA2J9B,CAAAA,EAAAA,MAAY,MAAgB,YAAY,mBAA+LA,MAAAA,EAAW,8CAAC,iCAAiB,GAAKhE,CAAAA,EAAG,OAAmEgE,YAAY,yBAAiB,CAACtE,EAAIM,qBAAqB,CAACV,EAAG,KAAK,CAAC,kEAAC0E,YAAY,iBAAkC,CAAC1E,EAAG,OAAO,8KAACQ,YAAM,iB,CAAC,KAAM,uBAAK,wC,YAAQ,iBAAe,kCAAG,YAAO,6CAAI,MAAK,CAAwB,UAAM,KAAMu1C,oBAAmCA,KAAQ,IAAEjxC,MAAAA,EAAW,YAAM,OAAI9E,MAAG,EAAQ,KAAE0E,SAAW,SAAC,GAA8BlE,EAAM,MAAC,EAAc,WAASJ,SAA2F,SAAE,YAAQ84C,8BAAyDx0C,MAAAA,CAAmE1E,MAAG,MAAgB0E,OAAW,EAAC,yDAAmElE,QAAM,c,CAAoB,gDAAkTR,EAAG,KAAlS,S,YAAY,sD,CAAI,OAAS,C,YAAU,mE,MAAC,CAAW,QAAY,OAAI,kBAAiB,aAAoC,QAAe,QAAG,MAAC,GAAC,aAAYm5C,GAAY,iBAAI,mBAAgB,iBAAUz0C,UAAY,I,GAAwB,CAAU,yBAA2C,GAAW,OAAc,C,YAAM,iB,MAAM,C,MACrhD,K,CAEAlE,EAAAA,GAAM,0B,MAAC,GAAM,KAAC,CAAE,IAAC,EAACgE,MAAG,CAAC,iCAAwB,oC,MAAkC,CAAC,SAA4BE,GAAAA,CAA2C1E,MAAQ,SAAC,GAAC0E,OAAW,EAAC,mBAA6EtE,IAAgG,CAACA,EAAG,MAAgB6B,CAAmB7B,YAAI84C,8BAAyDx0C,CAAAA,EAAAA,MAAY,CAAkE1E,YAAY,4EAAoc0E,CAAAA,EAAAA,GAAW,IAAC,qCAAyD1E,YAAY,yBAC7jC,4BACD,IAAIY,EAAAA,8CAAoB,SAExB,YAAiBA,iE,ymBCNV+E,eAAeyzC,IAA8B,GAClD9yC,EAAE,OACFggB,EAAS,KAMT,OAAO5M,EAAAA,EAAAA,GAAyB,CAC9BC,OAAQ,wDACRC,WAAY,CACV0M,SACAhgB,MAEFwT,QAASu/B,GAAAA,GACTr/B,UAAW,QAEf,C,gBCAA,IAAqBs/B,GAArB,cAAyDx4C,EAAAA,GAAzDC,c,oBACE,KAAAg1C,MAAO,EACP,KAAAzvB,OAAS,GACT,KAAAizB,WAAY,EAuCZ,KAAAC,2BAA6B,IAAgBl4C,KAAKm4C,kBAAmB,IA0BvE,CA/DMC,eACF,OACE13C,EAAAA,GAAAA,iBACAA,EAAAA,GAAAA,gBAAAA,gBAEJ,CAEI23C,2BACF,OAAO33C,EAAAA,GAAAA,aACT,CAEIk3C,oDACF,QACI53C,KAAKo4C,WAAap4C,KAAKo4C,SAAS5yC,UACjCxF,KAAKglB,SACLhlB,KAAKi4C,SAEV,CAEA5zC,uBAAuBi0C,GACrBt4C,KAAKy0C,MAAO,EAGZ3zC,EAAAA,GAAAA,+BAAuC,CAAE0D,UAAW,KAAMrC,KAAM,OAChEzB,EAAAA,GAAAA,iBAA6B43C,GAC7B53C,EAAAA,GAAAA,8BACMoY,EAAAA,EAAAA,OAENmM,EAAAA,GAAAA,IAA0BqzB,EAC5B,CAEAj0C,mBAAmBk0C,GACjBv4C,KAAKglB,OAASuzB,EACdv4C,KAAKi4C,WAAY,EACjBj4C,KAAKk4C,4BACP,CAIA7zC,0BACErE,KAAKi4C,WAAY,GAEjB1pC,EAAAA,EAAAA,YACQupC,GAA8B,CAClC9yB,OAAQhlB,KAAKglB,OACbhgB,GAAIoD,EAAAA,GAAAA,SAAAA,aAAAA,MAENqG,EAAAA,EAAAA,OACEkK,IACE3Y,KAAKi4C,WAAY,EACjBt/B,EAAO/M,SAAQtH,GAAKsU,GAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,MAAK,IAE5D2/B,IACE93C,EAAAA,GAAAA,mBAA+B,IAC1BA,EAAAA,GAAAA,gBACH+3C,iBAAkBD,IAGpBx4C,KAAKi4C,WAAY,CAAK,IAI9B,GAnEmBD,IAA2B,UAH/Cx1C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEoJ,KAAI,IAAEzG,SAAQ,KAAEq0C,WAAU,KAAEK,cAAaA,OAEpCS,I,YCpBoT,MCQzU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnB2H94C,GAAM,W,IAAC,O,EAAkB,QAAa,GAAK,oBAAC,OAAM,kBAAW,CAACA,YAAM,2B,MAAC,CAAc,cAA+B,iB,CAAsB+E,EAAG,WAAC,C,MAAe,C,WAAWf,GAAG,0BAAE,G,YAA0BE,EAAW,GAAC,E,IAAoBF,Y,GAAeE,UAAAA,GAAmC,IAAuK,MAAM,CAAChE,EAAG,MAAIN,EAAIyH,GAAGzH,CAA+GsE,YAAY,oBAAiB,GAAKhE,CAAAA,EAAG,OAA6CgE,YAAY,yBAAkC,CAAC1E,EAAG,KAAM,GAAC,iHAACQ,YAAM,iB,CAAC,KAAM,IAAK,6G,YAAQ,iBAAe,kDAAG,YAAO,6CAAI,OAAO,UAAM,KAAMu1C,oBAAmCA,KAAQ,KAAmB,OAAI/1C,MAAG,EAAQ,KAAE0E,SAAW,SAAC,GAA8BlE,EAAM,MAAC,EAAc,WAAS,SAA6B,SAAE,YAAW,8BAACkE,MAAAA,CAAmE1E,MAAG,MAAgB0E,OAAW,MAAoElE,QAAM,c,CAAoB,QAAQ,C,YAAuB,sD,CAAI,OAAS,C,YAAU,mE,MAAC,CAAW,QAAY,OAAI,kBAAiB,aAAoC,QAAe,QAAG,MAAC,GAAC,aAAY24C,GAAY,iBAAI,mBAAgB,iBAACz0C,UAAY,I,GAAwB,CAAU,yBAAqD,GAAO,EAAG,KAAC,C,YAAoB,iB,MAAM,C,MACtnD,K,CAEAlE,EAAAA,GAAM,oC,MAAC,GAAM,KAAG,C,IAAC,EAAwC,OAAIR,iCAAuB,0CAA0C,MAAK,CAAO0E,KAAAA,GAAyFtE,KAAO,EAAG,qBAAa45C,EAAU,MAA4E,CAAC55C,EAAG,MAAgB65C,CAAwB75C,YAAI2kB,8BAA2CrgB,CAAAA,EAAAA,MAAY,CAAuC1E,YAAS,4EAAC0E,CAAAA,EAAAA,GAAW,IAAC,0BAAkC,wBAAClE,YAAM,yBAAC,MAAS,EAAC,sBAAa,G,IAAS,IAAR,qBAAQ,gBAA4B,kDAAG,CAACR,EAAG,MAAI,CAACQ,YAAM,mC,MAAC,CAAc,QAAS,cAAe,qC,CAAmD,OAAoB,OAAIR,KAAG,OAAQQ,OAAM,eAAC,iBAAI,QAAgG,kBAAe,QAAU,uBAAeA,CAAAA,EAAK,OAAC,C,MAAK,CAAiK,kGAAyB,6BAC9kC,UACGI,MAAAA,CAEJ,EAAS2D,iK,2LCJFoB,eAAeu0C,IAAwB,OAC5C5zB,EAAS,KAIT,OAAO5M,EAAAA,EAAAA,GAAyB,CAC9BC,OAAQ,iDACRC,WAAY,CACV0M,UAEFxM,QAASqgC,GAAAA,GACTngC,UAAW,QAEf,CCKA,IAAqBogC,GAArB,cAA6Ct5C,EAAAA,GAA7CC,c,oBACE,KAAAg1C,MAAO,EACP,KAAAzvB,OAAS,GAET,KAAAizB,WAAY,EA4BZ,KAAAC,2BAA6B,IAAgBl4C,KAAKm4C,kBAAmB,IAqBvE,CA/CMY,sBACF,OAAO3wC,EAAAA,GAAAA,QACT,CAEI0tC,4BACF,OAAOh1C,EAAAA,GAAAA,qBACT,CAEIk4C,4BACF,MAAO,GAAG5wC,EAAAA,GAAAA,SAAAA,aAAAA,GAAAA,YACZ,CAEIqb,yBACF,OAAO/iB,EAAAA,GAAAA,kBACT,CAEAgkB,qBAAqBu0B,GACnB,OAAOv0B,EAAAA,GAAAA,IAAqBu0B,EAC9B,CAEApB,aAAaU,GACXv4C,KAAKglB,OAASuzB,EACdv4C,KAAKk4C,4BACP,CAKA7zC,0BACErE,KAAKi4C,WAAY,GAEjB1pC,EAAAA,EAAAA,YACQqqC,GAAwB,CAC5B5zB,OAAQhlB,KAAKglB,UAEfvW,EAAAA,EAAAA,OACEkK,IACE3Y,KAAKi4C,WAAY,EACjBt/B,EAAO/M,SAAQtH,GAAKsU,GAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,MAAK,IAE5D4K,IACE/iB,EAAAA,GAAAA,sBAAkC+iB,GAClCzjB,KAAKi4C,WAAY,CAAK,IAI9B,GApDmBa,IAAe,UAPnCt2C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVoJ,KAAI,IACJzG,SAAQ,KACR00C,cAAaA,OAGIuB,I,YCrBwS,MCQ7T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnByD,GAAU,W,IAAY11C,EAAAA,KAA2ClE,EAAK,EAAC,SAAC,EAAU,MAAC,Y,OAAG,cAACF,YAAYF,+B,MAAa,CAAYoF,WAAG,I,YAAgB,O,IAAC,Y,GAAgChF,UAAM,G,UAAkE,GAAM,aAAK,M,MAAC,CAA2B,+BAAGgE,OAAK,+BAAG,4BAAyC,IAAC,MAAYA,CAAE,EAAC,c,MAAC,CAAmC,UAA4BhE,GAAAA,CAAO,kCAA0C,CAACJ,EAAG,MAAI,CAA6CI,MAAM,CAAC,eAAQ,2BAAIgE,CAAE,EAAC,sC,MAAC,CAA8B,UAA4BhE,GAAAA,CAAO,6BAAiD,CAACJ,EAAG,MAAI,CAAuCI,MAAM,CAAC,eAAQ,kCAAIgE,CAAE,EAAC,gC,MAAC,CAAwC,UAAwEE,GAAAA,CAA+ClE,MAAM,iCAAY,0CAACgE,YAAG,mC,MAAC,CAAgC,UAA4BhE,GAAAA,CAAO,+BAAoD,CAACJ,EAAG,MAAI,CAAyC86B,MAAAA,CAAazxB,eAAK,qC,CAAoCtJ,EAAAA,GAAO,oBAAO,W,WAAW,EAAW,kBAACK,QAAM,eAAC,aAAuC,WAAU,WAAkD,MAAC,CAAG,eAAC,wBAAC,MAAQJ,GAAuB,6CAA4BI,GAAAA,CAAO,8BAAuD,CAACR,EAAG,MAAM,CAAC0E,MAAAA,CAAoCtE,eAAO,wCAErgDQ,CAAAA,EAAAA,MAAAA,CAEJ,YAAiBA,uB,iDCcjB,IAAqB45C,GAArB,cAA8C15C,EAAAA,GAC5C25C,uBACEr4C,EAAAA,GAAAA,yBAAgC,EAClC,CAEAs4C,sBACEt4C,EAAAA,GAAAA,qBACF,CAEAu4C,2BACEvxC,EAAAA,EAAAA,IAAY,iBACd,CAEAwxC,qBACEx4C,EAAAA,GAAAA,sBAA8B,OAC9BgH,EAAAA,EAAAA,IAAY,YACd,CAEIyxC,2BACF,OAAO74C,EAAAA,GAAAA,oBACT,CAEI84C,4BACF,OACE15B,EAAAA,EAAAA,IAAc,eACdA,EAAAA,EAAAA,IAAc,aACdA,EAAAA,EAAAA,IAAc,mBACdhf,EAAAA,GAAAA,WAAAA,mBACAA,EAAAA,GAAAA,WAAAA,oBAEJ,CAEA24C,gCACE3xC,EAAAA,EAAAA,IAAY,UACd,GAlCmBoxC,IAAgB,UARpC12C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVoJ,KAAI,IACJ+lC,eAAc,GACdxsC,SAAQ,KACRq0C,WAAUA,GAAAA,MAGOgC,I,YClByS,MCQ9T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnB4Hh6C,GAAM,W,IAAC,OAAiB,aAAO,QAAW,Y,OAAM,EAAC,iD,MAAC,CAAc,gB,CAAsB+E,EAAG,WAAC,C,MAAe,C,WAAWf,I,YAAcxE,EAAG,K,IAAqBQ,Y,aAAc,G,IAAwB,MAAM,CAAC,4BAAQ,KAAM,YAAiB,KAAWJ,OAA6C,IAAW,IAAyB,oBAAG,CAACJ,EAAG,KAAM,0BAAC0E,MAAAA,CAA6C1E,MAAS,GAAEQ,KAAM,mBAAqB,UAAG,YAAQ,gCAAuBkE,CAAAA,EAAAA,OAAY,CAAO,MAAK,CAAqFlE,KAAM,kBAAY,KAAOJ,GAAAA,GAAI46C,CAAW,oBAAG,CAACh7C,EAAG,MAAM,mDAAC0E,MAAAA,CAA6C1E,MAAS,GAAEQ,KAAM,gBAAuB,UAAG,YAAQ,gCAAuBkE,CAAAA,EAAAA,OAAY,CAAO,MAAK,CACl5B,yBAGD,GAASH,EAAAA,GAAAA,GAAuB,C,4FCchC,IAAqB02C,GAArB,cAAkCn6C,EAAAA,GAC5Bk6C,kBACF,OAAIh5C,GAAAA,GAAAA,2BACKA,GAAAA,GAAAA,2BAAAA,mBAGF,EACT,CAEIk5C,qBACF,OAAO5hC,EAAAA,EAAAA,IACT,GAXmB2hC,IAAI,UARxBn3C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVoJ,KAAI,IACJzG,SAAQ,KACRq0C,WAAU,KACVK,cAAaA,OAGIoC,I,YClB6R,MCOlT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI12C,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,gBAAgB,CAACQ,MAAM,CAAC,aAAc,IAAO,CAACR,EAAG,iBAAiB,CAAC0E,YAAY,+BAA+BlE,MAAM,CAAC,OAASJ,EAAI+6C,iBAAiB,KAAO,KAAK,OAAS,gCAAgC32C,GAAG,CAAC,MAAQpE,EAAIg7C,YAAY,CAACh7C,EAAIM,GAAG,YAAY,EAC3V,EACIE,GAAkB,GCctB,IAAqBy6C,GAArB,cAAuCv6C,EAAAA,GACrCq/B,UACO/9B,EAAAA,GAAAA,eACLm1C,GAAAA,GAAAA,SAA2BC,GAAAA,EAAAA,MAA0Bl2C,KAAK85C,UAC5D,CAEAA,aACEE,EAAAA,EAAAA,IAAc,MAChB,CAEIH,uBACF,OAAO/5B,EAAAA,EAAAA,IAAc,MACvB,CAEAwb,gBACE2a,GAAAA,GAAAA,OAAyBC,GAAAA,EAAAA,MAC3B,GAhBmB6D,IAAS,UAN7Bv3C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVmvC,eAAc,GACdkI,cAAaA,OAGIwC,I,YChBkS,MCQvT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnBYr7C,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAa0E,EAAY,kB,OAA8C,EAAC,M,YAAW,yC,MAAC,CAAuB,MAAQ,GAAQ,MAAQ,eAAO,OAAO,OAAE,aAAItE,KAAO,KAE7PQ,CAAAA,EAAAA,GAAAA,YAAoB,EAExB,E,MCCA,IAAqB26C,GAArB,cAAoCz6C,EAAAA,KAAfy6C,IAAM,SAD1Bz3C,EAAAA,IACoBy3C,I,YCL2S,MCQhU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCiBhC,IAAqBC,GAArB,cAA2C16C,EAAAA,GACzC26C,2BACEH,EAAAA,EAAAA,IAAc,oBAChB,CAEII,8BACF,OAAOt6B,EAAAA,EAAAA,IAAc,oBACvB,CAEAu6B,wBACEL,EAAAA,EAAAA,IAAc,YAChB,CAEIM,2BACF,OAAOx6B,EAAAA,EAAAA,IAAc,YACvB,CAEI4H,wBACF,OAAO5mB,GAAAA,GAAAA,iBACT,CAEI4mB,sBAAkBsvB,GACpBl2C,GAAAA,GAAAA,iBAAyBk2C,EAC3B,CAEAnY,UACEoX,GAAAA,GAAAA,SAA2BC,GAAAA,EAAAA,aAAgC,KACzDqE,EAAAA,GAAAA,IACkC,kBAAhCz5C,GAAAA,GAAAA,SAAAA,aAGN,CAEAw6B,gBACE2a,GAAAA,GAAAA,OAAyBC,GAAAA,EAAAA,YAC3B,GAnCmBgE,IAAa,UAfjC13C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV+5C,OAAM,GACNN,KAAI,GACJI,UAAS,GACTxC,cAAa,GACb2B,iBAAgB,GAChB1C,qBAAoB,GACpBZ,KAAI,GACJ8B,SAAQ,GACRM,4BAA2B,GAC3Bc,gBAAe,GACf5B,WAAUA,GAAAA,MAGOgD,I,YCpCsS,MCQ3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,uDCnBgG,W,IAA2C,O,EAAiB,QAAY,GAAM,QAAa,Y,OAAG,iBAACh3C,MAAG,CAAC,gBAAQ,2B,MAAwBpE,EAAIwB,KAA6B,YAAC,MAAC,eAAwC,GAAI,CAAW8C,MAAW,SAAC,GAAqBlE,OAAM,2BAAC,EAAe,uCAA6CkE,CAAAA,EAAAA,GAAAA,EAAW,CAAkE,YAAK,qBAAuBlE,MAAM,CAAC,OAAO,S,EAA+B,IAAR,iBAAQ,UAAgB,8EAAI,GAAG,KAAY,CAACkE,MAAAA,CAA0C4oB,KAAAA,IAAa,cAAW,GAAM,2BAAc5oB,IAAAA,CAAAA,EAAY,OAAuB,YAAU,8BAACA,YAAY,CAAiCtE,SAAO,SAA8DI,CAAAA,EAAK,MAAC,C,YAAW,wBAAI,SAACgE,YAAG,gC,CAAC,wBAAas3C,EAAAA,GAAAA,EAAAA,CAAe,YAAC,kBAACn3C,MAAM,CAACxE,SAAW47C,I,GAA8B37C,CAAW,OAAC,mBAAiB,OAAIJ,MAAG,EAAO,IAAE0E,SAAW,SAAC,GAA2B,EAAC,IAAO,CAACA,EAAwBlE,WAAM,Q,CAAsB,OAAO,CAAI,oCAAG,CAACJ,EAAG,OAAI,CAAiCsE,YAAY,YAAuB,MAAK,CAAQA,KAAAA,cAAwBlE,KAAM,QAAmB,KAAM,kBAAC,WAAI,oCAAG,CAACJ,EAAG,OAAI,CAAkCsE,YAAY,YAAuB,MAAK,CAAQA,KAAAA,WAAwBlE,KAAM,QAAa,KAAM,mBAAC,WAAiB,oCAAG,CAACJ,EAAG,OAAI,CAA0CsE,YAAY,YAA2BF,MAAG,CAAC,KAAO,KAAuB,0BAAehE,EAAK,GAAC,yC,YAAQ,2B,GAAK,CAAkB,6BAAkBkE,CAAAA,EAAAA,OAAY,CAAuC,MAAOs3C,CAA6Dl0C,KAAI,KAA0BtH,KAAM,gBAAgC,YAACgE,YAAG,wC,CAAC,eAAYy3C,EAAAA,gBAAAA,EAAAA,qBAAAA,CAAwB,8BAAG,MAAK30C,CAAgFQ,MAAI,sB,GAAgC,CAA8B,oCAAK,OAAQ1H,EAAI87C,aAAAA,EAAAA,qBAAAA,EAAAA,yBAAAA,CAAiB,6BAAG,MAAK50C,CACxhE,2BAGD,I,0HCJI/C,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,mBAAmB,CAACQ,MAAM,CAAC,KAAO,CACjI2T,KAAM,mBACNgoC,SAAU/7C,EAAIg8C,aACdC,YAAY,EACZpO,UAAW7tC,EAAIg3C,wBACd92C,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACpF,EAAIM,GAAG,eAAe,EAAE4E,OAAM,GAAM,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACxF,EAAG,kBAAkB,CAACQ,MAAM,CAAC,MAAQJ,EAAIk8C,eAAe93C,GAAG,CAAC,MAAQpE,EAAIm8C,qBAAqB,EAAEj3C,OAAM,MAC1O,EACI1E,GAAkB,G,uBCPsBZ,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAkD,EAAC,kB,OAAqB,EAACs4C,MAAAA,CAAAA,EAAa,wB,OAAM,EAAC,kB,IAAC,EAAQA,G,MAAW,CAAsD,QAAG,UAAC,8B,GAAmC,C,MAAiCl4C,EAAIo8C,sBAA+B,OAAC,YAAC,OAAOp8C,EAAIq8C,iBAAAA,EAAAA,GAAI,EAAG,c,KAAiE,eAAW,yBAAE,MAAC,CAAG,SAAC,IAAkC,IAAIr8C,MAAO,0BAAyH,CAACJ,EAAG,yBAAM,wCAAC0E,YAAY,uCAA8B,CAAC1E,EAAG,MAAK,CAAC0E,YAAY,8BAA0B,CAACtE,EAAG,KAAI,CAAyCsE,YAAY,0BAA8BlE,CAAAA,EAAK,GAAC,wC,YAAQ,8B,MAAY,CAAY,iBAAG,KAAC,MAAoC,IAAI,MAAO,8BAAoB,iBAAc,C,MAA0C,CAAY,sDAA8C,UAACmE,2BAAM,oB,MAAgCE,C,MAA6B63C,EAAAA,mBAAsB,SAAC,YAAC53C,EAAAA,mBAAW,CAAoB,EAAI9E,WAAW,wBAAQ,Q,MAAmC,CAAU,+BAAG,KAAC,IAA0B,IAAIA,MAAS,EAAC,gBAAoBQ,CAAAA,EAAK,OAAC,C,YAAQ,OAAU,OAAIJ,KAAO,cAAkM,eAAW,gDAE9/C,OAF8/C,4GAAE,MAAC,CAAG,SAAC,IAAkC,IAAIA,MAAO,0BAEtkDQ,CAAAA,EAAAA,GAAAA,uBAAoB,UAExB,E,8BCJ4DV,GAAOE,WAAsB,MAAU,KAAiB0H,EAAI,QAAM,GAACpD,EAAY,kBAAiC,OAAM,QAAK,UAACA,IAAAA,OAAuE,YAAY,mCAA0CA,CAAAA,EAAAA,KAAW,CAA6C,YAAW,4DAACA,CAAAA,EAAAA,GAAAA,IAAY,oCAAkB,YAAQi4C,6CAAqBn4C,CAAE,EAAC,O,YAASpE,mBAAiB,aAA+T,SAA4B,YAAW,yBAACsE,CAAAA,EAAAA,MAAW,CAAsB,YAAY,6BAAEA,CAAAA,EAAAA,MAAW,CAAgC,YAAS,sBAA0CC,CAAAA,EAAK,QAAC,C,YAAY23C,gC,CAAwBz3C,EAAAA,GAAAA,wBAAwB,iB,MAAI,CAAyC,MAAC,yBAACC,SAAU,SAAC,GAAwB,oCAAI,EAAgBJ,WAAY,6BAAwCA,KAAAA,EAAW,MAAC,CAAqB,YAAY,6BAAEA,CAAAA,EAAAA,MAAW,CAAgC,YAAS,sBAA0CC,CAAAA,EAAK,QAAC,C,YAAY23C,gC,CAAwBz3C,EAAAA,GAAAA,wBAAwB,iB,MAAI,CAAyC,MAAC,yBAACC,SAAU,SAAC,GAAwB,oCAAI,EAAgBJ,WAAY,6BAAwCA,KAAAA,EAAW,MAAC,CAAqB,YAAY,6BAAEA,CAAAA,EAAAA,MAAW,CAAyB,YAAS,sBAA+CA,CAAAA,EAAAA,QAAY,CAAsDlE,YAAM,yB,CAAC,KAAO,2BAAwB,mB,YAASJ,sD,MAEvuD,CAA2B,MAAQ,wBAAG,MAAS,SAAF,EAAE,kDAAC,MAAO,CAAE,iBAAC,MAAQ,GAAI,QAAe,QAAG,OAAC,GAAC,UAAYw8C,IAAyB,GAAG,CAAcl4C,MAAW,EAAC,2BAA4FA,KAAAA,EAAW,MAAC,CAAqB,YAAY,6BAAEA,CAAY,SAAZA,EAAAA,cAAY,8BAA+B,YAAS,sBAAyCC,CAAAA,EAAK,QAAC,C,YAAY23C,gC,CAAmCz3C,EAAAA,GAAAA,uBAAwB,iB,MAAI,CAAoD,MAAC,oCAACC,SAAU,SAAC,GAAmC,+CAAI,EAA4BJ,WAAY,wCAAgDA,IAAAA,EAAY,MAAM,YAAClE,YAAM,mC,CAAC,OAAO,C,YAAW,OAAc,MAAC,CAAG,KAAC,GAAC,MAAQJ,gBAAY,GAAEA,CAAoCI,MAAM,WAAuE,kCAACgE,MAAG,CAAC,UAAYwyC,EAAAA,cAAAA,WAAAA,EAAAA,cAAAA,UAAM,GAAE52C,CAAoDsE,MAAW,EAAC,OAA8CA,CAAAA,EAAAA,GAAAA,WAAkB,KAFnkB,SAAE,GAAG,CAAkCA,MAAW,EAAC,gBAA+EA,CAAAA,KAAAA,iBAAkB,UAAClE,YAAM,sB,CAAC,KAAO,EAAG,uC,YAAU,O,MAAC,CAAgB,SAAIJ,KAAO,GAAuDsE,MAAW,WAAqCA,CAAAA,EAAAA,GAAAA,0CAAY,KAEoQ,YAA4R,EAAC,KAA7R,SAAClE,YAAM,4B,CAAC,eAAO,C,YAAkB,OAAI,MAAC,CAAG,KAAC,WAAC,KAAO,MAAqB,GAAG,CAAeA,MAAM,mBAAoB,eAAO,CAAI,MAAC,CAAG,KAAC,YAAC,KAAO,M,GAA2CJ,CAAuB,kBAAC,oBAAM,EAAEA,cAAaJ,CAAoBQ,MAA+B,OAAc,mB,MAAC,CAAuB,oBAAwB,aAAuB,uBAA0B,wBAAG,mBAAC,EAAC,sBAAmByG,G,GAAiC,CAAC,QAAU,SAACu1C,GAAiB,iBAACl8C,EAAqBiF,KAAI,EAAO,kB,YAAuBnF,EAAIM,GAAG,EAAsB,IAAC,QAAC4E,GAAAA,WAAY,kCAACC,EAAWC,OAAG,G,CAA6K,IAAC,OAACF,GAAAA,WAAY,uJAAI,EAC/xD,eAGD,E,2DCN8J,W,IAAK,OAACd,EAAG,WAAC,QAAgB,Y,OAAiB,OAAW5C,C,MAAsB,CAAC,aAAI5B,WAAY,GAAC0E,MAAW,KAA4CA,GAAAA,CAA2B1E,gBAAa,YAAC0E,OAAW,EAAC,sBAAmBlE,IAAsB,SAAG,YAAS8G,qBAAwB5C,CAAAA,EAAAA,KAAY,SAA0B,YAAS,cAA+BA,CAAAA,EAAAA,GAAAA,EAAY,CAA6B,YAAS,mBAAiCA,MAAAA,CAA2CtE,KAAIy8C,EAAAA,SAA2B,KAAQ,KAAM,EAAI,MAAO,CAAS,uCAAG,CAACz8C,EAAIM,GAAGN,UAAW08C,GAAAA,EAAAA,GAAAA,GAAgB,CAAyCt8C,YAAM,8B,CAAC,cAAgBu8C,GAAAA,EAAAA,GAAAA,GAAgB,C,YAAW38C,6BAAwB,qBAACoE,GAAG,CAAC,MAAQ,IAAMlD,KAAKM,MAAM,YAAa,CAACxB,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAI48C,YAAY,OAAO,EAAI,KAAK,EAAI,WAAQ,QAACx8C,MAAM,CAAC,UAAYyB,EAAI,iBAAC,QAAS,uB,GAA+B,CAA+B,kC,CAAK,KAAO,EAAC,KAAM,aAAiB,sBAAC,OAAI7B,MAAOA,EAAM,KACtlC,QACGQ,UAAe,EAAG,cAEtB,QAAiBA,EAAAA,kB,sFCGjB,IAAqBq8C,GAArB,cAA2Cn8C,EAAAA,MAEzC4C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,UAAS,6BAI1BF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,kCAIzBF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,YAAW,mCAI5BF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,sCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,yCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAO,mCAIxBF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,yCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,4CAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,UAAS,mCAI1BF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,aAAY,mCA/BVq5C,IAAa,UAHjCn5C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEMy7C,I,YCP0R,MCQ/S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCmBhC,IAAqBC,GAArB,cAA4Cp8C,EAAAA,GAA5CC,c,oBAME,KAAAo8C,cAAe,EAEf,KAAAb,eAAgBz5C,EAAAA,GAAAA,GAAcvB,KAAKnB,MAuDrC,CArDEy8C,uBAAuBrzC,GAGrB,MAAMwmC,EACJzuC,KAAKg7C,cAAcc,UAAY97C,KAAKg7C,cAAc9H,UAAY,IAChElzC,KAAKg7C,cAAcvM,oBACP,SAAVxmC,EAAmB,OAASwmC,CAChC,CAEAsN,gBACE/7C,KAAKM,MAAM,OAAQN,KAAKnB,MAAMmG,GAChC,CAEIwtB,kBACF,OAAO9xB,EAAAA,GAAAA,WACT,CAEIs7C,uBACF,MAAO,IACT,CAEAd,mBACEl7C,KAAKM,MAAM,UACXN,KAAK67C,cAAe,CACtB,CAEII,uBACF,MAAM/I,EAAWlzC,KAAKg7C,cAAc9H,eAAYxtC,EAC1Co2C,EAAW97C,KAAKg7C,cAAcc,eAAYp2C,EAEhD,OAAOu2C,EAAAA,GAAAA,IAAiB/I,EAAU4I,EACpC,CAEAr4C,SACEzD,KAAKg7C,eAAgBz5C,EAAAA,GAAAA,GAAcvB,KAAKnB,OACxCmB,KAAKM,MAAM,OAAQ,GACrB,CAEAo1C,OACE,MAAMwG,GAAgB36C,EAAAA,GAAAA,GAAcvB,KAAKg7C,gBACzCzsC,EAAAA,EAAAA,OACE4tC,EAAAA,GAAAA,IAAmBD,IACnBztC,EAAAA,EAAAA,OACEkK,IACEA,EAAO/M,SAAQtH,GAAKsU,GAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,MAAK,IAE5Dm+B,IACEh3C,KAAKM,MAAM,QAAS02C,GACpBh3C,KAAKM,MAAM,OAAQ,GAAG,IAI9B,IA5DA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAGPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAHYu5C,IAAc,UAlBlCp5C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVg3C,WAAU,KACVv0C,UAAS,KACTy5C,YAAW,KACXC,cAAa,KACb55C,WAAU,KACVk5C,cAAaA,IAEf/hB,WAAY,CACV1wB,MAAO,CAELozC,SAAU,SAAU/kB,GAClBA,EAAGruB,OACL,OAIe0yC,I,YCtCmT,MCQxU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAI34C,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAC0E,YAAY,2BAA2B,CAACtE,EAAI0K,GAAG,YAAY,EACxI,EACIlK,GAAkB,GCDlB6tB,GAAS,CAAC,EAMV,IAAY,OACdA,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCIhC,IAAqBovB,GAArB,cAA6C/8C,EAAAA,GAA7CC,c,oBAIE,KAAA+8C,oBAAsB,GACtB,KAAAC,aAAc,EAgBd,KAAArB,mBAAyC,EAmC3C,CAjDED,KAAKrwC,GACH9K,KAAKw8C,oBAAsB1xC,EAC3B9K,KAAKy8C,aAAc,CACrB,CAEAC,wBACE18C,KAAKy8C,aAAc,EACnBz8C,KAAKw8C,oBAAsB,EAC7B,CAEAG,0BACE38C,KAAKy8C,aAAez8C,KAAKy8C,WAC3B,CAIAG,gBACE,IAAK58C,KAAKo7C,mBACR,OAGF,MAAMyB,EAA4B78C,KAAKo7C,mBACpC/tB,cACAtgB,QAAQ,QAAS,KACd+vC,EAAkB,qBAAqBD,IAE7C78C,KAAK+8C,sBAAsB,CACzB/3C,GAAI83C,EACJ1gC,MAAOpc,KAAKo7C,mBACZlI,cAAUxtC,EACVo2C,cAAUp2C,EACV+oC,oBAAqB,QAEzB,CAEAyM,iBAAiBpwC,GACf,MAAMkyC,GAAiBz7C,EAAAA,GAAAA,GAAcvB,KAAKnB,OACpCI,EAAQ+9C,EAAe3W,WAAW15B,GAAMA,EAAE3H,KAAO8F,IACvDkyC,EAAeC,OAAOh+C,EAAO,GAC7Be,KAAKM,MAAM,QAAS08C,EACtB,CAEAD,sBAAsBb,GACpB,MAAMc,GAAiBE,EAAAA,GAAAA,IAAsBl9C,KAAKnB,MAAOq9C,GACzDl8C,KAAKM,MAAM,QAAS08C,IAEK,IAArBh9C,KAAKy8C,cAAsBz8C,KAAKy8C,aAAc,GAClDz8C,KAAKo7C,mBAAqB,EAC5B,IArDAh5C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYk6C,IAAe,UATnC/5C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVoJ,KAAI,IACJsyC,eAAc,GACduB,sBAAqB,GACrBx6C,UAAS,KACTu0C,WAAUA,GAAAA,MAGOqF,I,YCtBoT,MCQzU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnB4B39C,GAAOE,WAAsB,MAAU,KAAiBsE,EAAAA,EAAAA,MAAY,GAAgC,EAAM,kB,OAACA,EAAAA,MAAY,UAA4B,YAAS,4BAA+DA,CAAAA,EAAAA,MAAW,CAAkC,YAAS,6BAAyBA,CAAAA,EAAAA,GAAAA,UAAY,2CAA2B,YAAQg6C,kCAA4Bl+C,CAAAA,EAAK,GAAC,wB,YAAWJ,4B,CAAoB,iBAItb,OAJ0c6tC,EAAAA,GAAAA,EAAQ,C,MAAC,CAAe,QAAO,kBAAG,yBAAG,MAAC,OAAC,KAAO,IAAoB,GAAE7tC,CAC7iB,wBAGD,GAASmE,GAAAA,EAAQ3D,GAAAA,EAAAA,KAAAA,MAAe,Y,QCChC,IAAqB+9C,GAArB,cAA8C79C,EAAAA,MAE5C4C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAQPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,sCARN+6C,IAAgB,UADpC76C,EAAAA,EAAAA,IAAU,CAAC,IACS66C,I,YCLyS,MCQ9T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCJhC,IAAqBC,GAArB,cAAoD99C,EAAAA,GAApDC,c,oBAIE,KAAAu7C,eAAgBz5C,EAAAA,GAAAA,GAAcvB,KAAKnB,MAgBrC,CAdMi3C,4BACF,OAAQ,MACNv0C,EAAAA,GAAAA,GAAcvB,KAAKg7C,gBACnBz5C,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEvB,CAEAi8C,eACE96C,KAAKM,MAAM,QAASN,KAAKg7C,cAC3B,CAEAC,kBAAkBsC,GAChBv9C,KAAKg7C,cAAgBuC,CACvB,IAjBAn7C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYi7C,IAAsB,UAN1C96C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVq8C,gBAAe,GACfc,iBAAgBA,OAGCC,I,YCf2T,MCOhV,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBClB4B1+C,GAAOE,WAAsB,MAAU,KAAoBI,EAAK,EAAC,SAAO,EAAC,kB,OACjI2T,EAAI,mBAAc,C,MAClBgoC,C,KACAE,CACApO,KAAAA,aACF,wBAAE,4BAAC3tC,UAAYF,EAAM,uBAAE,e,YAAmCA,EAAIM,GAAG,EAAgB,IAAC,QAAC4E,GAAAA,WAAY,4BAACC,EAAcC,OAAG,G,KAAyCd,U,GAAmBlE,W,MAAO,qBAAU,C,YAC/K,O,MACTs+C,CACF,SAAC,oEAAI1+C,QAAYk8C,mBAAwF97C,EAAAA,GAAM,+B,OAAC,eAAkB,C,IAAC,EAASD,OAA6B,MAAC,CAAG,MAAC,EAAC,OAAO,IAAS0G,EAAM,iB,GAA2C,CAAC,KAAQ,SAAC,GAAiB,OAAO7G,EAAI2+C,SAAAA,EAAiBx+C,GAAM,IAAE,OAAQ,SAAS0G,GAAQ,OAAO7G,EAAI4+C,iBAAiB/3C,EAAc,EAAC,kBAAG,8BAAI7G,I,IAA8EsE,EAAAA,cAAY,iBAA0B,YAAS,WAA8OlE,EAAM,a,YAAW,2B,CAAI,mBAAey+C,EAAAA,aAAAA,GAAAA,EAAAA,cAAAA,OAAkK,OAAlKA,EAAAA,wBAAAA,CAAAA,EAAAA,IAAAA,CAAAA,EAAAA,GAAAA,qHAAAA,EAAAA,GAAAA,EAAAA,CAAU,MAAC,CAAG,SAAC,GAAC,SAAW,EAACC,YAAe,GAAE9+C,CAA6E0H,MAAU,kB,CAAK,sBAAkBb,GAAO,+B,IAACA,O,GAAwB,CAAmD,mBAAGtC,OAAD,mBAAO,yCAACxE,G,MAAkD,CAAc,MAAC,YAAC2E,SAAU,SAAC,GAAW,aAAI9E,EAAU0E,WAAY,cAAmDA,CAAAA,EAAAA,MAAW,CAAwB,YAAU,wCAACA,CAAAA,EAAAA,MAAW,CAAoB,YAAS,wBAAmCA,CAAAA,EAAAA,KAAW,CAAwBlE,YAAM,oB,CAAC,KAAM,kBAAY,gB,YAAQ,uBAAI,MAAC,CAAG,KAAC,YAAC,KAAO,MAAqB,GAAG,CAAkBA,MAAM,oBAAiD,iBAAa,C,MAAC,CAAW,YAAS,kCAAC,SAAS,GAAC,SAAiB,KAAO,GAAK,QAAkE,iBAACmE,KAAM,KAACxE,2BAAsB,wC,MAA6B,CAAe,MAAC,aAAC2E,SAAU,SAAC,GAAY,cAAI9E,EAAYQ,WAAM,gBAA4D,OAAO,C,MAAS,CAAS,+CAAIR,KAAG,SAAQ0E,KAAAA,K,CAA0B,SAAO,CAAU,mBAAG,MAAKhE,CAAkGF,KAAM,cAAe,eAAey+C,IAAAA,MAAAA,GAAAA,EAAAA,KAAAA,EAAAA,cAAAA,OAAAA,IAAAA,EAAAA,YAAAA,EAAAA,GAAAA,EAAAA,CAAU,MAAC,CAAG,SAAC,GAAC,SAAW,EAACC,YAAe,GAAE9+C,CAAyCsE,MAAW,EAAC,gBAA8OlE,CAAAA,EAAK,GAAC,+B,YAAW,iC,CAAI,sCAAey+C,EAAAA,aAAAA,GAAAA,EAAAA,cAAAA,OAA6K,OAA7KA,EAAAA,wBAAAA,CAAAA,EAAAA,IAAAA,CAAAA,EAAAA,GAAAA,yDAAAA,EAAAA,GAAAA,EAAAA,CAAU,MAAC,CAAG,SAAC,GAAC,SAAW,EAACE,YAAe,GAAE/+C,CAAqF0H,MAAI,EAAS,gB,CAAK,8BAAyB,kC,IAACb,U,GAAwB,CAA4C,mBAAGtC,OAAD,mBAAO,kCAACxE,G,MAAqD,CAAiB,MAAC,eAAC2E,SAAU,SAAC,GAAc,gBAAI9E,EAAU0E,WAAY,iBAAwDA,CAAAA,EAAAA,MAAW,CAAwB,YAAU,6CAACA,CAAAA,EAAAA,MAAW,CAAoB,YAAS,wBAA8BA,CAAAA,EAAAA,KAAW,CAAwBlE,YAAM,oB,CAAC,KAAM,aAAY,gB,YAAQ,uBAAI,MAAC,CAAG,KAAC,YAAC,KAAO,MAAqB,GAAG,CAAkBA,MAAM,oBAG3gG,iBAAc,C,MAAmD,CAAc,MAAQ,MAAE,0EAAC,YAAS,mDAAC,SAAS,GAAC,SAAiB,KAAO,GAAK,QAACmE,cAAM,GAACxE,KAAOC,M,MAAwC,CAAW,MAAC,SAAC0E,SAAU,SAAC,GAAQ,UAAI9E,EAAYQ,WAAM,YAA+B,OAAO,C,MAAS,CAAS,0BAAIR,KAAG,SAAQ0E,KAAAA,K,CAA0B,SAAO,CAAU,mBAAG,MAAKhE,CAAkGF,KAAM,cAAe,eAAey+C,IAAAA,MAAAA,GAAAA,EAAAA,KAAAA,EAAAA,cAAAA,OAAAA,IAAAA,EAAAA,YAAAA,EAAAA,GAAAA,EAAAA,CAAU,MAAC,CAAG,SAAC,GAAC,SAAW,EAACE,YAAe,GAAE/+C,CAAoC,wBAAa,gCAAG,EACtmB,a,oBCAMuF,eAAey5C,GACpBC,GAEA,aAAa3lC,EAAAA,EAAAA,GAAyB,CACpCC,OAAQ,4BACRC,WAAY,CAAE0lC,KAAMD,GACpBvlC,QAASylC,GAAAA,IAEb,CAEO55C,eAAe65C,GACpBC,GAEA,aAAa/lC,EAAAA,EAAAA,GAAyB,CACpCC,OAAQ,6CACRC,WAAY,CAAE6lC,UACd3lC,QAAS4lC,GAAAA,IAEb,CAEO/5C,eAAeg6C,GACpBC,GAEA,aAAalmC,EAAAA,EAAAA,GAAyB,CACpCC,OAAQ,gCACRC,WAAY,CACVgmC,oBAAoBlqC,EAAAA,EAAAA,GAAgBkqC,IAEtC9lC,QAAS4lC,GAAAA,IAEb,CCtCO,MAAMG,GAA0BC,IACrC,MAAMC,GAAWl9C,EAAAA,GAAAA,GAAcb,GAAAA,GAAAA,OACzBzB,EAAQw/C,EAASpY,WAAUqY,GAAQA,EAAKl+C,OAASg+C,EAAYh+C,QAGpD,IAAXvB,EACFw/C,EAASE,QAAQH,GAEjBC,EAASx/C,GAASu/C,EAGpB99C,GAAAA,GAAAA,SAAqB+9C,EAAS,EAGnBG,GAAuBp+C,IAClC,MAAMi+C,GAAWl9C,EAAAA,GAAAA,GAAcb,GAAAA,GAAAA,OACzBzB,EAAQw/C,EAASpY,WAAUqY,GAAQA,EAAKl+C,OAASA,IAEnDvB,GAAS,GACXw/C,EAASxB,OAAOh+C,EAAO,GAGzByB,GAAAA,GAAAA,SAAqB+9C,EAAS,E,IC1B4B7/C,GAAOE,WAAsB,MAAU,KAAOsE,EAAAA,EAAAA,MAAY,GAA0B,EAAM,kB,OAACA,EAAAA,MAAY,CAA8BF,YAAG,sB,CAAC,QAAQpE,CAAe,0CAAE,GAAI,CAAQsE,MAAW,EAAC,cAAoFlE,CAAAA,EAAK,MAAC,C,YAAQ,4BAAG,8CAACgE,MAAG,CAAC,KAAO,I,GAA2C,CAAkD,kBAAO,OAAN,oBAAa,EAAC,sCAAChE,IAAyB,WAAG,MAAK,CAA2BkE,KAAAA,gBAAiGlE,IAAM,qB,YAASJ,2BAAgB,2BAAimB,OAAjmB,wBAACoE,MAAG,CAAC,MAAQpE,EAAI+/C,MAAAA,OAAiB,GAAG,CAAc3/C,MAAM,oBAA0E,cAAYL,C,MAAqB,CAAY,uEAAG,MAAC,uBAAC,KAAO,MAA0B,GAAEC,CAAgDsE,MAAW,EAAC,sBAAc,8BAAU,S,YAAU,O,MAAO,CAAU,MAAO,GAAS,cAAItE,KAAO,GAAuMktB,KAAAA,Y,CAA0C,oEAAc,kHAAK,aAAIltB,YAAO,iBAA4DsE,cAAY,Q,CAAc,qBAAc,uC,YAAmEtE,O,MAAyB,CAAY,uEAAG,MAAC,uBAAC,KAAO,MAA0B,GAAG,CACr/C,+BAGD,GAASmE,EAAM,OAAE3D,EAAAA,M,QCJb2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,iCAAiC,CAACtE,EAAI+F,GAAI/F,EAAID,OAAO,SAASigD,EAASC,GAAe,OAAOrgD,EAAG,iBAAiB,CAACuF,IAAI66C,EAAS95C,GAAG9F,MAAM,CAAC,MAAQ4/C,EAAS,kBAAoBhgD,EAAIkgD,kBAAkBD,IAAgB77C,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAImgD,eAAet5C,EAAQo5C,EAAc,EAAE,OAAS,SAASp5C,GAAQ,OAAO7G,EAAIogD,eAAeH,EAAc,IAAI,IAAGrgD,EAAG,iBAAiB,CAACwE,GAAG,CAAC,KAAOpE,EAAIqgD,oCAAoC,EAC1iB,EACI7/C,GAAkB,G,mCCF+H,GAAK,W,IAAUkH,EAAI,KAAOnD,EAAK,EAAC,SAAQvE,EAAIsgD,MAAAA,Y,OAAkB77C,EAAAA,MAAS,C,YAAoB67C,gC,CAAoB,EAAC,M,IAAC57C,OAA6B,OAAI9E,MAAG,EAAM,iBAAC0E,SAAW,SAAC,GAA4C,EAAC,iBAAM,CAACA,EAA2DtE,WAAYD,qB,CAA6CoF,EAAG,MAAMo7C,C,YAAmB,yCAAQ,GAAEvgD,MAAO,CAAkC,YAAO,+CAASI,EAAK,GAAC,2B,OAAC,EAAO,OAAG,cAAG,YAAC,QAAC,MAAQJ,IAAIogD,EAAAA,GAAAA,EAAAA,UAAAA,M,IAAc,WAAE,MAAK,CAAQhgD,KAAM,IAAmB,IAAI,MAAO,EAAI,iBAA4D,CAACR,EAAG,OAAM,CAAC0E,MAAAA,CAA8D1E,KAAG,gBAA+BQ,IAAM,Y,YAAW,yC,CAAC,QAAU,C,YAAYJ,iD,CAAiB,OAAW,C,YAAkBA,O,MAAoB,CAAsB,SAAG,SAAC,GAAC,MAAQA,EAAIwgD,MAAAA,OAAY,gBAAI,MAAO,GAAK,gBAAEl8C,MAAW,eAAuEA,GAAAA,CAA6BlE,MAAM,mBAAyB,KAAO,MAAMqgD,C,YAAuB,iD,CAAC,OAAQ,CAAE,YAAC,iBAACr8C,MAAG,CAAC,MAAQ,EAAI,MAACs8C,MAAW,wBAAI9gD,IAAG,GAAWQ,MAAM,I,GAAkB,CAAgB,uBAAkBA,CAAAA,EAAK,KAAC,C,MAAC,CAAiB,MAAQ,SAAQ,kBAC/0C,QACGI,MAAAA,CAEJ,MAAe,S,yCCJR,MAAMmgD,GAAc,CACzB,CACE5sC,KAAM,aACNhU,MAAO,KAET,CACEgU,KAAM,oBACNhU,MAAO,KAET,CACEgU,KAAM,cACNhU,MAAO,KAET,CACEgU,KAAM,eACNhU,MAAO,KAET,CACEgU,KAAM,eACNhU,MAAO,KAET,CACEgU,KAAM,kBACNhU,MAAO,KAET,CACEgU,KAAM,aACNhU,MAAO,KAET,CACEgU,KAAM,mBACNhU,MAAO,KAET,CACEgU,KAAM,cACNhU,MAAO,MCzBX,IAAqB6gD,GAArB,cAA4ClgD,EAAAA,GAA5CC,c,oBAWE,KAAA2/C,kBAAmB,CAmErB,CAjEEO,eAAeC,GACb,OAAKA,GAKF5/C,KAAKg/C,kBACHxxC,MACCsxC,GACEA,EAASc,SAAWA,GAAUd,EAASz5C,QAAUrF,KAAKnB,MAAMwG,SAE9Dw6C,MAAMryC,MAAKwwC,GAAQh+C,KAAK8/C,aAAav0C,SAASyyC,EAAK+B,WACvD,8DAVO,sBAYX,CAEAR,cAAcl6C,GACZ,OACGrF,KAAKg/C,kBACHxxC,MACCsxC,GACEA,EAASc,SAAW5/C,KAAKnB,MAAM+gD,QAAUd,EAASz5C,QAAUA,KAE9Dw6C,MAAMryC,MAAKwwC,GAAQh+C,KAAK8/C,aAAav0C,SAASyyC,EAAK+B,WACvD,6DAEJ,CAEID,mBACF,OAAO9/C,KAAKnB,MAAMghD,MAAMx+C,KAAI28C,GAAQA,EAAK+B,QAC3C,CAGAC,0BACEhgD,KAAKigD,KAAKC,UACZ,CAGAZ,aAAaa,GACX,MAAM9/C,EAAW,IACZL,KAAKnB,MACR+gD,OAAQO,GAEVngD,KAAKM,MAAM,QAASD,EACtB,CAEAm/C,YAAYY,GACV,MAAM//C,EAAW,IACZL,KAAKnB,MACRwG,MAAO+6C,GAETpgD,KAAKM,MAAM,QAASD,EACtB,CAEA6+C,iBACEl/C,KAAKM,MAAM,SACb,CAEI+/C,cACF,OAAOZ,EACT,CAEIa,oBACF,OAAOb,GAAYjyC,MAAK+yC,GAAKA,EAAE1hD,QAAUmB,KAAKnB,MAAM+gD,QACtD,IA5EOx9C,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,6BAENtxC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAOPD,EAAAA,EAAAA,IAAAA,EAHCC,EAAAA,EAAAA,IAAK,CACJC,QAAS,MACT,0CAsCFF,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,UAAQ,6CA7CI+0C,IAAc,UAHlCl9C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEoJ,KAAIA,EAAAA,MAECo2C,I,YCV+T,MCQpV,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIz8C,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,iCAAiC,CAAC1E,EAAG,aAAa,CAACQ,MAAM,CAAC,OAAS,QAAQ,OAAS,eAAe,eAAiBJ,EAAI22C,gBAAgBvyC,GAAG,CAAC,MAAQpE,EAAI0hD,cAAc,CAAC1hD,EAAIM,GAAG,mCAAmCV,EAAG,OAAO,CAAC0E,YAAY,6CAA6C,CAACtE,EAAIM,GAAG,kBAAkB,EACra,EACIE,GAAkB,G,yCCUtB,IAAqBmhD,GAArB,cAA4CjhD,EAAAA,GAA5CC,c,oBACE,KAAAg2C,gBAAiB,CAuDnB,CArDE+K,YAAYX,GACVp0C,MAAMkiB,KAAKkyB,GAAOj0C,SAASoyC,IACzB,MAAM0C,EAAa,IAAIC,WACvBD,EAAWE,UAAYv8C,UACrB,IAAKC,GAAGqC,OAAQ,OAMhB,MAAMk6C,EAAM,IAAIC,WACdx8C,EAAEqC,OAAO6E,QACTu1C,SAAS,EAAG,GACd,IAAIC,EAAS,GACbH,EAAIj1C,SAAQ/M,GAAUmiD,GAAUniD,EAAMyV,SAAS,MAE/C,MAAM2sC,EAAYjD,EAAK71C,KAAK6E,MAAM,KAAK+yB,MAEjCmhB,EAAoB,aAAXF,GAAuC,SAAdC,EAClCE,EAAqB,aAAXH,GAAuC,UAAdC,EAEnCC,GAAUC,GAQhBnhD,KAAKy1C,gBAAiB,GAEtBlnC,EAAAA,EAAAA,YACQuvC,GAAaE,IACnBvvC,EAAAA,EAAAA,OACGkK,KACCoF,EAAAA,GAAAA,IAAmBpF,EAAO,IAE5BpM,IACEvM,KAAKM,MAAM,OAAQ,CACjB++C,QAAS9yC,EAAE8yC,QACXU,OAAQmB,EAAS,OAAS,QAC1BE,SAAU70C,EAAE60C,UACZ,KAKRphD,KAAKy1C,gBAAiB,GAzBpB78B,GAAAA,EAAAA,IAAAA,QACE,iDAwBuB,EAG7B8nC,EAAWW,kBAAkBrD,EAAK,GAEtC,GAvDmByC,IAAc,UAHlCj+C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEohD,WAAUA,GAAAA,MAELb,I,YCZ+T,MCQpV,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCLhC,IAAqBc,GAArB,cAAuC/hD,EAAAA,GAIrC2/C,gCAAgCpB,GAC9B,MAAMyD,EAAcC,GAAwB1D,GACtC2D,EAAe,IAAI1hD,KAAKnB,MAAO2iD,GACrCxhD,KAAKM,MAAM,QAASohD,EACtB,CAEAzC,eAAeuC,EAAuBzC,GACpC,MAAM2C,EAAe,IAAI1hD,KAAKnB,OACxB8iD,EAAqBH,EAAY3B,MAAMx+C,KAAI28C,GAAQA,EAAK+B,SAIxD6B,EAA0BF,EAAarb,WAC3CyY,GACEA,EAASc,SAAW4B,EAAY5B,QAChCd,EAASz5C,QAAUm8C,EAAYn8C,QAE9By5C,EAASe,MAAMryC,MAAKwwC,GAAQ2D,EAAmBp2C,SAASyyC,EAAK+B,aAGjC,IAA7B6B,EACFF,EAAa3C,GAAiByC,GAG9BE,EAAaE,GAAyB/B,MAAQ,IACzC6B,EAAaE,GAAyB/B,SACtC2B,EAAY3B,OAIjB6B,EAAazE,OAAO8B,EAAe,IAGrC/+C,KAAKM,MAAM,QAASohD,EACtB,CAEAxC,eAAeH,GACb,MAAM2C,EAAe,IAAI1hD,KAAKnB,OAC9B6iD,EAAazE,OAAO8B,EAAe,GACnC/+C,KAAKM,MAAM,QAASohD,EACtB,CAEA1C,kBAAkBD,GAChB,OAAO/+C,KAAKnB,MAAM+C,QAAO,CAACigD,EAAG34B,IAAMA,IAAM61B,GAC3C,IA9CA38C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYk/C,IAAS,UAN7B/+C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVugD,eAAc,GACdf,eAAcA,OAGG6B,I,YAmDrB,SAASE,GAAwB1D,GAC/B,MAAO,CACL/4C,IAAI88C,EAAAA,GAAAA,KACJjC,MAAO,CAAC9B,GACR14C,MAAO,SACPu6C,OAAQ,EAEZ,CCxE+U,YCQ/U,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCRhC,IAAqBmC,GAArB,cAAwCviD,EAAAA,GAAxCC,c,oBAeE,KAAAuiD,6BAA8B,CAuBhC,CA/BEC,cACEjiD,KAAKM,MAAM,QAASN,KAAKkiD,OAC3B,CAEAzE,mBACEz9C,KAAKM,MAAM,SACb,CAIA6hD,mBAAmBC,GACjBpiD,KAAKgiD,6BAA8B,EACnChiD,KAAKM,MAAM,QAAS,IACfN,KAAKnB,MACRwjD,eAAgBD,GAEpB,CAEAvD,eAAe6C,GACb1hD,KAAKM,MAAM,QAAS,IACfN,KAAKnB,MACRyjD,MAAOZ,GAEX,CAEAa,WAAWC,GACTxiD,KAAKM,MAAM,QAAS,IACfN,KAAKnB,MACRs/C,OAAQqE,GAEZ,IAnCApgD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAJY0/C,IAAU,UAH9Bv/C,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEoJ,KAAI,IAAEi4C,UAAS,GAAEkB,UAASA,GAAAA,MAErBV,I,YCX2T,MCQhV,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,sCCkBhC,IAAqBW,GAArB,cAAgDljD,EAAAA,GAAhDC,c,oBAkBE,KAAAu7C,eAAgBz5C,EAAAA,GAAAA,GAAcvB,KAAKnB,OACnC,KAAA8jD,WAAiC,GACjC,KAAAxE,OAA6B,GAC7B,KAAAyE,WAAY,EACZ,KAAAC,cAAe,EACf,KAAApN,gBAAiB,EACjB,KAAAqN,iBAAmB,EAEnB,KAAArG,aAAc,EAKd,KAAAsG,aAAc,CA0IhB,CAlKMjN,4BACF,OAAQ,MACNv0C,EAAAA,GAAAA,GAAcvB,KAAKg7C,gBACnBz5C,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEvB,CAEImkD,sBACF,OAAOC,EAAAA,GAAAA,IAAqCjjD,KAAK2iD,WACnD,CAWA/E,gBACE59C,KAAKy8C,aAAez8C,KAAKy8C,WAC3B,CAGAoB,gBACE79C,KAAK+iD,aAAe/iD,KAAK+iD,WAC3B,CAEA1+C,qBACErE,KAAKy1C,gBAAiB,GAEtBlnC,EAAAA,EAAAA,YACQ8vC,GAAmBr+C,KAAKg7C,gBAC9BvsC,EAAAA,EAAAA,OACGkK,KACCoF,EAAAA,GAAAA,IAAmBpF,EAAO,IAE5BuqC,IACEA,EAAqBt3C,SAAQu3C,IAG3B,MAAMC,EAA+BpjD,KAAKg7C,cAAc3U,WACtDsc,GAAcA,EAAW39C,KAAOm+C,EAAmBE,SAErDrjD,KAAKg7C,cAAcoI,GAA8BjF,OAC/CgF,EAAmBhF,OACrBn+C,KAAKg7C,cAAcoI,GAA8BE,QAC/CH,EAAmBI,qBAAqBD,QAE1C/E,GAAuB4E,EAAmBI,qBAAqB,IAEjEvjD,KAAKM,MAAM,QAASN,KAAKg7C,cAAc,KAK7Ch7C,KAAKy1C,gBAAiB,CACxB,CAEA+N,SAASC,GACHzjD,KAAK29C,aAET39C,KAAK8iD,gBAAkBW,EACzB,CAEA/F,iBAAiBgG,EAAiCC,GAGhD,MAAMtjD,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKg7C,eACpC36C,EAASsjD,GAAaD,EACtB1jD,KAAKg7C,cAAgB36C,CACvB,CAEAo9C,iBAAiBkG,GACf,GAAI3jD,KAAK29C,WAAY,OAErB,MAAMt9C,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKg7C,eACpC36C,EAAS48C,OAAO0G,EAAW,GAC3B/E,GAAoB5+C,KAAKg7C,cAAc2I,GAAW3+C,IAClDhF,KAAKg7C,cAAgB36C,CACvB,CAEAujD,oBACO5jD,KAAKigD,KAAKC,YAAelgD,KAAK2iD,aAInC3iD,KAAKg7C,cAAclvC,KAAK,CACtB9G,GAAI,eAAiBhF,KAAK2iD,WAAWt1B,cAActgB,QAAQ,KAAM,KACjE82C,OAAQ7jD,KAAK2iD,WACbN,eAAgB,GAChBlE,OAAQ,GACR2F,mBAAmB,EACnBR,QAAStjD,KAAK2iD,WACdL,MAAO,KAGTtiD,KAAK8iD,gBAAkB9iD,KAAKg7C,cAAcx1C,OAAS,EACnDxF,KAAK2iD,WAAa,GAClB3iD,KAAKigD,KAAK8D,QACV/jD,KAAKy8C,aAAc,EACrB,CAEAp4C,mBACOrE,KAAKgkD,QAAQ9D,YAAelgD,KAAKm+C,SAItCn+C,KAAKy1C,gBAAiB,GAEtBlnC,EAAAA,EAAAA,YACQ2vC,GAA2Bl+C,KAAKm+C,SACtC1vC,EAAAA,EAAAA,OACGkK,KACCoF,EAAAA,GAAAA,IAAmBpF,EAAO,IAE5BuqC,IACEA,EAAqBt3C,SAAQu3C,IAE3B,MAAMc,EACJjkD,KAAKg7C,cAAc3U,WACjBqY,GAAQA,EAAK15C,KAAOm+C,EAAmBE,UACpC,EACFY,GACHjkD,KAAKg7C,cAAc2D,QAAQ,CACzB35C,GAAIm+C,EAAmBE,OACvBQ,OAAQV,EAAmBI,qBAAqBnnC,MAChDimC,eACEc,EAAmBI,qBAAqBlB,eAC1ClE,OAAQgF,EAAmBhF,OAC3B2F,mBAAmB,EACnBR,QAASH,EAAmBI,qBAAqBD,QACjDhB,MAAO,I,GAGX,KAKRtiD,KAAKy1C,gBAAiB,EAEtBz1C,KAAKm+C,OAAS,GACdn+C,KAAK+iD,aAAc,EACrB,CAEAmB,WAAWrlD,GACT,IAAIslD,EAEJ,IACEA,EAAY,IAAIt/B,IAAIhmB,E,CACpB,MAAOwV,GACP,OAAO,C,CAGT,MAA8B,UAAvB8vC,EAAUC,UAA+C,WAAvBD,EAAUC,QACrD,CAEIzG,iBACF,MAAwC,SAAjCj9C,GAAAA,GAAAA,gBACT,IAvKO0B,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,6BACCtxC,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,gCAGNtxC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAJYqgD,IAAkB,UAZtClgD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVmkD,gBAAe,KACfC,SAAQ,KACRvC,WAAU,GACV1E,iBAAgB,GAChBF,sBAAqB,GACrB7zC,KAAI,IACJ3G,UAAS,KACTu0C,WAAUA,GAAAA,MAGOwL,I,YCrCuT,MCQ5U,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnBYhkD,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAA0B,oB,OAAC,qBAAmB,CAAI,MAAC,CAACM,oBAAoB,G,YAAgB,KAAU,E,IAAC,QAA8B,GAAC,WAACgF,MAAM,qBAAK,EAAEC,OAAI,GAAUC,C,IAAc,U,GAAiBd,WAAqC,MAAM,CAAChE,EAAG,MAAwBgE,YAAY,2BAAc,CAAC1E,EAAG,iBAAW,SAACQ,YAAM,c,CAAC,Q,MAAoC,CAAW,cAAQ,oBAAgC,SAAG,MAAC,iCAAkC,IAAI,OAAO,EAAK,yBAA6BR,GAAG,QAAW,CAACQ,YAAM,c,CAAC,Q,MAAgC,CAAiD,cAAQ,gBAAG,+CAAG,MAAC,IAA2B,IAAI,OAAO,EAAK,kBAA6BR,GAAG,QAAW,CAACQ,YAAM,c,CAAC,Q,MAA6B,CAAoB,cAAQ,aAAG,kBAAG,MAAC,IAAyB,IAAI,OAASqlD,EAAAA,gBAA6E7lD,GAAG,yCAAW,SAACQ,YAAM,c,CAAC,Q,MAA2C,CAAqC,cAAQ,2BAAG,mCAAG,MAAC,IAAyC,IAAI,OAAQ8G,EAAI,gCAAsCtH,GAAG,OAAW,SAACQ,YAAM,c,CAAC,Q,MAAmD,CAAiD,cAAQ,mCAAG,+CAAG,MAAC,IAAiD,IAAI,OAAO,EAAK,wCAA6BR,GAAG,QAAW,CAACQ,YAAM,c,CAAC,Q,MAA+C,CAAkD,cAAQ,+BAAG,gDAAG,MAAC,IAA6C,IAAI,OAAO,EAAK,oCAA6BR,GAAG,QAAW,CAACQ,YAAM,c,CAAC,Q,MAAgD,CAA4C,cAAQ,gCAAG,0CAAG,MAAC,IAA8C,IAAI,OAAO,EAAK,qCAA6BR,GAAG,QAAW,CAACQ,YAAM,c,CAAC,Q,MAAgD,CAAuC,cAAQ,gCAAG,qCAAG,MAAC,IAA8C,IAAI,OAAO,EAAK,qCAAuBR,GAAG,EAAI,MAAC,CAAC0E,YAAY,QAA2B,CAACtE,EAAG,KAAI,CAAgE,YAAW,2B,CAAOmF,EAAG,GAAE,uD,MAACb,CAAAA,EAAAA,MAAY,CAAiE,IAAK,EAAOA,YAAY,kEAAkB,CAACtE,EAAG,MAAO,CAAyCI,YAAM,kB,CAAC,KAAO,EAACslD,GAAK,EAAM,8B,MAAC,CAAkC,MAAS,EAAC,M,MAAEC,EAAW,sBAAK,SAAE,e,GAA8B,CAA6C,kBAAC,iCAAI,MAAiBrhD,GAA4E,IAAG1E,EAAG,MAAM,CAAC0E,YAAY,kEAAkB,CAACtE,EAAG,MAAI,CAA0CI,YAAM,kB,CAAC,KAAO,qBAAmB,oB,MAAC,CAAgC,MAAS,EAAC,e,MAAEulD,EAAW,oBAAK,SAAE,eAAkC,IAAI,MAAO,EAAK,sBAA0C/lD,GAAG,QAAY,CAAEQ,YAAM,2B,CAAC,eAAewlD,CAAwB,MAAC,CAAG,SAAC,4BAA2C,IAAI5lD,MAAO,mCAAsC,GAAC,kCAAM,EAAG,aAIvhG,E,iEC2BA,IAAqB6lD,GAArB,cAA8CnlD,EAAAA,GAA9CC,c,oBACE,KAAAmlD,YAAc5kD,KAAK6kD,uBA0MrB,CAxMEA,wBACE,MAAMC,EAA2C,CAC/C,CACE9/C,GAAI,MACJoX,MAAO,OAET,CACEpX,GAAI,oBACJoX,MAAO,sBAET,CACEpX,GAAI,YACJoX,MAAO,aAET,CACEpX,GAAI,iBACJoX,MAAO,mBAET,CACEpX,GAAI,YACJoX,MAAO,aAET,CACEpX,GAAI,UACJoX,MAAO,wBAIX,OAAO0oC,EAAOzjD,KAAImjD,IAAS,IACtBA,EACH3lD,OAAOkmD,EAAAA,EAAAA,IAA2CP,EAAMx/C,OAE5D,CAEAggD,iBAAiBR,EAAgBn8C,GAC/B,MAAMpJ,EAAQe,KAAK4kD,YAAYve,WAC7B4e,GAAcA,EAAWjgD,KAAOw/C,IAGlCxkD,KAAK4kD,YAAY3lD,GAAOJ,MAAQwJ,GAEhC68C,EAAAA,EAAAA,IAA0CV,EAAOn8C,IACjD88C,EAAAA,EAAAA,OACAr9C,EAAAA,EAAAA,IAAY08C,EACd,CAEAY,kCACEA,EAAAA,EAAAA,MAEAplD,KAAK4kD,YAAc5kD,KAAK6kD,uBAC1B,CAEIH,+BACF,OAAOW,KACLC,EAAAA,GACAtlD,KAAK4kD,YAAYjf,QAAO,CAACr2B,EAAoCk1C,KAC3Dl1C,EAAIk1C,EAAMx/C,IAAMw/C,EAAM3lD,MACfyQ,IACN,CAAC,GAER,CAEIi2C,4BACF,MAAO,CAAC,OAAQ,SAASlkD,KAAIiH,IACpB,CACLuK,KAAMvK,EACNzJ,MAAOyJ,KAGb,CAEIk9C,0BACF,MAAO,CACL,CACE3yC,KAAM,UACNhU,MAAO,WAET,CACEgU,KAAM,0BACNhU,MAAO,yBAET,CACEgU,KAAM,eACNhU,MAAO,gBAGb,CAEI0lD,6CACF,OAAOkB,EAAAA,GAAAA,IACT,CAEIC,iBACF,MAAkC,SAA3B5kD,GAAAA,GAAAA,SAAAA,KACT,CAEI6kD,oBACF,MAAuC,kBAAhC7kD,GAAAA,GAAAA,SAAAA,UACT,CAEIqG,mCACF,OAAOrG,GAAAA,GAAAA,SAAAA,6BACT,CAEI8kD,oCACF,OAAO9kD,GAAAA,GAAAA,SAAAA,6BACT,CAEA+kD,cAAcC,GACZ9lD,KAAK+lD,eAAcxL,EAAAA,GAAAA,IAA4BuL,GACjD,CAEAE,cACE,MAAMniD,GAAWtC,EAAAA,GAAAA,GAAcT,GAAAA,GAAAA,UAC/B+C,EAASoiD,MAAQjmD,KAAK0lD,WAAa,QAAU,OAE7C1lD,KAAK+lD,cAAcliD,EACrB,CAEAqiD,oCAAoCC,GAClC,MAAMtiD,GAAWtC,EAAAA,GAAAA,GAAcT,GAAAA,GAAAA,UAC/B+C,EAASuiD,iCAAmCD,EAE5CnmD,KAAK+lD,cAAcliD,EACrB,CAEIuiD,uCACF,OAAOtlD,GAAAA,GAAAA,SAAAA,gCACT,CAEIulD,+BACF,OAAOvlD,GAAAA,GAAAA,SAAAA,wBACT,CAEAwlD,4BAA4BznD,GAC1B,MAAMgF,GAAWtC,EAAAA,GAAAA,GAAcT,GAAAA,GAAAA,UAC/B+C,EAASwiD,yBAA2BxnD,EAEpCmB,KAAK+lD,cAAcliD,EACrB,CAEA0iD,gCAAgC1nD,GAC9B,MAAMgF,GAAWtC,EAAAA,GAAAA,GAAcT,GAAAA,GAAAA,UAC/B+C,EAAS2iD,8BAAgC3nD,EAEzCmB,KAAK+lD,cAAcliD,EACrB,CAEI4iD,oCACF,OAAO3lD,GAAAA,GAAAA,SAAAA,6BACT,CAEA4lD,iCAAiC7nD,GAC/B,MAAMgF,GAAWtC,EAAAA,GAAAA,GAAcT,GAAAA,GAAAA,UAC/B+C,EAAS4iD,8BAAgC5nD,EACzCmB,KAAK+lD,cAAcliD,EACrB,CAEA8iD,iCAAiC9nD,GAC/B,MAAMgF,GAAWtC,EAAAA,GAAAA,GAAcT,GAAAA,GAAAA,UAC/B+C,EAAS+hD,8BAAgC/mD,EACzCmB,KAAK+lD,cAAcliD,EACrB,CAEI+iD,wBACF,OAAO9lD,GAAAA,GAAAA,SAAAA,iBACT,CAEI+lD,qBACF,OAAO/lD,GAAAA,GAAAA,SAAAA,cACT,CAEAgmD,qBAAqBjoD,GACnB,MAAMgF,GAAWtC,EAAAA,GAAAA,GAAcT,GAAAA,GAAAA,UAC/B+C,EAAS+iD,kBAAoB/nD,EAE7BmB,KAAK+lD,cAAcliD,EACrB,CAEAkjD,kBAAkBloD,GAChB,MAAMgF,GAAWtC,EAAAA,GAAAA,GAAcT,GAAAA,GAAAA,UAC/B+C,EAASgjD,eAAiBhoD,EAE1BmB,KAAK+lD,cAAcliD,EACrB,CAEAkiD,cAAcliD,GACZ,MAAMmjD,GAA4BC,EAAAA,GAAAA,GAAyB,IACtDC,GAAAA,MACArjD,IAEDmjD,IACF3zC,EAAAA,GAAAA,GACE8zC,GAAAA,GACAH,GAIJlmD,GAAAA,GAAAA,YAAoB+C,EACtB,GA1MmB8gD,IAAgB,UAHpCniD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEuC,WAAU,KAAE46C,iBAAgB,GAAE+J,eAAc,KAAEC,YAAWA,GAAAA,MAEpD1C,I,YC/ByS,MCQ9T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCQhC,IAAqB2C,GAArB,cAA8C9nD,EAAAA,GAA9CC,c,oBAOE,KAAAg7C,IAAM,EACN,KAAAC,WAAa,EAEb,KAAA6M,cAAgB,EAChB,KAAAC,gBAAkB,EAClB,KAAAC,qBAAuB,EAoDvB,KAAAhS,gBAAiB,EAoBjB,KAAAiS,mBAAoB,CActB,CApFMtkC,kBACF,OAAO1iB,EAAAA,GAAAA,WACT,CAEI68C,wBACF,OAAOv9C,KAAKojB,YAAYm6B,iBAC1B,CAEIe,yBACF,OAAO59C,EAAAA,GAAAA,YAAAA,WACT,CAEAk6C,kBAAkBoC,GAChB,MAAM2K,GAAWpmD,EAAAA,GAAAA,GAAcvB,KAAKojB,aACpCukC,EAASpK,kBAAoBP,EAC7Bh9C,KAAK01C,KAAKiS,EACZ,CAEAhN,yBAAyBiN,GACvB,MAAMD,GAAWpmD,EAAAA,GAAAA,GAAcvB,KAAKojB,aACpCukC,EAASE,YAAcD,EACvB5nD,KAAK01C,KAAKiS,EACZ,CAEAG,qBAEE,GADA9nD,KAAK+nD,0BACA/nD,KAAK0nD,kBACR,OAAO1nD,KAAKM,MAAM,iBAAiB,GAErC,MAAM0nD,EAAOjkD,QAAQ,wBACrB,OAAIikD,EACKhoD,KAAKM,MAAM,iBAAiB,GAE9BN,IACT,CAEAqE,wBAEE,GADArE,KAAK+nD,yBACD/nD,KAAK0nD,kBAAmB,CAC1B,MAAMM,EAAOjkD,QAAQ,wBACrB,IAAKikD,EAGH,aAFMhoD,KAAK4xB,YACX5xB,KAAKy6C,IAAMz6C,KAAK06C,YACT,C,CAIX,OADA16C,KAAK06C,WAAa16C,KAAKy6C,KAChB,CACT,CAIAp2C,WAAWsjD,GACT3nD,KAAKy1C,gBAAiB,GAEtBlnC,EAAAA,EAAAA,YACQrN,GAAAA,GAAc,cAAeymD,IACnCl5C,EAAAA,EAAAA,OACGkK,KACCoF,EAAAA,GAAAA,IAAmBpF,EAAO,IAE5B,KACEjY,EAAAA,GAAAA,eAA2BinD,EAAS,KAI1C3nD,KAAKy1C,gBAAiB,EACtBz1C,KAAK+nD,wBACP,CAGAA,yBACE,OAAI/nD,KAAK06C,aAAe16C,KAAKwnD,iBAC3BxnD,KAAK0nD,kBAAoB1nD,KAAKioD,wBAAwBnS,sBAC/C91C,KAAK0nD,mBAGV1nD,KAAK06C,aAAe16C,KAAKynD,sBAC3BznD,KAAK0nD,kBAAoB1nD,KAAKkoD,uBAAuBpS,sBAC9C91C,KAAK0nD,mBAGN1nD,KAAK0nD,mBAAoB,CACnC,IA/FAtlD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAGAD,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,gDACCtxC,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,8CALa4T,IAAgB,UATpC9kD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVoJ,KAAI,IACJq7C,iBAAgB,GAChBjC,mBAAkB,GAClBpF,uBAAsB,GACtB3J,QAAOA,GAAAA,MAGU2T,I,YC3ByS,MCQ9T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnByD,GAAU,W,IAAsBpoD,EAAM,K,EAAC,WAAuD,EAACJ,MAAQ,Y,OAAC,QAAY,SAAK,MAAC,CAAG,gBAAC,gCAAC,MAAQ,O,YAA4BwB,OAA8B,IAAI5B,MAAG,SAAS,GAAC0E,OAAW,EAAC,uBAAoB,EAAClE,IAAsB,SAAE,YAAK,qBAA2BkE,MAAAA,CAA6B1E,OAAU,SAEvaY,CAAAA,EAAAA,GAAAA,GAAgB,CAAD,EAAK,SAExB,YAAiBA,gB,ksECIjB,IAAqB6oD,GAArB,cAAwD3oD,EAAAA,GAIlDy2C,wBACF,OAAOC,GAAAA,CACT,CAEAkS,yBAAyBzmD,GACvB,MAAM0mD,EAAY,0BAA0B/oC,KAAKxM,UAAUo6B,UAC3D,IAAIob,EAAW3mD,EAAOA,EAAK,GAAK,GAKhC,OAJK0mD,GAA4B,GAAf1mD,EAAK6D,SACrB8iD,EAAW3mD,EAAK,IAGX2mD,EAASC,cAAcv7C,MAAM,KAAKC,KAAK,MAChD,IAdA7K,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,4BADY8lD,IAA0B,UAH9C3lD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEMioD,I,YCRuS,MCQ5T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIllD,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,iBAAiBiC,MAAOvG,EAAI0pD,QAAS,CAAC9pD,EAAG,kCAAkC,CAACwE,GAAG,CAAC,OAASpE,EAAI2pD,eAAe/pD,EAAG,MAAM,CAAC0E,YAAY,yBAAyBlE,MAAM,CAAC,eAAe,2BAA2B,CAAGJ,EAAI4pD,gBAAyC,YAAvB5pD,EAAI4pD,eAA6L5pD,EAAIkH,KAAnKtH,EAAG,wBAAwB,CAACQ,MAAM,CAAC,MAAQJ,EAAIoC,KAAK,MAAQpC,EAAImJ,OAAO/E,GAAG,CAAC,MAAQpE,EAAI6pD,WAAW,MAAQ7pD,EAAI8pD,YAAY,OAAS9pD,EAAI+pD,wBAAmC/pD,EAAI4pD,gBAAyC,UAAvB5pD,EAAI4pD,eAA+I5pD,EAAIkH,KAAvHtH,EAAG,sBAAsB,CAACQ,MAAM,CAAC,MAAQJ,EAAIoC,MAAMgC,GAAG,CAAC,MAAQpE,EAAI6pD,WAAW,OAAS7pD,EAAI+pD,wBAAmC/pD,EAAI4pD,gBAAyC,WAAvB5pD,EAAI4pD,eAAiJ5pD,EAAIkH,KAAxHtH,EAAG,uBAAuB,CAACQ,MAAM,CAAC,MAAQJ,EAAIoC,MAAMgC,GAAG,CAAC,MAAQpE,EAAI6pD,WAAW,OAAS7pD,EAAI+pD,wBAAmC/pD,EAAI4pD,eAAuL5pD,EAAIkH,KAA3KtH,EAAG,MAAM,CAAC0E,YAAY,uDAAuD,CAAC1E,EAAG,KAAK,CAACI,EAAIM,GAAG,6DAA6DN,EAAIitB,GAAG,MAAe,IAAI,EAC1lC,EACIzsB,GAAkB,CAAC,WAAY,IAAIR,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACI,EAAIM,GAAG,6CAA6CV,EAAG,IAAI,CAACQ,MAAM,CAAC,KAAO,kEAAkE,OAAS,WAAW,CAACJ,EAAIM,GAAG,mBAAmBN,EAAIM,GAAG,oBAC1T,GCHI6D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,kDAAkD,CAAC0E,YAAY,sCAAsClE,MAAM,CAAC,cAAcJ,EAAI44B,WACjO,EACIp4B,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAMI,EAAIgqD,GAAGhqD,EAAIiqD,GAAG,CAAC3lD,YAAY,8CAA8CF,GAAG,CAAC,UAAYpE,EAAIi7B,YAAY,MAAMj7B,EAAIkqD,QAAO,GAAOlqD,EAAImqD,YAAY,CAACnqD,EAAI0K,GAAG,YAAY,EAC9Q,EACIlK,GAAkB,GCGtB,IAAqB4pD,GAArB,cAA6E1pD,EAAAA,GAA7EC,c,oBAIE,KAAA+uC,WAAa,CAiCf,CA/BE2a,aAAa7kD,GACXA,EAAEC,iBAEFvE,KAAKopD,WAAW9kD,EAAGtE,KAAKwuC,YACxBxuC,KAAKwuC,WAAalqC,EAAEiE,OACtB,CAEAwxB,UAAUz1B,GACRA,EAAEC,iBACFD,EAAEsB,kBAEFyM,SAASqmB,iBAAiB,YAAa14B,KAAKmpD,cAE5C92C,SAASqmB,iBAAiB,UAAW14B,KAAK67B,SAC1C77B,KAAKwuC,WAAalqC,EAAEiE,QAKpB8J,SAASi2B,eAAe,UAAUjjC,MAAMypC,cAAgB,MAC1D,CAEAjT,QAAQv3B,GACNA,EAAEC,iBAEF8N,SAASwmB,oBAAoB,YAAa74B,KAAKmpD,cAC/C92C,SAASwmB,oBAAoB,UAAW74B,KAAK67B,SAG7CxpB,SAASi2B,eAAe,UAAUjjC,MAAMypC,cAAgB,MAC1D,IAlCA1sC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,kCADY6mD,IAA+C,UADnE1mD,EAAAA,EAAAA,IAAU,CAAC,IACS0mD,I,YCL4T,MCQjV,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCXhC,IAAqBG,GAArB,cAA6D7pD,EAAAA,GAC3Dk4B,SAASpzB,EAAekqC,GAEtBxuC,KAAKM,MAAM,UAAW,GAAKgE,EAAEiE,QAAUimC,GACzC,GAJmB6a,IAA+B,UAHnD7mD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEgpD,gDAA+CA,OAE1CG,I,YCR4S,MCQjU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIpmD,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAM,CAC5G,yBAA0BpG,EAAIwqD,0BAC7B,CAAC5qD,EAAG,sBAAsB,CAACQ,MAAM,CAAC,iBAAiBJ,EAAID,MAAM0qD,cAAc,aAAazqD,EAAI0qD,aAAa,MAAQ1qD,EAAIwqD,wBAAwB,SAAW,UAAU,YAAYxqD,EAAIwqD,wBAA0BxqD,EAAIwqD,wBAAwB7oD,QAAQ0H,KAAO,GAAG,kBAAoBrJ,EAAI4oD,kBAAkB,eAAiB5oD,EAAI22C,gBAAgBvyC,GAAG,CAAC,KAAOpE,EAAI2qD,YAAY,WAAa3qD,EAAI4qD,WAAW,OAAS5qD,EAAI0L,cAAc,aAAe1L,EAAI6qD,aAAa,OAAS7qD,EAAI8qD,OAAO,QAAU9qD,EAAI+qD,YAAY,eAAiB/qD,EAAIgrD,eAAe,MAAQhrD,EAAIirD,gCAAiCjrD,EAAIwqD,wBAAyB5qD,EAAG,MAAM,CAAC0E,YAAY,0BAA0B,CAAe,mBAAbtE,EAAIkrD,KAA2B,CAACtrD,EAAG,MAAM,CAAC0E,YAAY,8CAA8C,CAAC1E,EAAG,6BAA6B,CAACQ,MAAM,CAAC,UAAYJ,EAAID,MAAM,QAAUC,EAAIwqD,wBAAwB7oD,SAASyC,GAAG,CAAC,MAAQpE,EAAImrD,cAAc,OAASnrD,EAAI6pD,eAAe,GAAGjqD,EAAG,MAAM,CAAC0E,YAAY,2BAA2B,CAAC1E,EAAG,6BAA6B,CAACQ,MAAM,CAAC,UAAYJ,EAAID,MAAM,QAAUC,EAAIwqD,wBAAwB7oD,QAAQ,KAAO,aAAayC,GAAG,CAAC,MAAQpE,EAAImrD,cAAc,OAASnrD,EAAI6pD,eAAe,IAAkB,qBAAb7pD,EAAIkrD,KAA6B,CAACtrD,EAAG,MAAM,CAAC0E,YAAY,kBAAkB4oB,YAAY,CAAC,OAAS,SAAS,CAACttB,EAAG,MAAM,CAAC0E,YAAY,oDAAoD,CAAC1E,EAAG,6BAA6B,CAACQ,MAAM,CAAC,UAAYJ,EAAID,MAAM,QAAUC,EAAIwqD,wBAAwB7oD,SAASyC,GAAG,CAAC,MAAQpE,EAAImrD,cAAc,OAASnrD,EAAI6pD,eAAe,GAAGjqD,EAAG,MAAM,CAAC0E,YAAY,6BAA6B,CAAC1E,EAAG,6BAA6B,CAACQ,MAAM,CAAC,UAAYJ,EAAID,MAAM,QAAUC,EAAIwqD,wBAAwB7oD,QAAQ,KAAO,aAAayC,GAAG,CAAC,MAAQpE,EAAImrD,cAAc,OAASnrD,EAAI6pD,eAAe,MAAM,CAACjqD,EAAG,MAAM,CAAC0E,YAAY,4BAA4B,CAAC1E,EAAG,6BAA6B,CAACQ,MAAM,CAAC,UAAYJ,EAAID,MAAM,QAAUC,EAAIwqD,wBAAwB7oD,SAASyC,GAAG,CAAC,MAAQpE,EAAImrD,cAAc,OAASnrD,EAAI6pD,eAAe,KAAK,GAAG7pD,EAAIkH,MAAM,EAC98D,EACI1G,GAAkB,G,GCJ0Q,W,IAAiB,O,EAAyBR,EAAIorD,MAAAA,GAAyB,oB,OAAC,SAAG,YAAUxrD,iCAAU0E,CAAAA,EAAAA,kBAAY,gCAAc,MAAQvE,CAAuBK,iBAAM,gBAAC,YAAW,EAAE,UAA+B,GAAC,CAACF,MAAW,EAACF,YAASmF,MAAI,SAAW,GAAG,EAAC,mBAAS,C,KAAa,EAAC,c,YAASvF,e,GAA0BQ,MAAq4CA,EAAAA,KAA/3C,e,kBAAW,G,0BAAqD,G,YAAgC,EAAQA,GAAAA,CAAK,C,IAAwBkE,Y,GAAmBlE,UAAM,G,YAAqC,MAAM,CAACE,EAAG,OAAQ,GAACN,EAAM,GAACA,CAAuB,OAAQ,KAAM,GAAkB,SAAS,uBAACktB,eAAY,gCAAsB,QAAW,oBAAM,mBAAO,OAAgB5oB,KAAY,iBAAsC4oB,KAAY,QAAuB,cAAgB,0BAAO,IAAC9sB,MAAM,e,CAAC,OAAS,C,YAAkC,CAAC,aAAY,QAAG,kB,CAAQL,EAAAA,GAAAA,EAAWsrD,C,YAA+B,sC,YAAoBA,CAAwB,QAAC,YAAC3mD,gBAAW,QAAyB,MAAKqB,CAAiD,MAAU,YAAc,YAACZ,KAAK,GAAC/E,UAAM,I,MAAY,CAACgE,MAAG,uB,SAAQ,SAAC,G,EAAiB,qBAAyB,C,EAAC,qCAAiE,EAAI,GAAE,EAAExE,wBAAW,cAAC0E,OAAAA,EAAAA,GAAAA,EAAkB,CAAClE,IAAM,EAAC,MAAM,CAAI,UAAsD,GAAC,CAAC,MAAQJ,SAAIsrD,GAAa,oBAAM,IAA4BlrD,CAAAA,EAAM,kC,KAAC,IAAM,GAAC,QAAa,mBAAG,MAAKE,CAA0EgE,KAAAA,GAA8C1E,eAAS,qCAAgD,GAAEI,CAAsDI,MAAM,kBAAe,WAACF,YAAYF,O,MAAa,CAAYoF,KAAG,iB,EAAehF,GAAAA,QAAAA,EAAAA,GAAAA,EAAAA,UAAAA,MAAAA,IAAAA,EAAAA,MAAAA,CAAAA,EAAAA,MAAAA,C,YAAQ,iC,GAAC,MAAQR,C,YAA2F0E,oC,GAAmBlE,GAAAA,IAAM,sC,kBAA8B,I,YAAmE,KAAW,CAAC,C,IAAW,Y,GAACgE,UAAG,G,kBAA+F,gF,YAAS,O,MAAiB,C,QAC5zE,iB,eACA,6B,MACImnD,eAAoB,wBAAG,GAAC,CAA0IjnD,YAAY,SAAM,GAAQ,OAAPlE,EAAM,iBAAU,EAACJ,MAAI22C,MAAAA,KAAc,UAAC,EAA4C,MAAQ,YAA2C,iBAAc,E,iBAA+E,uGAAC,mBAAE,MAAC,CAA+D,yBAAQ,eAAO,6BAAiB,MAAW32C,eAA6E,wBAAY,IAAI,wBAA0B,OAAlB,EAAC,iBAA4BurD,EAAAA,MAAAA,MAAc,KAAK,cAAQ,gBAAqB3rD,GAAQ,GAAKU,CAAAA,EAAG,uBAA8B,GAAoDF,IAAO,MAAO,EAAC,aAAG,+DAACgE,MAAG,CAAC,MAAQ,I,GAA+C,CAAC,kBAAM,OAAC,iBAAuB,EAAmEhE,IAAiB,2FAAE,MAAK,CAAsJA,MAAM,I,GAAgE,CAAiB,kBAAIJ,OAAO,mBAAkG,I,CAAgCI,EAAAA,GAAAA,GAAM,qD,MAAC,CAAU,MAAC,K,GAAK,MAAQ,GAASyG,uBAAO,6F,MAAC,C,KAA+B,wDAAC,kBAAkF,GAAI,GAAE,kCAA4B,GAAU,EAAC,2CAACzG,MAAM,SAAC,MAAkB,OAACF,MAAYF,IAAyBoF,GAAG,CAAWhB,MAAE,YAAEhE,OAAAA,EAAAA,OAAAA,EAAO,I,GAAyCkE,GAAAA,GAAY,GAAM,kC,SAAClE,GAAK,EAAC,yB,mBAAiB,O,YAAuE,KAAW,CAAC,C,IAAW,Y,GAAE,UAAC,GAAoD,QAAI,IAA8BL,MAAOC,CAAG,EAAC+8C,aAAa,WAACt4C,YAAS,OAAgBzE,MAAI+8C,CAAiB,cAACr4C,eAAW,+BAAc,uBAAO,YAAa,cAA+CpE,aAAe,GAAKmH,GAAO+jD,GAAAA,CAAAA,EAAS,GAAC,cAA+IprD,IAAO,MAAO,cAAE,MAAC,CAAG,MAAC,eAAC,SAAQ,SAASyG,GAAQ7G,EAAI+8C,aAAe,CAAK,EAAC,4BAAqC38C,CAAAA,EAAK,KAAC,U,YAAS,c,CAAe,KAAM,YAAC,yHAAE,MAAC,CAAG,KAAC,IAAuB,IAAIJ,MAAO,SAAY,GAAmCI,EAAM,eAAC,I,CAAwD,KAAO,cAAcqrD,EAAAA,GAAAA,EAAS,CAAC,MAAC,CAAG,MAAC,eAAC,KAAO,IAAgB,GAAI,CAASrrD,MAAM,eAAyB,+CAAG,MAAK,CAAyDkE,KAAAA,GAA8ClE,eAAM,+BAAC,MAAO,SAAE,c,GAAuB,CAAmD,oB,CAAK,SAAQJ,CAAc,OAAIJ,KAAG,sBAAe,IAAM,IAAC,WAAiB,wB,YAAQ,kCAAI,OAAI,KAAII,GAAqBsE,MAAW,cAAmClE,eAAM,qC,GAAW,CAAqC,qB,CAAK,SAAQJ,CAAc,OAAIJ,KAAG,kBAAQQ,KAAM,SAA0B,GAAM,EAAC,aAAI,8CAAG,MAAKR,CAAeQ,KAAM,GAAC,MAAQJ,8B,GAA2C,CAAiB,qBAAoCsE,CAAAA,EAAAA,OAAY,CAAW,MAAMhE,CAAmNF,KAAM,kBAAC,KAAO,SAA0B,WAACgE,MAAG,CAAC,MAAQpE,EAAIgrD,uBAAc,cAAIhrD,YAAO,Q,CAA6C,OAAQ,SAAe,C,YAAQ,YAAG,gLAACoE,MAAG,CAAC,MAAQ,e,KAAqBsnD,IAA+B,IAAI1rD,MAAO,mBAE7tHQ,CAAAA,EAAAA,GAAAA,0BAAoB,QAExB,MAAS2D,C,uICP+LG,GAAAA,WAAsB,IAAGtE,EAAM,KAA8DsE,EAAAA,EAAAA,MAAY,GAAY,EAAOtE,MAAM,Y,OAAoG,EAAC,M,MAAC,CAA0B,OAAQ,EAAO,kBAACuE,WAAM,K,CAAyBE,EAAAA,GAAAA,EAAS,SAAe,C,YAAKknD,Y,CAAe,EAAC,mD,YAAW,QAAc,qFAAG,MAAOlB,CAAmGrqD,MAAM,gBAAC,MAAO,QAAwD,MAAME,CAA2HF,MAAM,cAAC,kBAAY,GAAG,eAACF,EAAqBiF,WAAW,iB,EAAe,cAAe,OAAoD,Q,MAAM,CAA2BV,UAAS,I,YAA4C,OAACC,IAAAA,QAAgC,cAAI1E,MAAQA,CAAG,EAACyqD,GAAAA,8BAAsC,EAA2DtlD,OAAIymD,K,MAAkC,C,MAA2B,EAAQA,oBAAY,qBAAG,EAAI,oBAAM,CAAG,EAAwDxrD,WAAM,wB,CAA0B,KAAM,EAAC,2BAAE,MAAC,+BAAG,IAAC,gBAAC,MAAO,CAAuB,cAAIJ,MAAO,KAAiC,EAAO,K,KAAiB,GAA1kB,aAA4B,qDAAE,O,MAAC,CAACkF,KAAM,yDAAQX,CAAAA,EAAK,GAAC,mGAA4hB,GAAG,yB,MAAC,CAAiF,uBAAG,KAAC,IAAwB,IAAIvE,MAAO,uBAEhpDQ,CAAAA,EAAAA,GAAAA,cAAoB,QAExB,MAAS2D,C,+KCWT,IAAqB0nD,GAArB,cAAwDnrD,EAAAA,GAAxDC,c,oBAOE,KAAAmrD,eAAgB,EAChB,KAAAH,YAAc,GACd,KAAAI,qBAAyD,CAqC3D,CAnCEC,YAAYC,GACV,OAAOC,EAAAA,GAAAA,IAAgBD,EACzB,CAEIE,2BACF,OACExF,EAAAA,GAAAA,MACA/kD,GAAAA,GAAAA,wBAEJ,CAEAwqD,iBAAiBR,GACf,OAAIA,EAAa/pD,OAASX,KAAKuqD,YAE1BG,EAAaS,sBAEXnrD,KAAKirD,qBACd,CAEApB,cACE7pD,KAAKM,MAAM,QAAS,IACfN,KAAK6qD,oBACR1iD,KAAMnI,KAAKyqD,cAGbzqD,KAAKorD,oBACP,CAEAA,qBACEprD,KAAK4qD,eAAgB,EACrB5qD,KAAKyqD,YAAc,GACnBzqD,KAAK6qD,qBAAsB,EAE3B7qD,KAAKM,MAAM,QACb,IA3CA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,sCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,gCAJYsoD,IAA0B,UAH9CnoD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEoJ,KAAIA,EAAAA,MAECqhD,I,YCfuS,MCO5T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCMhC,IAAqBU,GAArB,cAAiD7rD,EAAAA,GAAjDC,c,oBAsBE,KAAAo8C,cAAe,EACf,KAAAsO,qBAAuB,GACvB,KAAAK,wBAAmD,EACnD,KAAAN,mBAAoB,CAgJtB,CA5IErrB,UACExsB,SAASqmB,iBACP,8BACA14B,KAAKsrD,0BAGPtrD,KAAKo2C,uBAAwBC,EAAAA,GAAAA,IAC3B,IAAMr2C,KAAK0nD,mBAEf,CAEA5zB,YACEzhB,SAASwmB,oBACP,8BACA74B,KAAKsrD,yBAET,CAEAhwB,iBACEgb,EAAAA,GAAAA,GAA6Bt2C,KAAKo2C,sBACpC,CAEAgU,gBACEpqD,KAAKkqD,mBAAoB,CAC3B,CAEIqB,6BACF,OAAOvrD,KAAKupD,cAAc3nD,QAAO8oD,GAC/B1qD,KAAKkrD,iBAAiBR,IAE1B,CAEIc,6BACF,OAAOxrD,KAAKyrD,UAAU7pD,QAAOpB,GAC3BA,EACG6sB,cACA9hB,SAASvL,KAAKmqD,qBAAqB98B,cAActgB,QAAQ,KAAM,MAEtE,CAEI2+C,uBACF,QAAK1rD,KAAKnB,OAEHmB,KAAKurD,uBAAuB/9C,MACjCk9C,GACE1qD,KAAKnB,OACLmB,KAAKnB,MAAM8sD,eACX3rD,KAAKnB,MAAM8sD,cAAc9qD,WAAW6pD,EAAaiB,gBAEvD,CAEA7B,iBACsC,UAAhC9pD,KAAKwqD,wBACP1pD,EAAAA,GAAAA,sBAGFd,KAAKwqD,wBAAyB,EAE9BxqD,KAAKM,MAAM,iBACb,CAEAgrD,2BACMtrD,KAAK0nD,mBACH3jD,QAAQ,iCAAiC/D,KAAKuqD,cAChDvqD,KAAKqqD,eAAc,EAGzB,CAEAuB,SAASC,GACP7rD,KAAKmqD,qBAAuB,GAC5BnqD,KAAKM,MAAM,OAAQurD,EACrB,CAEAC,YACM9rD,KAAK0nD,kBACP1nD,KAAKwqD,uBAAyB,OAE9BxqD,KAAKM,MAAM,QAEf,CAEAyrD,aACM/rD,KAAK0nD,kBACP1nD,KAAKwqD,uBAAyB,QAE9B1pD,EAAAA,GAAAA,qBAEJ,CAEA+oD,YAAYvR,GACVt4C,KAAKM,MAAM,UAAWg4C,EACxB,CAEAsR,OAAOc,GACL1qD,KAAKM,MAAM,SAAUoqD,EACvB,CAEAL,cAAc2B,GAEThsD,KAAKnB,OACLmB,KAAKnB,MAAM8sD,eACX3rD,KAAKisD,yBAKRjsD,KAAKM,MAAM,eAAgB0rD,EAC7B,CAEAd,iBAAiBR,GACf,OAAIA,EAAa/pD,OAASX,KAAKuqD,YAE1BG,EAAaS,sBAEXnrD,KAAKirD,qBACd,CAEIA,2BACF,OACExF,EAAAA,GAAAA,MACA/kD,EAAAA,GAAAA,wBAEJ,CAEIurD,8BACF,OACEjsD,KAAKnB,SACHmB,KAAKnB,MAAMssD,sBAAwBnrD,KAAKirD,qBAE9C,CAEAiB,aACElsD,KAAK67C,cAAe,EACpB77C,KAAKM,MAAM,SACb,CAEAopD,aACE1pD,KAAKM,MAAM,aACb,IAtKA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,sCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,0CAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,uCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAnBYgpD,IAAmB,UAHvC7oD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEyqD,2BAA0B,GAAEloD,WAAU,KAAE6G,KAAI,IAAEzG,SAAQA,GAAAA,MAEjDwoD,I,YCxBgS,MCQrT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,qCCnBwSnoD,GAAG,W,IAAC,O,EAAyB,EAAO,MAAC,GAAqBipD,EAAAA,MAAAA,Y,OAA0B,SAAC,2DAAG,YAAUztD,CAAeQ,OAAM,S,CAA2B,qBAAe,gC,MAAC,CAA+B,iBAAiBktD,EAAAA,UAAa,cAAC,YAAY,SAAQlpD,GAAG,CAAC,MAAQ,e,MAAqBkpD,SAAW,GAAQ,uBAAE,KAAsBnoD,EAAI,kBAAW,C,MAAI,C,QAAmBnF,EAAI0K,YAAc,UAAC,EAACxF,aAAM,gBAAM,aAAU,gBAAItF,YAAY,G,GAAQ,CAAU,kBAAM,EAAC,aAAc,CAACQ,GAAkB,YAAC,OAACwK,IAAAA,YAAU,cAAyB,MAAO5K,CAAAA,EAAIutD,GAAAA,WAAwC,EAAC,WAAM,MAAC,IAAyEjpD,CAAAA,EAAAA,GAAAA,EAAW,CAAuB,MAAK,CAAUlE,MAAM,KAAiB,SAACgE,MAAG,CAAC,MAAQ,GAAgB,SAAK,CAAShE,MAAM,YAAC,OAAO,oBAAU,qBAAC,IAA6D,2DAAE,YAAY,uBAACA,CAAAA,EAAK,KAAC,C,MAAC,CAAiB,MAAO,OAAO,GAAG,CAAcA,OAAM,c,CAAkB,OAAQ,C,MAAS,CAA0C,gBAAIR,MAAS,UAAEQ,eAAM,+B,CAAsB,SAAO,CAAI,OAAI,KAAO,UAASA,KAAM,SAAgB,KAAO,KAAC,C,MAAO,CAAwC,eAAIR,MAAS,SAAEQ,eAAM,8B,CAAmB,SAAO,CAAI,OAAI,KAAO,cAASA,KAAM,SAAe,KAAO,KAAM,C,MAAC,CAAuC,aAAIR,MAAS,OAAEQ,eAAM,4B,CAAmB,SAAO,CAAI,OAAI,KAAO,WAASA,KAAM,SAAsB,KAAO,KAAC,C,MAAc,CAA+C,YAAIR,MAAS,MAAEQ,eAAM,2B,CAAkB,SAAO,CAAI,OAAI,KAAQ,WAAyCA,KAAM,SAA4B,KAAO,KAAC,C,MAAmB,CAAgD,mBAAIR,MAAS,cAAEQ,eAAM,mC,CAAkB,SAAO,CAAI,OAAI,KAAIJ,UAAqBI,KAAM,SAAsB,KAAQ,2BAAiB,Q,MAAC,CAA0C,yBAAIR,MAAS,mBAAEQ,eAAM,oC,CAAyB,SAAO,CAAI,OAAI,KAAO,UAASA,KAAM,SAAsB,KAAQ,YAAgB,C,MAAC,CAA8C,mBAAIR,MAAS,kBAAEQ,eAAM,8B,CAA4B,SAAO,CAAI,OAAI,KAAO,iBAASA,KAAM,SAAwB,KAAO,KAAC,C,MAAe,CAAgD,mBAAIR,MAAS,iBAAEQ,eAAM,kC,CAA2B,SAAO,CAAI,OAAI,KAAO,oBAASA,KAAM,SAAmB,KAAO,KAAC,C,MAAU,CAA2C,qBAAIR,MAAS,eAAEQ,eAAM,oC,CAAsB,SAAO,CAAI,OAAI,KAAO,mBAASA,KAAM,SAAoB,KAAO,KAAC,C,MAAW,CAA4C,gBAAIR,MAAS,UAAEQ,eAAM,+B,CAAmB,SAAO,CAAI,OAAI,KAAO,cAAekE,KAAAA,SAA8GlE,GAAM,Q,MAAC,CAAa,iBAAIR,MAAG,WAA+C0E,eAAY,gCAA0HA,CAAAA,EAAAA,OAAY,CAAY,MAAK,CAAOA,KAAAA,WAAoC1E,KAAG,SAAuB,QAAQ,GAAM,S,YAASI,4C,CAAiB,mBAAe,gBAA2B,C,MAAC,CAA8B,gB,CAAK,QAAYwtD,CAAAA,EAAAA,GAAAA,GAAAA,CAAiB,gCAAG,CAAExtD,EAAIytD,GAAAA,UAAc,EAAE7tD,GAAAA,GAAW,mDAAC0E,YAAY,aAAOlE,CAAAA,EAAK,MAAC,C,YAAW,uB,CAAI,OAAQ,CAAE,MAAC,CAAG,MAAC,OAAC,MAAQJ,EAAI0tD,QAAAA,KAAU,2CAAI1tD,MAAO,qBAAsEI,GAAAA,CAAO,MAAQ,uBAA4C,iBAAoBob,EAAAA,GAAAA,EAAS,C,YAAO,O,MAAgD,CAAqB,SAAO,GAAgG,MAAQ,IAAyBpX,GAAG,CAAC,MAAQpE,EAAI2tD,aAAkB,CAAC/tD,EAAG,sBAAW,mBAACQ,YAAM,O,MAAC,CAA8B,MAAQ,aAAW,YAAYwtD,iBAAsB,8BAAG,eAAC,iCAAC,kBAAiB/mD,G,KAAQ,gGAAiD,6BAAI,GAAG,CAAQvC,MAAW,EAAC,mBAAkElE,EAAK,KAAC,C,MAAC,CAAe,MAAQJ,EAAI6tD,kBAAY,MAAQ7tD,WAAwE,MAAQ,yBAAoBoE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAI8tD,mBAAmB,aAAgC,KAAKluD,EAAG,OAAkBQ,YAAM,4C,CAAC,OAAc,C,MAAC,CAAwB,UAAYwtD,GAA8D,MAAQ,cAAa,mEAAG,MAAC,oB,GAA0B,CAAwD,kBAAC,sDAAIhuD,KAA0B,OAAQ,C,MAAc,CAAsE,aAAG,MAAC,cAAC,QAAQ,eAAe,OAAC,+B,MAAQI,cAA8C,IAAIJ,MAAG,SAAQ,GAACQ,OAAM,yCAAC,KAAyB,QAACgE,MAAG,CAAC,MAAQ,c,QAAwBpE,EAAI8tD,aAAAA,OAAmB,eAAe,aAAC,IAAI9tD,MAAO,YAAqEsE,OAAW,EAAC,mCAAyC1E,KAA4B,OAAQ,C,MAAc,CAAyC,SAAO,GAA0B,UAAqC,GAAC,CAAG,MAAC,YAAC,OAAQ,qBAAgB,W,IAA0D,uEAAG,YAAI,wCAAkBQ,CAAAA,EAAK,KAAC,C,MAAC,CAAsB,MAAQJ,cAAiC,MAAQA,EAAI+tD,aAAQ,gBAAC,+BAAgB,UAAY,GAAG,oB,GAAK,C,MAAgC/tD,SAAI8tD,GAA6C,gDAAC,KAAyB1tD,EAAK,KAAC,C,MAAC,CAA4C,MAAQJ,cAA6C,MAAQA,EAAIguD,aAAAA,QAAkB,QAAC,MAAO,WAA0D,UAAW,EAAI,c,GAAK,C,MAAgChuD,SAAI8tD,GAAmD,gDAAC,KAA+CxpD,EAAAA,GAAAA,EAAY,CAA2B,MAAO6nD,CAAyC/rD,MAAM,oCAAC,MAAQJ,EAAIiuD,aAAAA,QAAAA,eAAAA,GAAa,2BAAG,KAAC,0DAAC,UAAYC,IAAqB,GAAG,CAAS5pD,MAAW,SAAC,GAAStE,OAAO,qBAAqBJ,wBAAS,EAAC0E,MAAsDA,GAAAA,EAAAA,KAAY,GAAM,yBAAClE,YAAM,4B,CAAC,uBAAwBiH,CAAAA,EAAM,cAAI,C,MAAa,CAAW,sBAAwFjH,GAAAA,CAAO,MAAQJ,EAAI4tD,sBAAuC,EAAC,Q,YAAS5tD,QAAgB,kCAAG,YAAI,uBAAgBI,CAAAA,EAAK,cAAC,C,YAAS,O,MAAoB,CAAgC,oBAAe,qBAA+B,aAAK,gBAAY+tD,EAAAA,qBAAAA,EAAAA,iCAAAA,CAAY,OAAI,MAAO,EAAI,qBAAe,c,GAAQ,CAA4B,MAAQnuD,EAAI4tD,gBAAsB,EAAC,M,MAAC,CAAyB,0BAAIhuD,MAAQ,EAAI,aAAI,OAAwCQ,eAAM,gC,GAAyC,CAA0C,MAAO,mBAAoG,OAAQJ,EAAI4tD,GAAAA,EAAY,C,MAA0C,CAAc,0BAAG,MAAC,sB,GAA0B5tD,CAKppO,yBAAKJ,EAAG,8BAAiB,QAAC0E,MAAAA,CAAmBlE,MAAM,8BAAC,MAAQJ,kCAA6C,KAAO,+EAAiC,kBAAO,GAAiE,qBAAoB,yCAAC,SAAW,IAAmE,GAAC,CAAG,MAAC,YAAC,qBAAuB,2CAAC,wC,KAKzV,QAAG,YAAI,OAAkBsE,MAAAA,CAAmBlE,MAAM,2CAAC,MAAQJ,gCAAoB,KAAO,iEAAkC,kBAAO,GAA6G,qBAAoB,wCAAC,SAAW,IAA6E,GAAC,CAAG,MAAC,YAAC,qBAAuB,0CAAC,wC,KAKvX,QAAG,YAAUA,OAAwCI,MAAM,CAAC,MAAQJ,EAAIouD,gBAAY,MAAQ,iCAAe,KAAO,6GAAmC,kBAAO,GAAyC,qBAAkB,kDAAG,a,GAAK,C,MAAgCpuD,SAAI8tD,GAA8C,iHAAC,KAAqBxpD,EAAAA,KAAW,GAAC,GAAM,0BAAClE,MAAM,CAAC,MAAQ,cAAmB,MAAQJ,eAAwB,qBAAiB,iBAAC,KAAO,yCAA4E,kBAAW,IAAMoE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAI8tD,mBAC1jB,qBAED,KAAKluD,EAAG,MAAcQ,YAAM,O,MAAC,CAAsB,yBAA6E,4BAAkB,kBAAG,MAAC,mEAAC,UAAS,G,GAA4E,CAAC,kBAAM,OAAC,qBAAa,gDAACA,KAA2D,OAAa,C,MACxR,CAAkB,oBAAG,cAAC,yDAAC,eAAS,I,GAA2F,CAAC,mBAAM,OAAC,qBAAa,uBAACA,KAAuC,OAAa,C,MAA+B,CAAkB,kDAAG,cAAC,wEAAC,eAAS,I,GAAwE,CAAC,mBAAM,OAAC,qBAAa,sCAACA,KAAuC,OAAO,C,MAAmG,CAAqB,8BAAyF,0CAAG,eAAC,I,GAA2B,CAAuE,mBAAC,+CAAIR,KAAwB,OAAQ,C,MAAgC,CAAsG,8BAAqB,wGACp4B,qBAAG,cAAC,sE,GAA2B,CAA0E,mBAAC,+DAAIA,KAA+BA,EAAG,KAAUU,CAAyCF,MAAM,CAAC,MAAQ,gCAAyC,oGACnQ,kBAAe,GAAG,0F,GAAK,C,OAAiCJ,SAAI8tD,GAAwD,kEAAC,KAG/I1tD,EAAK,MAAC,C,YAAS,Q,CAAoB,OAAQ,CAAC,0BAAsB,Q,MAAC,CAAkB,MAAQJ,yCAEtG,cAAW,sEAAK,mB,GAAK,C,OAAgCA,SAAI8tD,GAG/D,2DAAC,KAAuDxpD,EAAAA,aAAkB,uDAAwOy2B,EAAAA,KAAxO,SAAC36B,MAAM,CAAC,0BAAoC,MAAQJ,CAAAA,uBAAmC,kBAAG,MAAC,8EAAC,UAAQ,G,GAA2E,CAAC,kBAAM,OAAK,EAACA,mBAAkB,sDAAC86B,OAAiC,GAAQ,oC,YAAY6gB,O,MAAkBj3C,CAA8B,gCAAI9E,MAAG,eAAuB,mB,GAAS,CAAkC,MAAS,SAAC,GAAQ,kDAAI,MAA2ByJ,IAAK,KAAM,c,WAAS,EAAStJ,KAAK,OAAyB2E,QAAAA,SAA+B,uBAAI9E,WAAG,sB,CAAgC,0BAAyB+Q,C,MAAS,CAAmB,8BAAI,QAASgrC,aAAiD,KAAO,MAAKiS,C,WAA6B5tD,CAAG,CAAM,YAAwC,iBAAkB,wBAAG,WAAC,uB,GAA0B,wBAAW8tD,C,MAA4C,CAAC,8BAAI,QAAQ5mD,cAA0D,GAAY0mD,SAAZ,EAAQ5tD,IAAiBy0B,EAAAA,MAAAA,CAAW,e,MAAC,CAAgB,qBAAqBu5B,SAAmB,OAAW,KAAM,sCAAG,SAAC,Q,GAA0B,CAA0D,kBAAC,6CAAI,MAAsFhuD,GAAM,EAAC,KAAqB,QAArB,MAAyB,EAAM,MAAC,gBAACsE,MAAAA,CAAsCtE,MAAOA,EAAM,aAAKquD,YAAkCjuD,KAAM,OAAC,iBAAgB,qBAAiC,gBAAwBA,GAAAA,CAAO,MAAQJ,SAAI4tD,GAAwB,SAAW,uCAAM,MAAK,KAAQ,KAAgB,eAAhB,EAAS/mD,IAAO,kB,YAAQ7G,a,CAAkD,qCAAC,qCAAI,GAAG,GAACA,EAAIkH,GAAI,EAAElH,iBAAIsuD,EAAAA,aAA+B,CAAOxzB,MAAAA,CAAazxB,gBAAW,kCAAkBtJ,GAAK,EAAEC,YAAY,C,MAAoB0E,CAAyC,gCAACJ,SAAY,OAAqElE,GAAAA,CAAO,MAAQJ,SAAI4tD,GAA6B,4BAA0BA,aAAalsD,GAAAA,GAAK,MAAK,KAAQ,OAASmF,2BAAO,S,WAAQ7G,CAAAA,CAA+D,YAAC,iBAAI,MAAgB,qBAAZA,EAAIkH,IAAe4zB,WAAY,+B,YAAqB,iC,CAAS/6B,EAAAA,+BAAgC,C,MAAC2E,CAAmC,qCAACJ,sBAAY,qBAA6HlE,GAAAA,CAAO,MAAQJ,SAAI4tD,GAAwB,oDAAG,M,GAA2B,EAAO5tD,KAAI8tD,EAAAA,MAAAA,C,WAAwC,EAAC,YAAIluD,QAAQ,SAAoGQ,MAAM,qBAAC,WAAW,yBAAuCgE,YAAG,6B,CAAC,KAAO,0DAAiB,6B,MAAC,CAA0D,iCAAI,GAAG,CAAY02B,MAAU,SAAE,GAACzxB,OAAK,EAAM,kCAAC0xB,KAAkDr2B,EAAAA,MAAU,EAAC,8FAAsB,MAAC,CAAI9E,MAAG,kCAAmC,I,GAAQ,CAAwB,kBAAM,OAAK,EAAK,mBAAC,sBAACk7B,MAAyBC,GAAAA,EAAO,MAAC,C,WAAmB,CAAC4gB,CAAwBj3C,KAAAA,OAAqC,iBAACJ,MAAY,eAAZA,EAAY,IAA8B1E,WAAG,0B,CAAoC,qCAAyBmc,CAAY,OAAI,MAAO,EAAK,iBAAe1S,GAAI,EAAC,MAAM,C,WAAS,EAAStJ,KAAK,OAAyB2E,QAAAA,SAA+B,6BAAI9E,WAAG,2B,YAA8B,6B,CAAgC,8BAAyBqc,C,MAAQ,CAA4C,sCAAK,KAAQ,MAAKsyC,CAAqB,WAAC,EAACruD,KAAAA,OAAqBiF,QAAI,SAAqBC,MAAa,YAAV,M,WAAmBpF,uB,CAAuFkF,EAAAA,sBAAM,CAAI,MAAE,CAACC,aAAI,mBAA+BC,MAAG,eAAU,Q,kBAAgB,yB,GAAoEF,CAAW,OAAC,yB,YAAiC,KAAU,E,IAAC,qBAAmN,GAAC,WAACA,MAAM,oFAAM,EAAItF,OAAG,GAAuBQ,CAAO,mCAA8B,cAAiC,YAAiB,kBAAKouD,EAAAA,IAAAA,CAAAA,EAAAA,GAAAA,oBAAAA,EAAAA,GAAAA,MAAsB,EAAG,OAAC,GAAC,CAAmC,6BAACtuD,GAAAA,WAAqBiF,MAAI,aAAoB,qLAACC,E,OAAc,OAAqEF,EAAAA,sBAAM,CAAI,MAAE,CAACC,aAAI,iBAA+BC,MAAG,eAAU,Q,kBAAgB,yB,GAA4FF,CAAW,OAAC,yB,YAAiC,KAAU,E,IAAC,qBAA6N,GAAC,WAACA,MAAM,0DAAM,EAAItF,OAAG,GAAuBQ,CAAO,mCAAqC,cAAiC,YAAiB,kBAAKouD,EAAAA,IAAAA,CAAAA,EAAAA,GAAAA,4CAAAA,EAAAA,GAAAA,MAAsB,EAAG,OAAC,GAAC,CAAmC,6BAACtuD,GAAAA,WAAqBiF,MAAI,aAAoB,+LAACC,E,OAAc,OAAmEF,EAAAA,sBAAM,CAAI,MAAE,CAACC,aAAI,wBAA+BC,MAAG,eAAU,Q,kBAAgB,yB,GAAmFF,CAAW,OAAC,yB,YAAiC,KAAU,E,IAAC,qBAAiJ,GAAC,WAACA,MAAM,uDAAM,EAAItF,OAAG,GAAuBQ,CAAO,mCAAuC,cAAiC,YAAiB,kBAAKouD,EAAAA,IAAqB,oDAAC,EAA0B,UAAG,CAAE,6BAAmC,cAACtuD,MAAW,GAACF,OAAQ,2HAACmF,EAAyBC,OAAG,OAAmE,EAAC,uB,MAAM,CAAO,uCAAIxF,MAAG,eAAsB,QAACQ,kBAAM,wBAAC,qBAAa,G,GAAoD,CAA4C,gCAA2BgE,YAAG,OAAC,yBAAmC,cAAClE,MAAW,GAAI,GAAG,yCAAGiF,EAAyBC,OAAG,OAA6E,EAAC,uB,MAAM,CAAO,gCAAIxF,MAAG,eAAsB,QAACQ,kBAAM,wBAAC,qBAAa,G,GAAoD,CAA4C,gCAA2BgE,YAAG,OAAC,yBAAmC,cAAClE,MAAW,GAAI,GAAG,mDAAGiF,EAAyBC,OAAG,OAA+F,EAAC,uB,MAAM,CAAO,gCAAIxF,MAAG,eAAsB,QAACQ,kBAAM,wBAAC,qBAAa,G,GAAsD,CAA4C,gCAA2BgE,YAAG,OAAC,yBAAmC,cAAClE,MAAW,GAAI,GAAG,qEAAGiF,EAAyBC,OAAG,OAA8E,EAAC,uB,MAAM,CAAO,kCAAI,MAAQ,EAAC,qBACj4N,0CACG5E,qBAAoB,G,+LC/BoBZ,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAuB,oB,OAAC,QAAYG,CAAAA,EAAAA,YAAW0uD,CAAY,MAAC,CAAG,MAAC,2BAAuB,IAAGzuD,MAAW,EAACD,a,EAAqF,GAACwQ,EAAAA,MAAQ7O,KAAI,4B,OAAM,EAAC,2B,IAAC,EAAQ6O,K,MAAQ,CAAU,MAAQ,EAA0B,QAA6B,yBAAqBm+C,KAAO,yBAAG,2BAA8C,IAAG9uD,GAAG,QAAQ,CAACQ,YAAM,oB,CAAC,OAAO,C,MAAG,CAAU,QAAoD,QAAG,eAAC,sCAAuB,IAAIJ,MAAO,e,CAA8C,KAAM,2BAAG,Q,MAAC,CAAU,QAAG,KAAC,IAAsB,IAAIA,MAAO,c,CAAoD,KAAM,kBAAG,mB,MAAC,CAAU,QAAG,KAAC,IAAwB,IAAIA,MAAO,gBAErzBQ,CAAAA,EAAAA,GAAAA,aAAoB,cAExB,E,SCJ4R,W,MAAsBmuD,K,EAA2B,WAAC,oBAAC,OAAG3uD,EAAIkH,MAAO,CAAC,sBAAM,gCAACd,MAAMpG,CAAgBJ,YAAG,SAAaQ,iBAAM,mC,GAA0C,CAAoC,sBAAG,MAAC,YAAC,uBAAyB,C,KAAwC,gBAACF,MAAAA,EAAW,W,CAAUiF,EAAG,YAAQ,C,MAAI,C,SAAqB,EAAC,eAAM,S,cAAa,mB,WAA6G,YAAC,OAAO,EAACpF,gBAAkB,EAAK,M,eAAsE,O,eAAiD,W,MAAEG,CAAAA,EAAAA,MAAe,C,YAAU,qD,MAAe,C,eAAa,qC,CAAU,YAAF,EAAE,oD,MAAC,C,WAAkCoE,G,0BAAyB,E,aAAQ,O,YAAoB,EAAO,GAAE,E,mBAAgC,aAAC,EAAC,M,UAAkE,mBAAG,YAAK,cAAQ,MAAO,QAAkB,SAAM,KAAMsqD,GAAcnqD,MAAS,0BAAqC,4BAACC,MAAU,CAAe,wBAAiBJ,GAAwC4oB,IAAa,MAAO,EAAC,Y,MAAQ,CAAgB,qBAAIttB,SAAG,SAAgB,GAAK,EAAI,aAACivD,CAAsBzuD,EAAO,WAAUJ,iB,CAA8C,QAAkC,YAAC,4BAACoE,YAAG,CAAC,MAAQ,Q,OAAqBwqD,UAAqB,qBAAG,IAAI,EAAG,sBAAuBtqD,MAAAA,CAAiDlE,QAAM,QAAC,eAAc,iBAAQ,gC,GAAW,CAAwB,kBAAI,iBAAC,MAAmD,yB,YAAW,qCAAiC,OAAKJ,YAAI8uD,SAA8F1uD,SAAM,CAAC,MAAQJ,EAAI+uD,MAAAA,O,GAAsD,CAAW,eAAiB,GAAC,mBAAsD,EAAG,SAAC,kCAAoC,0BAAG,YAAW/uD,4CAA2DsE,MAAAA,CAAwDlE,MAAM,oBAAC,MAAQJ,EAAID,wBAAmB,MAAQC,GAAiB,eAAU,GAAC,eAAe,wCAAwD,GAAC,CAAG,MAAC,6BAA8B,gDAAG,YAAW,4CAA+BI,MAAM,CAAC,QAAW,MAAE,aAAC,qBAA+B,SAAmB,kBAACF,eAAgBsnB,wC,GAAuB,C,MAAc,uBAAS,EAAC,iBA6Dp2D,OA7Do2D,c,MAAC,C,WAAwC,G,0BAAgB,E,aAAQ,O,YAAc,EAAQ,K,mBAAmE,aAAC,EAAC,M,UAAkE,GAAM,KAAC,WAAI,OAAI,MAAI,iBAAQ,KAAM,GAAkB,MAAS,eAACljB,eAAY,wCAAmC,QAAc,GAAC,iBAAqC,OAAO,mBAAcA,KAAY,SAA0B,GAA0D,IAA8D,QAAc,aAAI,SAACF,YAAG,4B,MAAC,CAAsD,uDAA4ChE,CAAAA,EAAK,KAAC,C,YAAS,Y,MAAY,CAAoC,+DAAG,gBAAC,4CAAC,eAAS,I,GAA8D,CAAC,sDAA2CkE,EAAAA,mBAAuB,QAAClE,MAAM,CAAC,MAAQ,YAAyD,QAAa,MAAGJ,QAAIgvD,WAA4C,GAAC,CAAG,OAAC,YAAC,OAAQ,EAAI,cAACC,EAAAA,YAA+C,KAGrlH7uD,EAAM,sB,YAASJ,YAAiC,MAAC,CAAG,MAAC,yDAAC,gBAAQ,EAAS6G,2B,eAAmBqoD,IAAyC,IAAI,OAAS,EAAElvD,mDAAyEA,EAAIM,KAA+B,cAA5B,gBAAsB,MAAsB,+EAACF,MAAM,CAAC,MAAQJ,EAAID,MAAMc,QAAQsuD,iB,GAE7S,CAAe,kBAAI,2CAAC,M,EAEpDtoD,KAASA,gBAAH,EAAGA,MAAAA,QAAAA,KAAAA,CAAAA,EAAAA,KAAAA,C,YAEZ,Q,CACD,iDAAC,OAAI,MAAO,EACf7G,MAAID,QAAMc,kBAAiB,OAAa,KACnC,EAACd,MAAMc,QAAQgB,mBAAmB,GACjC9B,GAC8BK,MAAM,oBAAC,UAAWiD,I,GAAyB,CAA0C,kBAAI,wBAAC,IAAQ,GAAiB,oBAAmD,MAAgD,OAAyB+rD,gBAAzB,QAAqBpvD,QAAIovD,MAAAA,aAAAA,EAAAA,MAAAA,QAAAA,MAAAA,eAAAA,EAAAA,MAAAA,QAAAA,KAAAA,CAAAA,EAAAA,+BAAAA,CAAkB,OAAI,KAAO,EAAIpvD,KAAyDI,QAAM,QAAC,MAAQ,gBAAgB,iB,GAEhV,CAAkB,kBAAI,2CAAC,EAAuC,0CAAIR,mBAAc,yBAAQ,OAAuB,eAAf,gBAAe,c,MAAC,CAEpH,uBAAkB,2IAAG,eAAC,IAA0C,IAAI,OAAS,EAAEI,8BAAmFA,EAAG,KAAI,CAAmDsE,MAAAA,CAAkClE,MAAM,gBAAC,MAAQ,gBAAa,yHAAC,eAAYL,IACvSqE,GAAG,CAAC,OAAQ,mC,EAE9D,KAAqBirD,0BAAdtvD,EAAK,MAACc,QAAQwuD,KAA2B,S,YAC1CxoD,Q,GACP,GACD,mCACD,e,YAAA,sBAAC,OAAIjH,MAAG,cAAkC0E,MAAW,EAAC,cAAgB,+E,GAAQ,CAC1B,kBAAI,2BAAQ,EAAC,cAAe,4BAAE,KAAOtE,GAAIkvD,IAE1F,8B,KAIH,oCAAC,6BAAG,MAAK,CAA2D9uD,MAAM,+F,GAAqB,CAA0C,kBAAI,2BAAQ,EAAC,cAAe,4BAAE,KAAOJ,GAA4C,8BAAC,MAAkFI,EAAM,qD,MAAC,CAAsC,gBAAG,MAAC,iC,GAA0B,CAA+C,kBAAC,2CAAI,MAAyF,OAA0BkvD,SAAf,EAACvvD,MAAMc,QAAQyuD,KAAAA,CAAAA,EAAAA,2BAAAA,CAAY,MAAC,CAAG,MAAC,6B,GAA0B,CAAgD,kBAAC,uCAAI,MAAuF,OAA0BC,YAAf,EAACxvD,MAAMc,QAAQ0uD,KAAAA,CAAAA,EAAAA,4BAAAA,CAAY,MAAC,CAAG,MAAC,8B,GAA0B,CAAgD,kBAAC,wCAAI,MAI3yB,OAA0BC,UAAf,EAACzvD,MAAMc,QAAQ2uD,KAAAA,CAAAA,EAAAA,4BAAAA,CAAY,MAAC,CAAG,MAAC,8B,GAA0B,CAAgD,kBAAC,wCAAI,MAA2GpvD,EAAM,qI,MAAC,CAAW,MAAQJ,EAAIyvD,MAAAA,QAAW,cAE7S,GAAC,CAAG,MAAC,YAAC,OAAQzvD,EAAI0vD,cAAAA,EAAAA,eAAgB,MAAuGtvD,EAAM,oE,YAASJ,OAAmC,MAAC,CAAG,MAAC,GAAC,MAAQ,c,MAAwBA,EAAIkvD,MAAAA,QAAcroD,eAAQ,QAAmB,QAAC,2BAAC,IAAI,MAAO,EAAI7G,qBAA0D,OAAmB,wBAAX,QAAW,kD,MAAC,CAC1U,cAAe,2BAAIoE,GAAG,CAAC,MAAQ,SAAKurD,GAA0B,6CAAI,MAAkG,OAA0BC,SAAf,EAAC7vD,MAAMc,QAAQ+uD,KAAiB,S,MAAC,CAAoB,kBAAG,MAAC,mEAAC,eAAQ,I,GAAsE,CAAC,wCAAsGxvD,EAAM,+E,MAAC,CAA2C,MAAS,EAACJ,MAAID,QAAAA,kBAAM,iB,GAAK,C,MAAgCC,SAAIkvD,GAAyC,6CAAC,MAAiG9uD,EAAM,sF,MAAC,CAA6C,MAAS,EAACJ,MAAID,QAAAA,iBAAM,iB,GAAK,C,MAAgCC,SAAIkvD,GAA2C,4CAAC,MAAkF9uD,EAAM,iF,MAAC,CAAsC,yCAAG,QAAC,S,GAA0B,CAA+C,kBAAC,8CAAI,MAA8EJ,EAAM,KAAoB,SAAnB,QAAe,QAAI,KAAgB,+BAACI,MAAM,CAAC,MAASJ,EAAID,MAAMc,QAAQgvD,a,GAGzsC97C,C,MAA2B,YAAa,OAC1C,gC,MAAyD,EACzD,6C,YAAQ,Q,GAAiBhU,GAAK,gBAAE,mB,MAAgB,CAChD,mFAAG,MAAC,EAAC,KAAO,aAAoB,mBAAKC,CAAkFsE,KAAAA,qBAAwBlE,MAAM,oBAAC,CAAkC,qBAAwC,wB,GAAuB,CAAuC,4BAAkDkE,EAAAA,KAAY,YAQ7N,OARwO,4CAAClE,YAAM,Y,MAAC,CAAqC,gCAAyE,gBAAe,sBAAG,mB,GAAK,C,OAAiCJ,EAAI8vD,8BAMrhB,+BAAG,YAAS,YAACxrD,MAAAA,CAAqBtE,MAAO,6BAA+CI,cAAM,qDAAC,eAAY2vD,IAA+D,GAAC,CAAG,OAAC,YAAC,OAAQ,8BAAgB,+D,KAAqD,QAAG,YAAW,QAAgPzrD,CAAAA,EAAAA,GAAAA,2BAAY,mBAAsB,MAAK,CAAkBA,MAAW,EAAC,wBAAiDlE,MAAM,+B,GAAyC,CAEtoB,MAAQ,SAAE,GAAC,qCAAiB,IAAC,MAAoE,0KAACgE,YAAG,uB,CAAC,OAAY4rD,CAA4B,6DAAG,MAAI,CAAc5vD,MAAM,8BAAC,MAAO,kHAAY,SAAG,eAAC,GAAC,eAAQ,uC,SAA2B,IAAkC,IAAI,MAAKJ,EAAM,gCAAuHI,EAAK,aAAC,C,MAAC,CAAsB,KAAO,aACragE,GAAG,CAAC,MAAQpE,SAAIiwD,GAAc,yCAAI,MAGnC,GAJsF,mDAIhF,EAAI,KAAK,uF,YAAWjwD,O,MAAU,CAA0C,kBAAG,MAAC,mE,GAA0B,CAAmD,MAAC,qBAA+C,OAAyBkwD,SAAzB,QAAqBlwD,QAAIkwD,MAAAA,aAAAA,EAAAA,MAAAA,QAAAA,KAAAA,CAAAA,EAAAA,+BAAAA,CAAkB,OAAI,KAAO,EAAGtwD,KAAyEQ,QAAM,QAAC,MAAQ,iCAA6C,GAAC,CAACmE,MAAM,YAACxE,OAAOC,EAAImwD,cAAAA,EAAwB,kBAAC1rD,E,oBAA6B0rD,EAAAA,oBAA2B,mBAAC,yBAAqC,gEAAG,MAAMA,CAAyC7rD,MAAW,4BAAqClE,eAAM,IAAmB,OAAIJ,MAAO,EAAG,wBAA6GsE,SAAW,SAAC,GAAsB,EAAC,wBAAa,CAAClE,EAAO,WAAWJ,6BAAuD,0BAAwBowD,CAAAA,EAAAA,WAAkB,C,YAAC,oCAAiB,MAAC,CAAG,YAAC,I,GAA2B,OAAWC,EAAAA,GAAAA,EAAAA,2BAA6B,QAAqB,yCAAuP,OAAvP,U,YAAA,mBAAC,SAAG,MAAK,CAAoB/rD,SAAY,sBAAoB1E,MAAG,uBAAcQ,cAAM,2BAAC,eAAQ,I,GAAmD,CAAkB,mBAAI,qDAAC,MAAgF,aAAC,+BAAI,GAAG,KAAS,CAAwCkE,MAAAA,CAAmBlE,MAAM,eAAC,cAAYkwD,EAAAA,MAAAA,YAAe,eAAYvwD,IAAsBqE,GAAG,CAAC,OAAQpE,SAAIuwD,GAAmB,8CACp/CvwD,MAGyD,KAAO,KAAKD,CAAAA,EAAMc,GAAAA,YAAQ2vD,EAAAA,gBAAAA,CAAW,YAAC,OAACpsD,MAAG,CAAC,MAAQpE,EAAIywD,eAAiB,8BAA4DrwD,GAAAA,CAAO,MAAQJ,EAAI0wD,uBAAkB,SAAD,EAAC,0I,MAAC,CAA0B,mCAAsCtwD,GAAAA,CAAO,MAAQJ,EAAID,sBAA4B,iD,MAAC,CAA4B,uBAAwCK,GAAAA,CAAO,MAAQJ,EAAID,kBAAiC,EAAC,+B,MAAC,CAAkC,MAAQ,EAAI,MAAC4wD,QAAAA,WAAwB,GAAG,CAAkDvwD,MAAM,sBAAe,kCAA8B,C,MAAC,CAAmB,uC,GAAsB+E,CAAgBC,MAAG,wB,OAAa,4BAAS,IAAC,iC,MAAC,C,WAAwC,G,0BAAgB,E,aAAQ,O,YAAc,EAAQ,K,mBAAmE,aAAC,EAAC,M,UAAkE,GAAM,KAAC,WAAI,OAAI,MAAI,iBAAQ,KAAM,GAAkB,MAAS,eAACd,eAAY,wCAAmC,QAAc,GAAC,iBAAqC,OAAUwqD,KAAAA,cAAkCxqD,KAAY,SAA0B,GAAwE,IAA8D,QAAc,aAAI,SAACF,YAAG,4B,MAAC,CAAsD,uDAA2CE,CAAAA,EAAAA,gBAAqSA,EAAAA,KAA9Q,QAAClE,YAAM,Y,MAAC,CAAoE,6EAA+C,gBAAe,4CAAG,mB,GAAK,CAA4D,sDAA4E,SAAM,QAACA,YAAM,Y,MAAC,CAAW,MAAQJ,4DAAmB,gBAAYD,EAAMc,2BAC/uD,mB,GAAK,CAAmC,4DAAsCT,EAAM,8C,YAASJ,OAA2B,MAAC,CAAG,MAAC,GAAC,MAAQA,EAAI4wD,eAAgB,2EAAwCxwD,GAAAA,CAAO,MAAQJ,EAAID,2BAAiC,EAAC,+B,MAAC,CAAkC,MAAQ,EAAI,MAAC4wD,QAAAA,WAAwB,GAAE3wD,CAA4CsE,MAAW,EAAC,oBAAmB,kCAA6B,C,MAAC,CAAwC,cAAe,yBAAIF,GAAG,CAAC,MAAQ,EAAI,sBAAiB,kCAA6DhE,EAAK,qBAAC,S,YAAW,YAAG,MAAC,CAACF,MAAW,sBAAUiF,cAAI,EAAW,sBAACC,eAAY,I,GAAM,C,OAAUxF,EAAG,qB,EAAmCQ,MAAM,oC,kBAAuB,I,YAAc,O,IAAGgE,Y,GAAgBhE,UAAM,G,UAAkC,cAAG,YAAK,cAAG,cAAO,KAAUR,GAAwB,WAAY,cAAI,OAAC,KAAYixD,eAAI,cAAwF,GAAC,MAAYzsD,CAAE,EAAC,c,MAAC,CAAuB,UAAuGhE,GAAAA,CAAO,MAAQ,SAAIgE,CAAE,EAAC,6C,MAAC,CAAyB,UAA+FhE,GAAAA,CAAO,MAAQ,gBAAIgE,CAAE,EAAC,gE,MAAC,CAA4B,UAA4FE,GAAAA,CAAmBlE,MAAM,kB,CAAiB,QAAS,kD,MAAC,CAAW,U,GAAK,C,MAAgC0G,EAAAA,mB,CAAiE,iEAAC,mBAAE,MAAK,CAAQ1G,MAAM,QAAC,KAAO,GAAY,MAAO,IAAO,GAAG,CAAO,kBAAa,OAAN,oBAAM,qCAAK,IAAwB,GAAO,OAAI,CAAaA,MAAM,CAAC,KAAO,YAAoB,cAAK,O,SAAyBJ,G,mCAA6G,eAAe,C,MAAC,C,MAA2C,EAAE,gB,GAAuB,C,MAEn9D,eAA2B,EAAC,mCAAE,OAAKA,EAAI8wD,0BAA0B,CAAUxsD,IAAAA,EAAY,KAAOlE,MAAM,CAAC,MAAS,EAAC,KAAS,2BAAC,QAA4C,kBAAI,uFAAC,cAAY2wD,EAAAA,Q,IAA0FzsD,GAAAA,EAAAA,uBAAkB,QAAClE,YAAM,O,MAAC,CAAU,KAAO,GAAG,QAA2C,6C,GAAK,CAAqB,qBAAuC,iEAAC8E,YAAM,OAAM,OAAS,KAAE,GACld,QACG1E,eAAoB,6B,iJClEoBZ,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAAQ,OAAM,SAAuBA,YAAY,UAAyBlE,CAAAA,EAAK,KAAC,M,YAASJ,yB,MAAU,CAAkB,QAAYA,MAAc,MAAO,EAAE,MAAC,UAAS,YAAC,KAAO,GAAI,QAAgB,SAAiB,gBAAoC,cAAc,GAAY,oCAAG,eAAC,U,GAAkB,C,MAA+BA,EAAIwB,KAAqB,iBAAC,wBAAG,IAEjdhB,eAAe,EAAK,qBAExB,E,MCCA,IAAqBqD,GAArB,cAAuCnD,EAAAA,GAajCswD,eACF,MAAmC,WAA5B9vD,KAAK+vD,cAAcpvD,IAC5B,CACAw6C,KAAK6U,GACChwD,KAAK8vD,UAAYE,EACnBhwD,KAAKM,MAAM,QAAS2vD,WAAWD,IAE/BhwD,KAAKM,MAAM,QAAS0vD,EAExB,IApBA5tD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAGPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,qCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAGPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,+BAGPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAO,iCAVLK,IAAS,SAD7BH,EAAAA,IACoBG,I,YCLwS,MCQ7T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnB5BM,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,8CAA8C,CAAEtE,EAAIoxD,eAAgBxxD,EAAG,WAAW,CAACwE,GAAG,CAAC,OAASpE,EAAIquC,QAAQ,CAACruC,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAIoxD,mBAAmB,CAACpxD,EAAIM,GAAG,+BAA+BV,EAAG,OAAO,CAACI,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAIuQ,QAAQ1P,QAAQgB,SAAS7B,EAAIM,GAAG,mBAAmB,EAC/X,EACIE,GAAkB,GCFsBZ,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAAoC,OAAM,QAAU,CAAEoD,YAAW,sCAACtH,CAAAA,EAAK,WAAC,C,IAAC,QAAa,MAAC,CAACuH,SAAS,IAAuB,UAAK3H,MAAIqxD,EAAAA,cAA+B,aAAQ,QAAE,MAAC,CAAG,MAAC,IAAiB,IAAIrxD,MAAO,EAAM,OAEnUQ,CAAAA,EAAAA,GAAAA,UAAoB,UAExB,E,MCEA,IAAqB8wD,GAArB,cAAsC5wD,EAAAA,GAIpCq/B,UACO7+B,KAAKmwD,aAEVpnD,EAAAA,GAAAA,IAAc,KAEZ/I,KAAKgJ,MAAMqnD,MAAMlnD,SACjBkJ,SAASuE,YAAY,OAAO,GAEhC,CACI05C,iBAEF,OAAOtwD,KAAKuwD,QAAQjuD,QAAQ,IAAIuQ,MAAQ,EAC1C,CAEA88C,OAEE3vD,KAAKgJ,MAAMqnD,MAAMlnD,SACjBkJ,SAASuE,YAAY,QACrB5W,KAAKM,MAAM,SACb,IArBA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAO,kCADL8tD,IAAQ,UAD5B5tD,EAAAA,EAAAA,IAAU,CAAC,IACS4tD,I,YCNqR,MCQ1S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCb1BI,GAAwB,EAAGC,cACxB,MAAQA,EAAW,MAGtBC,GAAa,EAAGD,cACb,SAASA,6DAOZE,GAA0B,EAAGthD,UAASohD,cAGnCphD,EAAQ1P,QAAQixD,MACnBvhD,EAAQ1P,QAAQixD,MACbvvD,KAAI,CAACgkB,EAAMpmB,KACV,MAAM4xD,EAAa5xD,EAAQ,SAAW,KACtC,MACE,MAAM4xD,KAAcJ,SAAgBprC,EAAKxmB,iCAErC,IAGPoO,KAAK,IAAM,gBACd,cAGA6jD,GAAkB,EAAGzhD,UAASohD,cAC3BphD,EAAQ1P,QAAQixD,MACnBvhD,EAAQ1P,QAAQixD,MACbvvD,KAAI,CAACgkB,EAAMpmB,KACV,MAAM4xD,EAAa5xD,EAAQ,SAAW,KACtC,MACE,MAAM4xD,MAAexrC,EAAKxmB,aAAa4xD,4BAEnC,IAGPxjD,KAAK,IAAM,gBACd,cAGA8jD,GAAa,EAAG1hD,UAASohD,eAC7B,MAAMO,EAAmD,SAA1C3hD,GAAS1P,SAASsxD,eAAetwD,KAC1CkL,EAAWmlD,EAAS,cAAgB,aAE1C,MAAO,GAAGnlD,SAAgB4kD,aAAoB,EAG1CS,GAAW,EAAGT,cAAiC,0nBAwBhDA,yBAICU,GAAe,EAAGV,cACf,wBACYA,oFAQfW,GAAiB,EAAGX,cACjB,kEAEgBA,cAAqBA,8EAGlBA,cAAqBA,eAI3CY,GAAgD,CACpD,oBACA,SACA,UACA,aACA,MACA,OACA,UACGC,GAAAA,IAGCC,GAAoB,EAAGliD,UAASohD,eACpC,MAAMe,EAAaniD,EAAQ1P,QAAQ8xD,gBAAgBrgD,QAAQ5Q,MAAMuM,QAC/D,sBACA,IAGF,OAAKykD,EAEDH,GAA8C9lD,SAASimD,GAClD,aAAaA,KAAcf,QAGjB,YAAfe,EACK,2BACaf,qDACKA,oCAIR,qBAAfe,EACK,qBAAqBf,wBAGX,WAAfe,EACK,qBAAqBf,QAIb,eAAfe,GACe,4BAAfA,GACe,0BAAfA,GACe,4BAAfA,GACe,sCAAfA,EAEO,wBAAwBf,wBAGd,iBAAfe,EACK,0BAA0Bf,oBAGhB,qBAAfe,EACK,yCAC2Bf,6DACeA,0BAKlC,oCAAfe,GACe,+CAAfA,GACe,6DAAfA,GAEE,uEADFA,EAGO,oDAEkBf,oHAI4BA,qBAMtC,yCAAfe,GACe,oDAAfA,GACe,sDAAfA,GACe,gEAAfA,EAEO,oDAEkBf,+GAIuBA,qBAK/B,wBAAfe,EACK,qPAKsBf,uEAA8EA,wFAG9EA,oFAA2FA,qFAG3FA,iFAAwFA,mFAGxFA,+EAAsFA,2PAG2EA,igBAY7K,uBAAfe,EACK,qCACuBf,oFAIb,6BAAfe,EACK,0CAE0Bf,kHAMhB,8BAAfe,EACK,sKAE6If,kDAG1HA,+CAGT,qBAAfe,EACK,sKAE6If,kDAG1HA,yCAGT,qBAAfe,EACK,2BAA2Bf,wBAGjB,gBAAfe,EACK,2CAA2Cf,oCAGjC,4BAAfe,EACK,6BAA6Bf,oDAGnB,eAAfe,EACK,wBAAwBf,oEAIhB,0BAAfe,GACe,mCAAfA,EAEO,+DAE6Bf,eAInB,4BAAfe,EACK,uEACyDf,cAI/C,0BAAfe,EACK,qEACuDf,cAI7C,4BAAfe,EACK,iEACmDf,cAIxD,CAAC,kBAAmB,0BAA0BllD,SAASimD,GAClD,+BAA+Bf,QAGrB,yBAAfe,EACK,4SAgBiBf,4DAIP,4BAAfe,EACK,2CAC6Bf,cAI/B,2CAA2Ce,IAvN1B,uBAuNsC,EAGnDE,GAET,CACFC,2BAAuBjsD,EACvBksD,eAAgB,EAAGnB,cAAe,4BAA4BA,QAC9DoB,cAAe,EAAGpB,cAAe,2BAA2BA,QAC5DqB,oBAAqB,EAAGrB,cACtB,6BACsBA,6HAMxBsB,WAAYpB,GACZqB,SAAUrB,GACVt3B,KAAMm3B,GACNrkD,MAAO,EAAGkD,UAASohD,cAC0B,qBAAvCphD,EAAQ1P,QAAQgvD,cAAchuD,KACzB,uEAEuB8vD,sGAKNA,0GAKEA,gBAIrB,wBAAwBA,OAEjC/hD,SAAU,EAAG+hD,cAAe,wBAAwBA,aACpDwB,OAAQlB,GACRra,KAAMwa,GACNzkC,OAAQ+jC,GACR0B,SAAUf,GACVgB,gBAAiBhB,GACjBiB,SAAU5B,GACV6B,OAAQ3B,GACR4B,gBAAiB,EAAG7B,cAClB,6BAA6BA,kBAC/B59C,KAAM29C,GACN+B,IAAK/B,GACL9jC,KAAM,EAAG+jC,cAAe,iBAAiBA,cACzC+B,QAAS,EAAGnjD,UAASohD,cACfphD,EAAQ1P,SAASyuD,cAAcqE,SAC1B,0BACUhC,wHAMZ,wHAEgBA,6HAGHA,mDAGtBiC,MAAO,EAAGjC,cACD,2BACaA,cAGtBkC,YAAavB,GACb5D,QAAS+D,GACTqB,YAAa9B,GACbjwC,eAAWnb,EACXmtD,iBAAantD,EACbR,WAAOQ,EACPotD,mBAAeptD,EACfqtD,0BAAsBrtD,EACtBstD,gBAAYttD,EACZutD,uBAAmBvtD,EACnBwtD,uBAAmBxtD,EACnBytD,aAASztD,EACT0tD,kBAAc1tD,EACd2tD,wBAAoB3tD,EACpB4tD,YAAQ5tD,EACR6tD,6BAAyB7tD,EACzB8tD,sBAAkB9tD,EAClB+tD,eAAW/tD,EACXguD,wBAAoBhuD,EACpBiuD,YAAa,EAAGlD,cACP,MAAMA,OAEfmD,YAAa,EAAGnD,cACP,MAAMA,OAEfoD,mBAAenuD,EACf6vC,KAAM,EAAGkb,cACA,8BACgBA,+DAKzBqD,oBAAqB,EAAGrD,cACf,MAAMA,OAEfsD,SAAU,IACR,2LAEFC,4BAAwBtuD,GAGbuuD,GAAoB,CAC/BC,EACA76B,KAEA,IAAI86B,EAAc,GAElB,GAAI1oD,MAAMC,QAAQwoD,GAChBC,EAAcD,EAAkBvuB,QAAO,CAACyuB,EAAe9wC,KACrD,MAAM+wC,EAAe/wC,EAAWqiB,QAAO,CAACr2B,GAAOnN,OAAMtD,WAC/CyQ,EACK,GAAGA,SAAWnN,SAAYtD,KAG5B,GAAGsD,SAAYtD,MACrB,IAEH,OAAIu1D,EACK,GAAGA,SAAqBC,KAG1B,IAAIA,IAAe,GACzB,QACE,CACL,MAAM,KAAElyD,EAAI,MAAEtD,GAAUq1D,EAExBC,EAAc,GAAGhyD,SAAYtD,I,CAG/B,MAAO,iBACKs1D,eACN96B,8JAOD,E,gBC3dP,IAAqBi7B,GAArB,cAA4C90D,EAAAA,GAUtCixD,eACF,OAAOzwD,KAAKu0D,WACR,QAAQv0D,KAAKqP,QAAQ7O,OACrB,GAAGR,KAAKw0D,kBAAkBx0D,KAAKqP,QAAQ7O,MAC7C,CAEI0vD,qBACF,MAAMuE,EAA0B/C,GAAgB1xD,KAAKqP,QAAQ1P,QAAQgB,MAI/D+zD,EAAqB10D,KAAKqP,QAAQ1P,QAAQ8xD,gBAAgBrgD,QAAQujD,UAAU5nD,QAChF,gBACA/M,KAAKywD,UAGP,IAAImE,EACFF,GACCD,GACCA,EAAwB,CACtBplD,QAASrP,KAAKqP,QACdohD,SAAUzwD,KAAKywD,WAGrB,IAAKmE,EAAY,OAAO,EASxB,GAPI50D,KAAKqP,QAAQ1P,QAAQkhB,YACvB+zC,EAAaX,GACXj0D,KAAKqP,QAAQ1P,QAAQkhB,UACrB+zC,IAIA50D,KAAKqP,QAAQwlD,YAAa,CAC5B,MAAMC,EAAYF,EAAW7nD,QAC3B,IAAIgoD,OAAO/0D,KAAKywD,SAAU,MAC1BuE,EAAAA,GAAAA,IAAeh1D,KAAKywD,WAGtBmE,GAAc,+BAAiCE,EAAY,O,CAG7D,OAAOF,CACT,CAEAznB,QACEntC,KAAKM,MAAM,QACb,IAvDA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,gCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,uCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,kCAPYiyD,IAAc,UALlC9xD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVkwD,SAAQA,OAGSkE,I,YChB2R,MCQhT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnB4B11D,GAAOE,WAAsB,MAAU,KAA2DI,EAAK,EAAC,SAAQ,EAAC,MAAK87C,Y,OAAc,QAAU,6C,MACpMr7C,C,MACEZ,KAAAA,c,QACEk2D,C,QACAp1D,C,gBACa,CACbq1D,gBAAAA,CAAAA,EAAAA,qBACF,mBACF,kCACF,0DAAyBl2D,GAAAA,CAAqBiF,MAAI,Q,YAA+BkxD,EAAAA,GAAAA,CAAAA,CAAgB,IAAE,U,GAAC,U,MAA4B,I,MAA6C,cAAU,C,MACjLx1D,C,MACEZ,EAAAA,cAAiB,G,QACfk2D,C,QACAC,C,gBACgB,CAChBp1D,gBAAa,sBACf,sDACF,8CACF,0C,GAAqF,CAAE,kBAACd,OAAW,EAACF,kBAAQ,IAACmF,G,YAAmC/B,EAAAA,GAAAA,CAAAA,C,IAAerD,UAAM,GAAE,UAAC,MAAO,EAAU,M,UAAoEuE,CAAAA,EAAAA,MAAY,CAAqC,YAASgyD,kCAAiGl2D,CAAAA,EAAM,S,YAAS,sC,CAAO,WAAYsQ,EAAK,uE,MAAC,CAAmB,aAA0B,cAAG,MAAC,OAAC,SAAQ,Y,GAA8E,CAAC,kBAAM,OAAC,EAAU,WAAC,MAACtQ,KAAyB,Q,MAA8C,CAAsB,MAAQJ,UAAuB,eAAWD,+BAAe,gBAAG,MAAC,iBAAC,SAAQ,Y,GAAiF,CAAC,kBACv0BA,OAAMw2D,EAAO,cAAa,EAAS,EAAa,EAI5Bn2D,KAAmCo2D,WAAZ,WAAoC,eAAP,EAAM,QAAC,4D,MAAC,CAAoB,cAA0B,6BAAG,MAAC,QAAC,SAAQ,Y,GAA+E,CAAC,kBAAK,OAAI,cAAa,MAACp2D,MAAqB,QAAgB,C,MAAC,CAAqC,SAAW,GAA0B,eAA0B,6BAAG,MAAC,uBAAC,SAAQ,Y,GAA+E,CAAC,kBAAK,OAAO,EAAG,YAAU,EAAK,WAAiB,wBAAG,WAC5hB,QAGD,E,QCfA,IAAqBq2D,GAArB,cAAyD/1D,EAAAA,GAevDq/B,UAEM7+B,KAAKnB,QAAU4M,MAAMC,QAAQ1L,KAAKnB,QACpCmB,KAAKw1D,KAAK,CAAC,CAACx1D,KAAKnB,QAErB,CAEA42D,oBACE,MAAO,CACLtzD,KAAM,GACNkzD,QAAS,SACTx2D,MAAO,GAEX,CAEA62D,YAAY70C,GACV,MAAM1e,EAAO0e,EAAU1e,KAEvB,IAAKA,EACH,MAAO,GAGT,MAAMkN,EAAUrP,KAAK21D,WAAWxzD,GAEhC,IAAIyzD,EAAW,CACb,SACA,aACA,YACA,aACA,SACA,aACA,WACA,oBAWF,MAR8B,gBAA1BvmD,GAAS1P,QAAQgB,OACnBi1D,EAAW,CAAC,aAGgB,WAA1BvmD,GAAS1P,QAAQgB,OACnBi1D,EAAW,CAAC,SAAU,eAGjBA,EAASv0D,KAAIiH,IACX,CAAEuK,KAAMvK,EAAGzJ,MAAOyJ,KAE7B,CAEAutD,kBAAkBh1C,GAChB,OAAOpV,MAAMC,QAAQmV,EAAUhiB,OAASgiB,EAAUhiB,MAAQ,EAC5D,CAEIm8C,oBACF,OAAKh7C,KAAKnB,MAIL4M,MAAMC,QAAQ1L,KAAKnB,OAEjBmB,KAAKnB,MAF2B,CAAC,CAACmB,KAAKnB,QAJtB,EAO1B,CAEI2Q,YACF,MAAMA,EAAQxP,KAAKe,QAChB+0D,wBACAl0D,QAAOO,IAASA,EAAKoJ,SAAS,yBAEjC,OAAIvL,KAAK+1D,eACAvmD,EACJ5N,QAAOO,GAAQA,EAAKtB,WAAWb,KAAK+1D,kBACpC10D,KAAIc,GAAQA,EAAK4K,QAAQ/M,KAAK+1D,eAAgB,MAG5CvmD,CACT,CAEA8lD,kBAAkBz0C,GAChB,MAAM1e,EAAO0e,EAAU1e,KACvB,IAAKA,EAAM,MAAO,GAElB,MAAMkN,EAAUrP,KAAK21D,WAAWxzD,GAEhC,IAAKkN,EAAS,MAAO,GAErB,MAAM7D,EAAS6D,EAAQ1P,QAAQixD,OAAOvvD,KAAIiH,GAAKutB,OAAOvtB,EAAEzJ,SAExD,OAAK2M,GAAe,EAGtB,CAEAmqD,WAAWxzD,GACT,OAAO6zD,EAAAA,GAAAA,IACLh2D,KAAKe,QAAQN,UACb0B,EAEJ,CAEAF,WAAWE,EAAc8zD,EAAgBC,GACvC,MAAMlb,GAAgBz5C,EAAAA,GAAAA,GAAcvB,KAAKg7C,eAEzCA,EAAcib,GAAQC,GAAQ/zD,KAAOA,EAErCnC,KAAKw1D,KAAKxa,EACZ,CAEAmb,cACEd,EAOAY,EACAC,GAEA,MAAMlb,GAAgBz5C,EAAAA,GAAAA,GAAcvB,KAAKg7C,eAEzCA,EAAcib,GAAQC,GAAQb,QAAUA,EAExCr1D,KAAKw1D,KAAKxa,EACZ,CAEAob,YAAY/1D,EAAkB41D,EAAgBC,GAC5C,MAAMlb,GAAgBz5C,EAAAA,GAAAA,GAAcvB,KAAKg7C,eAEzCA,EAAcib,GAAQC,GAAQr3D,MAAQwB,EAEtCL,KAAKw1D,KAAKxa,EACZ,CAEAqb,kBAAkB/yC,EAAsCrkB,GACtD,MAAM+7C,GAAgBz5C,EAAAA,GAAAA,GAAcvB,KAAKg7C,eAEzCA,EAAc/7C,GAASqkB,EAEvBtjB,KAAKw1D,KAAKxa,EACZ,CAEAwa,KAAK30C,GACH7gB,KAAKM,MAAM,QAASugB,EACtB,IA3JAze,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,eAAc,8BAI/BF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,6CAA4C,8BAI7DF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,uCAGYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAbCgzD,IAA2B,UAH/C/yD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAE0C,SAAQA,GAAAA,MAEH2yD,I,YCZwS,MCO7T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClBY72D,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAA6B,OAAM,QAAK,CAACA,YAAY,+BAAQ,CAACtE,EAAG,KAAI,CAA0EI,YAAM,Q,CAAC,KAAO,kBAAQ,wC,MAAC,CAAqC,MAAQJ,QAAmB,QAAW,OAAI,cAAC,uBAAkB,YAAG,eAAC,IAAwB,IAAIJ,MAAQ,iBAAsBI,EAAG,KAAI,CAAsCI,YAAM,Q,CAAC,KAAO,kBAAe,mB,MAAC,CAA6C,MAAQJ,eAAmC,iCAAG,MAAC,8BAA8B,IAAI,MAAG,wBAEpoBQ,EAEJ,E,kBCYA,IAAqBg3D,GAArB,cAAsD92D,EAAAA,GAAtDC,c,oBAcE,KAAA4P,QAAU,CACR1P,QAAS,CACPZ,gBAAiB,CACfc,cAAe,OACfC,WAAY,aA0BpB,CAxCMk7C,oBACF,OAAOh7C,KAAKnB,OAAS,CAAC,CACxB,CAII03D,qBACF,OAAOC,GAAAA,EACT,CAWAC,YAAYC,GACV,MAAMC,GAAap1D,EAAAA,GAAAA,GAAcvB,KAAKg7C,eAEtCh7C,KAAKw1D,KAAK,IACLmB,EACHD,SAEJ,CAEAE,kBAAkBC,GAChB,MAAMF,GAAap1D,EAAAA,GAAAA,GAAcvB,KAAKg7C,eAEtCh7C,KAAKw1D,KAAK,IACLmB,EACHE,eAEJ,CAEArB,KAAKsB,GACH92D,KAAKM,MAAM,QAASw2D,EACtB,IAzCA10D,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAOYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BARC+zD,IAAwB,UAN5C9zD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV0C,SAAQ,KACRy5C,cAAaA,GAAAA,MAGIia,I,YChBqS,MCO1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBClB5BrzD,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,gCAAgC,CAAC1E,EAAG,KAAK,CAAC0E,YAAY,QAAQ,CAACtE,EAAIM,GAAG,mBAAmBV,EAAG,MAAM,CAAC0E,YAAY,oBAAoB,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,2BAA2B,CAACtE,EAAIM,GAAG,gCAAgCV,EAAG,QAAQ,CAACwG,MAAMpG,EAAIi4D,WAAW73D,MAAM,CAAC,KAAO,UAAUuH,SAAS,CAAC,MAAQ3H,EAAIk8C,cAAcgc,MAAM9zD,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIm4D,WAAWtxD,EAAOgB,OAAO9H,MAAM,OAAOH,EAAG,MAAM,CAAC0E,YAAY,gCAAgC,CAACtE,EAAIM,GAAG,mBAAmBV,EAAG,QAAQ,CAACwG,MAAMpG,EAAIi4D,WAAW73D,MAAM,CAAC,KAAO,UAAUuH,SAAS,CAAC,MAAQ3H,EAAIk8C,cAAclU,KAAK5jC,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIo4D,UAAUvxD,EAAOgB,OAAO9H,MAAM,OAAOH,EAAG,MAAM,CAAC0E,YAAY,2BAA2B,CAACtE,EAAIM,GAAG,mBAAmBV,EAAG,QAAQ,CAACwG,MAAMpG,EAAIi4D,WAAW73D,MAAM,CAAC,KAAO,UAAUuH,SAAS,CAAC,MAAQ3H,EAAIk8C,cAAcxY,KAAKt/B,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIq4D,UAAUxxD,EAAOgB,OAAO9H,MAAM,UACx/B,EACIS,GAAkB,GCStB,IAAqBg3D,GAArB,cAAsD92D,EAAAA,GAIhDw7C,oBACF,OAAOh7C,KAAKnB,OAAS,CAAEioC,SAAKphC,EAAW88B,SAAK98B,EAAWsxD,UAAMtxD,EAC/D,CAIIqxD,iBAEF,MAAO,iIACT,CAEAE,WAAWD,GACTh3D,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRgc,KAAMA,GAAOzqC,EAAAA,GAAAA,GAA0ByqC,QAAQtxD,GAEnD,CAEAwxD,UAAUpwB,GACR9mC,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRlU,IAAKA,EAAMt6B,SAASs6B,QAAOphC,GAE/B,CAEAyxD,UAAU30B,GACRxiC,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRxY,IAAKA,EAAMh2B,SAASg2B,QAAO98B,GAE/B,CAEA8vD,KAAKlH,GACHtuD,KAAKM,MAAM,QAASguD,EACtB,IApCAlsD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAOYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BARC+zD,IAAwB,UAH5C9zD,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEyC,UAASA,GAAAA,MAEJ2zD,I,YCXsS,MCO3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClBY53D,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAAiC,OAAM,QAAK,CAACA,YAAY,mCAAQ,CAACtE,EAAG,KAAI,CAA2EI,YAAM,Q,CAAC,KAAO,sBAAmBW,EAAAA,MAAAA,CAAAA,EAAAA,GAAAA,oBAAAA,EAAAA,YAAAA,CAAa,MAAC,CAAG,MAAC,+B,GAA0B,CAA0C,kBAAC,kCAAKf,KAA6FA,EAAIM,aAAG,eAA0BN,CAA6C,YAAU,6C,CAAQsE,EAAAA,GAAAA,0BAAY,qBAA0C,Y,OAAI,U,YAAS,2C,GAAiB,CAA0C,kBAAC,iCAAI1E,IAA0G0E,CAAAA,EAAAA,OAAY,kDAAM,KAAGtE,GAAM,EAAC,WAAiB,MAAK,CAAaI,YAAM,Q,CAAC,KAAO,mBAAmBU,EAAAA,YAAAA,CAAY,MAAC,CAAG,MAAC,8B,GAA0B,CAAyC,kBAAC,iCAAId,KAA8H,KAAO,2DAAmBgB,GAAAA,EAAAA,MAAAA,CAAAA,EAAAA,GAAAA,iBAAAA,EAAAA,YAAAA,CAAU,MAAC,CAAG,MAAC,4B,GAA0B,CAAuC,kBAAC,+BAAIhB,KAAwFI,EAAK,GAAC,kD,YAAS,O,MAAsB,CAAkB,4BAA4C,kBAAG,cAAC,6BAA+B,IAAKJ,OAAIk8C,EAAAA,qBAA0Dl8C,EAAIM,cAAG,YAAwBV,CAAAA,EAAG,MAAiBQ,YAAM,Q,CAAC,KAAO,wBAAmBk4D,EAAAA,gBAAgB,C,MAAC,CAA8B,uCAAG,MAAC,qB,GAA0B,CAA6C,kBAAC,qCAAI,MAEvsD93D,EAAAA,MAAe,IAEnB,E,MCIA,MAAM+3D,GAAyB,CAC7Bx3D,cAAe,GACfD,aAAc,GACdE,WAAY,IAMd,IAAqBw3D,GAArB,cAA0D93D,EAAAA,GAQpDw7C,oBACF,OAAOh7C,KAAKnB,OAASw4D,EACvB,CAEIE,mBACF,OAAOv3D,KAAKqP,QAAQjO,SAASC,KAAIoM,GAAKA,EAAEjN,MAC1C,CAEIg3D,wBACF,OAAOx3D,KAAKqP,QAAQjO,SACjBQ,QAAO6L,GAAwB,YAAnBA,EAAE9N,QAAQgB,OACtBU,KAAIoM,GAAKA,EAAEjN,MAChB,CAEAi3D,sBAAsBC,GACpB,MAAMxlB,EAAQlyC,KAAKg7C,cAAcn7C,cAC3B83D,EAAazlB,EAAM3mC,SAAS,IAAImsD,MAEtC,GAAIC,EAAY,OAEhB,MAAMC,EAAmB,GAAG1lB,MAAUwlB,KAAY5uD,OAClD9I,KAAK63D,OAAOD,EAAkB,gBAChC,CAEAC,OAAOhlD,EAAqB0O,GAC1BvhB,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACR,CAACz5B,GAAQ1O,GAAQ,IAErB,CAEAilD,kBAAkBC,GAChB/3D,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACR+c,eAEJ,CAEAvC,KAAKz2D,GACHiB,KAAKM,MAAM,QAASvB,EACtB,IA9CAqD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAEYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,gCAGlBH,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,+BALYi1D,IAA4B,UAHhD90D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEm8C,cAAa,KAAE15C,UAASA,GAAAA,MAEnB20D,I,YCjByS,MCQ9T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnB0El0D,GAAAA,WAA6C,IAAG1E,EAAG,KAAM0E,EAAAA,EAAAA,MAAY,GAAgB,oB,OAA+H,S,YAAStE,mCAA8B,SAAE,YAAS,QAA8DI,CAAAA,EAAK,GAAC,iH,GAAC,CAA2C,MAAQ,+BAAkD,yDAACgE,MAAG,CAAC,gBAAa80D,EAAAA,cAAAA,SAAoB,sCAAKl5D,eAAIk8C,IAA6D,GAAG,CAAO53C,OAAW,EAAC,wBAA8PlE,EAAK,cAAC,kB,YAAS,SAAO,OAAQJ,C,YAA0BA,Q,CAAgC,2CAAiB,mL,MAAC,CAAe,aAAG,MAAC,gBAAC,MAAQ,gBAAgB,c,eAAYm5D,GAAmC,cAAI,GAAG,CAAe/4D,MAAM,YAAC,OAAQ,sBAAO,SAAC,KAAmE,OAAc,C,MAAI,CAAe,cAAG,MAAC,iBAAC,MAAQ,gBAAgB,c,eAAY+4D,GAAmC,cAAI,GAAG,CAAe/4D,MAAM,YAAC,OAAQ,sBAAO,SAAC,KAAoE,OAAc,C,MAAI,CAAe,cAAG,MAAC,iBAAC,MAAQ,gBAAgB,e,eAAY+4D,GAAoC,cAAI,GAAG,CAAyE70D,MAAW,SAAC,GAAW,OAAM,gCAACA,MAA8ElE,GAAM,2D,YAAS,SAA+B,OAAQJ,C,YAAsD,Q,CAAI,oCAAe,QAAE,MAAC,CAAG,MAAC,+BAAC,MAAQ,gBAAgB,yB,UAAYm5D,GAA8C,mBAAI,GAAG,CAAe/4D,MAAM,YAAC,OAAQ,sBAAoB,oBAAC,KAA6E,OAAY,C,MAAG,CAAkB,2BAAG,MAAC,eAAC,MAAQ,gBAAgB,0B,UAAY+4D,GAA+C,mBAAI,GAAG,CAA2F/4D,MAAM,YAAC,OAAQJ,EAAIk8C,oBAAckd,mBAASC,EAAa,KAAK,OAAQr5D,CAAAA,EAAIs5D,GAAAA,8DAAAA,EAAAA,WAAAA,CAAkB,MAAC,CAACp5D,MAAW,EAACF,cAAQ,uB,GAAiB,C,MAAmBoD,EAAAA,oB,YAAyBxD,EAAG,K,IAAc0E,U,GAAmBlE,U,MAAO,I,MAAwF,QAAe,CAAE,YAAC,OAACgE,MAAG,CAAC,MAAQ,e,MAAwBpE,EAAIu5D,cAAAA,SAAkBn2D,aAAeyD,GAAO,mBAAI,GAAC,mBAAS,OAAM,oBAAU,IAAO,KAAoEzG,IAAO,MAAO,EAAC,cAAY,OAAQ,C,YAAwD,SAAyD,gCAA0Bg5D,CAAkB,MAAC,CAAG,MAAC,YAAC,MAAQp5D,wDAAmB,uDAAI,MAAO,EAAG,cAAYA,SAAIk8C,WAAqD,GAAEl8C,CAA0CI,MAAM,sBAAiB,QAAYo5D,EAAAA,KAAAA,EAAa,uB,OAAA,S,YAAWx5D,QAAY,wCAACoE,MAAG,CAAC,KAAO,EAAI,KAAqB,sBAAClE,QAAYF,EAAIwnB,S,GAAqB,C,MAAmBiyC,EAAAA,qB,YAAyBz5D,EAAIM,GAAG,E,IAA2BgE,U,GAAmBlE,U,MAAO,I,MAAqG,gCAACgE,YAAG,O,MAAC,C,MAAgCpE,EAAIovD,cAAAA,GACx+G,K,OACQ,+C,GAER,CAED,kBAAC,gCAAW,gBAAc,GAAkB,KAAC,OAAC,EAA+C,KAA0D,EAAC,6B,MAAC,C,MAAgCpvD,EAAIovD,cAAAA,GAC5L,M,OACQ,+C,GAER,CAED,kBAAC,gCAAS7+C,EAAO,cAAa,GAA6BjM,MAAY,OAA+Ck1D,EAA6Cl1D,KAA0D,eAANlE,EAAK,QAAC,sB,YAAW,yC,CAAmC,gBAAO,iBAAI,wCAAI,GAAG,OAAK8G,CAA0C9G,MAAM,CAAC,KAAO,EAAI,cAAc,GAAe,KAAM,cAAK,KAAQ,OAASyG,iCAAO,C,MAAC,C,MAEvZ7G,EAAIw5D,cAAcC,GAAc,M,GAErC,CAED,kBAAC,gCAAQz5D,EAAIkH,cAAK,WAAS,EAAwBA,MAE9D1G,GAAAA,EAAkB,KAEtB,I,iCCtB4CZ,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAkB0E,EAAY,kB,OAAoE,EAAC,M,YAAS,+D,MAAO,CAAW,MAAO,OAAG,MAAO,GAAG,KAAQ,GAAI,QAAkB,UAAe,eAAc,GAAY,UAAYo1D,GAAU,YAAY35D,YAAM,kBAAG,MAAC,S,GAA0B,CAAiC,kBAAC,yBAAG,IAIva,E,kBCCA,IAAqB45D,GAArB,cAA4Dj5D,EAAAA,GAItDg5D,gBACF,OAAOA,GAAAA,SACT,IAJAp2D,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYo2D,IAA8B,UADlDj2D,EAAAA,EAAAA,IAAU,CAAC,IACSi2D,I,YCL2S,MCOhU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCK1BC,GAAmB,CACvBv2D,KAAM,GACN0Q,KAAM,GACNhU,MAAO,GACPgiB,eAAWnb,EACXizD,gBAAiB,GACjBC,iBAAkB,GAClBT,aAAc,IAehB,IAAqBU,GAArB,cAA0Dr5D,EAAAA,GAYpDw7C,oBACF,OAAOh7C,KAAKnB,OAAS,CAAC,CACxB,CAEIi6D,oBACF,OAAO94D,KAAKe,QAAQ+0D,sBAAsB,CAAC,YAC7C,CAEIiD,mBACF,OAAO/4D,KAAKe,QAAQ+0D,uBACtB,CAEIkD,qBACF,MAAM72D,EAAOnC,KAAKg7C,eAAekd,UAAU/1D,KAE3C,IAAKA,EAAM,MAAO,GAElB,MAAMkN,EAAUrP,KAAK21D,WAAWxzD,GAEhC,IAAKkN,EAAS,MAAO,GAErB,MAAM7D,EAAS6D,EAAQjO,SAASC,KAAIoM,GAAKA,EAAEjN,OAE3C,OAAKgL,GAAe,EAGtB,CAEAmqD,WAAWxzD,GACT,OAAO6zD,EAAAA,GAAAA,IAAgDh2D,KAAKS,QAAS0B,EACvE,CAEI+1D,eACF,OAAOl4D,KAAKg7C,cAAckd,UAAYQ,EACxC,CAEIJ,oBAEF,OAAOt4D,KAAKqP,QAAQ1P,QAAQixD,OAAS,CAAC,CAAE/xD,MAAO,QAASgU,KAAM,SAChE,CAEIpS,cACF,OAAOT,KAAKe,QAAQN,SACtB,CAEAw4D,oBAAoBC,GAClBl5D,KAAKM,MAAM,sBAAuB44D,EACpC,CAEAhL,mBAAmB5V,EAAkCr5C,GACnDe,KAAKM,MAAM,qBAAsB,CAAEg4C,UAASr5C,SAC9C,CAEA+4D,qBAAqBmB,GACfA,EACFn5D,KAAKw1D,KAAK,CACR0C,SAAUQ,KAGZ14D,KAAKw1D,UAAK9vD,EAEd,CAEA0zD,gBAAgBC,GACd,MAAMC,GAAc/3D,EAAAA,GAAAA,GAAcvB,KAAKk4D,UAEnCzsD,MAAMC,QAAQ2tD,KAAkBA,EAAa7zD,cACxC8zD,EAAYz4C,UAEnBy4C,EAAYz4C,UAAYw4C,EAG1Br5D,KAAKw1D,KAAK,CACR0C,SAAUoB,GAEd,CAEArB,oBACEh0D,EAGApF,GAEA,MAAMy6D,GAAc/3D,EAAAA,GAAAA,GAAcvB,KAAKk4D,UAEvCoB,EAAYr1D,GAAOpF,EAEnBmB,KAAKw1D,KAAK,CACR0C,SAAUoB,GAEd,CAEAlB,mBAAmBmB,GACjB,MAAMD,GAAc/3D,EAAAA,GAAAA,GAAcvB,KAAKk4D,UAGvCoB,EAAYnB,aAAeoB,EAAgBl4D,KAAIm4D,GACvB,kBAAfA,EAA0BA,EAAa,KAGhDx5D,KAAKw1D,KAAK,CACR0C,SAAUoB,GAEd,CAEAjB,kBAAkBp5D,EAAeoB,GAC/B,MAAMi5D,GAAc/3D,EAAAA,GAAAA,GAAcvB,KAAKk4D,UAElCoB,EAAYnB,eAIjBmB,EAAYnB,aAAal5D,GAASoB,EAElCL,KAAKw1D,KAAK,CACR0C,SAAUoB,IAEd,CAEAG,6BACE,IAAKz5D,KAAKS,QAAQ4zB,QAAQ10B,QACxB,OAGF,MAAMixD,EAAQ5wD,KAAKS,QAAQ4zB,QAAQ10B,QAAQ0B,KAAIq4D,IAAU,CACvD7mD,KAAM6mD,EACN76D,MAAO66D,MAGT15D,KAAKi5D,oBAAoBrI,EAC3B,CAEA4E,KAAKmE,GACH35D,KAAKM,MAAM,QAASq5D,EACtB,IAhJAv3D,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,gCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAGYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAVCs2D,IAA4B,UAZhDr2D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVuC,WAAU,KACVg2D,+BAA8B,GAC9BnvD,KAAI,IACJ+yC,cAAa,KACbx5C,SAAQ,KACR0yD,4BAA2B,GAC3B3yD,SAAQ,KACRD,UAASA,GAAAA,MAGQk2D,I,YC7CyS,MCQ9T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnBYn6D,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAAiC,OAAM,QAAK,CAACA,YAAY,mCAAQ,CAACtE,EAAG,KAAI,CAAsEsE,YAAY,QAAYlE,CAAAA,EAAK,GAAC,2D,YAAS,Y,MAAmB,CAAgD,yBAAkB,0CAAG,eAAC,IAA4B,IAAIJ,OAAO,oBAA2DI,EAAK,GAAC,0B,YAAS,Y,MAAe,CAAmD,qBAAkB,6CAAG,eAAC,IAA+B,IAAI,OAAG,wBAEhnBI,EAEJ,E,MCKA,IAAqBs6D,GAArB,cAA4Dp6D,EAAAA,GAI1Dq6D,eAAepH,GACb,MAAMqH,EAAuB,IACxB95D,KAAKnB,MACR4zD,YAEFzyD,KAAKw1D,KAAKsE,EACZ,CAEAC,kBAAkBC,GAChB,MAAMF,EAAuB,IACxB95D,KAAKnB,MACRm7D,eAEFh6D,KAAKw1D,KAAKsE,EACZ,CAEAtE,KAAKyE,GACHj6D,KAAKM,MAAM,QAAS25D,EACtB,IApBA73D,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYu3D,IAA8B,UAHlDp3D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEM05D,I,YCT2S,MCOhU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClByD,GAAU,W,IAAOx2D,EAAAA,KAA8C,EAAK,EAAI,MAAK,GAAoCA,EAAY,kB,OAAiB,EAAC,O,YAAS,mC,CAAmB,UAAa,GAACtE,eAAkBq6D,EAAAA,GAAAA,EAAO,C,YAAC,YAAiB,MAAC,CAAG,MAAC,mBAAC,cAAae,EAAAA,cAAAA,QAAa,mBAAgDh7D,GAAAA,CAAO,OAAOJ,EAAIqD,iBAA2B,gBAAckN,QAAAA,CAAAA,EAAAA,WAAAA,CAAO,MAAC,CAAG,KAAC,OAAC,MAAQvQ,EAAIq7D,UAAoB,mB,GAAsBl2D,CAAcC,MAAG,uB,YAAkC,O,IAAC,U,GAA0Cd,U,MAAwB,I,MAA6C,GAAQ,GAAC,0BAA6C,YAAC,OAACF,MAAG,CAAC,MAAQ,YAASyC,GAAO,M,OAAQ7G,+C,UAK5vBy5D,SACD,mCAAC,eAAQn5D,MAAG,GAAiC,EAAC,KAAkG,+BAAC8D,MAAG,CAAC,MAAQ,YAASyC,GAAO,M,OAAQ7G,+C,UAKpLy5D,SACD,mCAAC,eAAI,WAAQ,KAA2C,IAA2C,MAAO,EAAC,YAA+C,QAACr1D,MAAG,CAAC,gBAAa80D,EAAAA,cAAAA,SAAoB,sDAAsE94D,GAAAA,CAAO,OAAQ,0BAAyB,gBAAY87C,SAAckd,EAAAA,MAAS/1D,CAAAA,EAAAA,MAAAA,CAAAA,EAAAA,GAAAA,EAAAA,CAAI,MAAC,CAAG,MAAC,OAAC,MAAQ,Q,MAAwBrD,EAAIm5D,cAAAA,SAAoB,MAAgB,IAAIv5D,MAAG,SAAa,GAACQ,OAAM,+BAAC,KAA2C,OAAY87C,CAA2B,MAAC,CAAG,MAAC,QAAC,MAAQ,iB,MAAwBl8C,EAAIm5D,cAAAA,SAAoB,MAAgB,IAAIv5D,MAAG,SAAa,GAACQ,OAAM,+BAAC,KAA2C,OAAY87C,CAA4B,MAAC,CAAG,MAAC,QAAC,MAAQ,iB,MAAwBl8C,EAAIm5D,cAAAA,SAAoB,OAAiB,IAAI,MAAO,YAA+B/4D,OAAM,gCAAC,MAAoF,mCAA0B87C,C,MAA+B,CAA6C,kBAAG,MAAC,wDAAC,mBAAYoe,GAAAA,EAAAA,cAAAA,SAAAA,QAAe,0CACpjC,IACG95D,MAAAA,EAAe,mB,sCCKnB,MAAMo5D,GAAmB,CACvBv2D,KAAM,GACN0Q,KAAM,GACNhU,MAAO,GACPgiB,eAAWnb,GAab,IAAqB00D,GAArB,cAA0D56D,EAAAA,GAA1DC,c,oBAYE,KAAA05D,SAAU,CAoGZ,CAlGMne,oBACF,OAAOh7C,KAAKnB,OAAS,CAAC,CACxB,CAEI2Q,YACF,OAAOxP,KAAKe,QAAQ+0D,sBAAsB,CAAC,YAC7C,CAEIkD,qBACF,MAAM72D,EAAOnC,KAAKg7C,eAAekd,UAAU/1D,KAE3C,IAAKA,EAAM,MAAO,GAElB,MAAMkN,EAAUrP,KAAK21D,WAAWxzD,GAEhC,IAAKkN,EAAS,MAAO,GAErB,MAAM7D,EAAS6D,EAAQjO,SAASC,KAAIoM,GAAKA,EAAEjN,OAE3C,OAAKgL,GAAe,EAGtB,CAEAmqD,WAAWxzD,GACT,OAAO6zD,EAAAA,GAAAA,IAAgDh2D,KAAKS,QAAS0B,EACvE,CAEI+1D,eACF,OAAOl4D,KAAKg7C,cAAckd,UAAYQ,EACxC,CAEI2B,gBACF,OACEr6D,KAAKqP,QAAQ1P,QAAQ26D,eAAiB,CAAC,CAAEz7D,MAAO,QAASgU,KAAM,SAEnE,CAEIpS,cACF,OAAOT,KAAKe,QAAQN,SACtB,CAEA05D,oBAAoBjB,GAClBl5D,KAAKM,MAAM,sBAAuB44D,EACpC,CAEAlK,mBAAmB1W,EAAsCr5C,GACvDe,KAAKM,MAAM,qBAAsB,CAAEg4C,UAASr5C,SAC9C,CAEA+4D,qBAAqBmB,GACfA,EACFn5D,KAAKw1D,KAAK,CACR0C,SAAUQ,KAGZ14D,KAAKw1D,KAAK,CACR0C,cAAUxyD,GAGhB,CAEA0zD,gBAAgBC,GACd,MAAMC,GAAc/3D,EAAAA,GAAAA,GAAcvB,KAAKk4D,UAEnCzsD,MAAMC,QAAQ2tD,KAAkBA,EAAa7zD,cACxC8zD,EAAYz4C,UAEnBy4C,EAAYz4C,UAAYw4C,EAG1Br5D,KAAKw1D,KAAK,CACR0C,SAAUoB,GAEd,CAEArB,oBAAoBh0D,EAAgCpF,GAClD,MAAMy6D,GAAc/3D,EAAAA,GAAAA,GAAcvB,KAAKk4D,UAEvCoB,EAAYr1D,GAAOpF,EAEnBmB,KAAKw1D,KAAK,CACR0C,SAAUoB,GAEd,CAEAY,cAAcr7D,GACZmB,KAAKw1D,KAAK,CACR2D,QAASt6D,GAEb,CAEA22D,KAAK+E,GACHv6D,KAAKM,MAAM,QAAS,IACfN,KAAKg7C,iBACLuf,GAEP,IA7GAn4D,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,gCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAGYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAVC63D,IAA4B,UAVhD53D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVuC,WAAU,KACVg2D,+BAA8B,GAC9BnvD,KAAI,IACJisD,4BAA2B,GAC3B3yD,SAAQ,KACRD,UAASA,GAAAA,MAGQy3D,I,YCpCyS,MCQ9T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnB4Bx7D,GAAOE,WAAsB,MAAU,KAAOsE,EAAAA,EAAAA,MAAY,GAAoC,EAAM,kB,OAACA,EAAAA,MAAY,CAAO,YAAU,gCAACA,CAAAA,EAAAA,MAAW,CAAQ,YAAS,QAAuClE,CAAAA,EAAK,KAAC,C,YAAS,Q,CAAsB,2BAAkB87C,EAAcyX,GAAAA,EAAQ,C,MAAC,CAAkB,4BAAG,cAAC,yBAAC,eAAaoH,IAAiB,GAAG,CAAmB36D,OAAM,qBAAyC,UAAkBs7D,C,MAAiB,CAAkB,sCAAG,cAAC,mBAAC,eAAaC,IAAwB,GAAE37D,CAA2CsE,OAAW,EAAC,yBAAc,mBAAQ,OAAqB,C,YAAStE,O,MAAoC,CAAkB,4BAAgB,MAAO,kCAAyC,cAAG,UAAC,EAAC,KAAO,0CAAkB,GAACA,CAC1yB,sBAGD,EAASmE,MAAQ3D,E,kBCOjB,MAAMo7D,GAAwB,CAC5BC,uBAAmBj1D,EACnB+sD,UAAU,GAMZ,IAAqBmI,GAArB,cAAuDp7D,EAAAA,GAIjDg7D,uBACF,OAAO/uD,MAAMC,QAAQ1L,KAAKg7C,cAAc2f,kBAC1C,CAEIjE,YACF,OAAOmE,GAAAA,GAAAA,MAAAA,KAA4Bl6D,GAAQA,EAAK9B,OAClD,CAEIm8C,oBACF,OAAOh7C,KAAKnB,OAAS67D,EACvB,CAEAI,WAAWH,GACT36D,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACR2f,qBAEJ,CAEAd,eAAepH,GACbzyD,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRyX,YAEJ,CAEAgI,sBAAsBtB,GAChBA,EACFn5D,KAAK86D,WAAW,IAEhB96D,KAAK86D,gBAAWp1D,EAEpB,CAEA8vD,KAAKpH,GACHpuD,KAAKM,MAAM,QAAS8tD,EACtB,IAtCAhsD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYu4D,IAAyB,UAH7Cp4D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEm8C,cAAa,KAAEz5C,SAAQA,GAAAA,MAElBg4D,I,YCnBsS,MCO3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClB4Bh8D,GAAOE,WAAsB,MAAU,KAAOsE,EAAAA,EAAAA,MAAY,GAAyC,EAAM,kB,OAACA,EAAAA,MAAY,CAAO,YAAU,qCAACA,CAAAA,EAAAA,MAAW,CAAQ,YAAS,QAAyClE,CAAAA,EAAK,KAAC,C,YAAS,Q,CAAa,KAAO,wBAAmB67D,EAAAA,GAAAA,EAAiB,C,MAAC,CAAkB,MAAO,aAA4E,sBAAoB,kBAAC,QAAY,MAAG,iFAAG,kBAAC,GAAC,UAAY94D,IAAa,GAAEnD,CAAsDsE,MAAW,EAAC,cAAmB,gBAAiB,kBAAe43D,EAAAA,GAAAA,EAAa,C,YAAS,Y,MAAiD,CAAqB,cAAc,EAAC,4BAAG,uDAAG,kBAAC,GAAC,eAAaC,IAAe,GAACn8D,CAC9vB,yBAGD,EAASmE,MAAQ3D,I,QCOjB,IAAqB47D,GAArB,cAA2D17D,EAAAA,GAMrDw7C,oBACF,OAAOh7C,KAAKnB,OAAS,CAAC,CACxB,CAEI2Q,YACF,OAAOxP,KAAKe,QAAQ+0D,sBAAsB,CAAC,WAC7C,CAEA7zD,WAAWE,GACTnC,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACR+f,kBAAmB54D,GAAQ,IAE/B,CAEA84D,aAAaD,GACXh7D,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRggB,iBAEJ,CAEAxF,KAAKpH,GACHpuD,KAAKM,MAAM,QAAS8tD,EACtB,IA7BmBhsD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,gCAGlBH,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAHY64D,IAA6B,UAHjD14D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEm8C,cAAa,KAAEz5C,SAAQA,GAAAA,MAElBs4D,I,YCX0S,MCO/T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClBYx8D,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAA6B,OAAM,QAAM,CAACA,YAAY,+BAAQ,CAAC1E,EAAG,MAAK,CAAC0E,YAAY,QAAQ,CAACtE,EAAG,KAAI,CAAmCI,YAAM,Q,CAAC,uBAAc,Q,MAAC,CAAc,UAAY87C,GAA0B,SAAQ,GAAc,kCAAG,MAAC,eAA8B,IAAI,MAAK,wBAEpY17C,IAEJ,E,MCMA,IAAqB67D,GAArB,cAAsD37D,EAAAA,GAIhDw7C,oBACF,OAAOh7C,KAAKnB,OAAS,CAAC,CACxB,CAEAu8D,kBAAkBC,GAChBr7D,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRsgB,YAAaD,GAEjB,CAEA7F,KAAKpH,GACHpuD,KAAKM,MAAM,QAAS8tD,EACtB,IAfAhsD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADY84D,IAAwB,UAH5C34D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEm8C,cAAa,KAAEz5C,SAAQA,GAAAA,MAElBu4D,I,YCVqS,MCO1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCf1B,SAAUI,GACd/6D,EACAiwD,GAEA,SAAS+K,EACPnzD,EACAwD,EACA4vD,EACAC,GAEA,IAAIl9B,EAAuB,GAU3B,OAPEA,EADkB,YAAhBk9B,EACqB,GAAGjL,KAAY5kD,KAAY4vD,mBACzB,YAAhBC,EACc,GAAGjL,KAAY5kD,oBAA2B4vD,IAE1C,GAAGhL,KAAY5kD,KAAY4vD,IAG7C,CACLzqD,SAAU,GAAG3I,KAAYozD,IACzBn+B,YAAa,GAAGzxB,KAAY4vD,IAC5Bj9B,uBAEJ,CAEA,MAAMm9B,EAAY,CAChBH,EAAY,UAAW,SAAU,MAAO,WACxCA,EAAY,UAAW,SAAU,SAAU,WAC3CA,EAAY,UAAW,SAAU,QAAS,WAC1CA,EAAY,UAAW,SAAU,OAAQ,YAGrCI,EAAa,CACjBJ,EAAY,SAAU,UAAW,MAAO,WACxCA,EAAY,SAAU,UAAW,SAAU,WAC3CA,EAAY,SAAU,UAAW,QAAS,WAC1CA,EAAY,SAAU,UAAW,OAAQ,YAGrCK,EAAU,CACdL,EAAY,UAAW,SAAU,MAAO,WACxCA,EAAY,UAAW,SAAU,SAAU,YAGvCM,EAAU,CACdN,EAAY,UAAW,SAAU,QAAS,WAC1CA,EAAY,UAAW,SAAU,OAAQ,YAGrCO,EAAW,CACfP,EAAY,SAAU,UAAW,MAAO,WACxCA,EAAY,SAAU,UAAW,SAAU,YAGvCQ,EAAW,CACfR,EAAY,SAAU,UAAW,QAAS,WAC1CA,EAAY,SAAU,UAAW,OAAQ,YAGrCS,EAAmB,CACvBT,EAAY,UAAW,SAAU,MAAO,kBACxCA,EAAY,UAAW,SAAU,SAAU,kBAC3CA,EAAY,UAAW,SAAU,QAAS,kBAC1CA,EAAY,UAAW,SAAU,OAAQ,kBAEzCA,EAAY,SAAU,UAAW,MAAO,kBACxCA,EAAY,SAAU,UAAW,SAAU,kBAC3CA,EAAY,SAAU,UAAW,QAAS,kBAC1CA,EAAY,SAAU,UAAW,OAAQ,mBAG3C,OAAQh7D,GACN,IAAK,cACH,MAAO,IAAIm7D,KAAcC,GAC3B,IAAK,gBACH,MAAO,IAAIC,KAAYE,GACzB,IAAK,gBACH,MAAO,IAAID,KAAYE,GACzB,IAAK,qBACH,OAAOL,EACT,IAAK,mBACH,OAAOE,EACT,IAAK,mBACH,OAAOC,EACT,IAAK,sBACH,OAAOF,EACT,IAAK,oBACH,OAAOG,EACT,IAAK,oBACH,OAAOC,EACT,IAAK,6BACH,OAAOC,EAEb,C,IClG4Cv9D,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAAqC,OAAM,QAAM,CAACA,YAAY,uCAAQ,CAAC1E,EAAG,MAAK,CAAC0E,YAAY,QAAQ,CAACtE,EAAG,KAAI,CAAoCsE,YAAY,QAAQ,CAAC1E,EAAG,GAAI,0BAAC,SAAC0E,YAAY,QAAQ,CAACtE,EAAG,KAAI,CAA+BI,YAAM,Q,CAAC,KAAO,eAAK87C,EAAa,YAACkhB,CAAQ,MAAC,CAAG,MAAC,0B,GAA0B,CAAqC,kBAAC,6BAAI,MAA4B,KAAO,KAAW,C,MAAC,CAAyC,iBAAkB,uCAAG,eAAC,I,GAA2B,CAAqC,mBAAC,6BAAIx9D,KAAwB,OAAQ,C,MAAkB,CAA+C,wBAAkB,6CAAG,eAAC,I,GAA2B,CAA2C,mBAAC,mCAAI,MAEl0BY,IAEJ,E,MCIA,MAAM68D,GAA0B,CAC9B1J,UAAU,EACV2J,gBAAgB,EAChBF,SAAU,QAMZ,IAAqBtB,GAArB,cAAuDp7D,EAAAA,GAIjDw7C,oBACF,OAAOh7C,KAAKnB,OAASs9D,EACvB,CAEAtC,eAAepH,GACbzyD,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRyX,YAEJ,CAEAoF,OAAOt2C,EAAe1iB,GACpBmB,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACR,CAACz5B,GAAQ1iB,GAAS,IAEtB,CAEA22D,KAAK71D,GACHK,KAAKM,MAAM,QAASX,EACtB,IAtBAyC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYu4D,IAAyB,UAH7Cp4D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEyC,UAAS,KAAE05C,cAAa,KAAEz5C,SAAQA,GAAAA,MAE7Bg4D,I,YCjB4S,MCOjU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,cClBYl8D,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAAmC,OAAM,QAAK,CAACA,YAAY,qCAAQ,CAACtE,EAAG,KAAI,CAAwCI,YAAM,Q,CAAC,KAAO,mBAAY,Q,MAAC,CAAoC,MAAQJ,YAAU,QAAW,cAAI,UAAC,MAAO,QAAwC,YAAG,KAAC,yCAA4B,IAAI,MAAG,sBAE5ZQ,EAEJ,E,MCOA,MAAM+8D,GAAwB,CAC5BC,UAAW,IAMb,IAAqBC,GAArB,cAAuD/8D,EAAAA,GAIjDk3D,YACF,OAAO8F,GAAAA,GAAAA,MAAAA,KAA0B77D,GAAQA,EAAK9B,OAChD,CAEIm8C,oBACF,OAAOh7C,KAAKnB,OAASw9D,EACvB,CAEAI,gBAAgBH,GACdt8D,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRshB,aAEJ,CAEA9G,KAAK71D,GACHK,KAAKM,MAAM,QAASX,EACtB,IAnBAyC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYk6D,IAAyB,UAH7C/5D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEm8C,cAAa,KAAEz5C,SAAQA,GAAAA,MAElB25D,I,YClBsS,MCO3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAIt5D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,qCAAqC,CAAC1E,EAAG,KAAK,CAAC0E,YAAY,QAAQ,CAACtE,EAAIM,GAAG,uBAAuBV,EAAG,gBAAgB,CAAC0E,YAAY,OAAOlE,MAAM,CAAC,YAAc,QAAQ,MAAQJ,EAAI0pD,OAAO,MAAQ1pD,EAAIk8C,cAAc31C,OAAOnC,GAAG,CAAC,MAAQpE,EAAI0gD,eAAe9gD,EAAG,gBAAgB,CAACQ,MAAM,CAAC,MAAQJ,EAAIk8C,cAAc0hB,SAASx5D,GAAG,CAAC,MAAQpE,EAAI69D,kBAAkB,EAC/c,EACIr9D,GAAkB,G,YCStB,MAAMs9D,GAAmC,CACvCv3D,MAAO,UACPq3D,QAAS,IAMX,IAAqBG,GAArB,cAA0Dr9D,EAAAA,GAIpDw7C,oBACF,OAAOh7C,KAAKnB,OAAS+9D,EACvB,CAEIpU,aACF,OAAOsU,GAAAA,GAAAA,MAAAA,KAAyBn8D,GAAQA,EAAK9B,OAC/C,CAEA2gD,YAAYn6C,GACVrF,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACR31C,SAEJ,CAEAs3D,cAAcD,GACZ18D,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACR0hB,QAASA,GAAW,IAExB,CAEAlH,KAAKuH,GACH/8D,KAAKM,MAAM,QAASy8D,EACtB,IA1BA36D,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYw6D,IAA4B,UAHhDr6D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEm8C,cAAa,KAAE2gB,cAAaA,GAAAA,MAEvBH,I,YCnByS,MCO9T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClB4Bj+D,GAAOE,WAAsB,MAAU,KAAOsE,EAAAA,EAAAA,MAAY,GAAmD,EAAC,kB,OAACA,EAAAA,MAAY,CAAO,YAAS,2CAA0CA,CAAAA,EAAAA,KAAW,CAAQlE,YAAM,Q,CAAC,KAAO,yBAAmB,Q,YAAC,O,MAAkB,CAAyC,yBAAG,eAAC,GAAC,cAAa+9D,EAAAA,cAAAA,UAAiB,GAAG,CAAmB75D,OAAW,EAAC,kBAAc,OAAQ,C,YAAqBtE,O,MAAoC,CAAkB,mBAAqB,MAAO,kCAA6C,QAAY,MAAG,kBAAek8C,GAAuB,kDAAG,UAAC,GAAC,SAAW,EAAC/4C,cAAAA,UAAa,GAAEnD,CAA2CI,MAAM,gB,EAChtByB,cAAY,uB,MACZ+7D,CACF,SAAC,YAAI59D,QAAS,+CAIlB,EAASmE,MAAQ3D,E,QCKjB,IAAqBi9D,GAArB,cAAuD/8D,EAAAA,GAMjDw7C,oBACF,OAAOh7C,KAAKnB,OAAS,CAAC,CACxB,CAEI2Q,YACF,OAAOxP,KAAKe,QAAQ+0D,sBAAsB,CAAC,WAC7C,CAEA7zD,WAAWE,GACTnC,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACR+f,kBAAmB54D,GAAQ,IAE/B,CAEA86D,eAAeC,GACbl9D,KAAKw1D,KAAK,IACLx1D,KAAKg7C,cACRkiB,YAEJ,CAEA1H,KAAK71D,GACHK,KAAKM,MAAM,QAASX,EACtB,IA7BmByC,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,gCAGlBH,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAHYk6D,IAAyB,UAH7C/5D,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEokD,SAAQ,KAAEjI,cAAa,KAAEz5C,SAAQA,GAAAA,MAE5B25D,I,YCZ2S,MCOhU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,uCCRzBl4D,eAAe84D,GACpB/rD,EACAu6C,EACAyR,EACA58D,GAEA,aAAa4X,EAAAA,EAAAA,GAAyB,CACpCC,OAAQ,yBACRC,WAAY,CACVqzC,gBACAyR,WACAhsD,QAAQisD,EAAAA,GAAAA,KACNC,EAAAA,GAAAA,IAAc98D,GACd4Q,EAAOo8C,SACP+P,EAAAA,GAAAA,IAAyB/8D,KAG7BgY,QAAS3J,EAAAA,IAEb,CAEM,SAAU2uD,GACdvjD,EACAmjD,GAEA,MAAO,GAAGnjD,MAAc/L,KAAQkvD,IAClC,C,2BCpC4Dx+D,GAAOE,WAAsB,MAAU,KAAOsE,EAAAA,EAAAA,MAAY,GAAyC,QAAa,Y,OAAM,EAAC,O,YAAC,qC,CAA0B,OAAQ,C,MAAsC,CAAkB,wBAAG,MAAC,sCAAC,eAAaq6D,IAAgB,GAAI3+D,CAA4BI,OAAM,mBAAoB,QAAY0xD,EAAAA,GAAAA,EAAK,C,MAAC,CAAkB,iBAAc,cAAG,MAAC,QAAC,SAAW,IAAe,GAAC9xD,CAC3b,uBAGD,EAASmE,MAAQ3D,E,QCGjB,IAAqBo+D,GAArB,cAA2Dl+D,EAAAA,GAMrDoxD,YACF,OAAOlvD,OAAOC,KAAKjB,GAAAA,GAAAA,SACrB,CAEA+8D,cAActE,GACRA,EACFn5D,KAAKM,MAAM,QAAS,IAEpBN,KAAKM,MAAM,SAEf,CAEA81D,YAAYv3D,GACVmB,KAAKM,MAAM,QAASzB,EACtB,IAlBAuD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAGYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAJCm7D,IAA6B,UADjDl7D,EAAAA,EAAAA,IAAU,CAAC,IACSk7D,I,YCP0S,MCO/T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCwGhC,IAAqBC,GAArB,cAAqDn+D,EAAAA,GAArDC,c,oBAmBE,KAAAiuD,cAAe,EACf,KAAAuB,yBAA0B,EAC1B,KAAAxB,qBAAsB,EAgBtB,KAAA/uC,eAAoD,EAAC,EAo8BvD,CAj9BMk/C,0BACF,QAAS59D,KAAK69D,eAAe3O,kBAC/B,CAEI4O,iBACF,OAAO99D,KAAK69D,eAAel+D,QAAQgB,IACrC,CAEIgtD,4BACF,MAAMoQ,GAAO9W,EAAAA,GAAAA,GAAyBjnD,KAAKnB,OAC3C,OAAOkb,EAAAA,GAAAA,GAAQ,GAAGgkD,IACpB,CAIInQ,sBACF,QAAS5tD,KAAK6tD,iBAChB,CAEIA,wBACF,OAAO7tD,KAAKnB,MAAMc,QAAQ8xD,gBAAgBrgD,QAAQ5Q,IACpD,CAEIw9D,gBACF,MAAmC,YAA5Bh+D,KAAKnB,MAAMc,QAAQgB,IAC5B,CAEIs9D,iBACF,OAAOC,EAAAA,GAAAA,IAAuBl+D,KAAKnB,MAAMc,QAAQgB,KACnD,CAEIw9D,wBACF,OAAOD,EAAAA,GAAAA,IAAuBl+D,KAAK89D,WACrC,CAEIlO,6BACF,OAAOwO,EAAAA,GAAAA,IAA8Bp+D,KAAKnB,MAAMc,QAAQgB,KAC1D,CAEI09D,qBACF,OAAOr+D,KAAKmC,KAAKtB,WAAW,kBAC9B,CAEIy9D,2BACF,GAAKt+D,KAAKg+D,UAEV,OAAO1M,GAAAA,GAAAA,MACL9wD,GAAQA,IAASR,KAAKnB,MAAMc,SAAS8xD,gBAAgBrgD,QAAQ5Q,MAEjE,CAEIgW,gBACF,MAAO,CACL,6CAA6C,EAC7C,kCAAkC,EAClC,0BAA2BxW,KAAK4vD,uBAEpC,CAEI2O,0BACF,MAAMljD,EAAuBrb,KAAKe,QAAQN,UAAU4a,qBAEpD,IAAKA,EAAsB,OAAO,EAElC,MAAMmjD,EAAiCnjD,EAAqB7N,MAC1DixD,IACEC,EAAAA,GAAAA,IAA4BD,EAAYt8D,QACxCnC,KAAK2+D,+BAGT,OAAOH,CACT,CAEIG,mCACF,OAAOD,EAAAA,GAAAA,IACL,GAAG1+D,KAAKw0D,iBAAiBx0D,KAAKm+D,kBAAoB,KAAO,MACvDn+D,KAAKnB,MAAM2B,OAGjB,CAEIquD,8BACF,OAAO+P,EAAAA,GAAAA,KACT,CAEIC,gCACF,MAAO,gFAEL7+D,KAAK8+D,kCAET,CAEIA,iCACF,OAAI9+D,KAAKi+D,YAAcj+D,KAAKm+D,kBACnB,uCAAuCn+D,KAAKw0D,uDAG9C,uCAAuCx0D,KAAK2+D,mCACrD,CAEI1Q,wBACF,OAAOvsD,OAAOC,KAAKo9D,GAAAA,GAAAA,MACrB,CAEIC,wBACF,OAAOh/D,KAAKe,QAAQk+D,sBACtB,CAEA56D,oBAAoB66D,GAClB,IAAKl/D,KAAKg+D,UAAW,OAErB,MAAMZ,EAAWlvD,KAAQgxD,EAAU/2D,MAC7Bg3D,EAAU3B,GACd0B,EAAUjlD,UACVmjD,GAGF,GACEp9D,KAAKg/D,kBAAkBhwD,QAAQxB,MAAK4D,GAAUA,EAAO5Q,OAAS2+D,IAQ9D,YANAC,EAAAA,GAAAA,IACEp/D,KAAKg/D,kBAAkBzV,cACvB2V,EACA,UAMJ,MAAMG,EAAkCr/D,KAAKnB,MAE7CwgE,EAAgC1/D,QAAQ8xD,eAAiB,IACpD4N,EAAgC1/D,QAAQ8xD,eAC3CrgD,OAAQ,CACN5Q,KAAM2+D,KAIV5wD,EAAAA,GAAAA,UACQ4uD,GACJ,CACE38D,KAAM2+D,EACN3R,QAAS6R,GAEXH,EAAUvT,cACVyR,EACA+B,IAEF1wD,EAAAA,GAAAA,KACEnK,IACE2O,QAAQoB,MAAM/P,GACdsU,GAAAA,EAAAA,IAAAA,QACE,wCACD,IAEH,KACE,MAAM0mD,GAAU/9D,EAAAA,GAAAA,GAAcvB,KAAKg/D,mBAEnCM,EAAQtwD,QAAQlD,KAAK,CACnBtL,KAAM2+D,EACNxT,cAAeuT,EAAUvT,gBAG3B2T,EAAQC,eAAezzD,KAAK,CAC1BtL,KAAM2+D,EACN3R,QAAS6R,IAGXr/D,KAAKe,QAAQy+D,wBAAwBF,GAGrCt/D,KAAKe,QAAQ0+D,cACXz/D,KAAKmL,WACLnL,KAAKf,MACLogE,EACD,IAIT,CAEAK,gBAAgBzgE,GAMdO,EAAAA,GAAAA,IAAQQ,KAAK0e,eAAgBzf,GAAQe,KAAK0e,eAAezf,GAC3D,CAIA0gE,WAAWC,GACT5/D,KAAKe,QAAQ8+D,gBAAgB,GAAG7/D,KAAKmC,gBAAiBy9D,EACxD,CAEIE,eACF,OACE9/D,KAAK4vD,yBACJ5vD,KAAK4tD,iBACN9sD,EAAAA,GAAAA,UAAAA,eACAA,EAAAA,GAAAA,UAAAA,cAAAA,aAEJ,CAEIi/D,iBACF,IACGj/D,EAAAA,GAAAA,UAAAA,gBACAA,EAAAA,GAAAA,UAAAA,cAAAA,cAED,OAAO,EAGT,MAAMk/D,EAAiBl/D,EAAAA,GAAAA,UAAAA,cAAAA,cAIvB,OAAId,KAAKg+D,WAA6C,YAAhCgC,EAAergE,QAAQgB,IAK/C,CAEAs/D,cACE,IAAKjgE,KAAK4vD,uBAAwB,OAElC,IAAK9uD,EAAAA,GAAAA,UAAAA,cAAiC,OAEtC,MAAMk/D,EAAiBl/D,EAAAA,GAAAA,UAAAA,cAAAA,cAElBk/D,GAELhgE,KAAKe,QAAQm/D,aAAa,GAAGlgE,KAAKmC,gBAAiB69D,EACrD,CAEAG,gBACE,IAAKr/D,EAAAA,GAAAA,UAAAA,cAAiC,OAEtC,MAAMk/D,EAAiBl/D,EAAAA,GAAAA,UAAAA,cAAAA,cAElBk/D,GAELhgE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAO+gE,EAC1D,CAEAI,mBACEpgE,KAAKytD,qBAAsB,CAC7B,CAEI4S,mBACF,MAAMC,EAAcC,GACXA,EAAEC,OAAO,GAAGjY,cAAgBgY,EAAEE,MAAM,GAGvCC,EAAqC,GAU3C,OAAOC,GAAAA,GAAAA,OACJ/+D,OAAO5B,KAAK4gE,8BACZv/D,KAAIoM,IACI,CACLoF,KAAMytD,EAAW7yD,GACjB5O,MAAO4O,MAGVpM,KAAIiH,GACCtI,KAAKq+D,gBAAkBqC,EAAoBn1D,SAASjD,EAAEzJ,OACjD,IACFyJ,EACHqkC,UAAU,GAGLrkC,GAGf,CAEAqnD,OACE,MAAMkR,GAAgBt/D,EAAAA,GAAAA,GAAcvB,KAAKnB,OACzCiC,EAAAA,GAAAA,yBAAiC+/D,EACnC,CAEIC,8BACF,OAAO9gE,KAAKe,QAAQggE,oBAAoB1/D,KAAI+P,IACnC,CACLyB,KAAMzB,EAAO5Q,KACb3B,MAAOuS,EAAO5Q,QAGpB,CAEAwgE,wBAAwBC,GACtB,MAAMC,GAAmB3/D,EAAAA,GAAAA,GACvBvB,KAAKe,QAAQogE,iBAAiBF,SAGPv7D,IAArBw7D,IACFA,EAAiB1T,QAAQ7tD,QAAQ8xD,eAAiB,IAC7CyP,EAAiB1T,QAAQ7tD,QAAQ8xD,eACpC9wD,KAAM,UAGRX,KAAKe,QAAQ0+D,cACXz/D,KAAKmL,WACLnL,KAAKf,MACLiiE,EAAiB1T,SAGnBxtD,KAAKohE,6EACHF,EAAiB1T,QAAQ7tD,QAAQ8xD,eACjCyP,EAAiB1T,QAAQhtD,MAE3BR,KAAKqhE,yDACHH,EAAiB1T,QAAQ7tD,QAAQ8xD,eACjCyP,EAAiB1T,QAAQhtD,MAG/B,CAEA4gE,6EACE3P,EACA6P,GAEA,IACG7P,IACAA,EAAergD,QAAQmwD,4CAExB,OAGF,MAAMC,EACJF,IAAqBhE,EAAAA,GAAAA,IAAcgE,GAErC,IAAIG,GAAyClgE,EAAAA,GAAAA,GAC3CvB,KAAKe,QAAQN,UAAU+a,qCAGzB,MAAMkmD,EAAqCjQ,EAAergD,OAAOmwD,4CAA4ClgE,KAC3GsgE,GAAgB,GAAG3hE,KAAKw0D,kBAAkBgN,KAAkBG,MAIxDC,EAAwCnQ,EAAergD,OAAOmwD,4CAA4ClgE,KAC9GsgE,GACE,GAAG3hE,KAAKw0D,kBAAkBx0D,KAAKnB,MAAM2B,QAAQmhE,MAG7CF,GAEFA,EAAyCA,EAAuC7/D,QAC9EO,IAEKu/D,EAAmCn2D,SAASpJ,KAC5Cy/D,EAAsCr2D,SAASpJ,KAKtDs/D,EAAyC,IACpCA,KACAC,IAGLD,EAAyCC,GAI3C34D,EAAAA,GAAAA,IAAc,IACZ/I,KAAKe,QAAQ6rD,mBACX,sCACA6U,IAGN,CAEAJ,yDACE5P,EACA6P,GAEA,IACG7P,IACAA,EAAergD,QAAQywD,6BAExB,OAEF,MAAML,EACJF,IAAqBhE,EAAAA,GAAAA,IAAcgE,GAErC,IAAIQ,GAA0BvgE,EAAAA,GAAAA,GAC5BvB,KAAKe,QAAQN,UAAU4a,sBAGzB,MAAM0mD,EAA2BtQ,EAAergD,OAAOywD,6BAA6BxgE,KAClF2gE,IAA+B,IAC1BA,EACH7/D,KAAM,GAAGnC,KAAKw0D,kBAAkBgN,KAAkBQ,EAA4B7/D,WAK5E8/D,EAA8BxQ,EAAergD,OAAOywD,6BAA6BxgE,KACrF2gE,IAA+B,IAC1BA,EACH7/D,KAAM,GAAGnC,KAAKw0D,kBAAkBx0D,KAAKnB,MAAM2B,QAAQwhE,EAA4B7/D,WAI/E2/D,GAEFA,EAA0BA,EAAwBlgE,QAChDsgE,IAEKH,EAAyB/1D,MACxByyD,GAAeA,EAAYt8D,OAAS+/D,EAAe//D,SAEpD8/D,EAA4Bj2D,MAC3ByyD,GAAeA,EAAYt8D,OAAS+/D,EAAe//D,SAM3D2/D,EAA0B,IACrBA,KACAC,IAGLD,EAA0BC,GAI5Bh5D,EAAAA,GAAAA,IAAc,IACZ/I,KAAKe,QAAQ6rD,mBACX,uBACAkV,IAGN,CAEAlB,6BAA6BlF,GAC3B,MAAMyG,EAAwC,CAC5C,QAEA,cACA,gBACA,WAGF,OAAQA,EAAuB52D,SAASmwD,EAC1C,CAEA7L,aACE7vD,KAAKe,QAAQ8uD,WAAW7vD,KAAKmC,KAC/B,CAEAigE,gBACEpiE,KAAKe,QAAQqhE,cAAcpiE,KAAKmL,WAAYnL,KAAKf,MACnD,CAEAojE,kBAAkBC,GAChB,MAAMC,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAGtC,GAFA0jE,EAAW5iE,QAAQgB,KAAO2hE,GAErBtiE,KAAKq+D,eAAgB,CAExB,MAAMmE,EAA0D,CAC9D,OACA,WACA,kBACA,kBACA,iBACA,WACA,OACA,WACA,SACA,UACA,OACA,cACA,OAGEA,EAAyCj3D,SAAS+2D,GACpDC,EAAW5iE,QAAQ8iE,OAAS,WAE5BF,EAAW5iE,QAAQ8iE,OAAS,Q,CAIhCziE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEApI,oBAAoBjB,GAClB,MAAMqJ,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQ26D,cAAgBpB,EACnCl5D,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEAvT,oBAAmB,QACjB1W,EAAO,MACPr5C,IAKA,MAAMsjE,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEjC0jE,EAAW5iE,QAAQ26D,gBACtBiI,EAAW5iE,QAAQ26D,cAAgB,IAGrCiI,EAAW5iE,QAAQ26D,cAAcr7D,GAASq5C,EAE1Ct4C,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEAtJ,oBAAoBC,GAClB,MAAMqJ,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQixD,MAAQsI,EAC3Bl5D,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEArU,oBAAmB,QACjB5V,EAAO,MACPr5C,IAKA,MAAMsjE,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEjC0jE,EAAW5iE,QAAQixD,QACtB2R,EAAW5iE,QAAQixD,MAAQ,IAI7B2R,EAAW5iE,QAAQixD,MAAM3xD,GAASq5C,EAElCt4C,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEAvU,cACE2I,EAKA+L,GAEA,MAAMH,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAChCsD,EAAO,WAAWugE,IAExB,KAAWH,EAAYpgE,EAAMw0D,GAC7B32D,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEII,kCACF,OAAOjhE,OAAOkhE,OAAOliE,EAAAA,GAAAA,UAClBkB,QAAOnB,KACDA,KAIDA,EAAQG,YAAYiiE,+BAIjB7gE,EAAAA,GAAAA,IACLvB,EAAQG,YACRZ,KAAKe,QAAQN,UAAUG,YACvBZ,KAAKe,QAAQN,UAAUD,SAG1Ba,KAAIZ,GAAWA,GAASD,MAC7B,CAEAsuD,6BAA6BgU,GAC3B,MAAMP,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEtC0jE,EAAW5iE,QAAQojE,6BAA+B,IAC7CR,EAAW5iE,QAAQojE,6BACtBC,uBAAwBF,GAG1B9iE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEIU,yBACF,OAAQjjE,KAAKnB,MAAMc,QAAQgB,MACzB,IAAK,OACH,OAAO,EACT,IAAK,QACH,OAAO,EACT,QACE,OAAO,EAEb,CAEIuiE,gBAMF,MAAO,CAAC,MAAO,OAAQ,aAAc,QACvC,CAEAnU,eAAeoU,GACb,MAAMZ,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEtC0jE,EAAW5iE,QAAQyjE,YAAc,IAC5Bb,EAAW5iE,QAAQyjE,YACtBD,YAGFnjE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEIhU,kBACF,OAAO8U,GAAAA,GAAAA,MAAAA,KAAAA,MAAAA,KAAoC1iE,GAAQA,EAAK9B,OAC1D,CAEA2vD,iBAAiB7tD,GACf,MAAM4hE,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQsxD,cAAgB,IAC9BsR,EAAW5iE,QAAQsxD,cACtBtwD,QAGFX,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEA9T,2BAA2B6U,GACzB,MAAMf,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQ4jE,YAAc,IAC5BhB,EAAW5iE,QAAQ4jE,YACtBD,UAAWA,GAGbtjE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEAiB,2BAA2BC,GACzB,MAAMlB,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQ+jE,iBAAmB,IACjCnB,EAAW5iE,QAAQ+jE,iBACtBC,KAAMF,EAAM,MAAQ,QACpBhB,OAAQ,WAGVziE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEAqB,6BAA6BN,GAC3B,MAAMf,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQ+jE,iBAAmB,IACjCnB,EAAW5iE,QAAQ+jE,iBACtBjB,OAAQa,EAAY,YAAc,UAClCK,KAAM,SAGR3jE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEAsB,YACE7jE,KAAKe,QAAQ8iE,UAAU7jE,KAAKmC,KAC9B,CAEIitD,qBACF,MAAO,CAAC,SAAU,WACpB,CAEAC,oBAAoByU,GAClB,MAAMvB,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQ8iE,OAASqB,EAC5B9jE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEAwB,eAAeC,GACb,MAAMzB,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW0B,SACO,OAAhBD,OAAuBt+D,EAAYs+D,EAAYh3D,MAAM,KACvDhN,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEI/S,oBACF,OAAOxvD,KAAKnB,MAAMolE,SAAWjkE,KAAKnB,MAAMolE,SAASh3D,KAAK,KAAO,EAC/D,CAEAsiD,kBAAkB2U,GAChB,MAAM3B,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQ2vD,YAAc4U,QAAkBx+D,EACnD1F,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEA4B,gBAAgBxjE,GACd,MAAM4hE,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEtC0jE,EAAW5iE,QAAQgvD,aAAe,IAC7B4T,EAAW5iE,QAAQgvD,aACtBhuD,QAGFX,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEA7S,iBAAiB0U,GACf,MAAM7B,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAElC4M,MAAMC,QAAQ04D,KAAmBA,EAAc5+D,cAC1C+8D,EAAW5iE,QAAQkhB,UAE1B0hD,EAAW5iE,QAAQkhB,UAAYujD,EAGjCpkE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEA8B,sBAAsBhkE,GACpB,MAAMkiE,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQ2kE,gBAAkBjkE,EACrCL,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEA9S,wBACE,MAAM8S,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,cAC/B0jE,EAAW5iE,QAAQ2kE,gBAC1BtkE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEIgC,qBACF,OAAOC,GAAAA,EACT,CAEAC,wBAAwBX,EAAwB,aAC9C,MAAMvB,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW5iE,QAAQ8xD,eAAiB,IAC/B8Q,EAAW5iE,QAAQ8xD,eACtB9wD,KAAMmjE,GAER9jE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAMAmC,6BAA6B1yD,GAC3B,MAAM2yD,EAAW3yD,EAAMrL,OAAO9H,MACxB0jE,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEtC0jE,EAAWnmD,MAAQuoD,EACnBpC,EAAW/hE,KAGTmkE,EAAS53D,QAAQ,eAAgB,KAAKsgB,cAEpC,MAAM/N,KAAKijD,EAAW/hE,QAExB+hE,EAAW/hE,KAAO,+BAA+B+hE,EAAW/hE,QAG9DR,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,GAGxDviE,KAAK4kE,wCAAwCrC,EAC/C,CAEApT,qBACE0V,EACAh5D,GAEA,MAAM02D,GAAahhE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACtC0jE,EAAW12D,GAAYg5D,EACvB7kE,KAAKe,QAAQ0+D,cAAcz/D,KAAKmL,WAAYnL,KAAKf,MAAOsjE,EAC1D,CAEA3T,2BACEiW,EACAC,EAAkC,SAClChkD,GAAU,GAEV,IAAIghD,GAA0BvgE,EAAAA,GAAAA,GAC5BvB,KAAKe,QAAQN,UAAU4a,sBAIrBymD,IACFA,EAA0BA,EAAwBlgE,QAChDmjE,GAAYA,EAAS5iE,OAASnC,KAAK2+D,gCAInCkG,IACG/C,IACHA,EAA0B,IAG5BA,EAAwBh2D,KAAK,CAC3Bg5D,UACA3iE,KAAMnC,KAAK2+D,gCACP79C,GAAW,CAAEA,cAIrB9gB,KAAKe,QAAQ6rD,mBACX,uBACAkV,EAEJ,CAEAkD,sBACE,MAAM/pD,EAAcjb,KAAKe,QAAQN,UAAUwa,YAE3C,IAAKA,IAAgBA,EAAYzV,OAAQ,OAAO,EAEhD,IAAKxF,KAAKs+D,qBAAsB,OAAO,EAEvC,MAAM2G,EAAmC1J,GACvCv7D,KAAKs+D,qBACLt+D,KAAK2+D,8BACLt9D,KAAI6jE,GAAYA,EAAS1mC,uBAGrB2mC,EAAkBlqD,EAAYzN,MAAK43D,GACvCH,EAAiC15D,SAC/B65D,EAAgB5mC,wBAIpB,QAAS2mC,CACX,CAEAE,iBAAiBlM,GACf,IAAKn5D,KAAKs+D,qBAAsB,OAEhC,IAAIgH,GAAiB/jE,EAAAA,GAAAA,GAAcvB,KAAKe,QAAQN,UAAUwa,aAE1D,MAAMA,EAAcsgD,GAClBv7D,KAAKs+D,qBACLt+D,KAAK2+D,8BAGP,GAAIxF,EACGmM,IACHA,EAAiB,IAGnBA,EAAiB,IAAIA,KAAmBrqD,QACnC,GAAIqqD,EAAgB,CACzB,MAAML,EAAmChqD,EAAY5Z,KACnD6jE,GAAYA,EAAS1mC,uBAGvB8mC,EAAiBA,EAAe1jE,QAC9BwjE,IACGH,EAAiC15D,SAChC65D,EAAgB5mC,uB,CAKxBx+B,KAAKe,QAAQ6rD,mBAAmB,cAAe0Y,EACjD,CAGAV,wCAAwCrC,IAKtCx5D,EAAAA,GAAAA,IAAc,IAAM/I,KAAKqlE,kBAAiB,MAC1Ct8D,EAAAA,GAAAA,IAAc,IAAM/I,KAAK4uD,4BAA2B,MACpD7lD,EAAAA,GAAAA,IAAc,IAAM/I,KAAKulE,2CAA0C,MACnEx8D,EAAAA,GAAAA,IAAc,IACZ/I,KAAK+tD,iDAAgD,KAGvD/tD,KAAKohE,6EACHmB,EAAW5iE,QAAQ8xD,eACnB8Q,EAAW/hE,MAGbR,KAAKqhE,yDACHkB,EAAW5iE,QAAQ8xD,eACnB8Q,EAAW/hE,KAEf,CAEIglE,gDACF,MAAMhqD,EAAsCxb,KAAKe,QAAQN,UACtD+a,oCAEH,OACEA,GACAA,EAAoCjQ,SAClCvL,KAAK2+D,6BAGX,CAEA4G,0CAA0CV,GACxC,IAAIpD,GAAyClgE,EAAAA,GAAAA,GAC3CvB,KAAKe,QAAQN,UAAU+a,qCAGzB,GAAIqpD,EACGpD,IACHA,EAAyC,IAG3CA,EAAuC31D,KACrC9L,KAAK2+D,mCAEF,GAAI8C,EAAwC,CACjD,MAAMgE,EAAoBhE,EAAuCp7B,WAC9DlkC,GAAiBA,IAASnC,KAAK2+D,+BAG9B8G,GAAqB,GACvBhE,EAAuCxkB,OAAOwoB,EAAmB,E,CAIrEzlE,KAAKe,QAAQ6rD,mBACX,sCACA6U,EAEJ,CAEIiE,aACF,OAAO1lE,KAAKe,QAAQN,UAAUmjB,SAASrY,SAAS,UAClD,CAEIuiD,iCACF,MAAMryC,EAA4Czb,KAAKe,QAAQN,UAC5Dgb,0CAEH,OACEA,GACAA,EAA0ClQ,SACxCvL,KAAK2+D,6BAGX,CAEA5Q,gDAAgD8W,GAC9C,IAAIc,GAA+CpkE,EAAAA,GAAAA,GACjDvB,KAAKe,QAAQN,UAAUgb,2CAGrBopD,GACGc,IACHA,EAA+C,IAGjDA,EAA6C75D,KAC3C9L,KAAK2+D,+BAEEgH,IACTA,EAA+CA,EAA6C/jE,QACzFO,GAAiBA,IAASnC,KAAK2+D,gCAIpC3+D,KAAKe,QAAQ6rD,mBACX,4CACA+Y,EAEJ,IAt+BAvjE,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,mCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,uCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,sCAsMYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAtNCo7D,IAAuB,UApC3Cn7D,EAAAA,EAAAA,IAAU,CACT2F,KAAM,0BACNjI,WAAY,CACVw9D,8BAA6B,GAC7B/S,2BAA0B,GAC1Bib,+BAA8B,GAC9BrJ,0BAAyB,GACzB9D,+BAA8B,GAC9BvhB,WAAU,KACV2uB,eAAc,KACdjM,+BAA8B,GAC9BtwD,KAAI,IACJ6xD,yBAAwB,GACxBD,8BAA6B,GAC7BN,0BAAyB,GACzBkL,gCAA+B,GAC/BnjE,UAAS,KACTytD,SAAQ,GACRyI,6BAA4B,GAC5BuB,6BAA4B,GAC5B/d,cAAa,KACbib,6BAA4B,GAC5ByO,0BAAyB,GACzBljE,SAAQ,KACRmjE,WAAU,KACVC,gBAAe,GACfrjE,SAAQ,KACR+6D,2BACA56D,UAAS,KACTD,UAAS,KACTwxD,eAAc,GACdiB,4BAA2B,GAC3Be,yBAAwB,GACxBuG,6BAA4BA,OAGXc,I,YC1HoS,MCQzT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCHhC,IAAqBuI,GAArB,cAAmD1mE,EAAAA,GAS7C+tD,kBACF,MAAO,GAAGvtD,KAAKwtD,iBACjB,CAEAmS,WAAWC,GACT5/D,KAAKe,QAAQ8+D,gBAAgB7/D,KAAKutD,YAAaqS,EACjD,CAEIE,eACF,OACEh/D,GAAAA,GAAAA,UAAAA,eACAA,GAAAA,GAAAA,UAAAA,cAAAA,aAEJ,CAEAm/D,cACE,IAAKn/D,GAAAA,GAAAA,UAAAA,cAAiC,OAEtC,MAAMk/D,EAAiBl/D,GAAAA,GAAAA,UAAAA,cAAAA,cAElBk/D,GAELhgE,KAAKe,QAAQm/D,aAAalgE,KAAKutD,YAAayS,EAC9C,CAEAmG,aACEnmE,KAAKe,QAAQ8uD,WAAW7vD,KAAKutD,YAAa,UAC5C,CAEAsW,YACE7jE,KAAKe,QAAQ8iE,UAAU7jE,KAAKutD,YAC9B,IAtCAnrD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,gCAGYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAPC2jE,IAAqB,UANzC1jE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVy9D,wBAAuB,GACvB56D,UAASA,SAGQmjE,I,YChBkS,MCOvT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,4BClByD,GAAU,W,IAA+ChnE,EAAM,K,EAAC,EAAO,MAAKL,GAAY,EAAU,kB,OACrLc,EAAAA,MAAS,sC,MACPZ,C,MACEc,EAAAA,OAAe,G,QACfD,C,QACF,CACF,iBACF,wBAAE,8BAAwE,GAAC,CAACZ,MAAW,SAAS,GAACiF,OAAI,yBAAS,EAACC,G,YAAwCrF,EAAAA,GAAAA,CAAAA,CAAM,IAAE,U,GAAC,U,MAAgC,EAAC,M,UAAqC,SAACqE,MAAG,CAAC,MAAQ,Q,MAAwBpE,EAAIsnE,OAAyD,IAAI1nE,MAAG,SAAY,GAACQ,OAAM,oCAAC,KAA+C,EAAC,a,MAAC,C,SAAqD,YAAjB,EAACwgE,gBAA2B,GAAC,CAAC1gE,OAAW,SAAS,GAACiF,OAAI,EAAO,0BAACC,G,YAAgCd,EAAW,GAAC,E,IAAQ,QAA8E,GAAC,WAACY,MAAM,UAAM,oBAAK,mBAAS,2CAACE,E,OAAc,G,mCAC1pBvE,CAAAA,EAAAA,WAAS,C,MAAEZ,C,MAAmBc,EAAAA,Q,QAA+B,CAAE,SACjE,iBAAE,kCAAsG,GAAC,CAACb,MAAW,SAAS,GAACiF,OAAI,qBAAS,mBAACC,G,YAAoCrF,EAAAA,GAAAA,CAAAA,CAAM,IAAE,U,GAAC,U,MAAkC,EAAC,M,UAAsC,GAAO,KAAKwnE,CAAmB,MAAC,CAAG,YAAC,SAAC,MAAQ,E,MAAwBvnE,EAAIsnE,qBAGpU,IACF,MAAM,SAAQE,GAC8NpnE,OAAM,4CAAC,MAAiB,GAAC,+P,MAAC,C,MAAgCJ,GAGlS,IAAI,MAAO,SAAS,GAASI,OAAM,4CAAC,MAAyB,kBAACgE,MAAG,CAAC,SAAW,GAAuC,UAA4C,IAAQ,MAAK,2CAAK,uCAAM,IAAa,MAAI,KAAoBhE,EAAO,WAAkD,WAAG,EAAC,a,MAAC,C,SAAqD,kBAAjB,EAACwgE,gBAAiC,GAAC,CAAC1gE,OAAW,SAAS,GAACiF,OAAI,EAAO,gCAACC,G,YAAgCd,EAAW,GAAC,E,IAAQ,QAAiG,GAAC,WAACY,MAAM,UAAM,oBAAK,0BAAS,uDAACE,E,OAAc,G,mCAC5kBvE,CAAAA,EAAAA,WAAS,C,MAAEZ,C,MAAmBc,EAAAA,c,QAA4B,CAAE,SAC9D,iBAAE,+BAGE,GAAC,CAACb,MAAW,SAAS,GAACiF,OAAI,qBAAS,yBAACC,G,YAAoCrF,EAAAA,GAAAA,CAAAA,CAAM,IAAE,U,GAAC,U,MAAkBuE,EAAY,MAAoD,I,MAAsB,GAAO,MAAG,C,YAAW,sDAAI,SAACF,MAAG,CAAC,MAAQ,G,SAA2B,IAErP,IAAIpE,MAAO,YAAwCI,OAAM,mDAAC,I,CAAsC,0BAAqBqnE,GAAAA,EAAa,a,MAAC,CAAgB,QAAG,SAAC,aAAC,iBAAQ,EAAS5gE,c,KAAQ,EAAU,MAG7L,IAAI,+EAAQ,KAAgB,IAAa,MAAI,KAAoBzG,EAAO,WAA2C,WAAG,EAAC,a,MAAC,C,SAAqD,WAAjB,EAACwgE,gBAA0B,GAAC,CAAC1gE,OAAW,SAAS,GAACiF,OAAI,EAAO,yBAACC,G,YAAgCd,EAAW,GAAC,E,IAAQ,QAA2E,GAAC,WAACY,MAAM,UAAM,oBAAK,kBAAS,yCAACE,E,OAAc,G,mCAC1YvE,CAAAA,EAAAA,WAAS,C,MAAEZ,C,MAAmBc,EAAAA,O,QAA8B,CAAE,SAChE,iBAAE,iCAAqG,GAAC,CAACb,MAAW,SAAS,GAACiF,OAAI,qBAAS,kBAACC,G,YAAoCrF,EAAAA,GAAAA,CAAAA,CAAM,IAAE,U,GAAC,U,MAAkC,EAAC,M,UAAqC,GAAO,KAAK2nE,CAAoB,MAAC,CAAG,YAAC,QAAC,MAAQ,E,MAAwB1nE,EAAIsnE,sBAGnU,IACF,MAAM,SAAQE,GAC8NpnE,OAAM,2CAAC,MAAiB,GAAC,gQ,MAAC,C,MAAgCJ,GAGlS,IAAI,MAAO,SAAS,GAASI,OAAM,2CAAC,MAAyB,kBAACgE,MAAG,CAAC,SAAW,GAAuC,UAA4C,IAAQ,MAAK,2CAAK,uCAAM,IAAa,MAAI,KAAoBhE,EAAO,WAAiD,WAAG,EAAC,a,MAAC,C,SAAqD,iBAAjB,EAACwgE,gBAAgC,GAAC,CAAC1gE,OAAW,SAAS,GAACiF,OAAI,EAAO,+BAACC,G,YAAgCd,EAAW,GAAC,E,IAAQ,QAA8F,GAAC,WAACY,MAAM,UAAM,oBAAK,yBAAS,qDAACE,E,OAAc,G,mCAA+E,cAAU,C,MAChqBvE,C,KACEZ,e,MACEc,EAAAA,a,QACF,CACF,SACF,iBAAE,wBAGE,GAAC,CAACb,MAAW,SAAS,GAACiF,OAAI,qBAAS,wBAACC,G,YAAoCrF,EAAAA,GAAAA,CAAAA,CAAM,IAAE,U,GAAC,U,MAA6B,EAAC,M,UAAgC,eAAiBC,C,MAAkB,CAAgB,QAAG,SAAC,MAAC,iBAAQ,EAAS6G,c,KAAQ,EAAU,MAGvO,IAAI,8EAAQ,KAAgB,IAAa,MAAI,KAAcvC,EAAsD1E,OAAG,IAAaQ,MAAM,KAAC,QAAU,CAA0C,YAAC,0CAAG,EAAC,a,MAAC,C,SAAqD,qBAAjB,EAACwgE,gBAAoC,GAAC,CAAC1gE,OAAW,SAAS,GAACiF,OAAI,EAAO,mCAACC,G,YAAgCd,EAAW,GAAC,E,IAAQ,QAA4F,GAAC,WAACY,MAAM,UAAM,oBAAK,6BAAS,mDAACE,E,OAAc,G,mCAAsF,eAAiBpF,CAAiB,MAAC,CAAG,MAAC,mBAAC,SAAQ,a,iBAA4BsnE,EAAAA,eAG/oB,IAAI1nE,MAAQ,SAAC,GAACwG,OAAM,mDACtB,KAED,SAAChC,MAAG,CAAC,8BAAwB,E,mCAA8BujE,EAAAA,mBAAkB,IAAI/nE,MAAG,YAAmBQ,EAAM,sCAAC,IAA+B,CAACJ,EAAG,kBAAc,CAAW,MAAO,CAAmE,KAAO,sBAA2B,CAACA,EAAIM,GAAG,sBAAqX,oEAAC4E,KAAM,YAAO,YAAS,QAAO,uCAAY,gUAAC9E,EAAO,WAAsD,WAAG,EAAC,a,MAAC,C,SAAqD,sBAAjB,EAACwgE,gBAAqC,GAAC,CAAC1gE,OAAW,SAAS,GAACiF,OAAI,EAAO,oCAACC,G,YAAgCd,EAAW,GAAC,E,IAAQ,QAA8F,GAAC,WAACY,MAAM,UAAM,oBAAK,8BAAS,oDAACE,E,OAAc,G,mCAAkF,eAAiBpF,CAAiB,MAAC,CAAG,MAAC,oBAAC,SAAQ,Q,iBAA4BsnE,EAAAA,eAGrsC,IAAI1nE,MAAQ,SAAC,GAACwG,OAAM,oDACtB,KAED,SAAChC,MAAG,CAAC,8BAAwB,E,mCAA8BujE,EAAAA,mBAAkB,IAAI/nE,MAAG,YAAmBQ,EAAM,sCAAC,IAA+B,CAACJ,EAAG,kBAAc,CAAW,MAAO,CAAoE,KAAO,sBAA2B,CAACA,EAAIM,GAAG,sBAAsX,qEAAC4E,KAAM,YAAO,YAAS,QAAI,0WAAG,WAAO,WAEnsB1E,Q,UC/DA2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,uBAAuB,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,OAAOlE,MAAM,CAAC,KAAO,kBAAkB,OAASJ,EAAI21C,KAAO,UAAO/uC,EAAU,KAAO,QAAQhH,EAAG,IAAI,CAACI,EAAI0K,GAAG,YAAY,IAAI,EAC/R,EACIlK,GAAkB,GCKtB,IAAqBonE,GAArB,cAA6ClnE,EAAAA,MAE3C4C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,4BADYqkE,IAAe,UAHnClkE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEoJ,KAAIA,EAAAA,MAECo9D,I,YCP4R,MCOjT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBChBzB,MAAMC,GAAQ93D,EAAAA,GAAQ,CAC3BA,EAAAA,GAAU,MACVA,EAAAA,GAAU,YACVA,EAAAA,GAAU,YACVA,EAAAA,GAAU,mBACVA,EAAAA,GAAU,UACVA,EAAAA,GAAU,SAEC+3D,GAAwBD,GAAMjQ,MAAMr1D,KAAI,EAAGxC,WAAYA,IC6BpE,IAAqBgoE,GAArB,cAAuDrnE,EAAAA,GAAvDC,c,oBAIE,KAAAif,eAAsC,GACtC,KAAAzf,MAAQ,EACR,KAAAwnE,mBAAoB,CA0GtB,CAtGM11C,WACF,OAAO61C,EACT,CAEIL,oBACF,OAAOvmE,KAAKe,QAAQ+0D,uBACtB,CAEAzxD,gBACM3D,GAAAA,GAAAA,uBAAAA,cAEEV,KAAK8mE,wCACb,CAEAziE,gDACEkK,EAAAA,EAAAA,YACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,wCACRG,QAAS3J,EAAAA,GAAQk4D,EAAAA,IACjBruD,UAAW,0BAEbjK,EAAAA,EAAAA,OACEkK,GAAUA,EAAO/M,SAAQtH,GAAKsU,GAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,SAC/DmuD,IACEtmE,GAAAA,GAAAA,0BAAsCsmE,EAAqB,IAInE,CAEAC,uBAAuB5mE,GACrBL,KAAKe,QAAQqlE,iBAAiB/lE,EAChC,CAEA6mE,mBAAmB7mE,EAA2B8B,GAC5C,MAAMglE,GAAkB5lE,EAAAA,GAAAA,GAAcvB,KAAKnB,QAAU,GAErD,KACEsoE,EACAhlE,EAEA9B,EAASgB,KAAIm4D,GACW,kBAAfA,EAA0BA,EAAa,MAIlDx5D,KAAKe,QAAQqlE,iBAAiBe,EAChC,CAEAf,iBAAiB/lE,EAAkB8B,GACjC,MAAMglE,GAAkB5lE,EAAAA,GAAAA,GAAcvB,KAAKnB,QAAU,GACrD,KAAWsoE,EAAiBhlE,EAAM9B,GAClCL,KAAKe,QAAQqlE,iBAAiBe,EAChC,CAEAzH,gBAAgBt1D,GACdpK,KAAK0e,eAAiB1e,KAAK0e,iBAAmBtU,EAAQ,GAAKA,CAC7D,CAEAg9D,oBAAoBjlE,GAClB,MAAMklE,EAAe,IAAWrnE,KAAKnB,MAAOsD,GAExCklE,IACFC,EAAAA,GAAAA,KAA6Bl1C,EAAAA,GAAAA,MAA4B,CACvDiH,KAAMguC,EACNE,OAAQ,8CAGd,CAEAjB,qBAAqBznE,EAAe2oE,GAClC,OAAQA,EAAeh6D,MACrBi6D,GAAY,UAAWA,GAAYA,EAAS5oE,QAAUA,GAE1D,CAEIwnE,0BACF,OAAOrmE,KAAK0nE,sCAAsC,KACpD,CAEIlB,2BACF,OAAOxmE,KAAK0nE,sCAAsC,MACpD,CAEAA,sCAAsCC,GACpC,MAAMC,EAA6C,GAenD,OAbAlnE,GAAAA,GAAAA,uBAAAA,SAA2CmnE,IACpCA,EAAehoB,MAAM8nB,GAAUniE,SAEpCoiE,EAAkB97D,KAAK,CAAEk1C,OAAQ6mB,EAAe1/D,OAEhD0/D,EAAehoB,MAAM8nB,GAAU/7D,SAAQoyC,IACrC4pB,EAAkB97D,KAAK,CACrB+G,KAAMmrC,EAAK71C,KACXtJ,MAAOm/C,EAAKuU,KACZ,IACF,IAGGqV,CACT,IA7GAxlE,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAOYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BARCskE,IAAyB,UAV7CrkE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVyC,UAAS,KACT+jE,gBAAe,GACfoB,UAAS,KACThlE,UAAS,KACTmjE,gBAAe,GACfrjE,SAAQA,GAAAA,MAGSikE,I,YCvCsS,MCQ3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCRnBkB,GAAmCC,IAC9C,MAAMvnE,GAAUc,EAAAA,GAAAA,GAAcymE,GAExBtb,EAAeub,GAAkCxnE,GAMvD,OAJAisD,EAAaj9C,SAASy4D,iBAAmB,GAEzCxb,EAAan5B,YAAcm5B,EAAan5B,YAAYvmB,MAAM,YAAY,GAE/D0/C,CAAY,EAIrB,SAASub,GAAkCD,GACzC,MAAMvnE,GAAUc,EAAAA,GAAAA,GAAcymE,GAQ9B,OANAG,EAAAA,GAAAA,GAAmB1nE,EAAQgP,UAAU7D,SAAQ3H,IAC3CxD,EAAQgP,SAASxL,GAAOxD,EAAQgP,SAASxL,GAAKrC,QAC5CyN,IAAYA,EAAQ1P,QAAQyoE,YAC7B,IAGI3nE,CACT,C,IClC4D7B,GAAOE,WAAsB,MAAU,KAAuBI,EAAK,EAAC,SAAC,EAAU,MAAKwf,Y,OAAiC,wBAACxb,MAAG,CAAC,SAASpE,EAAI4gE,iBAAAA,EAAAA,WAAiB1gE,GAAAA,CAAqBiF,OAAI,EAAO,iB,YAAuBvF,EAAG,GAAK,E,IAAE0E,Q,GAAmB,WAAsI,gBAACY,YAAM,QAAM,4GAACC,EAAcC,OAAG,G,KAA2EhF,U,oBAAwC,OAAU,8C,MAChkBS,C,MACEZ,EAAAA,MAAe,EAAE,W,QACfc,C,QACAC,CACF,iBACF,uBACD,2BAAoC,qBAAI,Y,GAA0D,CAAE,kBAACd,OAAW,EAACF,cAAQ,EAACmF,G,YAAmC/B,EAAAA,GAAAA,CAAAA,C,IAAerD,UAAM,GAAE,UAAC,MAAO,EAAI,M,UAA4C,GAAO,YAAOsuB,C,MAAO,CAAmC,SAAW4D,aAAK,eAAG,iBAAC,gBAAC,KAAO,EAAC,M,GAG3T,CAAC,kBAAM,OAAM,EAAC,iDAAC7rB,KAEhB,SACF,MAAC,CAAG,8BAAC,EAAC,mCAAwB,kB,GAAyC,CAAC,kBAAM,EAAC,gBAAkB,gBAAChG,IAAgC,sBAAE,MAAMsK,CAAwB,KAAQ1K,EAAM,iBAAwGsE,CAAAA,EAAAA,GAAAA,WAAY,WAAO,MAAMhE,CAAE,EAAC,4C,KAAoJgE,GAAY,0BAAZA,EAAW,UAAC,UAAO,YAAS,QAA4IA,CAAAA,EAAAA,GAAAA,WAAY,8HAAO,YAAY,QAA+GlE,CAAAA,EAAK,GAAC,sI,YAASL,Q,CAAmB,SAAU,sG,MACxyBc,C,MACEZ,EAAAA,a,QACEc,C,QACAC,CACF,iBACF,2BACF,gC,GAAoF,CAAE,kBAACd,OAAW,EAACF,mBAAQ,IAACmF,G,YAAmCokE,EAAAA,GAAAA,CAAAA,C,IAAgBxpE,UAAc,GAAE,UAAC,MAAO,E,MAAuB,I,MAAiC,GAAO,KAACypE,CAAM,MAAC,CAAG,MAAC,qBAAC,MAAQ,G,GAGpQ,CAAC,kBAAM,OAAM,EAAC,6DAACpjE,KAEhB,SACF,MAAC,CAAG,8BAAC,EAAC,mCAAwB,sB,GAAiD,CAAC,kBAAM,EAAC,oBAAkB,oBAAChG,IAAoC,sBAAE,MAAMsK,CAAwB,KAAQ1K,EAAM,qBAAkDsE,CAAAA,EAAAA,GAAAA,WAAY,WAAO,MAAMoG,CAAE,EAAC,mCAAkC,iBAAI,YAAS,QAAQxD,CAAAA,EAAI,GAAG,2BAAc,OAAC9G,IAAO,WAAsC,OAAQ,Q,MAAuB,CAAuG,gBAAkB,kBAAG,6BAAG,KAAC,gGAAC,kBAAS,I,GAG9iB,CAAC,mBAAI,sEAAkB,IAAO,WAAoB,EAChE,WACGI,MAAAA,MAEJ,E,+BCRA,IAAqBipE,GAArB,cAAiD/oE,EAAAA,GAAjDC,c,oBAaE,KAAAR,MAAQ,EACR,KAAAupE,gBAAiB,EACjB,KAAAC,oBAAqB,CAuFvB,CAnFMC,iBACF,OAAO,KAAiB1oE,KAAK2oE,UAC/B,CAEI53C,WACF,OAAO61C,EACT,CAEIL,oBACF,OAAOvmE,KAAKe,QAAQ+0D,uBACtB,CAEA4J,kBACE1/D,KAAKM,MACH,SACAN,KAAK0e,iBAAmB1e,KAAK2oE,UAAY,GAAK3oE,KAAK2oE,UAEvD,CAEAC,kBAAkBzmE,GAChB,IAAI0mE,GAAatnE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAQpC,OANKgqE,EAEOA,EAAW1mE,KACrB0mE,EAAW1mE,GAAQ,CAAC,CAAEgrB,OAAQ,MAF9B07C,EAAa,CAAE,CAAC1mE,GAAO,CAAC,CAAEgrB,OAAQ,MAK7B07C,CACT,CAEAC,cAAcC,GACZ,MAAMF,EAAa7oE,KAAK4oE,kBAAkB5oE,KAAK2oE,WAE/CE,EAAW7oE,KAAK2oE,WAAaI,EAE7B/oE,KAAKe,QAAQ+nE,cAAcD,EAC7B,CAEAG,aAAa3oE,EAAkB8B,GAE7B,MAAM0mE,GAAatnE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEtC,KAAWgqE,EAAY1mE,EAAM9B,GAC7BL,KAAKe,QAAQ+nE,cAAcD,EAC7B,CAEA3B,mBAAmB7mE,EAA2BpB,GAC5C,MAAM4pE,EAAa7oE,KAAK4oE,kBAAkB5oE,KAAK2oE,WAE/C,IAAItwD,EAASwwD,EAAW7oE,KAAK2oE,WAExBtwD,IACHA,EAAS,IAIXA,EAAOpZ,GAAO4b,aAAexa,EAASgB,KAAI8rB,GACtB,kBAAXA,EAAsBA,EAAS,KAGxC07C,EAAW7oE,KAAK2oE,WAAatwD,EAE7BrY,KAAKe,QAAQ+nE,cAAcD,EAC7B,CAEI/b,yBACF,MAAMr9C,EAAWzP,KAAKe,QAAQN,UAAUgP,SACxC,MAAO,CACLA,EAASG,eAAepK,OAAS,SAAW,KAC5CiK,EAASC,gBAAgBlK,OAAS,UAAY,QAC3CxF,KAAKe,QAAQ+0D,sBAAsB,GAAI,KAC1Cl0D,OAAOg1B,QACX,CAEAwvC,iBAAiB/lE,EAAkB8B,GAEjC,MAAM0mE,GAAatnE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEtC,KAAWgqE,EAAY1mE,EAAM9B,GAE7BL,KAAKe,QAAQ+nE,cAAcD,EAC7B,IAnGAzmE,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,kCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,uCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAO,yCAOLF,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAjBCgmE,IAAmB,UATvC/lE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVwmE,gBAAe,GACfoB,UAAS,KACT7B,gBAAe,GACfrjE,SAAQ,KACRE,UAASA,GAAAA,MAGQylE,I,YCzBgS,MCQrT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnBY7pE,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAkB,oB,OAAC,aAAiB,C,MAAO,C,MACnI,EAAE,U,QACPK,C,QACEk2D,C,gBACU,C,gBACE,CACX,QACDp1D,SAAAA,IAEF,+BACF,wC,GAC8B,CAAmC,kBAAE,4BAACb,G,YAAsC,EAAS,K,IAAEC,U,GAAsBJ,UAAO,MAAC,QAAC,I,MAAqE,GAAO,IAACA,CAAAA,EAAMsJ,GAAI,4B,MAAC,CAAoC,aAAG,MAAC,2B,GAA0B,CAA4C,kBAAC,wBAAIzJ,KAAiF,MAAO,CAACG,EAAAA,GAAM+kB,qBAAQ,8B,MAAC,CAAkB,iBAAG,SAAC,Q,GAA0B,CAAqD,kBAAC,iCAAG,KAAqD,iBAAcA,EAAAA,EAAAA,GAAAA,EAAAA,CAAQ,MAAC,CAAG,MAAC,Y,GAA0B,CAAyD,kBAAC,qCAAG,KAAiD,aAAcA,EAAAA,EAAAA,GAAAA,EAAAA,CAAQ,MAAC,CAAG,MAAC,Y,GAA0B,CAAgD,kBAAC,4BAAG,KAAa,OAAG,MAIr4B,E,MCYA,IAAqBqlD,GAArB,cAAqDzpE,EAAAA,GAMnD0pE,iBAAiB7oE,GACfL,KAAKM,MAAM,QAASD,EACtB,CAEA8oE,WAAWlqE,EAAemqE,GACxB,MAAM/oE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,QAEiB,IAAjDmB,KAAKqpE,sBAAsBD,KAE/B/oE,EAASpB,GAAOkJ,KAAOihE,EAAiBtgE,OACxC9I,KAAKM,MAAM,QAASD,GACtB,CAEAipE,oBAAoBrqE,EAAesqE,GACjC,MAAMlpE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEnCwB,EAASpB,GAA4C2kB,SACpD2lD,GAAe,GACjBvpE,KAAKM,MAAM,QAASD,EACtB,CAEAmpE,wBAAwBvqE,EAAesqE,GACrC,MAAMlpE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEnCwB,EACCpB,GAC6CgN,aAAes9D,EAC9DvpE,KAAKM,MAAM,QAASD,EACtB,CAEAopE,eAAexqE,EAAesqE,GAC5B,MAAMlpE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEnCwB,EACCpB,GACwC62B,SAAWyzC,EACrDvpE,KAAKM,MAAM,QAASD,EACtB,CAEAgpE,sBAAsBxqE,GACpB,OAAO6qE,GAAAA,GAAAA,0BAAmD7qE,EAC5D,IA7CAuD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,IAAM,MAAK,8BAGTF,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAJC0mE,IAAuB,UAT3CzmE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV4nE,UAAS,KACTllE,SAAQ,KACRC,SAAQ,KACRC,UAAS,KACTC,UAASA,SAGQkmE,I,YC3BoS,MCOzT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClBYvqE,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAkB,oB,OAAC,aAAiB,C,MAAO,C,MACnI,EAAE,U,QACPK,C,QACEc,C,gBACY,CACZo1D,cAAe,gB,WACP,Y,gBACI,CACZ,gBACF,oB,GAE4B,CAAgC,kBAAE,yBAACj2D,G,YAAsC,EAAS,K,IAAEC,U,GAAsBJ,UAAO,MAAC,QAAC,I,MAAiE,GAAO,IAACA,CAAAA,EAAMsJ,GAAI,wB,MAAC,CAAgC,aAAG,MAAC,uB,GAA0B,CAA4C,kBAAC,wBAAIzJ,KAAyE,MAAO,CAACG,EAAAA,GAAM+kB,mCAAQ,e,MAAC,CAAkB,iBAAG,SAAC,Q,GAA0B,CAA6C,kBAAC,yBAAIllB,KAA+BI,EAAG,MAAI,CAAgT,oBAAG,mTAAG,MAIt3B,E,MCOA,IAAqB6qE,GAArB,cAA4DnqE,EAAAA,GAM1DoqE,cAAcvpE,GACZL,KAAKM,MAAM,QAASD,EACtB,CAEA8oE,WAAWlqE,EAAe4qE,GACxB,MAAMxpE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,QAES,IAAzCmB,KAAK8pE,kBAAkBD,KAE3BxpE,EAASpB,GAAOkJ,KAAO0hE,EAAa/gE,OACpC9I,KAAKM,MAAM,QAASD,GACtB,CAEA+1D,YAAYn3D,EAAesqE,GACzB,MAAMlpE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEpCwB,EAASpB,GAAO2kB,SAAW2lD,GAAe,GAC1CvpE,KAAKM,MAAM,QAASD,EACtB,CAEAypE,kBAAkBjrE,GAChB,OAAO6qE,GAAAA,GAAAA,sBAA+C7qE,EACxD,IA1BAuD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,MAAK,8BAGHF,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAJConE,IAA8B,UATlDnnE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV4nE,UAAS,KACTllE,SAAQ,KACRC,SAAQ,KACRC,UAAS,KACTC,UAASA,SAGQ4mE,I,YCtB2S,MCOhU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,4BClByD,GAAU,W,IAAuEzqE,EAAM,K,EAAC,EAAO,MAAKo5D,GAAqB,EAACx5D,MAAID,Y,OAAgB,OAAY,kDAAE,MAAC,CAAG,MAAC,gBAAC,MAAQ,QAAS8G,U,UAAmBokE,IAAuC,IAAIrrE,MAAQ,SAAQ,GAA0CQ,OAAM,kCAAC,KAAwD,UAAY,4CAAE,MAAC,CAAG,MAAC,gBAAC,MAAQ,QAASyG,Y,UAAmBokE,IAAyC,IAAIrrE,MAAQ,SAAQ,GAAsCQ,OAAM,oCAAC,KAAwD,UAAY,wCAAE,MAAC,CAAG,MAAC,gBAAC,MAAQ,QAASyG,Y,UAAmBokE,IAAyC,IAAIrrE,MAAQ,SAAQ,GAAgDQ,OAAM,oCAAC,KAAiE,UAAY,kDAAE,MAAC,CAAG,MAAC,gBAAC,MAAQ,QAASyG,qB,UAAmBokE,IAAkD,IAAIrrE,MAAQ,SAAS,GAAkBstB,OAAW,EAAC,2CAAC,KAAqC9sB,EAAK,MAAC,gB,YAAU,CAAG,OAAQJ,4BAAiBoE,MAAG,CAAC,OAAQpE,GAAe,qBACnpC,IACGQ,MAAAA,EAAe,e,uBCWnB,IAAqB0qE,GAArB,cAA4DxqE,EAAAA,GAItD84D,oBACF,MAAO,CAAC,MAAO,KAAM,UAAW,UAClC,CAEAyR,kBACE9lE,EACApF,GAEA,MAAMorE,GAA0C1oE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACnEorE,EAAwChmE,GAAOpF,EAC/CmB,KAAKw1D,KAAKyU,EACZ,CAEAC,YAAYC,GACV,MAAMF,GAA0C1oE,EAAAA,GAAAA,GAAcvB,KAAKnB,OACnEorE,EAAwCG,MAClB,kBAAbD,EAAwBA,EAAW,GAC5CnqE,KAAKw1D,KAAKyU,EACZ,CAEAzU,KAAKn1D,GACHL,KAAKM,MAAM,QAASD,EACtB,IAxBA+B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADY2nE,IAA8B,UAHlDxnE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEm8C,cAAaA,GAAAA,MAER2tB,I,YCb2S,MCOhU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,aClBYtrE,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAwB,oB,OAAC,mBAAqB,CAAE,MAAC,CAAG,MAAC,a,GAA0B,CAAqC,kBAAE,8BAACM,G,YAAsC,EAAS,K,IAAEC,U,GAAsBJ,UAAO,MAAC,QAAC,I,MAAgC,GAAO,KAAM,C,MAAC,CAAqF,MAAQ,EAAgB,KAAO,0EAAc,oBAAG,MAAC,Y,GAA0B,CAA2D,kBAAC,uCAAI,KAAM,MAI9jB,E,MCoBA,IAAqBwrE,GAArB,cAAwD7qE,EAAAA,GAOtDotD,mBAAmBvsD,GACjB,MAAMiqE,EAA2CjqE,EAASgB,KAAIxC,GACvC,kBAAVA,EACFA,EAGF,KAGTmB,KAAKM,MAAM,QAASgqE,EACtB,CAEAC,0BAA0BtrE,EAAeurE,GACvC,MAAMnqE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OAE/B2rE,GAAYxqE,KAAKyqE,UAAUD,KAIhCnqE,EAASpB,GAASurE,EAAQ1hE,OAC1B9I,KAAK4sD,mBAAmBvsD,GAC1B,CAEAoqE,UAAUD,GACR,OAAOE,EAAAA,GAAAA,IAAiBF,EAC1B,IA9BApoE,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,IAAM,MAAK,8BAI5BF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,IAAM,MAAK,gCAJT+nE,IAA0B,UAX9C7nE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV2lE,eAAc,KACdjjE,SAAQ,KACRy5C,cAAa,KACbyrB,UAAS,KACTjlE,SAAQ,KACRC,UAAS,KACTC,UAASA,SAGQsnE,I,YCxBuS,MCO5T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAIpnE,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACA,EAAG,YAAY,CAACQ,MAAM,CAAC,SAAkC,yBAAvBJ,EAAI4f,gBAA2Cxb,GAAG,CAAC,OAAS,SAASyC,GAAQ,OAAO7G,EAAI4gE,gBAAgB,uBAAuB,GAAG1gE,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACxF,EAAG,MAAM,CAAC0E,YAAY,QAAQ,CAACtE,EAAIM,GAAG,4BAA4B,EAAE4E,OAAM,GAAM,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACxF,EAAG,4BAA4B,CAACQ,MAAM,CAAC,MAAQJ,EAAID,MAAMwc,qBAAqB,YAAYvc,EAAI6rE,UAAUznE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAI8rE,2BAA2BjlE,EAAQ,uBAAuB,KAAK,EAAE3B,OAAM,OAAUtF,EAAG,YAAY,CAACQ,MAAM,CAAC,SAAkC,wCAAvBJ,EAAI4f,gBAA0Dxb,GAAG,CAAC,OAAS,SAASyC,GAAQ,OAAO7G,EAAI4gE,gBAAgB,sCAAsC,GAAG1gE,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACxF,EAAG,MAAM,CAAC0E,YAAY,QAAQ,CAACtE,EAAIM,GAAG,+CAA+C,EAAE4E,OAAM,GAAM,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACxF,EAAG,6BAA6B,CAACQ,MAAM,CAAC,MAAQJ,EAAID,MAAM2c,oCAAoC,YAAY1c,EAAI+rE,8BAA8B3nE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAI8rE,2BACpsCjlE,EACA,sCACD,KAAK,EAAE3B,OAAM,OAAUtF,EAAG,YAAY,CAACQ,MAAM,CAAC,SAAkC,uBAAvBJ,EAAI4f,gBAAyCxb,GAAG,CAAC,OAAS,SAASyC,GAAQ,OAAO7G,EAAI4gE,gBAAgB,qBAAqB,GAAG1gE,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACxF,EAAG,MAAM,CAAC0E,YAAY,QAAQ,CAACtE,EAAIM,GAAG,4DAA4D,EAAE4E,OAAM,GAAM,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACxF,EAAG,6BAA6B,CAACQ,MAAM,CAAC,MAAQJ,EAAID,MAAM4c,0CAA0C,YAAY3c,EAAI+rE,8BAA8B3nE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAI8rE,2BAC5jBjlE,EACA,4CACD,KAAK,EAAE3B,OAAM,OAAUtF,EAAG,YAAY,CAACQ,MAAM,CAAC,SAAkC,iBAAvBJ,EAAI4f,gBAAmCxb,GAAG,CAAC,OAAS,SAASyC,GAAQ,OAAO7G,EAAI4gE,gBAAgB,eAAe,GAAG1gE,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACxF,EAAG,MAAM,CAAC0E,YAAY,QAAQ,CAACtE,EAAIM,GAAG,kBAAkB,EAAE4E,OAAM,GAAM,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACxF,EAAG,2BAA2B,CAACQ,MAAM,CAAC,MAAQJ,EAAID,MAAMoc,eAAe,EAAEjX,OAAM,QAAW,EAClb,EACI1E,GAAkB,GCRsBZ,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAkB,oB,OAAC,aAAiB,C,MAAO,C,MACnI,EAAE,U,QACPK,C,QACEc,C,gBACY,CACZo1D,cAAe,qB,WAAa,gC,gBAAgB,CAAG,iBACjD,a,GAE4B,CAAqC,kBAAE,8BAACj2D,G,YAAsC,EAAS,K,IAAEC,U,GAAsBJ,UAAO,MAAC,QAAC,I,MAA0E,GAAO,IAACA,CAAAA,EAAMsD,GAAI,mC,MAAC,CAAqF,MAAQ,EAAKsoE,KAAW,KAAO,0EAAc,oBAAG,MAAC,Y,GAA0B,CAA2D,kBAAC,uCAAI/rE,KAAqCI,EAAG,IAAI,CAAkCI,YAAM,gB,CAAC,KAAO,cAAK0/D,EAAAA,gBAA0B,C,MAAC,CAAsB,mCAAG,MAAC,W,GAA0B,CAA6C,kBAAC,yBAAI,KAAM,MAI/rB,E,MCeA,IAAqBkM,GAArB,cAAuDtrE,EAAAA,GAOrDotD,mBAAmBvsD,GACjBL,KAAKM,MAAM,QAASD,EACtB,CAEA0qE,0BAA0B9rE,EAAeurE,GACvC,MAAMnqE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OAE/BmB,KAAKyqE,UAAUD,KAIpBnqE,EAASpB,GAAOkD,KAAOqoE,EAAQ1hE,OAC/B9I,KAAK4sD,mBAAmBvsD,GAC1B,CAEAoqE,UAAUD,GACR,OAAOE,EAAAA,GAAAA,IAAiBF,EAC1B,CAEI5L,iCACF,OAAOA,EAAAA,GAAAA,KACT,CAEAxI,YAAYn3D,EAAe+rE,GACzB,MAAM3qE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEpCwB,EAASpB,GAAO6lE,QAAUkG,EAC1BhrE,KAAK4sD,mBAAmBvsD,EAC1B,IAjCA+B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,IAAM,MAAK,8BAI5BF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,IAAM,MAAK,gCAJTwoE,IAAyB,UAV7CtoE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV0C,SAAQ,KACRy5C,cAAa,KACbyrB,UAAS,KACTjlE,SAAQ,KACRC,UAAS,KACTC,UAASA,SAGQ+nE,I,YC3BsS,MCO3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI7nE,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,WAAW,CAACQ,MAAM,CAAC,MAAQJ,EAAID,OAAS,GAAG,QAAU,CACpJc,QAAS,CACPZ,gBAAiB,CACfc,cAAe,cACfC,WAAY,0BAGfoD,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAImsE,gBAAgBtlE,EAAO,GAAG3G,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,UAAUC,GAAG,UAAS,MAAErF,EAAK,MAAEI,IAAS,MAAO,CAACP,EAAG,0BAA0B,CAACQ,MAAM,CAAC,MAAQL,GAAOqE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIosE,eAAevlE,EAAQ1G,EAAM,KAAK,MAC9Q,EACIK,GAAkB,GCTsBZ,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAW0E,EAAY,kBAAM,OAAM,EAAG,MAAC,GAAU,MAAM,CAAkBlE,YAAM,Q,CAAC,KAAO,cAAKisE,EAAAA,gBAAa,C,MAAC,CAAoC,sBAAG,MAAC,2BAAsC,IAAIzsE,MAAQ,EAAC,6BAAsBI,EAAG,MAAI,CAA6CI,YAAM,Q,CAAC,KAAO,4BAAuB,Q,MAAC,CAAkD,2BAACmE,YAAM,qC,MAA8CE,C,MAA6B6nE,EAAKtsE,YAAIusE,qBAAyC,SAAC,YAAC7nE,EAAAA,KAAU,EAAC,qCAAkC,EAAI9E,WAAG,sCAAkB,eAAY4sE,CAAe,IAAIxsE,MAAO,EAAM,kBAEpsBQ,CAAAA,EAAAA,GAAAA,WAAoB,EAExB,E,kBCkBA,IAAqBisE,GAArB,cAAqD/rE,EAAAA,GAArDC,c,oBAIE,KAAA4rE,YAAcrrE,KAAKnB,OAAS,CAAC,CA8C/B,CA1CMiuD,yBACF,OAAO9sD,KAAKe,QAAQ+0D,uBACtB,CAGI0V,iCACF,MAAMC,EAAYC,EAAAA,GAAAA,MAAAA,KAA8B/qE,GAAQA,EAAK9B,QACvDssE,EAAgBQ,EAAAA,GAAAA,MAAAA,KAAgChrE,GAAQA,EAAK9B,QAEnE,OAAOssE,EAAcxlC,QACnB,CAACr2B,EAAKzD,EAAU5H,KAAQ,IAAMqL,EAAK,CAACzD,GAAW4/D,EAAUxnE,MACzD,CAAC,EAEL,CAEIknE,oBACF,OAAOzpE,OAAOC,KAAK3B,KAAKwrE,2BAC1B,CAEAI,0BAA0BC,GACxB7rE,KAAKqrE,YAAY/tC,YAAcuuC,EAE/B7rE,KAAKqrE,YAAYr6D,SAAWhR,KAAKwrE,2BAA2BK,EAC9D,CAEAP,mBACE/8D,EAAAA,GAAAA,IACEu9D,EAAAA,GAAAA,OAA8B9rE,KAAKqrE,cACnC58D,EAAAA,GAAAA,KACEnK,IACEsU,GAAAA,EAAAA,IAAAA,QACE,2DAGFmzD,EAAAA,GAAAA,GAA4BznE,EAAE,IAEhC,KACEtE,KAAKM,MAAM,QAASN,KAAKqrE,YAAY,IAI7C,IA/CAjpE,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAKYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BANCgpE,IAAuB,UAH3C/oE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEuC,WAAU,KAAE45C,cAAaA,GAAAA,MAEpBkvB,I,YCtBoS,MCOzT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCahC,IAAqBS,GAArB,cAAsDxsE,EAAAA,GAMpD0rE,eAAeG,EAAoCpsE,GACjD,MAAMgtE,GAAY1qE,EAAAA,GAAAA,GAAcvB,KAAKnB,OAErCotE,EAAUhtE,GAASosE,EAEnBrrE,KAAKirE,gBAAgBgB,EACvB,CAEAhB,gBAAgBiB,GACdlsE,KAAKe,QAAQ6rD,mBAAmB,cAAesf,EACjD,IAdA9pE,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,MAAK,8BAGHF,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAJCypE,IAAwB,UAd5CxpE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVqrE,wBAAuB,GACvB9oE,WAAU,KACVE,UAAS,KACTkjE,eAAc,KACdjjE,SAAQ,KACRy5C,cAAa,KACbyrB,UAAS,KACTjlE,SAAQ,KACRC,UAAS,KACTC,UAASA,SAGQipE,I,YC/BqS,MCQ1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCDhC,IAAqBG,GAArB,cAA8D3sE,EAAAA,GAA9DC,c,oBAIE,KAAAif,eAAiB,EAuBnB,CArBEghD,gBAAgBz7D,GACdjE,KAAK0e,eAAiB1e,KAAK0e,iBAAmBza,EAAM,GAAKA,CAC3D,CAII4mE,mCACF,MAAO,CACL7qE,KAAKe,QAAQN,UAAUgP,SAASG,eAAepK,OAAS,SAAW,KACnExF,KAAKe,QAAQN,UAAUgP,SAASC,gBAAgBlK,OAAS,UAAY,QAClExF,KAAKe,QAAQ+0D,sBAAsB,GAAI,KAC1Cl0D,OAAOg1B,QACX,CAEI+zC,eACF,OAAO3qE,KAAKe,QAAQ+0D,uBACtB,CAEA8U,2BAA2BvqE,EAAoB+rE,GAC7CpsE,KAAKe,QAAQ6rD,mBAAmBwf,EAAc/rE,EAChD,IAxBA+B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BASYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAVC4pE,IAAgC,UARpD3pE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV8rE,yBAAwB,GACxB3B,2BAA0B,GAC1BS,0BAAyB,GACzBhoE,UAASA,GAAAA,MAGQqpE,I,YClB6S,MCOlU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,uCCV1B,SAAUE,GAAiCroD,GAC/CtjB,GAAAA,GAAAA,cAA0BsjB,IAI1BsoD,EAAAA,GAAAA,KACEC,EAAAA,GAAAA,IAAuBvoD,GACvBwoD,GAAAA,IAIF1rE,GAAAA,GAAAA,yBACF,CC4DA,MAAM2rE,GAA8B,IAClCl3D,GAAAA,EAAAA,wBAEA,KA2BF,IAAqBm3D,GAArB,cAAwDltE,EAAAA,GAAxDC,c,oBAUE,KAAAg7C,KAAM/mC,EAAAA,GAAAA,GAAqB,sBAAsB1T,KAAKW,SAAW,UAEjE,KAAA2sD,sBAAwB,GACxB,KAAAf,gBAAiB,EACjB,KAAAQ,eACIyL,GAAAA,UAAAA,MAAemU,GAAYA,IAAa3sE,KAAKS,QAAQ0F,WACtDnG,KAAKS,QAAQ0F,SACd,EAEF,KAAAimD,aAAgD,EAChD,KAAAD,oBAAqB,EACrB,KAAAygB,kBAAoB,GAgTpB,KAAAC,qBAAuB,CACrBhN,gBAAiB,CAAC19D,EAAcy9D,KAC9B,MAAM9uD,GAAavP,EAAAA,GAAAA,GAAcvB,KAAKS,SACtC,KAAWqQ,EAAWrB,SAAUtN,EAAMy9D,GACtC5/D,KAAKw1D,KAAK1kD,EAAW,EAEvBovD,aAAc,CAAC/9D,EAAc69D,KAC3B,MAAMlvD,GAAavP,EAAAA,GAAAA,GAAcvB,KAAKS,SAEhCqsE,EAAkB,IAAWh8D,EAAWrB,SAAUtN,GACxD2qE,EAAgBhhE,KAAKk0D,GAErB,KAAWlvD,EAAWrB,SAAUtN,EAAM2qE,GACtC9sE,KAAKw1D,KAAK1kD,EAAW,EAEvB++C,WAAY,CAAC1tD,EAAcu5D,EAA2B,UACpD,MAAM5qD,GAAavP,EAAAA,GAAAA,GAAcvB,KAAKS,SAChC8hE,EAAsB,CAC1B/hE,KAAsB,YAAhBk7D,EAA4B,cAAgB,cAClDt/C,MAAuB,YAAhBs/C,EAA4B,cAAgB,cACnDuI,SAAU,GACVtkE,QAAS,CACPgB,KAAM+6D,GAERxM,oBAAoB,EACpB2F,aAAa,EACbzzD,SAAU,KAIVe,EAAKtB,WAAW,oBACA,SAAhB66D,GACgB,WAAhBA,KAEA6G,EAAW5iE,QAAQ8iE,OAAS,YAI9B,MAAMsK,EAA0B/sE,KAAK0sD,aAAaj9C,SAC5CouD,EAAgB,IAAWkP,EAAyB5qE,GAItDsJ,MAAMC,QAAQmyD,GAChBA,EAAc/xD,KAAKy2D,GAEnB1E,EAAcz8D,SAAS0K,KAAKy2D,GAG9B,KAAWwK,EAAyB5qE,EAAM07D,GAE1C/sD,EAAWrB,SAAWzP,KAAKgtE,yCACzBD,GAGF/sE,KAAKw1D,KAAK1kD,EAAW,EAEvB+yD,UAAY1hE,IACV,MAAM2O,GAAavP,EAAAA,GAAAA,GAAcvB,KAAKS,SAChCwsE,GAAgB1rE,EAAAA,GAAAA,GACpBvB,KAAK6sE,qBAAqB1L,iBACxB,kCAIJ,IAAK8L,EAAe,OAEpBA,EAAczf,QAAQ7tD,QAAQ8xD,eAAiB,IAC1Cwb,EAAczf,QAAQ7tD,QAAQ8xD,eACjC9wD,KAAM,UAIR,MAAMosE,EAA0B/sE,KAAK0sD,aAAaj9C,SAC5CouD,EAAgB,IAAWkP,EAAyB5qE,GAItDsJ,MAAMC,QAAQmyD,GAChBA,EAAc/xD,KAAKmhE,EAAczf,SAEjCqQ,EAAcz8D,SAAS0K,KAAKmhE,EAAczf,SAG5C,KAAWuf,EAAyB5qE,EAAM07D,GAE1C/sD,EAAWrB,SAAWzP,KAAKgtE,yCACzBD,GAGF/sE,KAAKw1D,KAAK1kD,EAAW,EAEvBsxD,cAAe,CAACj3D,EAAoBlM,KAClC,MAAM6R,GAAavP,EAAAA,GAAAA,GAAcvB,KAAKS,SAChCo9D,EAAgB79D,KAAKktE,eAAe/hE,GAEtCM,MAAMC,QAAQmyD,GAChBA,EAAc5gB,OAAOh+C,EAAO,GAE5B4+D,EAAcz8D,SAAS67C,OAAOh+C,EAAO,GAGvC,KAAW6R,EAAWrB,SAAUtE,EAAY0yD,GAE5C79D,KAAKw1D,KAAK1kD,EAAW,EAEvB2uD,cAAe,CAACt0D,EAAoBlM,EAAesjE,KACjD,MAAMzxD,GAAavP,EAAAA,GAAAA,GAAcvB,KAAKS,SAChCo9D,EAAgB79D,KAAKktE,eAAe/hE,GAEtCM,MAAMC,QAAQmyD,GAChBA,EAAc5gB,OAAOh+C,EAAO,EAAGsjE,GAE/B1E,EAAcz8D,SAAS67C,OAAOh+C,EAAO,EAAGsjE,GAG1C,KAAWzxD,EAAWrB,SAAUtE,EAAY0yD,GAE5C79D,KAAKw1D,KAAK1kD,EAAW,EAEvBs1D,iBAAmBe,IACjBnnE,KAAK4sD,mBAAmB,eAAgBua,EAAgB,EAE1D2B,cAAgBD,IACd7oE,KAAK4sD,mBAAmB,UAAWic,GACnC4D,IAA6B,EAE/BtL,iBAAmB3gE,GACVR,KAAKmtE,UAAU5N,eAAe/xD,MAAK4D,GAAUA,EAAO5Q,OAASA,IAEtEugE,kBAAmB,IACV/gE,KAAKmtE,UAAU5N,eAExBzJ,sBAAuB,CACrBuK,EAA8B,GAC9B+M,EAAsC,CAAC,cAEvC,MAAMC,GAAeC,EAAAA,GAAAA,IACnBttE,KAAKS,QAAQgP,SAASC,gBACtB2wD,EACA+M,EACA,WAGIG,GAAcD,EAAAA,GAAAA,IAClBttE,KAAKS,QAAQgP,SAASG,eACtBywD,EACA+M,EACA,UAGF,MAAO,IAAIC,KAAiBE,EAAY,EAE1C9sE,QAAS,IACAT,KAAKS,QAEdmsD,mBAAoB5sD,KAAK4sD,mBACzBqS,qBAAsB,IAAMj/D,KAAKmtE,UACjC3N,wBAA0BF,IACxBt/D,KAAK63D,OAAOyH,EAAQ,EAiD1B,CA9fEj7D,gBACEgO,SAASqmB,iBAAiB,cAAe14B,KAAKwtE,4BAChD,CAEAlyC,gBACEjpB,SAASwmB,oBACP,cACA74B,KAAKwtE,4BAET,CAGAC,sBACEztE,KAAKusD,gBAAiB,CACxB,CAEAihB,4BAA4BlpE,GAC1B,MAAMopE,EAAex7D,OAAOqF,gBAAgBjD,YAEtCo5D,GAA8B,QAAb1tE,KAAKy6C,KAA8B,SAAbz6C,KAAKy6C,MAKlDn2C,EAAEC,iBAEFvE,KAAKosD,YAAc,CACjB9jD,EAAGhE,EAAEiE,QACLC,EAAGlE,EAAEmE,SAET,CAEA4jD,oBAEErsD,KAAK4sE,kBAAoB16D,OAAOqF,gBAAgBjD,YAAc,GAC9DtU,KAAKmsD,oBAAqB,CAC5B,CAEA9nD,mBAAmBi0C,GACjB,IAAKt4C,KAAK4sE,kBAAmB,OAE7B5sE,KAAKosD,aAAc,EAEnB,MAAMuhB,EAAc3tE,KAAK4sE,mBAAmBt4D,WAEtCs5D,GAAYC,EAAAA,GAAAA,IAAav1B,EAAQr+B,UAAWq+B,EAAQnwC,MAGpD2lE,GAAY99C,EAAAA,GAAAA,IAAW29C,EAAa,CACxC/tD,SAAU,iBACV5a,GAAI,WACJogB,OAAQ,iBACPrY,QAAQ,UAAW,UAEhBghE,EAAQ,YAAYH,aAAqBE,uBAEzC1Q,EAAWlvD,KAAQoqC,EAAQnwC,MAC3Bg3D,EAAU3B,GACdllB,EAAQr+B,UACRq+B,EAAQnwC,MAGNnI,KAAKmtE,UAAUa,OAAOxgE,MAAKugE,GAASA,EAAMvtE,OAAS2+D,KACrDC,EAAAA,GAAAA,IAA0Bp/D,KAAKmtE,UAAU5jB,cAAejR,EAAS,UAKnE/pC,EAAAA,GAAAA,UACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,wBACRC,WAAY,CACVqzC,cAAerT,EAAQqT,cACvByR,WACA2Q,SAEFv1D,QAAS3J,EAAAA,MAEXJ,EAAAA,GAAAA,KACEnK,IACE2O,QAAQoB,MAAM/P,GACdsU,GAAAA,EAAAA,IAAAA,QACE,wCACD,IAEH,KACE,MAAMk1D,EAAY,aAAaF,SAC/BK,GAAAA,EAAAA,IAAAA,QAA0B,sBAAsBH,OAChDI,KAAcJ,GAEd,MAAMxO,GAAU/9D,EAAAA,GAAAA,GAAcvB,KAAKmtE,WACnC7N,EAAQ0O,OAAOliE,KAAK,CAClBtL,KAAM2+D,EACNxT,cAAerT,EAAQqT,gBAEzB3rD,KAAK6sE,qBAAqBrN,wBAAwBF,GAElD,MAAM6O,GAAY5sE,EAAAA,GAAAA,GAAcb,GAAAA,GAAAA,YAChCytE,EAAUriE,KAAK,CAAEiiE,QAAOvtE,KAAM2+D,IAC9BkN,GAAiC8B,EAAU,IAInD,CAEA3hB,aACE,IACGt6C,OAAOnO,QACN,6GAGF,OAGF,MAAMo7D,GAAUiP,EAAAA,GAAAA,KACd7Q,EAAAA,GAAAA,IAAyBv9D,KAAKS,QAAQD,MACtCR,KAAKS,QAAQ0H,MAGfnI,KAAK4sD,mBAAmB,OAAQuS,EAClC,CAEAkP,cAAcC,GACZ,MAAMC,EAAYphE,OAAOmhE,GACrBnhE,OAAOD,MAAMqhE,GACfvuE,KAAK4sD,mBAAmB,QAAS,GAEjC5sD,KAAK4sD,mBAAmB,QAAS2hB,EAErC,CAEAthB,aAAauhB,EAAU,cACrBxuE,KAAK4sD,mBAAmB,SAAU4hB,EACpC,CAEAxhB,mBAAmByhB,GACjBzuE,KAAK+sD,aAAe0hB,EAEfA,GACHzuE,KAAKitD,aAAa,GAEtB,CAEAR,gBAAgBod,IAC+B,IAAzC7pE,KAAK8pE,kBAAkBD,IAE3B7pE,KAAK4sD,mBAAmB,YAAaid,IAAgB,EACvD,CAEAC,kBAAkBjrE,GAChB,OAAKA,GAEE6qE,GAAAA,GAAAA,sBAA+C7qE,EACxD,CAEAmsD,gBAAgBD,GACd,OAAOC,EAAAA,GAAAA,IAAgBD,EACzB,CAEAuB,kBAAkBztD,GAChB,IAA+B,KAA3BmsD,EAAAA,GAAAA,IAAgBnsD,GAAiB,OAErC,MAAMiS,GAAavP,EAAAA,GAAAA,GAAcvB,KAAKS,SAEtCqQ,EAAW3I,KAAOtJ,EAElBmB,KAAKw1D,KAAK1kD,EACZ,CAEA87C,mBAAmBzqD,EAActD,GAC/B,MAAMiS,GAAavP,EAAAA,GAAAA,GAAcvB,KAAKS,SAChCJ,GAAWquE,EAAAA,GAAAA,IAAmB7vE,GACpC,KAAWiS,EAAY3O,EAAM9B,GAE7BL,KAAKw1D,KAAK1kD,EACZ,CAEA0kD,KAAK1kD,GACH9Q,KAAKM,MAAM,QAASwQ,EACtB,CAEA69D,UAAUC,IAERv7D,EAAAA,GAAAA,GAAoB,sBAAsBrT,KAAKW,OAAQiuE,GACvD5uE,KAAKy6C,IAAMm0B,CACb,CAIA5B,yCACE6B,GAEA,MAAMC,GAAyBvtE,EAAAA,GAAAA,GAAcstE,GAU7C,OARA1G,EAAAA,GAAAA,GAAmBnoE,KAAKS,QAAQgP,UAAU7D,SAAQ3H,IAChDjE,KAAKS,QAAQgP,SAASxL,GAAK2H,SAAQyD,IAC7BA,EAAQ1P,QAAQyoE,YAClB0G,EAAuB7qE,GAAK6H,KAAKuD,E,GAEnC,IAGGy/D,CACT,CAEI7jB,2BACF,OACExF,EAAAA,GAAAA,MACA/kD,GAAAA,GAAAA,wBAEJ,CAEIquE,0BACF,OAAOC,EAAAA,GAAAA,MAAAA,KAA0BruE,GAAQA,EAAK9B,OAChD,CAEIkyB,WACF,OAAO61C,EACT,CAEI9Z,yBACF,OAAO9sD,KAAK6sE,qBAAqB/W,uBACnC,CAEI1I,iCACF,OACE6hB,EAAAA,GAAAA,IACEjvE,KAAK0sD,aAAa9rD,YAAYD,MAC9B6E,OAAS,GAC4B,yBAAvCxF,KAAK0sD,aAAa9rD,YAAYD,IAElC,CAEI+rD,mBACF,OAAOqb,GAAgC/nE,KAAKS,QAC9C,CAEIyuE,wBACF,OAAOxuE,GAAAA,GAAAA,yBAAAA,KAAyC6Z,IAAY,CAC1D1H,KAAM0H,EAAS6B,MACfvd,MAAO0b,EAAS/Z,QAEpB,CAEImsD,kBACF,OAAOjrD,OAAO+yB,QAAQnnB,GAAAA,GAAQjM,KAAI,EAAE8tE,MAClC,MAAMC,EAAeD,EAClBpiE,QAAQ,UAAW,SACnBA,QAAQ,4BAA6B,IAExC,MAAO,CACL8F,KAAMu8D,EACNvwE,MAAO,SAASuwE,KACjB,GAEL,CAEIliB,kBACF,OAAOmiB,EAAAA,GAAAA,MAAAA,KAA2B1uE,GAAQA,EAAK9B,OACjD,CAEIywE,kCACF,OAAO5tE,OAAOkhE,OAAOliE,GAAAA,GAAAA,UAClBkB,QACCnB,GACgC,yBAA9BA,GAASG,YAAYD,MACrBF,GAASD,OAAS2uB,GAAAA,KAErB9tB,KAAIZ,GAAWA,GAASD,MAC7B,CAEI+uE,+CACF,OAAO7tE,OAAOkhE,OAAOliE,GAAAA,GAAAA,UAClBkB,QACCnB,GACEA,IACAuB,EAAAA,GAAAA,IACEhC,KAAKS,QAAQG,YACbH,EAAQG,YACRH,EAAQD,QAGba,KAAIZ,GAAWA,GAASD,MAC7B,CAEIgvE,sBACF,OAAO9tE,OAAOkhE,OAAOliE,GAAAA,GAAAA,UAAsBW,KAAIZ,GAAWA,GAASD,MACrE,CAEI2sD,mBACF,MAAO,KAAIh4B,EAAAA,GAAAA,IAAkCn1B,KAAKS,UACpD,CAEAysE,eAAe/qE,GAGb,OAAOZ,EAAAA,GAAAA,GACL,IAAWvB,KAAKS,QAAQgP,SAAUtN,GAEtC,CAsKA01D,OAAOyH,GACLt/D,KAAKM,MAAM,SAAUg/D,EACvB,CAEAjS,sBAAsBjjD,GACpBpK,KAAKstD,sBAAwBljD,CAC/B,CAEIyiD,eACF,MACE,CACE,UACA,MACA,OACA,IACA,KACA,KACA,KACA,KACA,KACA,KACA,SACA,SACA,MACA,QACA,SACA,KACA,KACA,KACA,IACA,UACA,OACA,UACA,UACA,OAGCjrD,QAAOuY,GAAOA,IAAQna,KAAK0sD,aAAar4B,QAAQ/xB,SAEvD,CAEImtE,iBAEF,MAAO,IAAIzvE,KAAK6sD,SAAU7sD,KAAK0sD,aAAar4B,QAAQ/xB,QACtD,IAlhBAF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,gCAGPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,aAAY,6BAI7BF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,kCA6BPD,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,iBAAe,0CAmStBvI,EAAAA,EAAAA,IAAAA,EADCstE,EAAAA,EAAAA,IAAQ,YAAU,4CApUAhD,IAA0B,UAxB9ClqE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV2C,SAAQ,KACR8nD,2BAA0B,GAC1BhoD,UAAS,KACT81D,+BAA8B,GAC9B0T,iCAAgC,GAChC9B,2BAA0B,GAC1BvnE,UAAS,KACTuG,YAAW,KACXg+C,YAAW,KACX/9C,KAAI,IACJ2/D,wBAAuB,GACvBU,+BAA8B,GAC9BpqE,6BAA4B,KAC5BymE,WAAU,KACVuC,oBAAmB,GACnB1B,0BAAyB,GACzBX,sBAAqB,GACrB4B,UAAS,KACTplE,+BAA8B,KAC9BsnE,+BAA8BA,OAGb0C,I,YC9GuS,MCQ5T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCjBnBiD,GAAuD,CAClEr1D,WAAW,EACXnU,QAAQ,EACRoU,SAAU,QACVC,OAAO,EACP6Z,QAAS,CACP/xB,QAAS,MACT3C,QAAS,GACT20B,eAAe,GAEjB1Q,SAAU,gBACV1I,YAAY,EACZqY,YAAa,mBACbG,WAAY,IACZv0B,mBAAmB,EACnBywE,iBAAiB,EACjBngE,SAAU,CAAEC,gBAAiB,GAAIE,eAAgB,GAAIs4D,iBAAkB,IACvErtD,cAAc,EACdE,SAAS,EACTna,YAAa,CAAED,KAAM,SACrBsa,aAAa,EACbI,sBAAsB,EACtBxX,UAAU,EACViX,eAAe,EACfK,cAAc,EACdC,MAAO,EACPE,mBAAmB,EACnBC,mBAAmB,EACnBC,qCAAqC,EACrCC,2CAA2C,GCa7C,IAAqBo0D,GAArB,cAAmDrwE,EAAAA,GAAnDC,c,oBAOE,KAAAqwE,kBAAoD,EACpD,KAAAxmB,yBAA2D,EAC3D,KAAA7T,gBAAiB,EAgEjB,KAAAs6B,uBAAyB,KACvBC,GAAAA,GACA,KA6GF,KAAAhmB,MACGt2C,EAAAA,GAAAA,GAAqB,wBACtB,kBAuKJ,CAtVM81C,mBACF,OAAOxpD,KAAKnB,MAAMknB,SAAS1kB,KAAIZ,GAAWA,EAAQD,MACpD,CAEAyvE,8BACEC,GAEAlwE,KAAKspD,yBAA0B/nD,EAAAA,GAAAA,GAAc2uE,IAGf,IAA1BlwE,KAAK8vE,mBACP9vE,KAAK8vE,kBAAmBvuE,EAAAA,GAAAA,GAAc2uE,GAE1C,CAEAC,gCACED,GAEA,MAAM/Q,EAAU+Q,EAA2BzvE,QAAQD,KAKjDR,KAAK8vE,kBACL3Q,IAAYn/D,KAAK8vE,iBAAiBrvE,QAAQD,OAC1C+8D,EAAAA,GAAAA,IAAyB4B,MACvB5B,EAAAA,GAAAA,IAAyBv9D,KAAK8vE,iBAAiBrvE,QAAQD,OAEzDR,KAAKowE,wBAAwBpwE,KAAK8vE,kBAGpC,MAAMO,IAAoBrwE,KAAKnB,MAAMknB,SAASvY,MAC5C/M,GAAWA,EAAQD,OAAS2+D,IAG9B,IAAKkR,GAAmBH,EAA2BvkB,cAAe,CAChE,MAAMtrD,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OAEpCwB,EAAS0lB,SAASja,KAAK,CACrBtL,KAAM2+D,EACNxT,cAAeukB,EAA2BvkB,gBAG5C3rD,KAAKM,MAAM,QAASD,E,CAGtBL,KAAK8vE,iBAAmBI,CAC1B,CAEIxoB,wBACF,SAAK1nD,KAAKspD,0BAA4BtpD,KAAK8vE,oBAInC,KACN9vE,KAAK8vE,iBAAiBrvE,QACtBT,KAAKspD,wBAAwB7oD,QAEjC,CASAkoD,WAAW2W,GACTt/D,KAAKM,MAAM,QAASg/D,EACtB,CAEArV,cAAcn5C,GACZ,IACG9Q,KAAKspD,0BACLtpD,KAAK8vE,mBACL9vE,KAAK8vE,iBAAiBrvE,QAEvB,OAGF,MAAM6vE,EAAcx/D,EAAWtQ,OAASR,KAAK8vE,iBAAiBrvE,QAAQD,KAEtE,IAAImrD,EAAgB3rD,KAAKspD,wBAAwBqC,cAE7C2kB,GAAetwE,KAAKspD,wBAAwBqC,gBAC9CA,GAAgB4kB,EAAAA,GAAAA,IAAsB,CACpC5kB,eAAe6kB,EAAAA,GAAAA,IACbxwE,KAAKspD,wBAAwBqC,eAE/BtlD,YAAarG,KAAKspD,wBAAwB7oD,QAAQ0H,QAItDnI,KAAKspD,wBAA0B,CAC7BqC,gBACAlrD,QAASqQ,EACTq6C,qBAAsBnrD,KAAKspD,wBAAwB6B,sBAGrDnrD,KAAK+vE,uBAAuBj/D,EAC9B,CAEA2/D,uBAAuBC,GACrB,MAAMC,EAAyB3wE,KAAKnB,MAAMknB,SAASsgB,WACjD5lC,GAAWA,EAAQD,OAASkwE,IAG9BhwE,EAAAA,GAAAA,cAA0BgwE,IAEM,IAA5BC,GACF3wE,KAAKnB,MAAMknB,SAASk3B,OAAO0zB,EAAwB,EAEvD,CAEAnmE,gBACOxK,KAAKspD,yBAIVtpD,KAAKowE,wBAAwBpwE,KAAKspD,yBAAyB,KACzDtpD,KAAKspD,yBAA0B,CAAK,GAExC,CAEAjlD,8BACEusE,EACAC,EAA8B,UAEzBD,EAAgBnwE,UAErB8N,EAAAA,EAAAA,YACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,4BACRC,WAAY,CACVqzC,cAAeilB,EAAgBjlB,eAEjCnzC,QAAS3J,EAAAA,GAAU,WACnB6J,UAAW,UAEbjK,EAAAA,EAAAA,OACE,KACEmK,GAAAA,EAAAA,IAAAA,QAA+B,2BAA2B,IAE5D,KACOg4D,EAAgBnwE,SAMrBT,KAAKywE,uBAAuBG,EAAgBnwE,QAAQD,MACpDqwE,KANEj4D,GAAAA,EAAAA,IAAAA,QAA+B,2BAMhB,IAIzB,CAEAkxC,iBACM9pD,KAAK8vE,kBAAoB9vE,KAAK8vE,iBAAiBrvE,SAEjDT,KAAKiqD,cAAcjqD,KAAK8vE,iBAAiBrvE,SAG3CT,KAAK+pD,8BACP,CAEAA,+BACE/pD,KAAKspD,yBAA0B,EAC/BtpD,KAAK8vE,kBAAmB,EACxB9vE,KAAKM,MAAM,SAAU,KACvB,CAOAopD,aACE,OAAQ1pD,KAAKgqD,MACX,IAAK,iBACHhqD,KAAKgqD,KAAO,mBACZhqD,KAAKM,MAAM,QAAS,KACpB,MACF,IAAK,mBACHN,KAAKM,MAAM,QAAS,KACpBN,KAAKgqD,KAAO,SACZ,MACF,IAAK,SACHhqD,KAAKM,MAAM,QAAS,KACpBN,KAAKgqD,KAAO,iBACZ,OAGJ32C,EAAAA,GAAAA,GAAoB,sBAAuBrT,KAAKgqD,KAClD,CAEAP,YAAY9lD,GACV,MAAMlD,GAAUc,EAAAA,GAAAA,GAAcb,EAAAA,GAAAA,QAAoBiD,IAC5CmtE,EAAmB9wE,KAAKnB,MAAMknB,SAASvY,MAC3C/M,GAAWA,EAAQD,OAASmD,IAG9B,IAAKmtE,EAAkB,OAEvB,MAAMC,EAAqB/wE,KAAKnB,MAAM0qD,cAAc/7C,MAAKk9C,GACvDomB,EAAiBnlB,cAAc9qD,WAAW6pD,EAAaiB,iBAEnDR,IAAyB4lB,GAAoB5lB,qBAEnDnrD,KAAKiwE,8BAA8B,CACjCxvE,UACAkrD,cAAemlB,EAAiBnlB,cAChCR,yBAGFnrD,KAAKM,MAAM,SAAU,UACvB,CAEAspD,OAAOc,GACL,IAAK1qD,KAAKspD,wBAAyB,OAEnC,MAAM,UAAErvC,EAAS,cAAE0xC,EAAa,qBAAER,GAAyBT,EAE3D,IAAIvzB,GAAiB51B,EAAAA,GAAAA,GAAcvB,KAAKspD,wBAAwB7oD,SAG5DT,KAAKspD,wBAAwBqC,gBAAkBA,IACjDx0B,EAAe32B,KAAO,IAGxBR,KAAKgxE,aACH75C,GACAo5C,EAAAA,GAAAA,IAAsB,CACpB5kB,gBACAtlD,YAAarG,KAAKspD,wBAAwB7oD,QAAQ0H,OAEpD8R,GACA,EACAkxC,EAEJ,CAEAtB,YAAYvR,GACV,MAAM6mB,GAAUiP,EAAAA,GAAAA,IAAe91B,EAAQr+B,UAAWq+B,EAAQnwC,MAE1D,GAAInI,KAAKnB,MAAMknB,SAASvY,MAAK/M,GAAWA,EAAQD,OAAS2+D,IAGvD,YAFAC,EAAAA,GAAAA,IAA0Bp/D,KAAKnB,MAAM0qD,cAAejR,EAAS,WAK/D,MAAMxnC,EAAa,KACdvP,EAAAA,GAAAA,GAAcouE,IACjBnvE,KAAM2+D,EACNh3D,KAAMmwC,EAAQnwC,MAGhBnI,KAAKgxE,aACHlgE,GACAy/D,EAAAA,GAAAA,IAAsB,CACpB5kB,cAAerT,EAAQqT,cACvBtlD,YAAaiyC,EAAQnwC,OAEvBmwC,EAAQr+B,WACR,EACAq+B,EAAQ6S,sBAGVnrD,KAAKM,MAAM,SAAU,UACvB,CAEAqpD,aAAaqC,GAERhsD,KAAKspD,yBACLtpD,KAAKspD,wBAAwBqC,eAKhC3rD,KAAKgxE,aACHhxE,KAAKspD,wBAAwB7oD,QAC7BT,KAAKspD,wBAAwBqC,eAC7B4R,EAAAA,GAAAA,IAAyBv9D,KAAKspD,wBAAwB7oD,QAAQD,MAC9DwrD,EACAhsD,KAAKspD,wBAAwB6B,qBAEjC,CAEA9mD,mBACE5D,EACAkrD,EACAslB,EACAjlB,GAAc,EACdb,GAEAnrD,KAAKy1C,gBAAiB,EAEtB,MAAMx7B,EAAYg3D,IAAgB1T,EAAAA,GAAAA,IAAyB98D,EAAQD,MAC7DksD,EAAeqb,GAAgCtnE,GAC/CkD,EAAclD,EAAQD,OAAQ4tE,EAAAA,GAAAA,IAAen0D,EAAWxZ,EAAQ0H,OAEtEoG,EAAAA,EAAAA,YACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,0BACRC,WAAY,KACP44D,EAAAA,GAAAA,GAAaxkB,EAAczyC,GAC9B0xC,gBACAK,YAAaA,EAAc,MAAQ,MAErCxzC,QAAS3J,EAAAA,MAEXJ,EAAAA,EAAAA,OACEnK,IACE2O,QAAQoB,MAAM/P,GACdsU,GAAAA,EAAAA,IAAAA,QACE,wCACD,IAEH,KACE,MAAM9H,EAAa,CACjBrQ,QAAS,KACJc,EAAAA,GAAAA,GAAcd,GACjBD,KAAMmD,EAENwE,KAAM1H,EAAQ0H,KACX6E,MAAM,KACN3L,KAAI8vE,GAAQA,EAAK3Q,OAAO,GAAGjY,cAAgB4oB,EAAKC,UAAU,KAC1DnkE,KAAK,MAEV0+C,gBACAR,wBAGFnrD,KAAKiwE,8BAA8Bn/D,GACnC9Q,KAAKmwE,gCAAgCr/D,IACrCk/D,EAAAA,GAAAA,IAAuCl/D,EAAWrQ,QAAQ,KAKhET,KAAKy1C,gBAAiB,CACxB,IA9VArzC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAJYwtE,IAAqB,UAPzCrtE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVwsE,2BAA0B,GAC1BrjB,gCAA+B,GAC/BgoB,oBAAmBA,OAGFxB,I,YC5CkS,MCOvT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCdnByB,GAAqBziE,EAAAA,GAAO,CACvCrO,KAAMqO,EAAAA,GACN88C,cAAe98C,EAAAA,KAKX0iE,GAAqB1iE,EAAAA,GAAQ,CACjCA,EAAAA,GAAU,WACVA,EAAAA,GAAU,SACVA,EAAAA,GAAU,YAKC2iE,GAA6B3iE,EAAAA,GAAO,CAC/C88C,cAAe98C,EAAAA,GACfoL,UAAWpL,EAAAA,GACXlO,KAAM4wE,GACNn1D,MAAOvN,EAAAA,GACPs8C,qBAAsBt8C,EAAAA,KAWX4iE,GAAiB5iE,EAAAA,GAAO,CACnCrO,KAAMqO,EAAAA,GACN2+C,QAASkkB,GAAAA,KAKEC,GAAmC9iE,EAAAA,GAAO,CACrDkX,SAAUlX,EAAAA,GAAQyiE,IAClBtD,OAAQn/D,EAAAA,GAAQyiE,IAChBtiE,QAASH,EAAAA,GAAQyiE,IACjB/nB,cAAe16C,EAAAA,GAAQ2iE,IACvBjS,eAAgB1wD,EAAAA,GAAQ4iE,M,IC/C+D,GAAU,W,IAAOvsE,EAAM,K,EAC5G,WACA,oB,OACA,SACF,OAAIxG,yBAAyB,wBAACQ,yCAAM,wBAAC,+CAAwC,I,CAA6B,wBAAY0yE,C,MAAsB,CAAmB,iBAAgBC,EAAAA,MAAAA,cAAiB,0BAA0C,8BAAoC,iBAAG,YAAC,mBAAC,kBAAoB,oBAAC,eAAaC,EAAAA,gB,GAA4C,CAAoB,OAAUhzE,UAAgB,qBAAoC,aAAYizE,EAAAA,aAA0B,gBAAKjzE,QAAI8yE,EAAAA,YAAiCxuE,eAAY,iBAA2B1E,MAAQ,EAAC,8BAA0CA,EAAG,sBAAM,SAAC0E,YAAY,0BAAgD,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,4BAAuB,CAAC1E,EAAG,OAAUQ,YAAM,gD,CAAC,QAAQJ,CAAa,YAAC,uBAACoE,CAAE,EAAC,M,MAAC,CAAsB,mBAAgBhE,GAAAA,CAAO,OAAO,cAAwB,SAAE,MAAK,CAAQA,KAAM,SAAC,MAAO,UAAqB,WAAG,MAAKR,CAAYQ,KAAM,UAAC,KAAO,SAA8B,WAAE,MAAK,CAAQA,KAAM,YAAC,MAAO,aAAsB,WAAG,MAAK,CAAoBkE,KAAAA,WAAyD1E,KAAG,SAA0ByJ,IAAK,SAAM,S,YAAS,4C,CAAStJ,EAAAA,YAAWmzE,C,WAAiC,EAA0B,YAAC9yE,QAAM,SAAC,MAAY0yE,UAAL,EAAC9yE,UAA0C,WAAW,0BAAQoE,MAAG,CAAC,MAAQpE,EAAImzE,sBAAAA,UAAAA,MAAgB,iBAA6C7uE,GAAAA,CAAqB1E,MAAG,sBAAmCmzE,aAAZ,YAA4B,S,YAAS,Q,CAAO,OAAa7mB,CAAgB,MAAC,CAAG,MAAC,mBAAC,MAAQlsD,OAAmB,2BAAsBI,GAAAA,CAAO,MAAQJ,EAAIozE,mBAAe,EAAC,e,MAAC,CAA6B,qBAAgB9uE,GAAAA,CAAqBtE,MAAO,uBAE3nDQ,EAAAA,QAAAA,CAEJ,YAAiBA,Q,qEC2CjB,IAAqB6yE,GAArB,cAAiD3yE,EAAAA,GAAjDC,c,oBAIE,KAAA2yE,gBAAgD,EAChD,KAAAR,uBAAuD,EAEvD,KAAAn8B,gBAAiB,EACjB,KAAAy8B,aAAc,EAEd,KAAAF,UAAY,QA4CZ,KAAAjC,uBAAyB,IACvB/vE,KAAKqyE,qCACL,IA2QJ,CAvTMC,iBACF,OAAOtyE,KAAKnB,MAAMmvE,OAAO3sE,KAAI0sE,GAASA,EAAMvtE,MAC9C,CAEAwqD,gBAAgBD,GACd,OAAOC,EAAAA,GAAAA,IAAgBD,EACzB,CAEAwnB,4BAA4BC,GAC1BxyE,KAAK4xE,uBAAwBrwE,EAAAA,GAAAA,GAAcixE,IAGf,IAAxBxyE,KAAKoyE,iBACPpyE,KAAKoyE,gBAAiB7wE,EAAAA,GAAAA,GAAcixE,GAExC,CAEA7D,UAAUC,GACR5uE,KAAKgyE,UAAYpD,CACnB,CAEA6D,gBAAgB1nB,GACT/qD,KAAK4xE,wBAEV5xE,KAAK4xE,sBAAsBc,UAAUlyE,KAAOg9D,IAC1CD,EAAAA,GAAAA,IAAyBv9D,KAAK4xE,sBAAsBc,UAAUlyE,MAC9DuqD,GAEJ,CAEA4nB,kBAAkBC,GAChB5yE,KAAKkyE,YAAcU,EAGfA,GAAkB5yE,KAAK4xE,uBACzB5xE,KAAKqyE,qCACHryE,KAAK4xE,sBAAsBc,UAGjC,CAQAL,qCACEQ,GAEA,MAAM7uD,GAAaziB,EAAAA,GAAAA,GAAcb,EAAAA,GAAAA,YAE3BzB,EAAQ+kB,EAAWqiB,WAAU0nC,GAASA,EAAMvtE,OAASqyE,EAASryE,OAEpE,IAAe,IAAXvB,EAAc,CAChB+kB,EAAWlY,KAAK+mE,GAEhB,MAAMxyE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OACpCwB,EAAS2tE,OAAOliE,KAAK+mE,GAErB7yE,KAAKM,MAAM,QAASD,E,MAEpB2jB,EAAW/kB,GAAO8uE,MAAQ8E,EAAS9E,MAKnC/tE,KAAKoyE,gBACLpyE,KAAKoyE,eAAezmB,eACpBknB,EAASryE,OAASR,KAAKoyE,eAAeM,UAAUlyE,MAChDqyE,EAASlnB,gBAAkB3rD,KAAKoyE,eAAezmB,eAE/C3rD,KAAK8yE,sBAAsB9yE,KAAKoyE,gBAG9BpyE,KAAKkyE,aACP7F,GAAiCroD,EAErC,CAEA+uD,qCAAqCC,GACnC,MAAMhvD,GAAaziB,EAAAA,GAAAA,GAAcb,EAAAA,GAAAA,YAC3BuyE,EAAajvD,EAAWqiB,WAC5B0nC,GAASA,EAAMvtE,OAASwyE,IAEpBE,EAAalzE,KAAKnB,MAAMmvE,OAAO3nC,WACnC0nC,GAASA,EAAMvtE,OAASwyE,IAO1B,IAJoB,IAAhBC,GACFjvD,EAAWi5B,OAAOg2B,EAAY,IAGZ,IAAhBC,EAAmB,CACrB,MAAM7yE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OACpCwB,EAAS2tE,OAAO/wB,OAAOi2B,EAAY,GAEnClzE,KAAKM,MAAM,QAASD,E,CAGtBgsE,GAAiCroD,EACnC,CAEI6tD,uBACF,OAAK7xE,KAAK4xE,uBAEHuB,EAAAA,GAAAA,IAAoBnzE,KAAK4xE,sBAAsBc,UAAUlyE,MAFxB,EAG1C,CAEIknD,wBACF,SAAK1nD,KAAK4xE,wBAA0B5xE,KAAKoyE,kBAIjC,KACNpyE,KAAKoyE,eAAeM,UACpB1yE,KAAK4xE,sBAAsBc,UAE/B,CAEAT,iBAAiBY,GACV7yE,KAAK4xE,wBAEV5xE,KAAK4xE,sBAAsBc,UAAU3E,MAAQ8E,EAE7C7yE,KAAK+vE,uBAAuB/vE,KAAK4xE,sBAAsBc,WACzD,CAEAZ,cACO9xE,KAAK4xE,uBAIV5xE,KAAK8yE,sBAAsB9yE,KAAK4xE,uBAAuB,KACrD5xE,KAAK4xE,uBAAwB,CAAK,GAEtC,CAEAvtE,4BACE+uE,EACAvC,EAA8B,WAE9BtiE,EAAAA,EAAAA,YACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,0BACRC,WAAY,CACVqzC,cAAeynB,EAAcznB,cAC7ByR,UAAU+V,EAAAA,GAAAA,IAAoBC,EAAcV,UAAUlyE,OAExDgY,QAAS3J,EAAAA,GAAU,WACnB6J,UAAW,UAEbjK,EAAAA,EAAAA,OACE,KACEmK,GAAAA,EAAAA,IAAAA,QAA+B,2BAA2B,IAE5D,KACEi4D,IAEA7wE,KAAK+yE,qCACHK,EAAcV,UAAUlyE,KACzB,IAIT,CAEAspD,iBACM9pD,KAAKoyE,gBAAkBpyE,KAAKoyE,eAAeM,WAC7C1yE,KAAKqyE,qCAAqCryE,KAAKoyE,eAAeM,WAGhE1yE,KAAK+xE,4BACP,CAEAA,6BACE/xE,KAAK4xE,uBAAwB,EAC7B5xE,KAAKoyE,gBAAiB,EACtBpyE,KAAKM,MAAM,SAAU,KACvB,CAEA+yE,UAAUC,GACR,MAAMC,GAAoBhyE,EAAAA,GAAAA,GACxBvB,KAAKnB,MAAMmvE,OAAOxgE,MAAKugE,GAASA,EAAMvtE,OAAS8yE,KAGjD,IAAKC,EAAmB,OAExB,MAAMC,EAAc9yE,EAAAA,GAAAA,WAAAA,MAClBqtE,GAASA,EAAMvtE,OAAS8yE,KACvBvF,MAEH,IAAKyF,EAAa,OAElB,MAAMzC,EAAqB/wE,KAAKnB,MAAM0qD,cAAc/7C,MAAKk9C,GACvD6oB,EAAkB5nB,cAAc9qD,WAAW6pD,EAAaiB,iBAEpDR,IAAyB4lB,GAAoB5lB,qBAEnDnrD,KAAKuyE,4BAA4B,CAC/BG,UAAW,IAAKa,EAAmBxF,MAAOyF,GAC1C7nB,cAAe4nB,EAAkB5nB,cACjCR,yBAEFnrD,KAAKM,MAAM,SAAU,QACvB,CAEAspD,OAAOc,GACL,IAAK1qD,KAAK4xE,sBAAuB,OAEjC,MAAMxU,GAAW+V,EAAAA,GAAAA,IACfnzE,KAAK4xE,sBAAsBc,UAAUlyE,MAGvCR,KAAKgxE,aACHhxE,KAAK4xE,sBAAsBc,UAAU3E,MACrCrjB,EAAaiB,cACbyR,EACAI,GAAgC9S,EAAazwC,UAAWmjD,GACxD1S,EAAaS,qBAEjB,CAEAtB,YAAYvR,GACV,MAAMs1B,GAAYC,EAAAA,GAAAA,IAAav1B,EAAQr+B,UAAWq+B,EAAQnwC,MACpDi1D,EAAWlvD,KAAQoqC,EAAQnwC,MAC3Bg3D,EAAU3B,GACdllB,EAAQr+B,UACRq+B,EAAQnwC,MAGNnI,KAAKnB,MAAMmvE,OAAOxgE,MAAKugE,GAASA,EAAMvtE,OAAS2+D,KACjDC,EAAAA,GAAAA,IAA0Bp/D,KAAKnB,MAAM0qD,cAAejR,EAAS,UAK/Dt4C,KAAKgxE,aACH,YAAYpD,kDACZt1B,EAAQqT,cACRyR,EACA+B,EACA7mB,EAAQ6S,sBAGVnrD,KAAKM,MAAM,SAAU,SACvB,CAEAqpD,eAEK3pD,KAAK4xE,uBACL5xE,KAAK4xE,sBAAsBjmB,eAK9B3rD,KAAKgxE,aACHhxE,KAAK4xE,sBAAsBc,UAAU3E,MACrC/tE,KAAK4xE,sBAAsBjmB,eAC3BwnB,EAAAA,GAAAA,IAAoBnzE,KAAK4xE,sBAAsBc,UAAUlyE,MACzDR,KAAK4xE,sBAAsBc,UAAUlyE,KACrCR,KAAK4xE,sBAAsBzmB,qBAE/B,CAEA9mD,mBACE0pE,EACApiB,EACAyR,EACA58D,EACA2qD,GAEAnrD,KAAKy1C,gBAAiB,GAEtBlnC,EAAAA,EAAAA,YACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,wBACRC,WAAY,CACVqzC,gBACAyR,WACA2Q,SAEFv1D,QAAS3J,EAAAA,MAEXJ,EAAAA,EAAAA,OACEnK,IACE2O,QAAQoB,MAAM/P,GACdsU,GAAAA,EAAAA,IAAAA,QACE,wCACD,IAEH,KACE,MAAMi6D,EAAkC,CACtCH,UAAW,CACT3E,QACAvtE,OACAmrD,iBAEFA,gBACAR,wBAGFnrD,KAAKuyE,4BAA4BM,GACjC7yE,KAAKqyE,qCAAqCQ,EAASH,WACnD1yE,KAAKoyE,eAAiBS,CAAQ,KAKpC7yE,KAAKy1C,gBAAiB,CACxB,IAhUArzC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADY8vE,IAAmB,UAXvC3vE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVmnD,YAAW,KACX1kD,UAAS,KACT2G,KAAI,IACJw+D,UAAS,KACT4E,2BAA0B,GAC1BrjB,gCAA+B,GAC/BgoB,oBAAmBA,OAGFc,I,YCnDgS,MCOrT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClByD,GAAU,W,IAAOjtE,EAAM,K,EAC5G,WACA,oB,OACA,SACF,OAAIxG,yBAAyB,yBAACQ,yCAAM,yBAAC,+CAAwC,I,CAA8B,wBAAYu0E,C,MAAuB,CAAoB,iBAAgBC,EAAAA,MAAAA,cAAkB,2BAA0C,+BAAoC,kBAAG,YAAC,oBAAC,kBAAWC,EAAU,kBAAC,eAAaC,EAAAA,gB,GAA6C,CAAoB,OAAU90E,WAAgB,sBAAoC,aAAY+0E,EAAAA,aAA2B,gBAAK/0E,QAAI20E,EAAAA,YAAkCrwE,eAAY,iBAA2B1E,MAAQ,EAAC,+BAA0CA,EAAG,uBAAM,SAAC0E,YAAY,0BAAgD,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,4BAAuB,CAAC1E,EAAG,OAAUQ,YAAM,gD,CAAC,QAAQJ,CAAa,YAAC,uBAACoE,CAAE,EAAC,M,MAAC,CAAsB,mBAAgBhE,GAAAA,CAAO,OAAO,cAA0B,SAAE,MAAK,CAAQA,KAAM,UAAC,MAAO,WAAqB,WAAG,MAAKR,CAAYQ,KAAM,UAAC,KAAO,SAAgC,WAAE,MAAK,CAAQA,KAAM,aAAC,MAAO,cAAsB,WAAG,MAAKR,CAAYQ,KAAM,WAAC,KAAO,SAAsC,WAAE,MAAK,CAAQA,KAAM,cAAC,MAAO,mBAA+B,WAAG,MAAKR,CAAYQ,KAAM,oBAAC,KAAO,SAA8B,WAAE,MAAK,CAAQA,KAAM,YAAC,MAAO,aAAsB,WAAG,MAAK,CAAoBkE,KAAAA,WAAyD1E,KAAG,SAAwCyJ,IAAK,SAAM,S,YAAS,4C,CAAStJ,EAAAA,0BAAyB,C,WAAoB,EAA2B,YAACK,QAAM,SAAC,MAAY40E,WAAL,EAACh1E,UAEz9C,WAAS,2B,MAAkB,CAA6B,uCAAiB,8DAAE,QAAIJ,KAAQ,UAAEk7B,WAAY,gBAACzxB,eAAW,MAAkBtJ,EAAAA,MAAU,C,WAAsC,EAA6B,YAAIC,QAAS,SAAiBI,MAAM,0BAAC,WAAW,+B,CAAiC,UAAa,YAAK60E,CAAmB,MAAC,CAAG,SAAC,OAAC,MAAQj1E,EAAIk1E,cAAc,mCAAkBp6C,GAAAA,CAAazxB,MAAK,EAAM,mBAAkBtJ,GAAK,EAAEC,MAAIkzE,C,WAAsC,EAA8B,YAAItzE,QAAG,SAAaQ,MAAM,2BAAC,WAAWJ,gCAAsEoE,CAAE,EAAC,a,MAAC,C,SAAqD,gDAAjB,EAACw8D,gBAA+D,GAAC,CAAC1gE,OAAW,SAAS,GAACiF,OAAI,EAAO,8DAACC,G,YAAgCd,EAAW,GAAC,E,IAAQ,QAAkE,GAAC,WAACY,MAAM,UAAM,oBAAK,gEAAUE,E,OAAc,G,mCAAuI,iCAAChB,MAAG,CAAC,MAAQ,oD,YAA4B0nE,EAAAA,UAGxjC,IAAI,kBAAC,oFAAM,KAAiD1rE,EAAO,WAAiE,sBAAG,EAAC,a,MAAC,C,SAAqD,iCAAjB,EAACwgE,gBAAgD,GAAC,CAAC1gE,OAAW,SAAS,GAACiF,OAAI,EAAO,+CAACC,G,YAAgCd,EAAW,GAAC,E,IAAQ,QAA+C,GAAC,WAACY,MAAM,UAAM,oBAAK,6CAAUE,E,OAAc,G,mCAAiH,gCAAChB,MAAG,CAAC,MAAQ,+B,YAA4B0nE,EAAAA,UAGziB,IAAI,kBAAC,qEAAM,KAA4ExnE,EAAqB1E,OAAG,IAAgBQ,MAAM,eAAC,GAAYw0E,aAAZ,EAAQ50E,UAAqB,S,YAAS,Q,CAAO,OAAaksD,CAAgB,MAAC,CAAG,MAAC,oBAAC,MAAQlsD,OAAoB,2BAAsBI,GAAAA,CAAO,MAAQJ,EAAIozE,oBAAe,EAAC,e,MAAC,CAA6B,qBAAgB9uE,GAAAA,CAAqBtE,MAAO,uBAErYQ,EAAAA,QAAAA,CAA+B,YAAY,QAACZ,CAAE,EAACI,GAAIH,2BAAQ,4B,EAA8B,GAAgB,Y,IAACyE,EAAAA,KAAgD,EAAK,QAAS,GAC1K,oBAEF,OAASH,EAAAA,MAAQ3D,C,8LC8CjB,IAAqB20E,GAArB,cAAkDz0E,EAAAA,GAAlDC,c,oBAIE,KAAAy0E,iBAAkD,EAClD,KAAAT,wBAAyD,EAEzD,KAAAh+B,gBAAiB,EACjB,KAAAu8B,UAAY,SACZ,KAAAtzD,eAAiB,GAEjB,KAAAwzD,aAAc,EAyMd,KAAArF,qBAAuB7sE,KAAKm0E,iBA2gB9B,CAltBEzU,gBAAgBz7D,GACdjE,KAAK0e,eAAiB1e,KAAK0e,iBAAmBza,EAAM,GAAKA,CAC3D,CAQAkwE,kBACE,MAAO,CACLtU,gBAAiB,CAAC19D,EAAcy9D,KAC9B,IAAK5/D,KAAKyzE,uBAAwB,OAElC,MAAMW,GAAmB7yE,EAAAA,GAAAA,GAAcvB,KAAKyzE,wBACtCY,EAAcr0E,KAAKs0E,uCAAuCnyE,GAEhE,KACEiyE,EAAiBG,WAAWnjE,OAC5BijE,EACAzU,GAGF5/D,KAAKw0E,6BAA6BJ,EAAiB,EAErDlU,aAAc,CAAC/9D,EAAc69D,KAC3B,IAAKhgE,KAAKyzE,uBAAwB,OAElC,MAAMW,GAAmB7yE,EAAAA,GAAAA,GAAcvB,KAAKyzE,wBACtCY,EAAcr0E,KAAKs0E,uCAAuCnyE,GAC1D2qE,EAAkB,IACtBsH,EAAiBG,WAAWnjE,OAC5BijE,GAGFvH,EAAgBhhE,KAAKk0D,GAErB,KACEoU,EAAiBG,WAAWnjE,OAC5BijE,EACAvH,GAGF9sE,KAAKw0E,6BAA6BJ,EAAiB,EAErDvkB,WAAa1tD,IACX,IAAKnC,KAAKyzE,uBAAwB,OAElC,MAAMW,GAAmB7yE,EAAAA,GAAAA,GAAcvB,KAAKyzE,wBAEtCY,EAAcr0E,KAAKs0E,uCAAuCnyE,GAC1D07D,EAAgB79D,KAAKy0E,2BAA2BJ,GAEjDxW,IAEDpyD,MAAMC,QAAQmyD,GAChBA,EAAc/xD,MAAK4oE,EAAAA,GAAAA,OAEnB7W,EAAcz8D,SAAS0K,MAAK4oE,EAAAA,GAAAA,OAG9B,KACEN,EAAiBG,WAAWnjE,OAC5BijE,EACAxW,GAGF79D,KAAKw0E,6BAA6BJ,GAAiB,EAErDvQ,UAAY1hE,IACV,IAAKnC,KAAKyzE,uBAAwB,OAElC,MAAMxG,GAAgB1rE,EAAAA,GAAAA,GACpBvB,KAAK6sE,qBAAqB1L,iBACxB,kCAIJ,IAAK8L,EAAe,OAEpBA,EAAczf,QAAQ7tD,QAAQ8xD,eAAiB,IAC1Cwb,EAAczf,QAAQ7tD,QAAQ8xD,eACjC9wD,KAAM,UAGR,MAAMyzE,GAAmB7yE,EAAAA,GAAAA,GAAcvB,KAAKyzE,wBACtCY,EAAcr0E,KAAKs0E,uCAAuCnyE,GAC1D07D,EAAgB79D,KAAKy0E,2BAA2BJ,GAEjDxW,IAEDpyD,MAAMC,QAAQmyD,GAChBA,EAAc/xD,KAAKmhE,EAAczf,SAEjCqQ,EAAcz8D,SAAS0K,KAAKmhE,EAAczf,SAG5C,KACE4mB,EAAiBG,WAAWnjE,OAC5BijE,EACAxW,GAGF79D,KAAKw0E,6BAA6BJ,GAAiB,EAErDhS,cAAe,CAACj3D,EAAoBlM,KAClC,IAAKe,KAAKyzE,uBAAwB,OAElC,MAAMW,GAAmB7yE,EAAAA,GAAAA,GAAcvB,KAAKyzE,wBACtCY,EAAcr0E,KAAKs0E,uCACvBnpE,GAEI0yD,EAAgB79D,KAAKy0E,2BAA2BJ,GAEjDxW,IAEDpyD,MAAMC,QAAQmyD,GAChBA,EAAc5gB,OAAOh+C,EAAO,GAE5B4+D,EAAcz8D,SAAS67C,OAAOh+C,EAAO,GAGvC,KACEm1E,EAAiBG,WAAWnjE,OAC5BijE,EACAxW,GAGF79D,KAAKw0E,6BAA6BJ,GAAiB,EAErD3U,cAAe,CACbt0D,EACAlM,EACAsjE,KAEA,IAAKviE,KAAKyzE,uBAAwB,OAClC,MAAMW,GAAmB7yE,EAAAA,GAAAA,GAAcvB,KAAKyzE,wBAE5C,GAAmB,kBAAftoE,EACFipE,EAAiBG,WAAWnjE,OAAOo8C,QAAU+U,MACxC,CACL,MAAM8R,EAAcr0E,KAAKs0E,uCACvBnpE,GAEI0yD,EAAgB79D,KAAKy0E,2BAA2BJ,GAEtD,IAAKxW,EAAe,OAEhBpyD,MAAMC,QAAQmyD,GAChBA,EAAc5gB,OAAOh+C,EAAO,EAAGsjE,GAE/B1E,EAAcz8D,SAAS67C,OAAOh+C,EAAO,EAAGsjE,GAG1C,KACE6R,EAAiBG,WAAWnjE,OAC5BijE,EACAxW,E,CAIJ79D,KAAKw0E,6BAA6BJ,EAAiB,EAErDjT,iBAAmBwT,GACV30E,KAAKnB,MAAM0gE,eAAe/xD,MAC/B4D,GAAUA,EAAO5Q,OAASm0E,IAG9B5T,kBAAmB,IACV/gE,KAAKnB,MAAM0gE,eAEpBzJ,sBAAuB,CACrBuK,EAA8B,GAC9B+M,EAAsC,CAAC,cAEvC,GAAKptE,KAAKyzE,uBAEV,OAAOnG,EAAAA,GAAAA,IACLttE,KAAKyzE,uBAAuBc,WAAWnjE,OAAOo8C,QAAQpsD,SACtDi/D,EACA+M,EACA,GACD,EAIH3sE,QAASm0E,GAAAA,GACTxO,iBAAkB,OAClB0C,cAAe,OACflc,mBAAoB,OACpBqS,qBAAsB,IAAMj/D,KAAKnB,MACjC2gE,wBAA0BF,IACxBt/D,KAAKM,MAAM,QAASg/D,EAAQ,EAGlC,CAKAqT,kBAAkBC,GAChB5yE,KAAKkyE,YAAcU,EAGfA,GAAkB5yE,KAAKyzE,wBACzBzzE,KAAKw0E,6BAA6Bx0E,KAAKyzE,uBAE3C,CAEAa,uCAAuCnyE,GACrC,OAAOA,EAAK4K,QAAQ,UAAW,UACjC,CAEA0nE,2BAA2BtyE,GACzB,GAAKnC,KAAKyzE,uBAEV,OAAOlyE,EAAAA,GAAAA,GACL,IAAWvB,KAAKyzE,uBAAuBc,WAAWnjE,OAAQjP,GAE9D,CAEI0yE,oBACF,OAAK70E,KAAKyzE,wBAGRzzE,KAAKyzE,uBAAuBc,WAAWnjE,OAAOo8C,QAAQ7tD,QACnD8xD,gBAAgBrgD,QAAQujD,UAJY,EAM3C,CAEIof,0BACF,IAAK/zE,KAAKyzE,uBAAwB,MAAO,GACzC,MAAMqB,GAAqBjH,EAAAA,GAAAA,KACzBtQ,EAAAA,GAAAA,IAAyBv9D,KAAKyzE,uBAAuBc,WAAW/zE,MAChER,KAAK0zE,mBAGP,MAAO,aAAaoB,qBACtB,CAEAd,eAAe3zE,GACb,IAAKL,KAAKyzE,uBAAwB,OAElC,MAAMvU,GAAY39D,EAAAA,GAAAA,GAAcvB,KAAKyzE,wBAErC,KACEvU,EACA,mEACA7+D,GAGFL,KAAKw0E,6BAA6BtV,EACpC,CAEI6V,kBACF,OAAO/0E,KAAKnB,MAAMmQ,QAAQ3N,KAAI+P,GAAUA,EAAO5Q,MACjD,CAEImqE,eACF,OAAO3qE,KAAKm0E,kBAAkBre,sBAAsB,GAAI,GAC1D,CAEIkf,wDACF,OAAKh1E,KAAKyzE,uBAEHzzE,KAAKyzE,uBAAuBc,WAAWnjE,OAAOo8C,QAAQ7tD,QAC1D8xD,gBAAgBrgD,QAAQmwD,4CAHc,EAI3C,CAEIM,mCACF,OAAK7hE,KAAKyzE,uBAEHzzE,KAAKyzE,uBAAuBc,WAAWnjE,OAAOo8C,QAAQ7tD,QAC1D8xD,gBAAgBrgD,QAAQywD,6BAHc,EAI3C,CAEA+I,2BAA2BvqE,EAAoB+rE,GAC7C,IAAKpsE,KAAKyzE,uBAAwB,OAElC,MAAMwB,GAA4B1zE,EAAAA,GAAAA,GAChCvB,KAAKyzE,wBAGP,KACEwB,EACA,2DAA2D7I,KAC3D/rE,GAGFL,KAAKyzE,uBAAyBwB,CAChC,CAEAjqB,gBAAgBD,GACd,OAAOC,EAAAA,GAAAA,IAAgBD,EACzB,CAEAypB,6BACES,GAcA,GAXAA,EAA0BV,WAAWnjE,OAASpR,KAAKk1E,iCACjDD,EAA0BV,WAAWnjE,QAGvCpR,KAAKyzE,wBAAyBlyE,EAAAA,GAAAA,GAAc0zE,IAGf,IAAzBj1E,KAAKk0E,kBACPl0E,KAAKk0E,iBAAkB3yE,EAAAA,GAAAA,GAAc0zE,KAGlCj1E,KAAKkyE,YAAa,OAEvB,MAAMiD,EAAuCzzE,OAAOkhE,OAClDliE,GAAAA,GAAAA,UAECW,KAAIZ,GACEA,GAELA,EAAQgP,SAASG,eAAiBnP,EAAQgP,SAASG,eAAevO,IAChErB,KAAKo1E,uCAGP30E,EAAQgP,SAASC,gBAAkBjP,EAAQgP,SAASC,gBAAgBrO,IAClErB,KAAKo1E,uCAGP30E,EAAQgP,SAASy4D,iBAAmBznE,EAAQgP,SAASy4D,iBAAiB7mE,IACpErB,KAAKo1E,uCAGA30E,GAdcA,IAgBtBmB,QAAQnB,QAAmDiF,IAAZjF,IAElDC,GAAAA,GAAAA,YAAwBy0E,EAC1B,CAEIrB,qCACF,IAAK9zE,KAAKyzE,uBAAwB,OAAO,EACzC,MAAMwB,GAA4B1zE,EAAAA,GAAAA,GAChCvB,KAAKyzE,wBAUP,OALEwB,EAA0BV,WAAWnjE,OAAOo8C,QAAQ7tD,QAAQ8xD,gBACxDrgD,QAAQ5Q,OAEZy0E,EAA0BV,WAAWnjE,OAAOo8C,QAAQ7tD,QAAQ8xD,eAAergD,OAAO5Q,UAAOkF,GAEpFuvE,CACT,CAEAG,sCAAsC5nB,GACpC,GACEA,EAAQ7tD,QAAQ8xD,gBAAgBrgD,QAAQ5Q,MACxCR,KAAKyzE,wBACLjmB,EAAQ7tD,QAAQ8xD,eAAergD,OAAO5Q,OACpCR,KAAKyzE,uBAAuBc,WAAW/zE,KAEzC,OAAOe,EAAAA,GAAAA,GACLvB,KAAKyzE,uBAAuBc,WAAWnjE,OAAOo8C,SAIlD,GAAIA,EAAQpsD,SAASoE,OAAQ,CAC3B,MAAM6vE,GAAa9zE,EAAAA,GAAAA,GAAcisD,GAMjC,OAJA6nB,EAAWj0E,SAAWi0E,EAAWj0E,SAASC,IACxCrB,KAAKo1E,uCAGAC,C,CAGT,OAAO7nB,CACT,CAEA8nB,wBAAwB9nB,EAAkBhtD,GACxC,IACEgtD,EAAQ7tD,QAAQ8xD,gBAAgBrgD,QAAQ5Q,MACxCgtD,EAAQ7tD,QAAQ8xD,eAAergD,OAAO5Q,OAASA,EAFjD,CAOA,GAAIgtD,EAAQpsD,SAASoE,OAAQ,CAC3B,MAAM6vE,GAAa9zE,EAAAA,GAAAA,GAAcisD,GAMjC,OAJA6nB,EAAWj0E,SAAWi0E,EAAWj0E,SAC9BC,KAAIk/D,GAAKvgE,KAAKs1E,wBAAwB/U,EAAG//D,KACzCoB,QAAQ2+D,KAAsBA,IAE1B8U,C,CAGT,OAAO7nB,C,CACT,CAOA0nB,iCAAiChU,GAC/B,OAAKlhE,KAAKyzE,wBAEV,KACEvS,EACA,6CACAlhE,KAAKyzE,uBAAuBc,WAAW/zE,MAGlC0gE,GARkCA,CAS3C,CAEAyN,UAAUC,GACR5uE,KAAKgyE,UAAYpD,CACnB,CAEA2G,iBAAiBxqB,GACf,IAAK/qD,KAAKyzE,uBAAwB,OAElC,MAAMW,GAAmB7yE,EAAAA,GAAAA,GAAcvB,KAAKyzE,wBAE5CW,EAAiBG,WAAW/zE,KAAOg9D,IACjCD,EAAAA,GAAAA,IAAyBv9D,KAAKyzE,uBAAuBc,WAAW/zE,MAChEuqD,GAGF/qD,KAAKw0E,6BAA6BJ,EACpC,CAEAoB,aAAaC,GACX,MAAMvW,GAAY39D,EAAAA,GAAAA,GAAck0E,GAE1BC,EAAe11E,KAAKnB,MAAMmQ,QAAQq3B,WACtCj1B,GAAUA,EAAO5Q,OAAS0+D,EAAU1+D,OAEhCm1E,EAAsB31E,KAAKnB,MAAM0gE,eAAel5B,WACpD4mC,GAAiBA,EAAczsE,OAAS0+D,EAAU9tD,OAAO5Q,OAGrDH,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,QAEd,IAAlB62E,IAAgD,IAAzBC,GACzBt1E,EAAS2O,QAAQlD,KAAKozD,GACtB7+D,EAASk/D,eAAezzD,KAAKozD,EAAU9tD,UAEvC/Q,EAAS2O,QAAQ0mE,GAAgBxW,EACjC7+D,EAASk/D,eAAeoW,GAAqBnoB,QAC3C0R,EAAU9tD,OAAOo8C,SAGrBxtD,KAAKM,MAAM,QAASD,GAIlBL,KAAKk0E,iBACLl0E,KAAKk0E,gBAAgBvoB,eACrBuT,EAAU1+D,OAASR,KAAKk0E,gBAAgBK,WAAW/zE,MACnD0+D,EAAUvT,gBAAkB3rD,KAAKk0E,gBAAgBvoB,eAEjD3rD,KAAK41E,uBAAuB51E,KAAKk0E,gBAErC,CAEA2B,sCAAsCC,GACpC,MAAMC,GAAoB5C,EAAAA,GAAAA,IAAoB2C,GACxCvW,GAAiBh+D,EAAAA,GAAAA,GAAcvB,KAAKnB,MAAM0gE,gBAC1C0T,EAAa1T,EAAel5B,WAChCj1B,GAAUA,EAAO5Q,OAASu1E,IAEtB7C,EAAalzE,KAAKnB,MAAMmQ,QAAQq3B,WACpCj1B,GAAUA,EAAO5Q,OAASs1E,IAO5B,IAJoB,IAAhB7C,GACF1T,EAAetiB,OAAOg2B,EAAY,IAGhB,IAAhBC,EAAmB,CACrB,MAAM7yE,GAAWkB,EAAAA,GAAAA,GAAcvB,KAAKnB,OACpCwB,EAAS2O,QAAQiuC,OAAOi2B,EAAY,GAEpClzE,KAAKM,MAAM,QAASD,E,CAGtB,IAAKL,KAAKkyE,YAAa,OAGvB,MAAM8D,EAAsCt0E,OAAOkhE,OACjDliE,GAAAA,GAAAA,UAECW,KAAIZ,GACEA,GAELA,EAAQgP,SAASG,eAAiBnP,EAAQgP,SAASG,eAChDvO,KAAImsD,GACHxtD,KAAKs1E,wBAAwB9nB,EAASsoB,KAEvCl0E,QAAQ2+D,KAAsBA,IAEjC9/D,EAAQgP,SAASC,gBAAkBjP,EAAQgP,SAASC,gBACjDrO,KAAImsD,GACHxtD,KAAKs1E,wBAAwB9nB,EAASsoB,KAEvCl0E,QAAQ2+D,KAAsBA,IAEjC9/D,EAAQgP,SAASy4D,iBAAmBznE,EAAQgP,SAASy4D,iBAClD7mE,KAAImsD,GACHxtD,KAAKs1E,wBAAwB9nB,EAASsoB,KAEvCl0E,QAAQ2+D,KAAsBA,IAE1B9/D,GApBcA,IAsBtBmB,QAAQnB,QAAmDiF,IAAZjF,IAElDC,GAAAA,GAAAA,YAAwBs1E,EAC1B,CAEItC,wBACF,OAAK1zE,KAAKyzE,wBAEHN,EAAAA,GAAAA,IAAoBnzE,KAAKyzE,uBAAuBc,WAAW/zE,MAFzB,EAG3C,CAEIknD,wBACF,SAAK1nD,KAAKyzE,yBAA2BzzE,KAAKk0E,mBAIlC,KACNl0E,KAAKk0E,gBAAgBK,WACrBv0E,KAAKyzE,uBAAuBc,WAEhC,CAEAX,eACO5zE,KAAKyzE,wBAIVzzE,KAAK41E,uBAAuB51E,KAAKyzE,wBAAwB,KACvDzzE,KAAKyzE,wBAAyB,CAAK,GAEvC,CAEApvE,6BACE4xE,EACApF,EAA8B,WAE9BtiE,EAAAA,EAAAA,YACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,2BACRC,WAAY,CACVqzC,cAAesqB,EAAetqB,cAC9ByR,UAAU+V,EAAAA,GAAAA,IAAoB8C,EAAe1B,WAAW/zE,OAE1DgY,QAAS3J,EAAAA,GAAU,WACnB6J,UAAW,UAEbjK,EAAAA,EAAAA,OACE,KACEmK,GAAAA,EAAAA,IAAAA,QAA+B,2BAA2B,IAE5D,KACEi4D,IAEA7wE,KAAK61E,sCACHI,EAAe1B,WAAW/zE,KAC3B,IAIT,CAEAspD,iBACM9pD,KAAKk0E,iBAAmBl0E,KAAKk0E,gBAAgBK,aAC/Cv0E,KAAKw0E,6BAA6Bx0E,KAAKk0E,iBACvCl0E,KAAKw1E,aAAax1E,KAAKk0E,gBAAgBK,aAGzCv0E,KAAK6zE,6BACP,CAEAA,8BACE7zE,KAAKyzE,wBAAyB,EAC9BzzE,KAAKk0E,iBAAkB,EACvBl0E,KAAKM,MAAM,SAAU,KACvB,CAEAqzE,WAAWuC,GACT,MAAMC,GAAqB50E,EAAAA,GAAAA,GACzBvB,KAAKnB,MAAMmQ,QAAQxB,MAAK4D,GAAUA,EAAO5Q,OAAS01E,KAGpD,IAAKC,EAAoB,OAEzB,MAAM/kE,EAASpR,KAAKnB,MAAM0gE,eAAe/xD,MACvC4D,GAAUA,EAAO5Q,OAAS01E,IAG5B,IAAK9kE,EAGH,YAFAwH,GAAAA,EAAAA,IAAAA,QAA+B,GAAGs9D,uBAKpC,MAAMnF,EAAqB/wE,KAAKnB,MAAM0qD,cAAc/7C,MAAKk9C,GACvDyrB,EAAmBxqB,cAAc9qD,WAAW6pD,EAAaiB,iBAErDR,IAAyB4lB,GAAoB5lB,qBAEnDnrD,KAAKw0E,6BAA6B,CAChCD,WAAY,IAAK4B,EAAoB/kE,UACrCu6C,cAAewqB,EAAmBxqB,cAClCR,yBAEFnrD,KAAKM,MAAM,SAAU,SACvB,CAEAspD,OAAOc,GACA1qD,KAAKyzE,wBAEVzzE,KAAKgxE,aACHhxE,KAAKyzE,uBAAuBc,WAAWnjE,OACvCs5C,EAAaiB,cACb3rD,KAAK0zE,kBACLlW,GACE9S,EAAazwC,UACbja,KAAK0zE,mBAEPhpB,EAAaS,qBAEjB,CAEAtB,YAAYvR,GACV,MAAM8kB,EAAWlvD,KAAQoqC,EAAQnwC,MAC3Bg3D,EAAU3B,GACdllB,EAAQr+B,UACRq+B,EAAQnwC,MAGNnI,KAAKnB,MAAMmQ,QAAQxB,MAAK4D,GAAUA,EAAO5Q,OAAS2+D,KACpDC,EAAAA,GAAAA,IAA0Bp/D,KAAKnB,MAAM0qD,cAAejR,EAAS,WAK/Dt4C,KAAKgxE,aACH,CACExwE,KAAM2+D,EACN3R,SAAS4oB,EAAAA,GAAAA,OAEX99B,EAAQqT,cACRyR,EACA+B,EACA7mB,EAAQ6S,sBAGVnrD,KAAKM,MAAM,SAAU,UACvB,CAEAqpD,eAEK3pD,KAAKyzE,wBACLzzE,KAAKyzE,uBAAuB9nB,eAK/B3rD,KAAKgxE,aACHhxE,KAAKyzE,uBAAuBc,WAAWnjE,OACvCpR,KAAKyzE,uBAAuB9nB,cAC5B3rD,KAAK0zE,kBACL1zE,KAAKyzE,uBAAuBc,WAAW/zE,KACvCR,KAAKyzE,uBAAuBtoB,qBAEhC,CAEA9mD,mBACE+M,EACAu6C,EACAyR,EACA58D,EACA2qD,GAEAnrD,KAAKy1C,gBAAiB,GAEtBlnC,EAAAA,EAAAA,YACQ4uD,GAAmB/rD,EAAQu6C,EAAeyR,EAAU58D,IAC1DiO,EAAAA,EAAAA,OACEnK,IACE2O,QAAQoB,MAAM/P,GACdsU,GAAAA,EAAAA,IAAAA,QACE,wCACD,IAEH,KACE,MAAMsmD,EAAoC,CACxCqV,WAAY,CACVnjE,QAAQ7P,EAAAA,GAAAA,GAAc6P,GACtB5Q,OACAmrD,iBAEFA,gBACAR,wBAGFnrD,KAAKw0E,6BAA6BtV,GAClCl/D,KAAKw1E,aAAatW,EAAUqV,YAC5Bv0E,KAAKk0E,gBAAkBhV,CAAS,KAKtCl/D,KAAKy1C,gBAAiB,CACxB,IA5tBArzC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAmNPD,EAAAA,EAAAA,IAAAA,EADCstE,EAAAA,EAAAA,IAAQ,YAAU,4CAnNAuE,IAAoB,UAfxCzxE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVmnD,YAAW,KACXyjB,0BAAyB,GACzBT,2BAA0B,GAC1BvnE,UAAS,KACT66D,wBAAuB,GACvBh7D,UAAS,KACT2G,KAAI,IACJw+D,UAAS,KACT4E,2BAA0B,GAC1BrjB,gCAA+B,GAC/BgoB,oBAAmBA,OAGF4C,I,YC/DiS,MCQtT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCShC,IAAqBoC,GAArB,cAA2C72E,EAAAA,GAA3CC,c,oBAgBE,KAAAyB,KAAwC,CACtC6kB,SAAU,GACVioD,OAAQ,GACRh/D,QAAS,GACTu6C,cAAe,GACfgW,eAAgB,IAGlB,KAAAt3D,MAAQ,IAER,KAAAygD,eAA0C,IA2B5C,CApDErkD,iBACEkK,EAAAA,GAAAA,UACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,iCACRG,QAASm5D,MAEXljE,EAAAA,GAAAA,KACEkK,GAAUA,EAAO/M,SAAQtH,GAAKsU,GAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,SAC/Dy9D,IACEt2E,KAAKkB,KAAOo1E,CAAkB,IAItC,CAcA3tB,WAAW2W,GACTt/D,KAAKkB,MAAOK,EAAAA,GAAAA,GAAc+9D,EAC5B,CAEAzW,qBAAqByZ,GACnBtiE,KAAK0oD,eAAiB4Z,CACxB,CAEA1Z,YAAY5mB,GACVhiC,KAAKiI,MAAQ+5B,CACf,CAEAymB,YAAY8tB,GACVv2E,KAAKiI,OAASsuE,CAChB,CAEI/tB,aACF,MAAO,CACLvgD,MAAO,GAAGjI,KAAKiI,UAEnB,CAEIuuE,gBACF,QAAQ/wB,EAAAA,GAAAA,IACV,GApDmB4wB,IAAa,UARjC7zE,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV+zE,qBAAoB,GACpB9B,oBAAmB,GACnBtC,sBAAqB,GACrBxmB,gCAA+BA,OAGdgtB,I,YC5B0R,MCQ/S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIpzE,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,yBAAyB,CAACQ,MAAM,CAAC,cAAcJ,EAAImmD,WAAW,SAAWnmD,EAAIuJ,WAAW,CAAC3J,EAAG,MAAM,CAACk7B,WAAW,CAAC,CAACzxB,KAAK,OAAO0xB,QAAQ,SAASh7B,MAA0B,QAAnBC,EAAImmD,WAAsBzhD,WAAW,2BAA+C,cAAnB1E,EAAImmD,WAA4BvmD,EAAG,kBAAsC,cAAnBI,EAAImmD,WAA4BvmD,EAAG,kBAAkBI,EAAIkH,KAAyB,sBAAnBlH,EAAImmD,WAAoCvmD,EAAG,yBAAyB,CAACuF,IAAInF,EAAI0hB,kBAAsC,YAAnB1hB,EAAImmD,WAA0BvmD,EAAG,4BAAgD,mBAAnBI,EAAImmD,WAAiCvmD,EAAG,uBAAuBI,EAAIkH,MAAM,EACppB,EACI1G,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,kEAAkElE,MAAM,CAAC,eAAe,6BAA6B,CAAEJ,EAAI23E,gBAAiB,CAAC/3E,EAAG,YAAYA,EAAG,oBAAoB,CAACA,EAAG,yBAAyB,EACtU,EACIY,GAAkB,GCFsBZ,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAA2B,OAAM,QAAM,CAACA,YAAY,6BAA4C,CAACtE,EAAG,MAAO,CAA8E,YAAU,4C,CAAgBmF,EAAG,GAAE,oE,OAACb,EAAAA,eAAkB,CAAClE,IAAK,E,YAAUsb,OAAK,OAAG,U,IAAmFtb,EAAK,MAAC,gB,YAAQ,oC,MAAgB,CAAY,KAAO,gBAAM,UAAG,OAAC,GAA6B,IAAIR,MAAG,sBAA2DQ,EAAK,aAAC,C,YAAQ,iC,MAAY,CAAY,KAAO,YAAM,UAAG,OAAC,GAAmB,IAAI,MAAG,aAEnrBI,EAEJ,E,8BCYA,IAAqBo3E,GAArB,cAAsCl3E,EAAAA,GAChCskC,mBACF,OAAOhjC,EAAAA,GAAAA,cACHJ,EAAAA,GAAAA,QAAoBI,EAAAA,GAAAA,cAAAA,KAAAA,MAAiCqH,KACrD,mBACN,CACIwuE,oBACF,IAAK71E,EAAAA,GAAAA,cAAuB,MAAO,GAEnC,MAAML,EAAUC,EAAAA,GAAAA,QAAoBI,EAAAA,GAAAA,cAAAA,KAAAA,MAE9B81E,EAASn2E,EAAQ+Z,MAAQ,CAAC/Z,EAAQ+Z,OAAS,GAUjD,OAPE/Z,EAAQoD,UACRpD,EAAQoD,SAASid,SACgB,SAAjCpgB,EAAAA,GAAAA,kBAEAk2E,EAAO9qE,MAAK0V,EAAAA,GAAAA,OAGPo1D,CACT,CACAC,mBACM/1E,EAAAA,GAAAA,iBACFsH,EAAAA,GAAAA,8BAA4CtH,EAAAA,GAAAA,gBAEhD,CACAwG,SACkC,OAA5BxG,EAAAA,GAAAA,iBACFsH,EAAAA,GAAAA,cAA4B,CAC1BM,OAAQ5H,EAAAA,GAAAA,iBAGd,GAlCmB41E,IAAQ,UAP5Bl0E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV2C,SAAQ,KACRq0C,WAAU,KACV4/B,aAAYA,GAAAA,MAGKJ,I,YChBqR,MCQ1S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIzzE,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,sDAAsD4oB,YAAY,CAAC,OAAS,SAAS,CAACltB,EAAIitB,GAAG,GAAGrtB,EAAG,iBAAiB,CAAC0E,YAAY,+BAA+BlE,MAAM,CAAC,KAAO,KAAK,OAAS,gCAAgCgE,GAAG,CAAC,MAAQpE,EAAIg7C,YAAY,CAACh7C,EAAIM,GAAG,YAAY,EAClY,EACIE,GAAkB,CAAC,WAAY,IAAIR,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,sBAAsB,CAAC1E,EAAG,IAAI,CAACI,EAAIM,GAAG,6EAChK,GCIA,IAAqB23E,GAArB,cAAiDv3E,EAAAA,GAC/Cs6C,aACEE,EAAAA,EAAAA,IAAc,MAChB,GAHmB+8B,IAAmB,UADvCv0E,EAAAA,EAAAA,IAAU,CAAEtC,WAAY,CAAEmvC,eAAcA,OACpB0nC,I,YCPgS,MCQrT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,wCCnByD,GAAU,W,IAAO3zE,EAAAA,KAA0C,EAAItE,EAAIk4E,MAAAA,GAA2D,oB,OAAC,QAAYv8B,C,YAAc,+BAAc,uBAAqO/7C,EAAG,KAAxO,+BAACwE,MAAG,CAAC,MAAQpE,EAAI6vE,IAAS,qBAAuBvrE,GAAAA,CAAgCtE,MAAIk4E,EAAAA,aAA0J,EAACl4E,MAAO,CAA2EsE,YAAY,kBAA4BF,CAAE,EAAC,qF,YAASpE,4BAAc,oFAAE,YAAY,4BAACI,GAAAA,CAAO,MAAO,eAAuB,WAAG,MAAM,CAA6BA,KAAM,YAAC,cAA+E,KAAQ,EAAC,uBAAI,OAAIR,SAAG,iCAAe,gBAACQ,KAAM,UAAC,QAAU,KAAmE,iBAAS,CAAI,OAAIR,SAAG,iCAAe,eAACQ,KAAM,SAAC,QAAU,KAAuE,iBAAS,CAAI,OAAI,SAAS83E,EAAAA,+BAA2BC,iBAA+B7zE,KAAAA,WAA6DlE,QAAM,MAAgB,oDAAE,YAAK,iDAAuBA,MAAM,CAAC,OAAQ,SAAYgE,CAAE,EAAC,uB,MAAC,CAAsB,kBAA2BG,GAAAA,CAAOxE,MAAOC,EAAI27C,e,GAAkCA,EAAG,KAAI,C,MAAC,CAACj3C,MAAAA,EAAU,IAAM,qBAAK1E,EAAIo4E,IAAAA,CAAqCh4E,EAAO,WAAQ,Q,CAA6B,qBAAqB,QAAK,OAAIR,MAAG,UAAgBQ,YAAM,EAAC,sBAAewQ,I,CAAiC,kBAA4B,OAAI,SAAU,EAAI5Q,gBAAwCI,KAAM,UAAC,uBAAgB,MAAoB,YAAoB,kBAAC,QAAK,OAAIR,MAAG,SAAoBQ,YAAM,EAAC,sBAAe0Q,IAA8B,uBAAG,MAAI,CAAqD1Q,SAAM,iBAAC,KAAO,aAA+B,YAAoB,oBAAC,QAAK,OAAIR,MAAG,WAAgBQ,YAAM,EAAC,sBAAegpE,IAAkC,mBAAG,MAAI,CAAkChpE,SAAM,mBAAC,KAAO,eAAyC,kBAAyB,EAAC,aAAI,MAAC,CAAG,MAAC,iBAAC,SAAW,UAAqB,8BAC3qE,IACGI,MAAAA,EAAe,yB,sBCFf2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,oCAAoC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,0CAA0C,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,+BAA+BlE,MAAM,CAAC,KAAO,aAAa,KAAO,QAAQR,EAAG,YAAY,CAAC0E,YAAY,qCAAqClE,MAAM,CAAC,MAAQJ,EAAID,MAAMqX,MAAM,YAAcpX,EAAIwwD,YAAY,eAAe,yBAAyBpsD,GAAG,CAAC,MAAQpE,EAAIq4E,aAAaz4E,EAAG,MAAM,CAAC0E,YAAY,mCAAmC,CAAEtE,EAAID,MAAMqX,MAAOxX,EAAG,MAAM,CAAC0E,YAAY,mCAAmCF,GAAG,CAAC,MAAQpE,EAAIs4E,aAAa,CAAC14E,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,YAAY,KAAO,SAAS,GAAGJ,EAAIkH,KAAKtH,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQJ,EAAID,MAAMw4E,cAAcn0E,GAAG,CAAC,MAAQpE,EAAIw4E,eAAe,CAACx4E,EAAIM,GAAG,cAAeN,EAAIy4E,sBAAuB74E,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQJ,EAAID,MAAM24E,iBAAiBt0E,GAAG,CAAC,MAAQpE,EAAI24E,eAAe,CAAC/4E,EAAG,OAAO,CAACQ,MAAM,CAAC,KAAO,WAAW,KAAO,SAAS,GAAGJ,EAAIkH,MAAM,IAAI,IAChhC,EACI1G,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAM,CAC5G,oCAAoC,EACpC,sCAAuClF,KAAKnB,OAC5CqE,GAAG,CAAC,MAAQpE,EAAIuzD,SAAS,CAACvzD,EAAI0K,GAAG,YAAY,EACjD,EACIlK,GAAkB,GCAtB,IAAqBo4E,GAArB,cAA0Cl4E,EAAAA,GAIxC6yD,SACEryD,KAAKM,MAAM,SAAUN,KAAKnB,MAC5B,IAJAuD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BADYq1E,IAAY,SADhCl1E,EAAAA,IACoBk1E,I,YCLyR,MCQ9S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCHhC,IAAqBC,GAArB,cAAuCn4E,EAAAA,GAUrCg2D,KAAK7vC,GACH3lB,KAAKM,MAAM,QAASqlB,EACtB,CAEAwxD,UAAUS,GACgB,kBAAbA,EACT53E,KAAKw1D,KAAK,IACLx1D,KAAKnB,MACRqX,MAAO0hE,EAAS9uE,OAAOukB,gBAGzBrtB,KAAKw1D,KAAK,IACLx1D,KAAKnB,MACRqX,MAAO,IAGb,CAEAkhE,aACEp3E,KAAKw1D,KAAK,IACLx1D,KAAKnB,MACRqX,MAAO,GACPmhE,cAAc,GAElB,CAEAC,aAAaO,GACX73E,KAAKw1D,KAAK,IACLx1D,KAAKnB,MACRw4E,aAAcQ,GAElB,CAEAJ,aAAa5zE,GACX7D,KAAKw1D,KAAK,IACLx1D,KAAKnB,MACR24E,gBAAiB3zE,GAErB,CAEIyrD,kBACF,MAAO,QACT,IAlDAltD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8CAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,gCAPYs1E,IAAS,UAH7Bn1E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEw3E,aAAY,GAAE/0E,UAAS,KAAE2G,KAAIA,EAAAA,MAExBquE,I,YChBsR,MCQ3S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnByD,GAAU,W,IAA8Cv0E,EAAAA,KAAmClE,EAAK,EAAC,SAAQ,EAACJ,MAAID,Y,OAAM,EAAK,UAAS,+B,YAAC,uBAA+C,MAAC,CAAG,MAAC,QAAC,aAAmB,iD,GAAsBoF,CAAWC,MAAG,U,YAAoC,O,+BAA6B,WAAG,MAAC,CAAC,eAAM,KAAC,QAAyBA,E,OAAc,G,sBAAwD,W,MAAK,iB,MAAC,C,MAAgCpF,IAA8B,IAAIJ,MAAG,YAAwD,kCAAM,IAAoCsH,CAAAA,EAAI,MAAM8xE,CAAAA,EAAAA,GAAiB,oBAAW,OAAC10E,EAAmClE,OAAM,IAAC,MAAO,EAAKL,aAAM,EAAI,KAAC,EAAQ,2B,YAAC,uBAA8C,MAAC,CAAG,MAAC,QAAC,YAAmB,gD,GAAsBoF,CAAWC,MAAG,U,YAAoC,O,+BAAiC,WAAG,MAAC,CAAC,mBAAM,KAAC,QAAyBA,E,OAAc,G,sBAAwD,W,MAAK,iB,MAAC,C,MAAgCpF,IAA6B,IAAIJ,MAAG,YAAuD,iCAAM,IAAqCsH,CAAAA,EAAI,MAAM+xE,CAAAA,EAAAA,GAAAA,mBAA8B,OAAC30E,EAAmClE,OAAM,IAAC,MAAO,EAAKL,cAAM,EAAI,KAAC,sBAAU,S,YAAC,uBAAgD,MAAC,CAAG,MAAC,QAAC,cAAmB,kD,GAAsBoF,CAAWC,MAAG,U,YAAoC,O,+BAA8B,WAAG,MAAC,CAAC,gBAAM,KAAC,QAAyBA,E,OAAc,G,sBAAwD,W,MAAK,iB,MAAC,C,MAAgCpF,IAA+B,IAAIJ,MAAG,YAAyD,mCAAM,IAAoCsH,CAAAA,EAAI,MAAI,CAAY,EAAC,+BAAC9G,EAAO,OAAM,IAA0B,qBAAG,EAAC,qB,MAAC,C,KAAqC84E,EAAAA,sBAA8B,IAAI,gBAAG,YACl6D,wBACG14E,M,iCCFA2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAMpG,EAAI0X,UAAUtT,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIwB,MAAM,QAASxB,EAAIkG,GAAG,EAAE,YAAclG,EAAI+kC,kBAAkB,CAAE/kC,EAAIm5E,YAAav5E,EAAG,MAAM,CAAC0E,YAAY,wBAAwB,CAACtE,EAAI0K,GAAG,SAAS,GAAG1K,EAAIkH,KAAOlH,EAAIm5E,YAAmFn5E,EAAIkH,KAA1EtH,EAAG,MAAM,CAAC0E,YAAY,yBAAyB,CAACtE,EAAI0K,GAAG,YAAY,GAAa1K,EAAIo5E,mBAAoBx5E,EAAG,MAAM,CAAC0E,YAAY,gCAAgC,CAAC1E,EAAG,WAAW,CAACQ,MAAM,CAAC,aAAaJ,EAAIq5E,aAAa,aAAar5E,EAAIs5E,aAAa,SAAW,GAAG,WAAW,IAAI/0E,MAAM,CAACxE,MAAOC,EAAIstD,YAAa7oD,SAAS,SAAUmpC,GAAM5tC,EAAIstD,YAAY1f,CAAG,EAAElpC,WAAW,gBAAgB,CAAC1E,EAAI0K,GAAG,gBAAgB,IAAI,GAAG1K,EAAIkH,MAC5uB,EACI1G,GAAkB,GCMtB,IAAqB+4E,GAArB,cAAiC74E,EAAAA,GAAjCC,c,oBAuBE,KAAA2sD,aAAc,EACd,KAAA+rB,aAAe,EACf,KAAAC,aAAe,CAiBjB,CAnCM5hE,gBACF,MAAO,CACL,kBAAkB,EAClB,CAAC,sBAAsBxW,KAAKgF,OAAO,EACnC,yBAA0BhF,KAAKnB,QAAUmB,KAAKgF,GAElD,CAEIkzE,yBACF,QAASl4E,KAAKuwD,OAAO+nB,WACvB,CAEIL,kBACF,QAASj4E,KAAKuwD,OAAO7Z,IACvB,CAMA7S,gBAAgBv/B,GACTtE,KAAKk4E,qBAIV5zE,EAAEC,iBAEFvE,KAAKosD,aAAc,EACnBpsD,KAAKm4E,aAAe7zE,EAAEiE,QACtBvI,KAAKo4E,aAAe9zE,EAAEmE,QAEtBzI,KAAK4xB,WAAU,KACb5xB,KAAKosD,aAAc,CAAI,IAE3B,IAvCAhqD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,0BAJYg2E,IAAG,UAHvB71E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAE2C,SAAQA,GAAAA,MAEHw1E,I,YCR4R,MCQjT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIp1E,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,uBAAuB,CAACtE,EAAI0K,GAAG,YAAY,EACjK,EACIlK,GAAkB,GCGtB,IAAqBi5E,GAArB,cAAqC/4E,EAAAA,KAAhB+4E,IAAO,UAD3B/1E,EAAAA,EAAAA,IAAU,CAAC,IACS+1E,I,YCLgS,MCQrT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnBY75E,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAgB,oB,OAAC,WAAY+1C,CAAI,MAAC,CAAG,MAAC,Q,GAA0B,CAAwC,kBAAE,kCAACz1C,G,YAAoC,KAAU,E,IAAC,QAAmD,GAAC,WAACgF,MAAM,0CAAK,EAAEC,OAAI,GAAOC,C,IAAc,O,GAAwBhF,W,MAAO,GAAM,YAAK,C,MAAC,CAA6B,UAACmE,YAAM,gB,MAA2BE,C,MAA6Bi1E,EAAAA,cAAiB,SAAC,YAACh1E,EAAAA,cAAW,CAAe,EAAI9E,WAAG,mBAAmC2E,EAAK,eAAC,C,YAAYo1E,O,MAAqBl1E,C,MAA6Bk1E,EAAAA,oBAAuB,SAAC,YAACj1E,EAAAA,oBAAW,CAAqB,EAAI,oCAAa,EAAES,OAAI,GAAUC,C,IAAc,U,GAAoB8nB,W,MAAa,SAAqB,YAAC,CAAC9sB,eAAM,QAAU,MAAC,CAAG,KAAC,I,GAA0BJ,CAAgB,kBAAC,SAAIA,I,CAAsC,iBAAW,QAAE,MAAC,CAAG,SAAC,IAAyB,IAAIA,MAAO,iB,CAAuC,KAAM,oBAAG,Q,MAAC,CAAe,QAA6B,aAAG,QAAC,kBAAuB,IAAIA,MAAO,EAAM,aAAW,GAAC,aAAM,EAAG,aAIxlC,E,kBCHM,SAAU45E,GACdhc,EACAU,EACAz8D,EAAO,cAEP,MAAMg4E,EAAO,IAAIC,KAAK,CAAClc,GAAU,CAAE/7D,KAAMA,IACvCk4E,EAASxmE,SAASiE,cAAc,KAClCuiE,EAAOC,SAAW1b,EAClByb,EAAOr0D,MAAQtS,OAAO6mE,WAAa7mE,OAAO2S,KAAKm0D,gBAAgBL,GAC/DE,EAAOzgD,QAAQ6gD,YAAc,CAACt4E,EAAMk4E,EAAOC,SAAUD,EAAOr0D,MAAMvX,KAAK,KACvE4rE,EAAOpoD,OACT,CCSA,IAAqByoD,GAArB,cAAwC15E,EAAAA,GAAxCC,c,oBACE,KAAA+4E,cAA2C,GAC3C,KAAAC,oBAAoC,KAOpC,KAAAhjC,gBAAiB,CAwEnB,CAtEEpxC,oBAAoB66D,GAClBl/D,KAAKy1C,gBAAiB,EACtB,MAAM0jC,GAAa53E,EAAAA,GAAAA,GAAcb,EAAAA,GAAAA,oBACjCy4E,EAAWrtE,KAAKozD,IAEhB3wD,EAAAA,EAAAA,YACQrN,GAAAA,GAAc,uBAAwBi4E,IAC5C1qE,EAAAA,EAAAA,OACEkK,IACEA,EAAO/M,SAAQtH,GAAKsU,GAAAA,EAAAA,IAAAA,QAA+BtU,EAAEuU,MAAK,IAE5D,KACEnY,EAAAA,GAAAA,sBAAkCy4E,EAAW,KAKnDn5E,KAAKy1C,gBAAiB,CACxB,CAEA2jC,aACE,MAAM93E,EAAgBR,EAAAA,GAAAA,cACtB,IAAKQ,EAAe,OAAO,EAC3B,IAAKtB,KAAKw4E,gBAAkBx4E,KAAKy4E,oBAI/B,OAHA7/D,GAAAA,EAAAA,IAAAA,QACE,+CAEK,EAGT,MAAMygE,GAAc93E,EAAAA,GAAAA,GAAcvB,KAAKe,QAAQu4E,gBAAgB,WAE/D,IAAKD,EAIH,OAHAzgE,GAAAA,EAAAA,IAAAA,QACE,oDAEK,EAGT,MAAMsmD,EAA2B,CAC/Bqa,iBAAkBj4E,EAAcJ,KAAKP,KACrC64E,qBAAsBH,EACtBj9D,MAAOpc,KAAKw4E,cACZiB,cAAez5E,KAAKy4E,qBAGtB,OAAOvZ,CACT,CAEAwa,aACE,MAAMxa,EAAYl/D,KAAKo5E,aACnBla,IACFl/D,KAAK25E,cAAcza,GACnBl/D,KAAK45E,gBAET,CAEAC,eACE,MAAM3a,EAAYl/D,KAAKo5E,aACnBla,IACFwZ,IAAgBzxB,EAAAA,GAAAA,GAAyBiY,IAAc,GAAI,eAC3Dl/D,KAAK45E,gBAET,CAEAA,gBACE55E,KAAKw4E,cAAgB,GACrBx4E,KAAKy4E,oBAAsB,KAC3Bz4E,KAAKM,MAAM,iBAAiB,EAC9B,IA3EA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,6BAGYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BAPC22E,IAAU,UAH9B12E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAE45E,aAAY,KAAEn3E,UAAS,KAAEgC,OAAMA,GAAAA,MAE1Bu0E,I,YCrBmS,MCOxT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCMhC,IAAqBa,GAArB,cAAuDv6E,EAAAA,GAAvDC,c,oBAME,KAAAu4E,sBAAuB,CA2BzB,CAtBEgC,OAAOv/B,GACLz6C,KAAKM,MAAM,QAASm6C,EACtB,CAEIy8B,yBACF,OAAOl3E,KAAKyP,SAASC,gBAAgBlK,OAAS,CAChD,CAEIsyE,wBACF,OAAO93E,KAAKyP,SAASG,eAAepK,OAAS,CAC/C,CAEIuyE,0BACF,OAAO/3E,KAAKyP,SAASy4D,iBAAiB1iE,OAAS,CACjD,CAIAy0E,eAAe93E,IACiB,IAA1BrB,EAAAA,GAAAA,eACJo5E,GAAuBp5E,EAAAA,GAAAA,cAAAA,GAA0BqB,EACnD,IA5BAC,EAAAA,EAAAA,IAAAA,EAHCC,EAAAA,EAAAA,IAAK,CACJC,QAAS,aACT,8BAMFF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAmBYD,EAAAA,EAAAA,IAAAA,EAAlBG,EAAAA,EAAAA,IAAO,YAAU,+BA3BCw3E,IAAyB,UAR7Cv3E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVq4E,QAAO,GACPF,IAAG,GACH/uE,KAAI,IACJ4vE,WAAUA,OAGOa,I,YAmCrB,SAASG,GACP11E,EACArC,GAEA,MAAM1B,GAAUwJ,EAAAA,GAAAA,IAAS7B,EAAAA,GAAAA,SAAAA,KAA6B5D,GAEtD,IAAK/D,EAAS,OAEd,MAAMtB,EAAoBuB,EAAAA,GAAAA,QAAoBD,EAAQS,KAAKP,MACxDxB,kBAOGg7E,EAAgB,IACpBh7E,EACAgD,EACAi4E,GAAAA,IAGFhyE,EAAAA,GAAAA,yBAAuC,CACrC5D,UAAW/D,EAAQuE,GACnB7C,KAAMA,EACNtD,OAAO0C,EAAAA,GAAAA,GAAc44E,GACrBr2E,KAAM,CACJsF,cAAe,UAASoM,EAAAA,GAAAA,IACtB/U,EAAQS,KAAKP,SACV,KAAkBwB,OAG7B,CC3F2T,YCO3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAIc,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAe,WAAbI,EAAIkrD,KAAmB,CAACtrD,EAAG,eAAe,CAACQ,MAAM,CAAC,SAAWJ,EAAI2Q,SAAS,KAAO3Q,EAAIqD,QAASrD,EAAIkQ,QAAQxJ,OAAS,EAAG9G,EAAG,MAAM,CAAC0E,YAAY,qDAAqDF,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIu7E,WAAW,UAAU,IAAI,CAACv7E,EAAIM,GAAG,iBAAiBN,EAAIkH,MAAM,CAACtH,EAAG,MAAM,CAAC0E,YAAY,sCAAsC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,4CAA4ClE,MAAM,CAAC,eAAe,4BAA4BgE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIu7E,WAAW,SAAS,IAAI,CAACv7E,EAAIM,GAAG,uBAAuB,EACjqB,EACIE,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAMI,EAAI+F,GAAI/F,EAAIkQ,SAAS,SAASoC,EAAO8X,GAAG,OAAOxqB,EAAG,MAAM,CAACuF,IAAIilB,EAAE9lB,YAAY,0CAA0CF,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIw7E,YAAYlpE,EAAO,IAAI,CAACtS,EAAIM,GAAG,IAAIN,EAAIyH,GAAG6K,EAAOgL,OAAO,KAAK1d,EAAG,MAAM,CAACQ,MAAM,CAAC,IAAMkS,EAAOqoE,cAAclnB,QAAQ,IAAG,EAC1X,EACIjzD,GAAkB,GCGhB,SAAUi7E,GACdnpE,GAGGtQ,EAAAA,GAAAA,eACDA,EAAAA,GAAAA,cAAAA,KAAAA,OAAoCsQ,EAAOmoE,kBAE3CnxE,EAAAA,GAAAA,WAAyB,CAAEzE,YAAayN,EAAOmoE,mBAI/Cz4E,EAAAA,GAAAA,eACAA,EAAAA,GAAAA,cAAAA,KAAAA,OAAoCsQ,EAAOmoE,kBAE3CnxE,EAAAA,GAAAA,yBAAuC,CACrC5D,UAAW1D,EAAAA,GAAAA,cAAAA,GACXqB,KAAM,SACNtD,OAAO0C,EAAAA,GAAAA,GAAc6P,EAAOooE,sBAC5B11E,KAAM,CACJsF,cAAe,iBACbgI,EAAOgL,cACD5G,EAAAA,GAAAA,IAA4B1U,EAAAA,GAAAA,cAAAA,KAAAA,UAI5C,CCvBA,IAAqB05E,GAArB,cAAgDh7E,EAAAA,GAM9C86E,YAAYlpE,GACVmpE,GACEnpE,GAEFpR,KAAKM,MAAM,gBACb,IAPA8B,EAAAA,EAAAA,IAAAA,EAHCC,EAAAA,EAAAA,IAAK,CACJC,QAAS,MACT,+BAHiBk4E,IAAkB,SADtCh4E,EAAAA,IACoBg4E,I,YCP+R,MCQpT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCLhC,IAAqBC,GAArB,cAA8Cj7E,EAAAA,GAA9CC,c,oBAOE,KAAAuqD,KAA6B,QAc/B,CAZEqwB,WAAWK,GACT16E,KAAKgqD,KAAO0wB,CACd,CAEI1rE,cACF,OAAKlO,EAAAA,GAAAA,cAEEJ,EAAAA,GAAAA,mBAAAA,QAELi6E,GAAKA,EAAEpB,mBAAqBz4E,EAAAA,GAAAA,cAAAA,KAAAA,OAJK,EAMrC,IAlBAsB,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,4BAJYo4E,IAAgB,UANpCj4E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV06E,aAAY,cACZJ,mBAAkBA,OAGDC,I,YCd6R,MCQlT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCd1B,SAAUI,GACdprE,EACAqrE,EACAC,EACAh6E,GAEA,MAAMi6E,EAAmB,IAAIjmB,OAC3BgmB,EAAYjyE,OAAOiE,QAAQ,IAAK,KAChC,MAGIxJ,EAAW,CAAC8L,EAAkBlN,MAEhC64E,IACC,GAAG3rE,EAAQ+M,QAAQxO,MAAMotE,KACzB,GAAG3rE,EAAQ7O,OAAOoN,MAAMotE,KACxB,GAAG3rE,EAAQ40D,WAAWr2D,MAAMotE,OAK3BF,KAAqBG,EAAAA,GAAAA,IAAa94E,EAAMkN,EAAStO,IAcvD,MAAO,CACL2O,gBAAiBwrE,GACfzrE,EAASC,gBACTnM,EACA,UACAu3E,GAEFlrE,eAAgBsrE,GACdzrE,EAASG,eACTrM,EACA,SACAu3E,GAEF5S,iBAAkBgT,GAChBzrE,EAASy4D,iBACT3kE,EACA,WACAu3E,GAGN,CAEM,SAAUK,GACd1rE,EACAqrE,EACAC,EACAh6E,EACAoB,GAEA,MAAM64E,EAAmB,IAAIjmB,OAC3BgmB,EAAYjyE,OAAOiE,QAAQ,IAAK,KAChC,MAGIxJ,EAAW,CAAC8L,EAAkBlN,MAEhC64E,IACC,GAAG3rE,EAAQ+M,QAAQxO,MAAMotE,KACzB,GAAG3rE,EAAQ7O,OAAOoN,MAAMotE,KACxB,GAAG3rE,EAAQ40D,WAAWr2D,MAAMotE,OAK3BF,KAAqBG,EAAAA,GAAAA,IAAa94E,EAAMkN,EAAStO,IAcvD,OAAOm6E,GAAgBzrE,EAAUlM,EAAUpB,EAAM24E,EACnD,CAEA,SAASI,GACPzrE,EACAlM,EACApB,EACA24E,GAEA,MAAMM,GAAY75E,EAAAA,GAAAA,GAAckO,GAChC,OAAO2rE,EAAUx5E,QAAOyN,IACtB,MAAMgsE,EAAU93E,EAAS8L,EAAS,GAAGlN,KAAQkN,EAAQ7O,QACrD,MAA6B,YAAzB6O,EAAQ1P,QAAQgB,QACd06E,GAAYP,KAGhBzrE,EAAQjO,SAAW85E,GACjB7rE,EAAQjO,SACRmC,EACA,GAAGpB,KAAQkN,EAAQ7O,OACnBs6E,GAEKzrE,EAAQjO,SAASoE,OAAS,GAE5B61E,CAAO,GAElB,CAEO,MAAMC,GAAkB,CAAC7rE,EAAqBH,KACnDG,EAAS7D,SAAQyD,IACfC,EAAMgsE,GACJjsE,EAAQjO,SACRkO,GAAgC,YAAzBD,EAAQ1P,QAAQgB,KAAqB,EAAI,GACjD,IAEI2O,G,gBCrImC5Q,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAAqC,OAAM,QAAM,CAACA,YAAY,uCAA2ClE,CAAAA,EAAK,MAAC,C,YAAW,2C,MAAc,CAAoC,sBAAIR,MAAO,+B,CAAQ,MAAO,C,MAAO,CAAwB,YAAyB,sBAA0B,iBAAe,QAAK,0BAAIA,eAAU,Q,CAAQ,EAAG,OAAC,C,MAAkI,CAAyB,oIAAIA,eAAU,cAAQ,EAAG,OAAC,C,MAAyG,CAAyB,2GAAK,eAAYI,kBAAgF,EAAC,oD,YAAU,O,MAAC,CAAc,KAAO,GAAI,YAAG,MAAC,IAAwB,IAAIA,MAAO,gBAE55BQ,CAAAA,EAAAA,GAAAA,mBAAoB,EAExB,E,MCSA,IAAqBi8E,GAArB,cAAiD/7E,EAAAA,GAI/Cg8E,cACEx7E,KAAKM,MAAM,QACb,IAJA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,aAAY,6BADVi5E,IAAmB,UANvC/4E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV2C,SAAQ,KACRq0C,WAAUA,GAAAA,MAGOqkC,I,YCbgS,MCOrT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCwBhC,IAAqBE,GAArB,cAA6Cj8E,EAAAA,GAA7CC,c,oBAIE,KAAAi8E,eAAiC,CAC/BrE,cAAc,EACdG,iBAAiB,EACjBthE,MAAO,IA4DT,KAAAylE,kCAAoCA,GA8DpC,KAAAC,aAAe,EACjB,CAxHMn7E,cACF,OAAOK,EAAAA,GAAAA,aACT,CAEI0D,gBACF,OAAO1D,EAAAA,GAAAA,eACT,CAEAs2E,aACEp3E,KAAK67E,qBAAqB,CACxBxE,cAAc,EACdnhE,MAAO,GACPshE,iBAAiB,GAErB,CAEAqE,qBAAqBC,GACnB97E,KAAK07E,eAAiBI,CACxB,CAEI9E,0BACF,OAAOh3E,KAAK07E,eAAerE,cAAgBr3E,KAAK07E,eAAexlE,KACjE,CAEI+gE,sBACF,OACEqE,GAAgBt7E,KAAK+7E,+BAA+BrsE,gBAAiB,GACnE4rE,GAAgBt7E,KAAK+7E,+BAA+BnsE,eAAgB,GACpE0rE,GACEt7E,KAAK+7E,+BAA+B7T,iBACpC,KAEJ,CAEJ,CAEI6T,qCACF,MAAMtsE,EAAWzP,KAAK07E,eAAelE,gBACjC,CACE5nE,eAAgB,GAChBF,gBAAiB,GACjBw4D,iBAAkBloE,KAAKyP,SAASy4D,kBAElC,IACKloE,KAAKyP,SACRy4D,iBAAkB,IAGxB,OAAO2S,GACL76E,KAAK07E,eAAerE,aAAer3E,KAAKyP,SAAWA,EACnDzP,KAAK07E,eAAerE,aACpBr3E,KAAK07E,eAAexlE,MACpBlW,KAAK27E,kCAET,CAKIlsE,eAEF,MAAM9O,EAAOX,KAAKS,QAAQS,KAAKP,KACzB8O,EAAW/O,EAAAA,GAAAA,QAAoBC,GAAM8O,SAG3C,OAAOusE,EAAAA,GAAAA,GAAgCvsE,EAAU/O,EAAAA,GAAAA,WACnD,CAEIgP,sBACF,OAAO1P,KAAKyP,SAASC,eACvB,CAEIE,qBACF,OAAO5P,KAAKyP,SAASG,cACvB,CAEIs4D,uBACF,OAAOloE,KAAKyP,SAASy4D,gBACvB,CAEIgP,yBACF,OAAOl3E,KAAKyP,SAASC,gBAAgBlK,OAAS,CAChD,CAEIsyE,wBACF,OAAO93E,KAAKyP,SAASG,eAAepK,OAAS,CAC/C,CAEIuyE,0BACF,OAAO/3E,KAAKyP,SAASy4D,iBAAiB1iE,OAAS,CACjD,CAEIi1C,UACF,OACEz6C,KAAKwE,WACL1D,EAAAA,GAAAA,WAAAA,gCAAmDd,KAAKwE,WAEjD1D,EAAAA,GAAAA,WAAAA,gCAAmDd,KAAKwE,WAG7DxE,KAAKk3E,mBAA2B,UAChCl3E,KAAK83E,kBAA0B,SAC/B93E,KAAK+3E,oBAA4B,WAE9B,EACT,CAEApJ,UAAUl0B,GACHz6C,KAAKwE,WAEV1D,EAAAA,GAAAA,cAAsB,IACjBA,EAAAA,GAAAA,WACHm7E,gCAAiC,IAC5Bn7E,EAAAA,GAAAA,WAAAA,gCACH,CAACd,KAAKwE,WAAYi2C,IAGxB,IA7HAr4C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAkEPD,EAAAA,EAAAA,IAAAA,EADCstE,EAAAA,EAAAA,IAAQ,YAAU,yDAlEA+L,IAAe,UAVnCj5E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV06E,aAAY,cACZjD,UAAS,GACToC,0BAAyB,GACzBU,iBAAgB,GAChBnxE,KAAI,IACJiyE,oBAAmBA,OAGFE,I,YAoIfE,GAAyD,CAC7DO,gBAAkB3hD,IAChB,IAAKz5B,EAAAA,GAAAA,cAAuB,OAAO,EAEnC,MAAMua,EAAuB3a,EAAAA,GAAAA,QAC3BI,EAAAA,GAAAA,cAAAA,KAAAA,MACAua,qBAEF,IAAKA,EAAsB,OAAO,EAElC,MAAM8gE,GAA+Czd,EAAAA,GAAAA,IACnDnkC,GAKCxtB,QAAQ,IAAIjM,EAAAA,GAAAA,kBAAAA,KAAgC,IAEzCs7E,EAAoC/gE,EAAqB7N,MAC7DixD,IACEC,EAAAA,GAAAA,IAA4BD,EAAYt8D,QACxCg6E,IAGJ,QAAOC,GAAmCtX,SACtCsX,CACK,EAGX9C,gBAAiB/+C,GACR,IAAWz5B,EAAAA,GAAAA,cAAuB,mBAAmBy5B,KAE9D8hD,gBACEC,EACAj8E,EACAgP,EACAvL,GAEKhD,EAAAA,GAAAA,iBAELsH,EAAAA,GAAAA,0BACEm0E,EAAAA,GAAAA,IACE,CACE/3E,UAAW1D,EAAAA,GAAAA,gBACXqB,KAAMm6E,EACNz9E,MAAOwB,GAET,CACEgP,UACAmtE,aACEx8E,KAAKy8E,YACHH,IACG,IAETx4E,GAGN,EACA24E,YAAcliD,IACZ,IAAKz5B,EAAAA,GAAAA,cACH,OAGF,MAAM47E,GAAeC,EAAAA,GAAAA,IAAyCpiD,GAE9D,OAAImiD,GACKE,EAAAA,GAAAA,IACLl8E,EAAAA,GAAAA,QAAoBI,EAAAA,GAAAA,cAAAA,KAAAA,MACpB47E,EAAa1uE,aAHjB,CAOgB,EAElB6uE,kBAAmB,CAACv+D,EAAuBm2B,KACpC3zC,EAAAA,GAAAA,kBACLyd,EAAAA,GAAAA,IAAyBzd,EAAAA,GAAAA,gBAAyBwd,EAAem2B,EAAK,EAExEqoC,kBAAoBx+D,KACbxd,EAAAA,GAAAA,kBACEud,EAAAA,GAAAA,IAAyBvd,EAAAA,GAAAA,gBAAyBwd,IC9PoP,MCQjT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCHhC,IAAqBy+D,GAArB,cAAoDv9E,EAAAA,GAC9Ci3E,sBACF,QAAS31E,EAAAA,GAAAA,aACX,GAHmBi8E,IAAsB,UAP1Cv6E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVw2E,SAAQ,GACR+E,gBAAe,GACf1E,oBAAmBA,OAGFgG,I,YChBmS,MCOxT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClBYr+E,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAM,GAAC0E,EAAY,kBAAsB,OAAM,SAAeF,YAAG,wB,CAAC,gBAAYiqC,CAAK,IAAIruC,MAAO,UAAuG,CAACJ,EAAG,cAAS,8BAAC0E,YAAY,2CAAuF,CAACtE,EAAG,SAAI,CAA6BsE,YAAY,uFAAwCF,CAAE,EAAC,+B,YAASpE,wCAAqB,IAAIA,MAAO,sBAA2HktB,CAAAA,EAAAA,GAAAA,iBAAY,iD,YAAU,qCAAM,aAAIttB,OAAG,S,CAA8B,OAAkB,C,MAAC,CAAW,cAAQ,GAAgB,SAAI,MAAMA,qBAAgEstB,IAAAA,CAAAA,EAAY,O,YAAU,0C,YAAkB,CAAkB,cAAoB,YAAQ,iBAAgB,oBAAIltB,MAAO,mBAEv8BQ,CAAAA,EAAAA,GAAAA,wCAAoB,EAExB,E,MCJ2J,GAAK,W,IAAO8D,EAAAA,KAAiD,EAAM,EAAC45E,MAAAA,GAAwC,oB,OAAC,QAAW,C,YAAI,sC,CAEzP,QAAQl+E,C,YAA4B,sC,CAAM,iBAAe,iBAA6B,MAAC,CAAG,SAAC,IAAC,YAAY+4C,EAAAA,oBAAY,uDAAC,MAAS,EAAE/4C,a,WAA4D,E,eAAkGm+E,+B,GAA+D,C,MAAmGn+E,EAAIo+E,aAA0D,QAAE,GAASv3E,6BAAO,YAAC,OAAIA,EAAOhF,KAAKiG,QAAQ,QAAQ9H,EAAI+H,GAAGlB,EAAOmB,QAAQ,QAAO,GAACnB,EAAU,IAAE,SAAiB,KAAmBpB,EAAAA,sBAAgB,qB,EAAC,SAAW44E,GAAkC,OAAC,EAASx3E,KAAM,QAAC,iDAAKA,EAAM,oCAA6BA,MAAOmB,KAAQ,U,EAAuDnB,SAAOpB,GAAiB,SAAW44E,KAAAA,QAAAA,QAAAA,EAA0B,KAAO,8CAAC,mBAAC,oCAAG,EAACr+E,SAAUA,GAA0CsE,OAAAA,EAAY,KAAM,2EAAClE,EAAM,iBAAU,EAAG,kCAAC,MAAyC,0CAACgE,YAAG,O,MAAC,C,UAA6Bk6E,GAA+B,QAAC,4BAAwCl+E,GAAAA,CAAO,MAAQ,YAAM,6BAACmE,I,CAA4CE,EAAAA,GAAAA,cAAmBmpC,EAAK,M,MAAI,CAA6B,MAAC,OAAsC,OAAIhuC,MAAG,EAAQ,yBAAuGQ,SAAM,YAAC,2BAAQ,CAAG,EAAG,WAAC,6BAA8B,6FAAE,MAAME,CAAsCgE,MAAW,IAA4FC,GAAAA,CAAOxE,MAAOC,EAAIu+E,oB,GAAwDv+E,GAAIu+E,yBAAAA,EAA6B,MAAI,C,YAAC,6C,CAAC75E,EAAAA,GAAAA,uBAAW,QAA+B,OAAI,MAAI1E,EAAM,8BAAsCI,SAAM,YAAC,gCAAYo+E,CAA4B,EAAe,+CAAQz+E,GAAK,EAAEC,GAAIy+E,iBAAAA,EAAAA,gBAAwB,C,MAACh6E,C,MAA6Bg6E,EAAAA,4BAA2B,UAAC,IAAqC,OAAI7+E,MAAO,EAAEI,wBAA8CI,SAAM,YAAC,0BAAYo+E,CAA4B,EAAe,wCAAQz+E,EAAAA,MAAU,EAAC2+E,GAAAA,mBAA0B,mB,MAACj6E,C,MAA6Bi6E,EAAAA,4BAA6B,UAAC,IAAuC,OAAI9+E,MAAO,EAAEI,0BAA8CI,SAAM,YAAC,4BAAYo+E,CAA4B,EAAe,0CAAQz+E,EAAAA,MAAU,EAAC4+E,GAAAA,mBAA0B,mB,MAACl6E,C,MAA6Bk6E,EAAAA,4BAA6B,UAAC,IAAuC,OAAI/+E,MAAO,EAAEI,0BAAwDI,SAAM,YAAC,4BAAYo+E,CAA4B,EAAe,0CAAQz+E,EAAAA,MAAU,EAAC6+E,GAAAA,6BAAmC,mB,MAACn6E,C,MAA6Bm6E,EAAAA,4BAAsC,UAAC,IAAgD,OAAIh/E,MAAO,EAAG,mCAAmC0E,SAAW,SAAC,GAAyCtE,EAAI6+E,mCAA6BzO,CAA4C,EAAiBjrE,WAAIhF,wCAA6EC,EAAAA,OAAM,gC,YAAC,sC,CAAmD,kBAIhqF+E,EAAIxD,KAJ4pF,wC,OAAI,S,IAAC,G,GAA0B,yBAA0BxB,EAAM,4B,MAAA,CAAE,4C,GAAsBgF,CAAYC,OAAG,SAAU,GAAC,OAAO,EAAI,eAAM,E,eAAuD,KAAW,E,eAE3zG,W,MAAK,U,YAAW,mC,MAAkB,C,SAA2G,IAAsB,+EAAG,GAAEpF,CAA0C,qBAAO,4EAAM,mBAAK,IAAwB,GAAQJ,GAAG,IAAK,EAAC,mB,SAA2DI,G,mCAE9R,SAAU2B,C,YAAO,8CAAE,EAAC,qDAAE,OAAI,gBAAC,MAAM,MAAC,CAAY,QAAI,IAA4D2C,IAAAA,GAAgHtE,EAAkCsE,OAAW,IAAqDhE,MAAG,KAAkF,EAAS,MAAC,E,IAAkBqB,EAAQD,gBAAI,S,YAAO,iG,GAAC,mBAAuE,OAAtD,S,YAAC,+C,CAAqD,+DAAC,OAAE,gBAAG,IAAG,EAAO,KACvmB,OACGlB,QAAe,EAEnB,WAAiBA,EAAAA,6BAAe,I,oDCVyD,GAAU,W,IAAqB,EAAC,K,EAAC,EAAO,MAAC,GAAqB4iD,EAAAA,MAAS,Y,OAAI,iBAAC,IAAIpjD,MAAO,YAAwCuE,EAAM,SAACxE,I,GAA4CC,GAAIojD,yBAAU,Q,MAAC,CAAC1+C,MAAAA,EAAU,OAAS,qBAAM,EAAC,OAAU9E,CAAmM0E,EAA4BtE,WAAYowE,W,CAA8DjrE,EAAG,KAAC25E,CAAAA,EAAAA,KAAe,CAACC,EAAAA,GAAAA,gFAAa,+F,YAAY,gBAA4B,EAAEn/E,GAAG,EAAK,mBAAC,Y,OAAC0E,EAAAA,MAAY,CAAmB,IAAK,EAAK,cAACA,YAAY,4BAA0B,CAACtE,EAAG,MAAO,CAA0DsE,YAAY,oBAAYtE,CAAAA,EAAI+F,KAAI+4E,CAA4C,YAAU,0B,CAAO35E,EAAG,GAACxD,IAAQA,EAAAA,GAAO,mC,YAAY,YAAW,EAAE/B,GAAG,EAAM,sB,OAAC0E,EAAAA,MAAY,CAAgB,IAAK,EAAO,QAAiGA,YAAY,WAAgB,CAAC1E,EAAG,OAAWQ,YAAM,iB,CAAC,KAAM,IAACuB,EAAQi2C,GAAAA,EAAAA,SAAAA,OAAAA,EAAAA,MAAAA,EAAAA,mBAAAA,EAAAA,MAAAA,EAAAA,MAAAA,CAAI,4BAAI,GAAG,UAAS,CAAEtzC,MAAAA,CAA2BqD,KAAS,WAAiC,YAAG,YAAE,eAAG,SAAI,CAAO,UAAQ,iBAIryC,Q,oCCOA,IAAqBq3E,GAArB,cAA2Ct+E,EAAAA,GAA3CC,c,oBAKE,KAAAyiD,QAAS,CA2BX,CA/BE67B,mBAAmBz1E,GACjB,OAAOkwD,GAAAA,UAAAA,MAAemU,GAAYA,IAAarkE,GACjD,CAII4mE,wBACF,MAAMnpD,EAAWrkB,OAAOkhE,OAAOliE,EAAAA,GAAAA,UAE/B,OAAOA,EAAAA,GAAAA,yBAAAA,KACA6Z,IACI,CACLsjE,cAAetjE,EAAS6B,MACxB2J,SAAUA,EACPnkB,QAAOnB,IAAoC,IAAzBA,EAAQ0a,eAC1BvZ,QACCnB,IACGA,EAAQqa,gBAAkBra,EAAQqa,cAAckjE,aAEpDp8E,QAAOnB,GAAWA,EAAQ8Z,WAAaA,EAAS/Z,OAChDa,KAAIZ,IACI,CACLA,QAASA,EAAQ0H,KACjBuuC,KAAMj2C,EAAQ0F,WAGjB83E,MAAK,CAAC5jD,EAAG1tB,IAAM0tB,EAAE55B,QAAQy9E,cAAcvxE,EAAElM,eAG/CmB,QAAO6L,GAA2B,IAAtBA,EAAEsY,SAASvgB,QAC5B,GA/BmBs4E,IAAa,UAHjCt7E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEi+E,QAAOA,GAAAA,MAEFL,I,YCX0R,MCO/S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCehC,IAAqBM,GAArB,cAA0C5+E,EAAAA,GAA1CC,c,oBACE,KAAA4+E,oBAAsB,CAAC,EAAG,GAC1B,KAAAzC,aAAe,GACf,KAAA0C,2BAA6B,EA+K7B,KAAAC,yBAA0B,EAa1B,KAAAnB,0BAA2B,EAC3B,KAAAC,+BAAgC,EAChC,KAAAE,yBAAwE,EACxE,KAAAC,2BAEY,EACZ,KAAAC,2BAEY,EACZ,KAAAC,oCAEY,CAqBd,CAvNET,wBACE,MAAMz8E,EAAOR,KAAKw+E,kBAAkBx+E,KAAKs+E,6BAA6B99E,KAGnEA,IACAi+E,EAAAA,GAAAA,IACCz+E,KAAKw+E,kBAAkBx+E,KAAKs+E,8BAMhCl2E,EAAAA,GAAAA,WAAyB,CACvBzE,YAAanD,GAEjB,CAEIk+E,yBACF,OAAOh9E,OAAOC,KAAK3B,KAAKw+E,mBAAmBh5E,MAC7C,CAEA23E,0BAA0B1hB,EAAY,QACpC,IAAIkjB,EACY,SAAdljB,EACIz7D,KAAKs+E,2BAA6B,EAClCt+E,KAAKs+E,2BAA6B,EAEpCK,IAAc3+E,KAAK0+E,mBACrBC,EAAY,GACF,IAAMA,IAChBA,EAAY3+E,KAAK0+E,mBAAqB,GAGxC1+E,KAAKs+E,2BAA6BK,EAClC3+E,KAAK4+E,gBACP,CAEA1B,oCAAoClrE,GACR,KAAtBhS,KAAK47E,cACP5pE,EAAMzN,iBAGRvE,KAAKm9E,0BAA0BnrE,EAAM6sE,SAAW,OAAS,OAC3D,CAEAhnC,aAAainC,GAEP9+E,KAAK47E,eAAiBkD,GACxBzsE,SAASoN,cAAc,0BAA0Bs/D,SAAS,CAAExoE,IAAK,IAGnEvW,KAAK47E,aAAekD,CACtB,CAEI9B,qBACF,MAAoC,QAA7Bh9E,KAAKg/E,cAAc50E,KAC5B,CAGA60E,4BACMj/E,KAAKg9E,gBACPh9E,KAAK63C,aAAa,GAEtB,CAEAqnC,6BAA6BltE,GAC3B,MAAMmtE,EAAa,CACjB,QACA,MACA,YACA,aACA,UACA,aAGGA,EAAW5zE,SAASyG,EAAMqnB,QAC7Br5B,KAAKs+E,2BAA6B,EAEtC,CAEIc,oBACF,OAAOp/E,KAAK+lB,SAASvgB,MACvB,CAEA65E,eAAeC,GACbt/E,KAAK47E,aAAe,GAEpB,MAAM2D,EAAwBv/E,KAAKq+E,oBAAoBh4C,WACrDnd,GAAKA,IAAMo2D,KAGkB,IAA3BC,EACFv/E,KAAKq+E,oBAAsB,IAAIr+E,KAAKq+E,oBAAqBiB,GAEzDt/E,KAAKq+E,oBAAoBphC,OAAOsiC,EAAuB,EAE3D,CAEAC,yBAAyBC,GACvB,OAAOz/E,KAAK+lB,SAASnkB,QAAOnB,GAAWA,EAAQ8Z,WAAaklE,GAC9D,CAEIvQ,wBACF,OAAOxuE,EAAAA,GAAAA,wBACT,CAEIqlB,eACF,OAAQrkB,OAAOkhE,OAAOliE,EAAAA,GAAAA,UACnBkB,QAAOnB,KACNK,EAAAA,GAAAA,SAAAA,2BAE6B,IAAzBL,EAAQ0a,eAEbvZ,QACCnB,KAAYi/E,EAAAA,GAAAA,IAAgBj/E,EAAQqa,cAAera,EAAQoD,YAE5DjC,QAAOnB,IAAWg+E,EAAAA,GAAAA,IAAmBh+E,KACrCw9E,MAAK,CAAC5jD,EAAG1tB,IACJ0tB,EAAEjf,MAAQzO,EAAEyO,OAAe,EAC3Bif,EAAEjf,MAAQzO,EAAEyO,MAAc,EACvB,GAEb,CAEIojE,wBACF,MAAMmB,GAAUC,EAAAA,GAAAA,IAAyB5/E,KAAK+lB,SAAU/lB,KAAK47E,cAEvDiE,EAAiCF,EAAQ/9E,QAAO0C,IACpD,MAAMw7E,EAAKx7E,EAAEiX,kBAAoBjX,EAAEiX,uBAAoB7V,EAEvD,OAAQhE,OAAOkhE,OAAO,CACpBmd,UAAW//E,KAAKu9E,wBACZuC,GAAIC,WAAa//E,KAAKu9E,6BACtB73E,EACJs6E,YAAahgF,KAAKw9E,0BACdsC,GAAIE,aAAehgF,KAAKw9E,+BACxB93E,EACJu6E,YAAajgF,KAAKy9E,0BACdqC,GAAIG,aAAejgF,KAAKy9E,+BACxB/3E,EACJw6E,qBAAsBlgF,KAAK09E,mCACvBoC,GAAII,sBAAwBlgF,KAAK09E,wCACjCh4E,EACJy6E,gBAAiBngF,KAAKq9E,8BAClB/4E,EAAEuW,cAAgBvW,EAAEyW,aACpBrV,IACH6F,UAAS,EAAM,IAGpB,OAAOs0E,CACT,CAEAjB,kBACE71E,EAAAA,GAAAA,IAAc,KACZsJ,SACGoN,cAAc,6CACb2gE,eAAe,CACfC,MAAO,UACP,GAER,CAEAC,oBACErtE,QAAQstE,IAAIvgF,KAAKw+E,kBAAkBn9E,KAAIiD,GAAKA,EAAE6D,OAAM8E,KAAK,MAC3D,CAEIqwE,kCACF,MAAO,CAAC,MAAO,KAAM,UAAW,UAClC,CAIAz+C,UACEoX,GAAAA,GAAAA,SACE,SACA,IAAOj2C,KAAKu+E,yBAA0B,GAE1C,CAEAjjD,gBACE2a,GAAAA,GAAAA,OAAyB,QAC3B,CAeI0nC,sBACF,SACE39E,KAAK47E,cACL57E,KAAKu9E,yBACLv9E,KAAKw9E,2BACLx9E,KAAKy9E,2BACLz9E,KAAK09E,oCACL19E,KAAKq9E,8BAET,CAEAmD,0BAA0Bv8E,EAAapF,GAErCmB,KAAKiE,GAAOpF,CACd,CAEI4hF,0BACF,OAAO3/E,EAAAA,GAAAA,WAAAA,iBACT,IAxNAsB,EAAAA,EAAAA,IAAAA,EADCG,EAAAA,EAAAA,IAAO,CAAEorB,KAAM,eAAgBrrB,QAAS,CAAC,KAAI,qCA8D9CF,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,mBAAiB,+CAlELyzE,IAAY,UAVhC57E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVwgF,YAAW,KACX/9E,UAAS,KACTG,UAAS,KACT69E,WAAU,KACVtkC,cAAa,KACbyhC,cAAaA,OAGIM,I,YCjCyR,MCQ9S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,mBCnB+El/E,GAAM,W,IAAC,O,EAA4B,EAAO,MAAK,GAA0B,QAAgB,Y,OAAwB,QAACmE,MAAM,CAACxE,WAAWqjD,EAAO,WAAC3+C,MAAS,aAAe,U,gBAAYmpC,yB,MAAKlpC,CAAmB,eAAI9E,SAAG,SAAS,GAAC0E,EAAAA,OAAY,CAA0B1E,EAAqCQ,WAAM,W,CAAoB,WAAW,C,YAAS,yBAAU,oCAACgE,MAAG,CAAC,KAAO,YAAW,UAAI,MAAO,W,GAAwB,CAAmB,mBAAuBxE,GAAG,mBAA0BQ,MAAM,CAAC,eAAYJ,EAAc,oB,CAAQD,EAAAA,yBAA4B,C,MAAC0E,C,UAA6Bq9E,EAAAA,W,MAAsBp9E,CAA6B,yBAAI,SAAO,YAAiBJ,EAAAA,iBAAY,CAAoDlE,EAAO,kCAAsC,sBAAE,YAAK,oDAAwBmE,MAAM,CAACxE,eAAWm4C,EAAYzzC,gBAAS,I,CAAkC,EAAC,wB,MAACC,CAAuB,mBAAI,SAAO,YAAiBJ,EAAAA,WAAY,CAAelE,EAAO,4BAAuBR,GAAG,kBAAa,CAACQ,YAAM,e,MAAC,CAA6B,gBAAY,IAA8C,iBAACgE,MAAG,CAAC,UAAY29E,EAAAA,aAAS,8BAAI/hF,QAAO,iB,GAAmE,CAE3uC,MAAO,EAAI,YAAkC,gEAACoE,MAAG,CAAC,KAAO,EAAI,WAAC49E,6BAAAA,+BAAgB,UAAKhiF,MAAIiiF,0B,GAA4B,CAAuB,MAAQ,EAAC,oBAAYriF,EAAG,YAAa,OAACQ,MAAM,CAAC,KAAO,cAAsB,OAAO,WAAyB,iBAAG,MAAI,CAAkCA,KAAM,sBAAC,UAAkB,uBAAqBA,GAAM,8B,MAAC,CAAmB,eAAW,IAAuB,iBAACgE,MAAG,CAAC,KAAO,YAAU,UAAI,MAAO,eAAiD,GAAI,CAAyBhE,MAAM,YAA0B,gBAACgE,YAAG,2B,CAAC,yBAAa89E,CAAc,OAAItiF,MAAQ,EAAC,cAAqB0E,GAAAA,CAA+CtE,OAAImiF,EAAAA,kBAA+GviF,EAAG,MAAM,CAAW0E,IAAAA,gBAA0D,YAC/1B89E,iCACQ99E,CAAAA,EAAAA,wBAAY,gBAA6B,UAAClE,YAAM,0C,CAAC,QAAO,UAAiB,2DAAG,CAACJ,EAAIM,oCAAG,wBAA+D,CAAC,EAAC,OAAM8hF,CAA+C99E,YAAY,8BAA8BlE,MAAM,CAAC,KAAO,qBAA+BR,EAAG,qEAAe,oCAA8F,CAACA,EAAG,OAAOI,CAA4HoE,YAAG,8B,MAAC,CAA4C,oCAAwFE,EAAAA,OAAY,uOAA8C,GAAGtE,CAAkEI,MAAM,qC,CAA0B,KAAM,+BAAC,yCAAE,2DAAI,GAAG,8BAAoB,6BAAmIkE,MAAAA,CAAmBlE,MAAM,iBAAC,KAAO,OAAM,GAAC,8I,YAASJ,OAAoC,OAAIA,KAAO,I,GAAiC,CAAU,MAAQ,qCAAQoE,CAAE,EAAC,yB,MAAC,CAAgC,QAAIpE,MAAO,Q,GAA2F,C,MACxxC,EAAE,uB,CAGX,oFAAC,OAAKA,QAAIqiF,CAAkD/9E,QAAY,iBAA8B,QAAK,2GAA2KA,EAAAA,mBAAY,yBAAgC,YAAY,2BAACA,CAAAA,EAAAA,IAAAA,CAA2CF,YAAG,oC,CAAC,6GAAyB,S,YAAQqB,iC,GAAiB,OAAOzF,C,YAAsC,+BAAC,IAAIJ,OAAG,SAAY,GAAQ,OAAPQ,EAAM,iBAAC,EAAa,YAAC,qBAAiB,I,CAAQL,EAAAA,YAAWuiF,C,MAAU79E,C,YAAqC,kB,MAAMC,CAAqB,iBAAI9E,SAAG,SAAa,GAACQ,EAAM,UAAC,EAA8B,yBAA+EkE,EAAAA,aAAY,CAA2C,MAAMhE,CAAqEF,QAAM,qB,CAAmB,KAAM,aAAK0hF,IAAAA,EAAkBruB,eAAG,yB,YAAU,4C,CAAS,gDAAc,iB,MAAC,CAAa,gBAAIzzD,KAAO,oBAAuB,IAAcsE,OAAW,SAAuCiC,UAAWitC,GAAwBxzC,SAAI8hF,KAA6Dx9E,CAAAA,EAAAA,GAAAA,wBAAY,GAAuB,SAACiC,YAAWg8E,sCAAcniF,MAAM,uB,CAAC,oBAAUszC,EAAAA,UAAAA,EAAAA,SAAAA,CAAS,IAAC,SAACtvC,YAAG,wB,MAAC,EAAOpE,aAAoB,OAAG,IAAO,EAAI,W,GAA4C,CAAoB,OAAW,oBAAMJ,EAAG,uBAAsB,QAACQ,MAAM,CAAC,gBAAmB,SAAO,KAAQ,GAAG,KAAgBoiF,CACl+C,OACGhiF,cAAkB,GAEtB,KAAS2D,S,0HCZLA,GAAS,WAAkB,IAAInE,EAAIkB,KAAQlB,EAAIH,MAAMD,GAAG,OAAOI,EAAIitB,GAAG,EAC1E,EACIzsB,GAAkB,CAAC,WAAY,IAAIR,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAAC0E,YAAY,kCAAkC,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,kCAAkC,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,iCAAiC1E,EAAG,OAAO,CAAC0E,YAAY,iCAAiC1E,EAAG,OAAO,CAAC0E,YAAY,mCAAmC1E,EAAG,OAAO,CAAC0E,YAAY,gCAAgC,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,iCAAiC1E,EAAG,OAAO,CAAC0E,YAAY,mCAAmC1E,EAAG,MAAM,CAAC0E,YAAY,kCAAkC,CAAC1E,EAAG,OAAO,CAAC0E,YAAY,iCAAiC1E,EAAG,OAAO,CAAC0E,YAAY,oCACtpB,GCmBA,IAGAm+E,IADA/+E,EAAAA,EAAAA,IAAAA,GAAAA,cACA++E,EAAAA,OAAAA,GCzBuR,YCQvR,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCNnBC,GAAiBz7D,IAC5B,MAAMlR,GAAWxG,EAAAA,GAAAA,KACXyG,EAAiB,WAAWD,IAElCG,GAAAA,EAAAA,aACE,KACE+Q,EAASna,SAAQ6I,IACf,MAAMC,GAAaC,EAAAA,GAAAA,GACjBvM,GAAAA,GAAAA,SAAAA,KACA,MACAwM,EAAAA,GAAAA,IAAuBH,KAGzBlG,EAAAA,GAAAA,IACEmG,GACAjG,EAAAA,GAAAA,KACE,SACAsG,IACE,GAAwB,cAApBA,EAAiC,OAErC,MAAME,EAA+C,CACnDvM,YAAQhD,GAGV0C,GAAAA,GAAAA,2BAAyC,CACvC3H,QAASgU,EACTY,aAAcN,EAAgBU,MAAMzQ,GACpCsQ,gBACEP,EAAgB9V,OAChB8V,EAAgBU,MAAMrU,SAASoE,OACjC4P,QAASH,IAGPA,EAAwBvM,QAC1B6M,GAAAA,EAAAA,IAAAA,iBAA4C,CAC1C/Q,UAAWyQ,EAAwBvM,OACnCoM,kB,IAKT,GACD,GAEJ,6BACAA,EACD,EAGG,SAAU2sE,KACd,MAAMC,GAAmBhuE,EAAAA,GAAAA,GACvB,wCAEF,MAAgC,kBAArBguE,GACFA,CAIX,CAEM,SAAUC,GAA6BC,IAC3CvuE,EAAAA,GAAAA,GAAoB,uCAAwCuuE,EAC9D,C,4BC3E4CljF,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,MAAO,GAAE0E,EAAY,kBAAwB,OAAM,UAAS,CAACA,YAAY,0BAAiC,CAAC1E,EAAG,UAAeQ,YAAM,iC,CAAC,gBAAc,C,MAAe,CAAiB,2BAACmE,WAAM,G,MAAyBE,C,MAA6Bw3E,EAAAA,YAAe,SAAC,YAACv3E,EAAAA,YAAW,CAAa,EAAI,WAAO,kBAAqB,UAAc,C,MAAC,CAAiB,aAAmB,YAAYq+E,GAAU,gBAAgB,GAAa,kBAAG,aAAC,e,GAAkC,CAAkC,4BAAE,0BAAC7iF,G,YAAsC,EAAS,K,IAAEqmB,U,GAAMovB,UAAAA,KAAM,EAAC,KAAC,I,MAA0C,GAAOA,SAAO,SAAgB,CAAe,OAAG,KAAO,EAAG,iCAAG,OAAI,QAElvBn1C,EAEJ,E,kBCQA,IAAqBwiF,GAArB,cAAkDtiF,EAAAA,GAAlDC,c,oBAQE,KAAAs7E,YAAc,EAyChB,CAvCMgH,oBACF,MAAM/8D,EAAShlB,KAAK+6E,YAEpB,IAAK/1D,EAAQ,OAAOhlB,KAAK4wD,MAEzB,MAAMoxB,EAAO,IAAIC,GAAAA,EAAKjiF,KAAK4wD,MAAO,CAChCjvD,KAAM,CAAC,QACPugF,UAAW,KAGb,OAAOF,EAAKh9D,OAAOA,EAAOlc,QAAQzH,KAAIkL,GAAKA,EAAE8Y,MAC/C,CAEIw8D,gBACF,MAAMM,EAA2B,GAE3BC,EAAgBpiF,KAAK+hF,cAAcp8C,QAAO,CAACp5B,EAAG8tB,KAC7CA,EAAEtJ,KAAKvrB,OAGV60B,EAAEtJ,KAAKnlB,SAAQuO,IACb5N,EAAE4N,GAAO5N,EAAE4N,IAAQ,GACnB5N,EAAE4N,GAAKrO,KAAKuuB,EAAE,IAJhB8nD,EAAQr2E,KAAKuuB,GAQR9tB,IACN7K,OAAO2gF,OAAO,OAEXtxD,EAAOrvB,OAAOC,KAAKygF,GAAe/gF,KAAI4C,IACnC,CACLe,GAAIf,EACJkE,KAAMlE,EACN7C,SAAUghF,EAAcn+E,OAI5B,MAAO,IAAIk+E,KAAYpxD,EACzB,IA1CA3uB,EAAAA,EAAAA,IAAAA,EALCC,EAAAA,EAAAA,IAAK,CACJC,UACE,MAAO,EACT,KACA,6BALiBw/E,IAAoB,UAHxCt/E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEokD,SAAQ,KAAEo8B,YAAW,KAAEp3E,KAAIA,EAAAA,MAEtBw4E,I,YCZ6S,MCQlU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,+BCnBsF,W,IAAc,OAA8B,EAAC,WAAC9iF,EAAYF,MAAM,Y,OAAM,EAAC,WAAW,C,MAAI,C,WAAWoE,GAAG,0BAAE,G,YAA0BE,EAAW,GAAC,E,IAAoBF,Y,GAAeE,UAAAA,GAAmC,IAAyE,MAAM,CAAChE,EAAG,MAAIN,EAAIyH,GAAGzH,CAAgDsE,YAAY,oBAAkC,GAAI,SAAO,CAAClE,YAAM,yB,CAAC,OAAO,GAAI,6B,YAAQ,iBAAe,wDAAG,YAAO,6CAAI,OAAO,UAAM,KAAMu1C,oBAAmCA,KAAQ,KAAmB,OAAI/1C,MAAG,EAAQ,KAAE0E,SAAW,SAAC,GAA8BlE,EAAM,MAAC,EAAc,WAAS,SAAQ,CAACR,EAAG,KAAM,CAAC0E,YAAY,8BAAqD,MAAK,CAAgBA,MAAW,MAAoElE,OAAM,Q,CAAqB,S,YAAwB,sD,CAAC,OAAS,C,YAAW,mE,MAAC,CAAgB,kBAAiB,aAAoC,QAAe,QAACmE,MAAM,GAACxE,aAAWmmB,GAAQzhB,cAAS,G,mBAA8B,2BAAC,IAAoB,OAAI,MAAM,EAAC,OAAUiD,SAAI,SAAY,GAACpD,EAAAA,OAAY,CAAiBlE,EAAO,WAAQ,aAAMJ,GAAI+F,EAAI/F,GAAAA,EAAIwjF,CAAwC,iB,YAA+B,iB,MAAM,C,MACl0C,K,CAEApjF,EAAAA,GAAM,mC,MAAC,GAAM,KAAC,CAAE,IAAC,EAACgE,MAAG,CAAC,iCAAwB,8B,MAAoC,CAAC,SAA4BE,GAAAA,CAA2C1E,MAAQ,SAAC,GAAC0E,OAAW,EAAC,iBAA6EtE,IAAuG,CAACA,EAAG,MAAc,CAAyC,YAAW,8BACrb,UACGQ,YAAe,4EAEnB,GAAS2D,GAAM,IAAE3D,EAAAA,GAAAA,EAAe,6B,uGCQhC,IAAqBijF,GAArB,cAAoD/iF,EAAAA,GAApDC,c,oBAOE,KAAAg1C,MAAO,EACP,KAAAzvB,OAAS,EAuBX,CApBEw9D,iBACE,MAAMC,EAAaziF,KAAKgJ,MAAMy5E,WAI9BziF,KAAK4xB,WAAU,KACb6wD,EAAW3wC,IAAI4wC,UAAY,CAAC,GAEhC,CAEIJ,wBACF,OAAOtiF,KAAKs8D,UAAU16D,QAAO+gF,GAC3BA,EAASx6E,KAAKklB,cAAc9hB,SAASvL,KAAKglB,OAAOqI,gBAErD,CAEAu1D,eAAeD,GACb3iF,KAAKM,MAAM,QAASqiF,GACpB3iF,KAAKy0C,MAAO,CACd,IA5BAryC,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,8BAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,kCAOPD,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,WAAS,oCAVG43E,IAAsB,UAP1C//E,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVoJ,KAAI,IACJzG,SAAQ,KACR00C,cAAaA,OAGIgrC,I,YCf+S,MCOpU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QC2ChC,IAAqBM,GAArB,cAAgDrjF,EAAAA,GAAhDC,c,oBACE,KAAAmhF,iBAA0C,KAC1C,KAAAkC,eAAgC,KAChC,KAAAC,iBAA+B,GAC/B,KAAA9B,wBAAkE,EAClE,KAAA+B,cAAiC,GACjC,KAAAC,eAAgB,EAEhB,KAAA7B,SAAW,GACX,KAAAD,kBAAmB,EACnB,KAAA+B,eAAgB,EAChB,KAAAC,iBAAkB,EAClB,KAAAC,kBAAmB,EAEnB,KAAApsC,WAAa,CACXhyC,GAAIs+B,GAAAA,GACJlnB,MAAO,GACP82B,cAAUxtC,EACVo2C,cAAUp2C,EACV+oC,oBAAqB40C,GAAAA,IAGvB,KAAAC,WAAa,CACXr7E,MAAO,EACPyyB,OAAQ,GAGV,KAAA6oD,SAAU,EACV,KAAAjC,eAAgB,EAChB,KAAAkC,YAAa,EACb,KAAAC,sBAAuB,EAEvB,KAAAC,+BAAgC,EAChC,KAAAC,4BAA6B,CAmd/B,CAjdE9kD,UACO/9B,GAAAA,GAAAA,gBACLm1C,GAAAA,GAAAA,SAA2BC,GAAAA,EAAAA,MAA0Bl2C,KAAKy0C,MAC1Dz0C,KAAK4jF,wCACP,CAEAtoD,gBACE2a,GAAAA,GAAAA,OAAyBC,GAAAA,EAAAA,OAEzBl2C,KAAK6jF,iBACP,CAEIvnB,gBACF,OAAO57D,GAAAA,GAAAA,cAAAA,eACT,CAEAkjF,wCACE,MAAMhC,EAAcH,KACdqC,EAAgB9jF,KAAKs8D,UAAU9uD,MACnCm1E,GAAYA,EAASpwB,MAAQqvB,IAG/B,GAAIkC,EACF9jF,KAAK4gF,iBAAmBkD,MACnB,CACL,MAAMC,EAAkB/jF,KAAKs8D,UAAU9uD,MACrCm1E,GAA8B,iBAAlBA,EAASx6E,OAGnB47E,IACF/jF,KAAK4gF,iBAAmBmD,E,CAG9B,CAEIC,mBACF,OAAOhkF,KAAKgjF,aACd,CAEI9gC,aACF,OAAOphD,GAAAA,GAAAA,WAAAA,sBACT,CAEIohD,WAAOlwC,GACTlR,GAAAA,GAAAA,2BAAmCkR,EACrC,CAEIiyE,mBACF,OAAOjkF,KAAKgjF,cAAcx1E,MAAK02E,GAAQA,EAAKl/E,KAAOhF,KAAK8iF,gBAC1D,CAEI/B,kBACF,OAAO/gF,KAAKikF,cAAc1xB,KAAOvyD,KAAK4gF,kBAAkBruB,GAC1D,CAEI/f,gBACF,IAAKxyC,KAAK+gF,YAAa,OAAO,KAE9B,MAAMvuC,EAAY,IAAI3tB,IAAI7kB,KAAK+gF,aAO/B,OANAvuC,EAAU1tB,aAAa7W,OAAO,aAAc,kBAExCjO,KAAKmkF,yBACP3xC,EAAU1tB,aAAaC,IAAI,WAAY/kB,KAAKmkF,yBAGvC3xC,EAAUl+B,UACnB,CAEIo6B,mBACF,OAAI1uC,KAAKg3C,WAAWhyC,KAAOs+B,GAAAA,GAA2B,OAC/CtjC,KAAKg3C,WAAWvI,mBACzB,CAEIyE,eACF,OAAOgB,EAAAA,GAAAA,IAAgB7iC,GAAAA,GACzB,CAEIihC,0BACF,MAAO,CACLrqC,MAA6B,SAAtBjI,KAAK0uC,aAA0B,OAAS,GAAG1uC,KAAK0uC,iBAE3D,CAEI2yC,mBACF,MAAMruC,EAAgB/qC,IACpB,MAAMgrC,EAAclb,KAAK+O,IAAI,EAAG9mC,KAAKsjF,WAAWr7E,MAAQA,GACxD,MAAO,CACLA,MAAO,GAAGA,MACVhH,UAAW,SAASgyC,KACpBvY,OAAW16B,KAAKsjF,WAAW5oD,QAAU,EAAIuY,GAAjC,KACT,EAGH,MAA0B,SAAtBjzC,KAAK0uC,aACH1uC,KAAKsjF,WAAWr7E,MAAQjI,KAAKkzC,SACxBF,EAAahzC,KAAKkzC,UAElB,CACLjrC,MAAO,OACPirC,SAAU,GAAGlzC,KAAKkzC,cAIfF,EAAahzC,KAAK0uC,aAE7B,CAEI01C,mBACF,OAAOpkF,KAAK+iF,iBAAiBv9E,MAC/B,CAEI07E,wCACF,OAAOxgF,GAAAA,GAAAA,cAAAA,iCACT,CAEIyjF,8BACF,MAAM5xB,EAAM,IAAI1tC,IAAI7kB,KAAK4gF,kBAAkBruB,KAAO,IAClD,OAAOA,EAAIztC,aAAau/D,IAAI,WAC9B,CAGAC,eACMtkF,KAAKkiD,OACPliD,KAAKukF,cAELvkF,KAAK6jF,iBAET,CAGAW,iBACEC,EACAC,GAGA1kF,KAAK+iF,iBAAmB,GACxB/iF,KAAK8iF,eAAiB,KACtB9iF,KAAKgjF,cAAgB,GACrBhjF,KAAKihF,wBAAyB,EAC9BjhF,KAAKmhF,kBAAmB,EACxBnhF,KAAKmjF,iBAAkB,EACvBnjF,KAAKohF,SAAW,GAEhBphF,KAAK2kF,mBAEDF,EAAYlyB,MAAQmyB,GAAanyB,MACnCvyD,KAAKshF,eAAgB,EAEzB,CAEAiD,cACOvkF,KAAK4gF,mBACR5gF,KAAK4gF,iBAAmB5gF,KAAKs8D,UAAU,IAIzCt8D,KAAK4kF,+BAEL1yE,OAAOwmB,iBAAiB,UAAW14B,KAAK6kF,qBAAqB,GAC7D3yE,OAAOwmB,iBAAiB,SAAU14B,KAAK8kF,cACzC,CAEAC,mCACE/kF,KAAK2jF,4BAA8B3jF,KAAK2jF,0BAC1C,CAEAE,kBACE3xE,OAAO2mB,oBAAoB,UAAW74B,KAAK6kF,qBAAqB,GAChE3yE,OAAO2mB,oBAAoB,SAAU74B,KAAK8kF,cAC5C,CAEAF,+BACE,MAAMI,EAAqB,IAC3B55D,YAAW,IAAMprB,KAAK8kF,iBAAiBE,EACzC,CAEAF,gBACE,MAAMG,EAAUjlF,KAAKgJ,MAAMuqC,cAC3B,IAAK0xC,EAAS,OAEd,MAAM,MAAEh9E,EAAK,OAAEyyB,GAAWuqD,EAAQv8C,wBAClC1oC,KAAKsjF,WAAa,CAAEr7E,QAAOyyB,SAC7B,CAEA3S,eACE,MAAMsgB,EAASroC,KAAKgJ,MAAMq/B,OAIrBA,GAMLA,EAAO/a,KAAO,GACdttB,KAAKujF,SAAU,GANbvjF,KAAK4gF,iBAAmB5gF,KAAKs8D,UAAU,EAO3C,CAEA4oB,SACEllF,KAAK8iF,eAAiB,KACtB9iF,KAAK+nB,cACP,CAEA+4D,mBACE9gF,KAAKwjF,YAAcxjF,KAAKwjF,WACxBxjF,KAAK4kF,8BACP,CAEAC,oBAAoB7yE,GAClB,GAA0B,kBAAfA,EAAM9Q,KAAmB,OAEpC,MAAOiH,EAAMjH,GAAQ8Q,EAAM9Q,KAAK8L,MAAM,UAEzB,0BAAT7E,GACFnI,KAAKmlF,YAAYjkF,GAGN,4BAATiH,GACFnI,KAAKolF,cAAclkF,GAGR,0BAATiH,GACFnI,KAAKqlF,eAET,CAEArE,eAAesE,GACb,MAAOC,GAAcD,EACrBtlF,KAAKujF,SAAU,EACfvjF,KAAK8iF,eAAiByC,GAAc,KACpCvlF,KAAK+nB,cACP,CAEAy9D,mBACExlF,KAAKshF,eAAgB,EACrBthF,KAAKujF,SAAU,EACfvjF,KAAK8kF,eACP,CAEAK,YAAYM,GACVzlF,KAAKujF,SAAU,EAEf,MAAMmC,GAAgB3xE,EAAAA,GAAAA,GACpB0xE,EACA52E,EAAAA,GAAQK,GAAAA,KAGVlP,KAAK+iF,kBAAmBx0E,EAAAA,GAAAA,IACtBm3E,GACAj3E,EAAAA,GAAAA,KACE,IAAM,KACNk3E,GAAOA,IAGb,CAEAN,gBACErlF,KAAKujF,SAAU,CACjB,CAEA6B,cAAcQ,GACZ,MAAMC,GAAe9xE,EAAAA,GAAAA,GAAoB6xE,EAAiB12E,GAAAA,IAEpDzO,GAAU8N,EAAAA,GAAAA,IACds3E,GACAp3E,EAAAA,GAAAA,KACE,IAAM,OACN8oB,GAAMA,KAIL92B,IAELT,KAAK8lF,eAAe,CAACrlF,IACrBT,KAAKmtC,QAELntC,KAAK4xB,WAAU,MACbm0D,EAAAA,GAAAA,KAA2B,IAE/B,CAEAD,eAAe//D,GACby7D,GAAcz7D,GACV/lB,KAAK4gF,kBACPe,GAA6B3hF,KAAK4gF,iBAAiBruB,IAEvD,CAEAsuB,YACE7gF,KAAKijF,eAAgB,EACrBjjF,KAAK8lF,eAAe9lF,KAAK+iF,kBAEzB/iF,KAAKmtC,QACLntC,KAAKijF,eAAgB,EAErBjjF,KAAK4xB,WAAU,MACbm0D,EAAAA,GAAAA,KAA2B,GAE/B,CAEA54C,QACErsC,GAAAA,GAAAA,4BAAmC,EACrC,CAEA2zC,OACE3zC,GAAAA,GAAAA,4BAAmC,EACrC,CAEAuD,yBACE,MAAMkuD,EAAMvyD,KAAK4gF,kBAAkBruB,IACnCvyD,KAAKyjF,sBAAuB,GAE5Bl1E,EAAAA,GAAAA,UACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQrY,KAAK4gF,kBAAkBoF,QAC3B,kCACA,qCACJxtE,QAASytE,GAAAA,GACTp9E,aAAc,kBACdyP,WAAY,CAAEi6C,UAEhB9jD,EAAAA,GAAAA,KACE,KACEzO,KAAKgjF,cAAgB,EAAE,IAEzBkD,IACElmF,KAAKgjF,cAAgBkD,EAAcZ,MACnCtlF,KAAKmhF,iBAAmB+E,EAAc/E,mBAAoB,EAC1DnhF,KAAKkjF,gBAAkBgD,EAAchD,cACrCljF,KAAKihF,wBAAyBjhF,KAAK4gF,kBAAkBoF,SAEjDE,EAAcjF,sBAAsB,KAK9CjhF,KAAKyjF,sBAAuB,CAC9B,CAEAp/E,6BACE,GAAIrE,KAAK4gF,kBAAkBoF,QACzB,OAGFhmF,KAAK0jF,+BAAgC,EAErC,MAAMnxB,EAAMvyD,KAAK4gF,kBAAkBruB,IAE7B4zB,GAAyB53E,EAAAA,GAAAA,UACvB6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,0CACRG,QAASsF,GAAAA,GACTjV,aAAc,wBAAwB0pD,KACtCj6C,WAAY,CAAEi6C,UAEhB9jD,EAAAA,GAAAA,KACE,KAAM,IACN03E,IACM5zB,GACF7xD,GAAAA,GAAAA,iBAA6B,IACxBA,GAAAA,GAAAA,cACHwgF,kCAAmC3uB,IAKrC4zB,GAA0BA,EAAuBhoE,mBAMzDne,KAAK0jF,+BAAgC,EACrC1jF,KAAK2jF,4BAA6B,GAEH,IAA3BwC,GAUJ90E,GAAAA,GAAAA,kBAA8B80E,GAC9BrlF,GAAAA,GAAAA,+CACE,kBACA,GAGF8X,GAAAA,EAAAA,IAAAA,QACE,kCACE5Y,KAAK4gF,kBAAkBz4E,MAAQnI,KAAK4gF,kBAAkBruB,SAjBxD35C,GAAAA,EAAAA,IAAAA,aACE,wCACE5Y,KAAK4gF,kBAAkBz4E,MAAQnI,KAAK4gF,kBAAkBruB,OAkB9D,CAEAluD,oBACE,GAAIrE,KAAKojF,iBAAkB,OAE3BpjF,KAAKojF,kBAAmB,EACxBpjF,KAAKmjF,iBAAkB,EAEvB,MAAMiD,GAAY73E,EAAAA,GAAAA,UACV6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,qCACRG,QAAS3J,EAAAA,GAAO,CACdu3E,UAAWv3E,EAAAA,GACXskD,QAAStkD,EAAAA,KAEXhG,aAAc,qBAAqB7I,KAAK4gF,kBAAkBz4E,QAC1DmQ,WAAY,CACVi6C,IAAKvyD,KAAK4gF,kBAAkBruB,IAC5B6uB,SAAUphF,KAAKohF,UAEjBiF,sBAAsB,KAExB53E,EAAAA,GAAAA,KACE,KAAM,IACN,EAAG23E,eAAgBA,KAInBA,EAEFh7D,YAAW/mB,gBACHrE,KAAKsmF,mCACXtmF,KAAKohF,SAAW,GAChBphF,KAAKojF,kBAAmB,EACxBpjF,KAAKkjF,eAAgB,EACrBljF,KAAKmjF,iBAAkB,CAAI,GAC1B,MAEHnjF,KAAKojF,kBAAmB,EACxBpjF,KAAKkjF,eAAgB,EACrBljF,KAAKmjF,iBAAkB,EAE3B,CAEA9+E,+CACQrE,KAAKumF,4BAEX,MAAMzC,EAAgB9jF,KAAKs8D,UAAU9uD,MACnCm1E,GAAYA,EAASx6E,OAASnI,KAAK4gF,kBAAkBz4E,OAGvDnI,KAAK4gF,iBAAmBkD,GAAiB9jF,KAAKs8D,UAAU,EAC1D,CAEAj4D,mCACEkK,EAAAA,GAAAA,UACQ6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,qCACRG,QAASguE,GAAAA,MAEX/3E,EAAAA,GAAAA,KACE,SACAvN,IACER,GAAAA,GAAAA,iBAA6BQ,EAAK,IAI1C,IAvVAkB,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,WAAS,mCAUhBvI,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,qBAAmB,sCApKPk4E,IAAkB,UAhBtCrgF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVumF,eAAc,KACdpiC,gBAAe,KACf/6C,KAAI,IACJ4tC,WAAU,KACVz0C,WAAU,KACVq/E,qBAAoB,GACpBP,sBAAqB,GACrBhqC,cAAa,GACb50C,UAAS,KACT05C,cAAa,KACb7F,qBAAoB,GACpB+rC,uBAAsBA,OAGLM,I,YC7D2S,MCQhU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnB4BjkF,GAAOE,WAAsB,MAAU,KAAWsE,EAAAA,EAAAA,MAAY,GAAoD,oB,OAAC,EAAM,KAAC,CAAE,0DAAE,MAAK,CAAOA,KAAAA,KAA6IA,CAAAA,EAAAA,MAAW,CAAwClE,YAAM,iC,CAAC,KAAM,YAAC,KAAiB,yD,YAAU,uC,MAAK,CAAY,KAAO,kBAAI,YAAG,KAAC,KAAC,MAAQJ,IAAY,GAACJ,CAAiB0E,MAAW,EAAC,SAA8C,eAAO,C,YAAmB,uC,MAAK,CAAW,iBAAG,KAAC,KAAC,MAAQtE,IAAY,GAAG,CACrnB,kBAGD,E,QCKA,IAAqB4nF,GAArB,cAAyClnF,EAAAA,GAIvC2tC,QACEntC,KAAKM,MAAM,QACb,IAJA8B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,0CADNokF,IAAW,UAL/BlkF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVg3C,WAAUA,GAAAA,MAGOwvC,I,YCToS,MCQzT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCHhC,IAAqBC,GAArB,cAAiCnnF,EAAAA,GAC/B2tC,SACEy5C,EAAAA,EAAAA,IAAa,MACf,CAEAC,oBACE/lF,GAAAA,GAAAA,4BAAmC,EACrC,CAEIsJ,YACF,OAAO1J,GAAAA,GAAAA,oBACT,GAXmBimF,IAAG,UAPvBnkF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV2iF,mBAAkB,GAClB6D,YAAW,GACXtI,aAAYA,OAGKuI,I,YChBqR,MCQ1S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAI1jF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,qDAAqD,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,+BAA+B,CAAC1E,EAAG,cAAc,CAACwE,GAAG,CAAC,MAAQpE,EAAIquC,QAAQ,CAACruC,EAAIM,GAAG,qBAAqBV,EAAG,mBAAmB,CAACQ,MAAM,CAAC,gBAAgB,oBAAoBR,EAAG,oBAAoB,CAACQ,MAAM,CAAC,QAA2B,YAAjBJ,EAAIgoF,UAAwB5jF,GAAG,CAAC,MAAQpE,EAAIioF,iBAAiB,CAACjoF,EAAIM,GAAG,cAAc,GAAqB,aAAjBN,EAAIgoF,SAAyBpoF,EAAG,sCAAsC,CAACQ,MAAM,CAAC,aAAaJ,EAAIm5C,aAA+B,YAAjBn5C,EAAIgoF,SAAwBpoF,EAAG,sCAAsCI,EAAIkH,MAAM,IACvqB,EACI1G,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,oBAAoB,CAACQ,MAAM,CAAC,QAAUJ,EAAIkoF,qBAAqB9jF,GAAG,CAAC,MAAQpE,EAAImoF,mBAAmB,CAACnoF,EAAIM,GAAG,WAC7M,EACIE,GAAkB,G,YCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAM,CAC5G,kCAAkC,EAClC,0CAA2CpG,EAAIq6D,SAC/Cj2D,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIwB,MAAM,QAAQ,IAAI,CAACxB,EAAI0K,GAAG,YAAY,EAClF,EACIlK,GAAkB,GCCtB,IAAqB4nF,GAArB,cAA+C1nF,EAAAA,MAE7C4C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAO,+BADL4kF,IAAiB,UAHrC1kF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAC,KAEMgnF,I,YCN0S,MCQ/T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCHhC,IAAqBC,GAArB,cAA8C3nF,EAAAA,GAIxCwnF,0BACF,MAAwB,WAAjBlmF,GAAAA,GAAAA,IACT,CAEAmmF,oBACEA,EAAAA,GAAAA,IAAiBjnF,KAAKonF,YACxB,IARAhlF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,oBAAmB,mCADjB6kF,IAAgB,UALpC3kF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVgnF,kBAAiBA,OAGAC,I,YChB6R,MCOlT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBClByD,GAAU,W,IAAO/jF,EAAAA,KAA0C,EAAM,EAAC60C,MAAS,GAAuB,oB,OAAC,S,YAAoB,+BAAiB,qBAAE,MAAK,CAAuB/4C,iBAAM,GAAC,eAAW,K,CAAoB,OAAQ,CAAgB,OAAI,KAAOJ,KAAmCsE,cAAY,GAAmB1E,MAAG,qBAAuB,MAAWI,oBAAkO,EAAM,KAA5N,S,YAAQ,kBAAU,mBAAG,MAAI,CAAsEsE,SAAY,WAAoBtE,KAAI48E,eAAgFh9E,GAAeU,EAAG,sBAAuB,EAAI,gBAAQs8E,EAAAA,MAAoB,CAAoBt4E,YAAY,kBAA4BF,CAAG,KAAD,EAAC,8B,YAASpE,4BAAc,oFAAE,YAAY,4BAACI,GAAAA,CAAO,MAAO,eAAuB,WAAG,MAAM,CAA6BA,KAAM,YAAC,cAAgE,KAAQ,EAAC,uBAAI,OAAI,SAAS83E,EAAAA,+BAA0D5zE,KAAAA,WAA6DlE,QAAM,MAAgB,oDAAE,YAAK,iDAAuBA,MAAM,CAAC,OAAQ,SAAYgE,CAAE,EAAC,uB,MAAC,CAAsB,kBAAiChE,GAAAA,CAAO,MAAQJ,EAAI48E,eAAqC,yBAACx4E,MAAG,CAAC,MAAQpE,EAAI+8E,eAAoB,qBACr0C,IACGv8E,MAAAA,EAAe,0B,UCoBnB,IAAqB+nF,GAArB,cAAiE7nF,EAAAA,GAAjEC,c,oBAIE,KAAAi8E,eAAiC,CAC/BrE,cAAc,EACdnhE,MAAO,IAoCT,KAAAoxE,yCAA2CA,EAC7C,CAlCEzL,qBAAqBC,GACnB97E,KAAK07E,eAAiBI,CACxB,CAEA1E,aACEp3E,KAAK67E,qBAAqB,CACxBxE,cAAc,EACdnhE,MAAO,IAEX,CACIzG,eACF,OAAO/O,GAAAA,GAAAA,kCAAAA,QACT,CAEIq7E,qCACF,OAAOZ,GACLn7E,KAAKyP,SACLzP,KAAK07E,eAAerE,aACpBr3E,KAAK07E,eAAexlE,MACpBlW,KAAKsnF,yCACL,WAEJ,CAEIrQ,sBACF,OAAmE,IAA5DqE,GAAgBt7E,KAAK+7E,+BAAgC,EAC9D,CAEI/E,0BACF,OAAOh3E,KAAK07E,eAAerE,cAAgBr3E,KAAK07E,eAAexlE,KACjE,IArCA9T,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,kCAyCzBF,EAAAA,EAAAA,IAAAA,EADCstE,EAAAA,EAAAA,IAAQ,YAAU,gEAzCA2X,IAAmC,UAHvD7kF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAE06E,aAAY,cAAEjD,UAAS,GAAEruE,KAAI,IAAEiyE,oBAAmBA,OAE7C8L,I,YA6CfC,GAAgE,CACpEpL,gBAAiB,KAAM,EAEvB5C,gBAAiB/+C,GACR,IAAWlpB,GAAAA,GAAAA,eAA4BkpB,GAEhD8hD,gBACEC,EACAj8E,EACAgP,EACAvL,GAEAuN,GAAAA,GAAAA,uCACEk2E,EAAAA,GAAAA,IACE,CACEplF,KAAMm6E,EACNz9E,MAAOwB,GAET,CACEgP,UACAmtE,aACEx8E,KAAKy8E,YACHH,IACG,IAETx4E,GAGN,EACA24E,YAAa,IAAM/7E,GAAAA,GAAAA,kCAAAA,SACnBm8E,kBAAmB,CAACv+D,EAAuBm2B,MACzCz1B,EAAAA,GAAAA,GAAgCV,EAAem2B,EAAK,EAEtDqoC,kBAAoBx+D,IACXW,EAAAA,GAAAA,IAAgCX,ICrGkT,MCO7V,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAIrb,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,+BAA+B,CAAC1E,EAAG,gBAAgB,CAACQ,MAAM,CAAC,aAAaJ,EAAIm5C,UAAU,UAAYn5C,EAAI0oF,iBAAiBtkF,GAAG,CAAC,iBAAmBpE,EAAI2oF,uBAAuB,EAC/R,EACInoF,GAAkB,G,YCEf,MAAMooF,GAAsB74E,EAAAA,GAAO,CACxC7J,GAAI6J,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,KACvB84E,KAAM94E,EAAAA,GACN+4E,OAAQ/4E,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,IAAU,OAQ1Bg5E,GAA0Bh5E,EAAAA,GAAe,CACpD64E,GACA74E,EAAAA,GAAO,CACLsP,eAAgBL,GAAAA,OAKPgqE,GAA+Bj5E,EAAAA,GAAQg5E,IAKvCE,GAAqBl5E,EAAAA,GAAe,CAC/C64E,GACA74E,EAAAA,GAAO,CACLkQ,UAAWsB,GAAAA,OAKF2nE,GAA0Bn5E,EAAAA,GAAQk5E,IAGlCE,GAAgCp5E,EAAAA,GAAe,CAC1D64E,GACA74E,EAAAA,GAAO,CACL0K,KAAM1K,EAAAA,OAIGq5E,GAAoBr5E,EAAAA,GAAe,CAC9C64E,GACA74E,EAAAA,GAAO,CACL0K,KAAM4uE,GAAAA,OASGC,IAJqBv5E,EAAAA,GAAO,CACvCw5E,UAAWx5E,EAAAA,GAAQq5E,MAG2Br5E,EAAAA,GAAQ,CACtDA,EAAAA,GAAO,CAAEw5E,UAAWx5E,EAAAA,GAAQo5E,MAC5Bp5E,EAAAA,GAAO,CAAEy5E,YAAaz5E,EAAAA,QCnDjBxK,eAAekkF,KACpB,OAAOh6E,EAAAA,GAAAA,UACC6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,gDACRG,QAASsvE,MAGXU,EAAAA,EAAAA,UAAQ,IAAM,OACdC,GAAAA,GAEJ,C,ICnB4D7pF,GAAOE,WAAsB,MAAU,KAAOsE,EAAAA,EAAAA,MAAY,GAA+D60C,EAAAA,MAAWv5C,Y,OAAoB,EAAC,O,YAAC,yD,CAAoB,YAAe,QAAE,OAAIA,iBAAG,GAAuBQ,eAAM,K,CAAa,OAAkB,C,MAAC,CAAwB,UAAI,cAASwpF,GAAwCtlF,MAAW,qBAAyIA,GAAAA,EAAW,6BAAC,SAAuC,YAAWtE,wCAAyGsE,CAAAA,EAAAA,IAAAA,CAAW,EAAC,gEAA6G,S,YAAKulF,oC,EAAyBzpF,GAAK,EAAC,yB,OAAC,iBAAoB0pF,C,IAAa,EAAWD,aAASE,GAAU,MAAC,CAAG,SAAC,eAAC,SAAQ,EAASljF,Y,GAAsD,CAAC,kBAAG,gCAAK,IAI1/B,OAJmtB,SAAmC,YAAa0iF,wCAAoC,QAAU,8BAAe,8DAIvzBplF,E,QCJLA,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,iBAAiB8B,MAAM,CAAE,2BAA4BpG,EAAIgqF,UAAW5lF,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIwB,MAAM,QAASxB,EAAI6pF,SAAS,IAAI,CAACjqF,EAAG,OAAO,CAAC0E,YAAY,wBAAwB,CAACtE,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAI6pF,SAAShB,SAAU7oF,EAAI6pF,SAASf,OAAQ,CAAClpF,EAAG,OAAO,CAACI,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAI6pF,SAASf,YAAY9oF,EAAIkH,MAAM,EAC1a,EACI1G,GAAkB,GCItB,IAAqBypF,GAArB,cAA0CvpF,EAAAA,MAMxC4C,EAAAA,EAAAA,IAAAA,EALCC,EAAAA,EAAAA,IAAK,CACJC,UACE,MAAO,CAAC,CACV,KACA,iCAIFF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,gCARNymF,IAAY,UADhCvmF,EAAAA,EAAAA,IAAU,CAAC,IACSumF,I,YCNqS,MCQ1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCVhC,IAAqBC,GAArB,cAA2CxpF,EAAAA,GAUzCioF,mBAAmBkB,EAA0B1pF,GAC3Ce,KAAKM,MAAM,mBAAoBqoF,EAAU1pF,EAC3C,IAVAmD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,kCAIzBF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,MAAK,kCAItBF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,QAAS,QAAO,oDAPL0mF,IAAa,UAHjCxmF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAE6oF,aAAYA,OAEPC,I,YCTsS,MCQ3T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCChC,IAAqBC,GAArB,cAAgEzpF,EAAAA,GAAhEC,c,oBACE,KAAAw4C,WAAY,EACZ,KAAAixC,gBAAsD,KACtD,KAAAC,cAA+B,KAC/B,KAAAC,qBAAuB,OAEvB,KAAAC,uBAAwD,IA0I1D,CAxIEhlF,0BACQrE,KAAKspF,sBAEPj4E,GAAAA,GAAAA,mCACFrR,KAAKupF,mEAMuB,IAAxBvpF,KAAKmpF,eACPnpF,KAAKwpF,6FAITxpF,KAAKupF,kEAELvpF,KAAKopF,qBAAuBppF,KAAKo7B,OAAOC,WAAU8a,IAChD,MAAMszC,GAAaC,EAAAA,GAAAA,IAA0BvzC,GAG5B,WAAfszC,GACyB,yCAAzBtzC,EAAgBx1C,MACS,wBAAzBw1C,EAAgBx1C,OAGa,6BAAzBw1C,EAAgBx1C,KAClBX,KAAKqpF,uBAAyB,KAE9BrpF,KAAKwpF,4FAGPxpF,KAAKupF,kE,GAGX,CAEAjuD,gBACEt7B,KAAKopF,sBACP,CAEA/kF,4BACErE,KAAKi4C,WAAY,EACjBj4C,KAAKkpF,sBAAwBX,KAC7BvoF,KAAKmpF,cAAgB,KACrBnpF,KAAKi4C,WAAY,CACnB,CAEAsxC,kEACEvpF,KAAKmpF,cAAgBnpF,KAAK2pF,wCAC5B,CAEAA,yCACE,MAAMC,GAAwBroF,EAAAA,GAAAA,GAAc8P,GAAAA,GAAAA,gBAE5C,OAAOrR,KAAKqoF,UAAUhiD,WAAUsiD,GAC9B,KAAQA,EAASxqE,eAAgByrE,IAErC,CAEAJ,4FACMxpF,KAAK6pF,6DACP7pF,KAAKqpF,uBAAyB,KAE9BrpF,KAAK8pF,+CAET,CAEAD,6DACE,GAA6B,OAAzB7pF,KAAKkpF,iBAA4D,IAAhClpF,KAAKkpF,gBAAgB1jF,OACxD,OAAO,EAGT,MAAOukF,GAA4B/pF,KAAKkpF,gBAClCU,GAAwBroF,EAAAA,GAAAA,GAAc8P,GAAAA,GAAAA,gBAE5C,OAAO,KACL04E,EAAyB5rE,eACzByrE,EAEJ,CAEAE,gDACE9pF,KAAKqpF,uBAAyB,CAC5BrkF,IAAK,EACL4iF,QAAQ,EACRD,KAAM,UACNxpE,gBAAgB5c,EAAAA,GAAAA,GAAc8P,GAAAA,GAAAA,gBAElC,CAEIm2E,sBACF,OAAOxnF,KAAKqoF,UAAUhnF,KACpB,CACEsnF,EACA1pF,KAAa,CAEb4pF,WAAY5pF,IAAUe,KAAKmpF,cAC3BP,aAAcD,KAGpB,CAEIN,gBACF,MAAMa,EAAkBlpF,KAAKkpF,iBAAmB,GAEhD,OAAOlpF,KAAKqpF,uBACR,CAACrpF,KAAKqpF,0BAA2BH,GACjCA,CACN,CAEAzB,mBACEuC,EACA/qF,GAEAe,KAAKmpF,cAAgBlqF,EAErB+V,GAAAA,EAAAA,aACE,IACE3D,GAAAA,GAAAA,8BAA0C24E,EAAepB,eAC3D,wCAEJ,CAEI9yC,4BACF,OAAOh1C,GAAAA,GAAAA,qBACT,CAGAuD,mCACOvD,GAAAA,GAAAA,8BACGd,KAAKspF,sBACXtpF,KAAKqpF,uBAAyB,KAC9BrpF,KAAKupF,kEAET,IANAnnF,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,0BAAwB,gDAxIZs+E,IAAkC,UAHtDzmF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAE8oF,cAAaA,OAERC,I,YCpBuU,MCO5V,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,eCShC,IAAqBgB,GAArB,cAAiDzqF,EAAAA,GAAjDC,c,oBAYE,KAAAyqF,WAA6B,KAE7B,KAAAC,eAAgB,EAChB,KAAAC,eAAgB,CAmGlB,CAjHMtD,eACF,OAAOhmF,GAAAA,GAAAA,WAAAA,iCACT,CACAimF,iBACEjmF,GAAAA,GAAAA,cAAsB,IACjBA,GAAAA,GAAAA,WACHupF,kCACoB,aAAlBrqF,KAAK8mF,SAA0B,UAAY,YAEjD,CAOI7uC,gBACF,OAAOj4C,KAAKmqF,eAAiBnqF,KAAKoqF,aACpC,CAEA/lF,oBAEIvD,GAAAA,GAAAA,WAAAA,uCAAAA,gBAEAA,GAAAA,GAAAA,cAAsB,IACjBA,GAAAA,GAAAA,WACHupF,kCAAmC,mBAE/BrqF,KAAKsqF,gBAEXxpF,GAAAA,GAAAA,+CACE,kBACA,EAGN,CAEAuD,sBACErE,KAAKmqF,eAAgB,EACrB,MAAMI,QAAqBnsE,EAAAA,GAAAA,KAI3B,OAHApe,KAAKkqF,YAAa3oF,EAAAA,GAAAA,GAAc8P,GAAAA,GAAAA,gBAChCrR,KAAKmqF,eAAgB,EAEdI,CACT,CAEAlmF,qBACErE,KAAKoqF,eAAgB,EACrB,MAAMG,QAAqB3sE,EAAAA,GAAAA,KAI3B,OAHA5d,KAAKkqF,YAAa3oF,EAAAA,GAAAA,GAAc8P,GAAAA,GAAAA,gBAChCrR,KAAKoqF,eAAgB,EAEdG,CACT,CAEIz0C,4BACF,OAAOzkC,GAAAA,GAAAA,gCACT,CAEAm5E,kCACE1pF,GAAAA,GAAAA,2BAAmC,CACjC2pF,QAAS,iBACTC,uBAAwB,CACtBx4C,MAAO,oDACPr/B,KAAM,mDACNlS,KAAM,SAGZ,CAGAgqF,kCAAkC70C,GAC5BA,EACF91C,KAAKwqF,kCAEL1pF,GAAAA,GAAAA,iCAAyC,iBAE7C,CAEI8pF,+BACF,OAAO9pF,GAAAA,GAAAA,qBAAAA,gBAA6C+pF,YACtD,CAGAxmF,2CACEwmF,GAEqB,YAAjBA,GACF/pF,GAAAA,GAAAA,mCAA2C,CACzC2pF,QAAS,iBACTK,cAAc,UAEN9qF,KAAKsqF,eACbtqF,KAAKmtC,QAELntC,KAAKwqF,mCAEmB,SAAjBK,IACT/pF,GAAAA,GAAAA,+BAAuC,CACrC2pF,QAAS,iBACTM,UAAU,UAEF/qF,KAAKgrF,gBACbhrF,KAAKmtC,QAELntC,KAAKwqF,kCAGX,CAEAr9C,SACEy5C,EAAAA,EAAAA,IAAa,iBACf,IAzCAxkF,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,wBAAyB,CAAE8uB,WAAW,KAAO,wDAcpDr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,2BAA4B,CAAE8uB,WAAW,KAAO,0DApFpCwwD,IAAmB,UATvCznF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV+oF,mCAAkC,GAClC5B,oCAAmC,GACnCH,kBAAiB,GACjBC,iBAAgB,GAChBT,YAAWA,OAGMuD,I,YC3B4S,MCQjU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,ICnB4BrrF,GAAOE,WAAsB,MAAU,KAAOsE,EAAAA,EAAAA,MAAY,GAAqDgnF,EAAAA,MAAa,Y,OAAsB,EAAC,O,YAAS,+C,CAAC,gBAAmB,Q,MAAC,CAAiB,OAAI1rF,iBAAG,GAAuBQ,eAAM,K,CAAa,OAAkB,C,MAAC,CAAwB,UAAI,cAAcJ,GAAyC,MAAC,qBAAkB,6CAAG,GAACA,CAA6E,MAAC,WAAkB,yCAI5gB,EAASmE,KAJmgB,qBAAG,GAACnE,CAC/gB,kBAGgBQ,E,QCJb2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,+BAA+B,CAAC1E,EAAG,cAAc,CAACwE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIwB,MAAM,QAAQ,IAAI,CAACxB,EAAIM,GAAG,cAAcV,EAAG,mBAAmB,CAACQ,MAAM,CAAC,gBAAgB,eAAeR,EAAG,oBAAoB,CAACQ,MAAM,CAAC,QAA2B,YAAjBJ,EAAIgoF,UAAwB5jF,GAAG,CAAC,MAAQpE,EAAIioF,iBAAiB,CAACjoF,EAAIM,GAAG,cAAc,GAAGV,EAAG,4BAA4B,CAAC0E,YAAY,SAA2B,aAAjBtE,EAAIgoF,SAAyB,CAACpoF,EAAG,eAAeA,EAAG,MAAM,CAAC0E,YAAY,2DAA2D,CAAC1E,EAAG,gBAAgB,CAACQ,MAAM,CAAC,UAAYJ,EAAIigB,UAAU,YAAa,GAAM7b,GAAG,CAAC,MAAQpE,EAAImsF,oBAAoB,IAAsB,YAAjBnsF,EAAIgoF,SAAwB,CAACpoF,EAAG,kCAAkCI,EAAIkH,MAAM,EACzyB,EACI1G,GAAkB,G,YCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,gCAAgC,CAAC1E,EAAG,YAAY,CAAC0E,YAAY,cAAclE,MAAM,CAAC,YAAc,mCAAmCmE,MAAM,CAACxE,MAAOC,EAAIosF,gBAAiB3nF,SAAS,SAAUmpC,GAAM5tC,EAAIosF,gBAAgBx+C,CAAG,EAAElpC,WAAW,qBAAqB9E,EAAG,aAAa,CAAC0E,YAAY,OAAOlE,MAAM,CAAC,KAAO,SAASgE,GAAG,CAAC,MAAQpE,EAAI4gB,cAAc,CAAC5gB,EAAIM,GAAG,YAAY,EAC3d,EACIE,GAAkB,G,YCctB,IAAqB6rF,GAArB,cAAyC3rF,EAAAA,GAAzCC,c,oBACE,KAAAyrF,gBAAiC,EAkBnC,CAhBExrE,cACO1f,KAAKkrF,mBAEV38E,EAAAA,EAAAA,OACEyR,EAAAA,GAAAA,IAAwChgB,KAAKkrF,kBAC7Cz8E,EAAAA,EAAAA,OACEkK,GAAUA,EAAO/M,QAAQgN,GAAAA,EAAAA,IAAAA,WACzBgH,IACEC,EAAAA,GAAAA,IACED,MAKR5f,KAAKkrF,gBAAkB,GACzB,GAlBmBC,IAAW,UAH/B3oF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEuC,WAAU,KAAEE,UAASA,GAAAA,MAEhBwoF,I,YChBoS,MCQzT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIloF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,+BAA+B,CAAC1E,EAAG,gBAAgB,CAACQ,MAAM,CAAC,aAAaJ,EAAIm5C,UAAU,UAAYn5C,EAAI0oF,iBAAiBtkF,GAAG,CAAC,iBAAmBpE,EAAI2oF,uBAAuB,EAC/R,EACInoF,GAAkB,GCOf+E,eAAe+mF,KACpB,OAAO78E,EAAAA,GAAAA,UACC6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,0CACRG,QAASwvE,MAGXQ,EAAAA,EAAAA,UAAQ,IAAM,OACdC,GAAAA,GAEJ,CCCA,IAAqB4C,GAArB,cAA2D7rF,EAAAA,GAA3DC,c,oBACE,KAAAw4C,WAAY,EACZ,KAAAixC,gBAAiD,KACjD,KAAAC,cAA+B,KAC/B,KAAAC,qBAAuB,OAEvB,KAAAC,uBAAmD,IAsIrD,CApIEhlF,0BACQrE,KAAKspF,sBAEPj4E,GAAAA,GAAAA,oCACFrR,KAAKupF,mEAMuB,IAAxBvpF,KAAKmpF,eACPnpF,KAAKwpF,6FAITxpF,KAAKupF,kEAELvpF,KAAKopF,qBAAuBppF,KAAKo7B,OAAOC,WAAU8a,IAChD,MAAMszC,GAAaC,EAAAA,GAAAA,IAA0BvzC,GAG5B,WAAfszC,GACyB,oCAAzBtzC,EAAgBx1C,MACS,6BAAzBw1C,EAAgBx1C,OAGa,wBAAzBw1C,EAAgBx1C,KAClBX,KAAKqpF,uBAAyB,KAE9BrpF,KAAKwpF,4FAGPxpF,KAAKupF,kE,GAGX,CAEAjuD,gBACEt7B,KAAKopF,sBACP,CAEA/kF,4BACErE,KAAKi4C,WAAY,EACjBj4C,KAAKkpF,sBAAwBkC,KAC7BprF,KAAKmpF,cAAgB,KACrBnpF,KAAKi4C,WAAY,CACnB,CAEAsxC,kEACEvpF,KAAKmpF,cAAgBnpF,KAAK2pF,wCAC5B,CAEAA,yCACE,MAAM2B,GAAmB/pF,EAAAA,GAAAA,GAAc8P,GAAAA,GAAAA,cAEvC,OAAOrR,KAAKqoF,UAAUhiD,WAAUsiD,GACvB,KAAQA,EAAS5pE,UAAWusE,IAEvC,CAEA9B,4FACMxpF,KAAK6pF,6DACP7pF,KAAKqpF,uBAAyB,KAE9BrpF,KAAK8pF,+CAET,CAEAD,6DACE,GAA6B,OAAzB7pF,KAAKkpF,gBACP,OAAO,EAGT,MAAOa,GAA4B/pF,KAAKkpF,gBAClCoC,GAAmB/pF,EAAAA,GAAAA,GAAc8P,GAAAA,GAAAA,cAEvC,OAAO,KAAQ04E,EAAyBhrE,UAAWusE,EACrD,CAEAxB,gDACE9pF,KAAKqpF,uBAAyB,CAC5BrkF,IAAK,EACL4iF,QAAQ,EACRD,KAAM,UACN5oE,WAAWxd,EAAAA,GAAAA,GAAc8P,GAAAA,GAAAA,cAE7B,CAEIm2E,sBACF,OAAOxnF,KAAKqoF,UAAUhnF,KACpB,CACEsnF,EACA1pF,KAAa,CAEb4pF,WAAY5pF,IAAUe,KAAKmpF,cAC3BP,aAAcD,KAGpB,CAEIN,gBACF,MAAMa,EAAkBlpF,KAAKkpF,iBAAmB,GAEhD,OAAOlpF,KAAKqpF,uBACR,CAACrpF,KAAKqpF,0BAA2BH,GACjCA,CACN,CAEAzB,mBACEuC,EACA/qF,GAEAe,KAAKmpF,cAAgBlqF,EAErB+V,GAAAA,EAAAA,aACE,IAAM3D,GAAAA,GAAAA,yBAAqC24E,EAAepB,eAC1D,kCAEJ,CAEI9yC,4BACF,OAAOh1C,GAAAA,GAAAA,qBACT,CAGAuD,mCACOvD,GAAAA,GAAAA,8BACGd,KAAKspF,sBACXtpF,KAAKqpF,uBAAyB,KAC9BrpF,KAAKupF,kEAET,IANAnnF,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,0BAAwB,gDApIZ0gF,IAA6B,UAHjD7oF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAE8oF,cAAaA,OAERqC,I,YCpBsT,MCO3U,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCahC,IAAqBE,GAArB,cAA6C/rF,EAAAA,GACvCsnF,eACF,OAAOhmF,EAAAA,GAAAA,WAAAA,iCACT,CACAimF,iBACEjmF,EAAAA,GAAAA,cAAsB,IACjBA,EAAAA,GAAAA,WACH0qF,kCACoB,aAAlBxrF,KAAK8mF,SAA0B,UAAY,YAEjD,CAEI/nE,gBACF,OAAO1N,EAAAA,GAAAA,YACT,CAEA45E,gBAAgBQ,GACdp6E,EAAAA,GAAAA,cAAyB9P,EAAAA,GAAAA,GAAckqF,GACzC,GAlBmBF,IAAe,UAbnC/oF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVwrF,0BAAyB,KACzBpnC,SAAQ,KACR+mC,8BAA6B,GAC7BnE,kBAAiB,GACjBC,iBAAgB,GAChBpkF,UAAS,KACT4oF,cAAa,KACbR,YAAW,GACXzE,YAAWA,OAGM6E,I,YC/BwS,MCQ7T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCnByD,GAAYK,W,IAA0BxoF,EAAAA,KAA0C,EAAK,WAAqB,oB,OAAC,iBAAqB,SAAI,YAAC,+BAACF,CAAE,EAAC,e,MAAC,CAAiB,uBAAmEE,GAAAA,CAAqB1E,MAAQ,EAAC,QAA6C,CAACA,EAAG,2BAAM,+BAAC0E,YAAY,SAAsBtE,EAAG,MAAC+sF,CAAqCzoF,YAAY,gCAA+C,CAAC1E,EAAG,OAAcQ,YAAM,oB,CAAC,2BAAO,UAAiB,2DAAG,CAACR,EAAG,aAAM,CAACuF,MAAInF,CAAwBsE,KAAAA,oBAA6I8B,CAAAA,EAAK,MAClvB,CAIAhG,IAAK,EAAC,oB,YAAW,0C,CAAG,SAAY,kEAAE,MAAC,6IAACgE,MAAG,CAAC,UAAQpE,GAAe,cAAyCsE,GAAAA,CAAmC1E,MAAG,gB,CAAoB,KAAO,eAAKktF,IAAezjF,CAAAA,EAAAA,MAAAA,CAAI,YAAC,sBAACjF,CAAE,EAAC,a,MAAC,CAAqC,6BAA2DhE,GAAAA,CAAO,MAAQ,EAAC,8BAAIF,KAAAA,GAAYF,EAAIwnB,wBAAI,Q,MAAK,CAAYpiB,OAAG,I,YAAgB,O,IAAC,Y,GAAgChF,UAAM,G,UAAqC,gBAAa4sF,EAAAA,GAAAA,CAAS,MAAC,CAAG,KAAC,iBAAC,KAAO,KAAoB,oBAAQ,IAAQ,MAAO,oBAA0G,IAAC,IAAmB,MAAO,eAAK,6EAAC5oF,MAAG,CAAC,KAAO,YAAmB,WAEprBE,GAAAA,CAA2E1E,MAAS,EAAEI,mBAA4H,GAAC,gF,YAASA,8DAAc,oFAAE,YAAY,4BAACI,GAAAA,CAAO,MAAO,eAAuB,WAAG,MAAM,CAIvSkE,KAAAA,YAAiDtE,KAAO,SAAuFA,KAAIk4E,EAAAA,KAAAA,EAAAA,2BAA8B,+CAAkD,OAAlD,SAAC5zE,YAAY,oCAAkB,CAAC1E,EAAG,gCAAe,SAACQ,YAAM,yBAAC,sBAAiL,EAAU,KAApK,S,YAAQ,kBAAY,mBAAG,MAAI,CAAsEkE,SAAY,WAAmB1E,KAAG,iBAAuB,GAAeq9E,EAAAA,sBAAAA,EAA8B,yB,YAAQ,kB,CAAa,iBAAS,CAAI,OAAI,SAAS/E,EAAAA,+BAA0D5zE,KAAAA,aAA6DlE,QAAM,MAAgB,oDAAE,YAAK,iDAAuBA,MAAM,CAAC,OAAQ,SAAagE,CAAE,EAAC,uB,MAAC,CAAsB,mBAAiChE,GAAAA,CAAO,MAAQJ,EAAI48E,eAAqC,yBAACx4E,MAAG,CAAC,MAAQpE,EAAI+8E,eAAoB,qBACt2B,IACGv8E,MAAAA,EAAe,yB,4BCiCnB,IAAqBysF,GAArB,cAA0CvsF,EAAAA,GAA1CC,c,oBACE,KAAAi8E,eAAiC,CAC/BrE,cAAc,EACdnhE,MAAO,IA+ET,KAAA41E,WAAY,EA6EZ,KAAAE,oBAAqC,EAwErC,KAAAC,gCAAkCA,EACpC,CAlOEpQ,qBAAqBC,GACnB97E,KAAK07E,eAAiBI,CACxB,CAEA1E,aACEp3E,KAAK67E,qBAAqB,CACxBxE,cAAc,EACdnhE,MAAO,IAEX,CAEI8gE,0BACF,OAAOh3E,KAAK07E,eAAerE,cAAgBr3E,KAAK07E,eAAexlE,KACjE,CAEI6lE,qCACF,OAAOZ,GACLn7E,KAAKyP,SACLzP,KAAK07E,eAAerE,aACpBr3E,KAAK07E,eAAexlE,MACpBlW,KAAKisF,gCACL,aAEJ,CAEIhV,sBACF,OAAmE,IAA5DqE,GAAgBt7E,KAAK+7E,+BAAgC,EAC9D,CAEImQ,oBACF,IAAKprF,EAAAA,GAAAA,eAAwB,OAAO,EAEpC,MAAMqrF,EAAiBnsF,KAAKosF,kBACxBtrF,EAAAA,GAAAA,eAAAA,KAAAA,QAAoC,SAAU,IAC9CA,EAAAA,GAAAA,eAAAA,KAEEurF,EAAmBn6E,OAAOC,WAAWC,OAAOC,SAAS6a,iBACzDi/D,GAGF,OAAOE,EAAiB7mF,MAC1B,CAEI8mF,mBACF,QAAKtsF,KAAK4rF,gBAC0B,UAA7B5rF,KAAK4rF,eAAejrF,IAC7B,CAEIyrF,wBACF,QAAKpsF,KAAK4rF,mBACN5rF,KAAK4rF,eAAezjF,KAAKokF,SAAS,aAC3BC,GAAUxsF,KAAK4rF,eAAezjF,KAAK4E,QAAQ,SAAU,KAGlE,CAEI8+E,+BACF,OAAO7rF,KAAKssF,cAAgBtsF,KAAKosF,iBACnC,CAEIK,8BACF,QAAK3rF,EAAAA,GAAAA,sBAEDA,EAAAA,GAAAA,mBAAAA,SAAoC,OAASd,KAAKosF,kBAGxD,CAEI38E,eACF,OAAO/O,EAAAA,GAAAA,gBACT,CAEIkrF,qBACF,OAAO9qF,EAAAA,GAAAA,cACT,CAIA4rF,kBACM1sF,KAAK8rF,UACP9rF,KAAK2sF,iBAEL3sF,KAAK4sF,cAET,CAEAtxD,gBACEt7B,KAAK2sF,gBACP,CAEAC,eAGE,GAFA5sF,KAAK8rF,WAAY,GAEZhrF,EAAAA,GAAAA,eAAwB,OAE7B,MAAM+rF,EAAsB7sF,KAAKosF,kBAC7BtrF,EAAAA,GAAAA,eAAAA,KAAAA,QAAoC,SAAU,IAC9CA,EAAAA,GAAAA,eAAAA,MAEJgsF,EAAAA,GAAAA,KACE16D,EAAAA,GAAAA,MACA,gCACA,GAAGy6D,+MAQP,CAEAF,iBACE3sF,KAAK8rF,WAAY,GACjBgB,EAAAA,GAAAA,KACE16D,EAAAA,GAAAA,MACA,gCACA,GAEJ,CAEA26D,iBACE,IAAK/sF,KAAK4rF,eAAgB,OAE1B,MAAMhsE,EAAW5f,KAAK4rF,eAChBoB,EAAgB37E,EAAAA,GAAAA,aAAAA,WACpBkvD,GAAKA,EAAEp4D,OAASyX,EAASzX,OAG3B,IAAuB,IAAnB6kF,EAAsB,CACxB,MAAMvB,GAAelqF,EAAAA,GAAAA,GAAc8P,EAAAA,GAAAA,cACnCo6E,EAAaxuC,OAAO+vC,EAAe,GACnC37E,EAAAA,GAAAA,aAAyBo6E,E,CAE7B,CAEAt+C,QACEntC,KAAKitF,oBACP,CAEIC,yBACF,QAAKpsF,EAAAA,GAAAA,eACEJ,EAAAA,GAAAA,QAAoBI,EAAAA,GAAAA,cAAAA,KAAAA,MAAiCqH,IAC9D,CAEAglF,yBACErlF,EAAAA,EAAAA,IAAY,oBACd,CAEAmlF,qBACEnsF,EAAAA,GAAAA,sBAA8B,KAChC,CAIIssF,6BACF,OAAKptF,KAAKgsF,qBAEHzsE,EAAAA,GAAAA,IAAoBvf,KAAKgsF,mBAClC,CAEAqB,0BAA0BtiC,GACxB,IAAKA,EAAS,OAMd,GAJA/qD,KAAKgsF,mBAAqBjhC,EAE1B/qD,KAAK2sF,mBAEAptE,EAAAA,GAAAA,IAAoBwrC,GAAU,OAEnC,MAAMuiC,EAAsBj8E,EAAAA,GAAAA,aAAAA,WAC1BkvD,GAAKA,IAAMvgE,KAAK4rF,iBAGZH,GAAelqF,EAAAA,GAAAA,GAAc8P,EAAAA,GAAAA,cAE/Bo6E,EAAa6B,KACf7B,EAAa6B,GAAqBnlF,KAAO4iD,EACzC15C,EAAAA,GAAAA,aAAyBo6E,GACzB3qF,EAAAA,GAAAA,sBAA8BiqD,GAC9B/qD,KAAKgsF,oBAAqB,EAE9B,CAEAuB,cACE,GAAKzsF,EAAAA,GAAAA,eAEL,GAAId,KAAKssF,aAAc,CACrB,MAAMkB,EAAoB1sF,EAAAA,GAAAA,mBAA6B,SAEjD2sF,EAAoB,IACxBp8E,EAAAA,GAAAA,aAAAA,MAA8BkvD,GAAKA,EAAEp4D,OAASqlF,IAEhD,IAAIE,EAAgBD,IAWpB,GATKC,KACH7tE,EAAAA,GAAAA,IAAsE,CACpE1X,KAAMqlF,EACN7sF,KAAM,SACNQ,WAAY,CAAC,IAEfusF,EAAgBD,MAGbC,EAIH,YAHA90E,GAAAA,EAAAA,IAAAA,QACE,kDAAkD9X,EAAAA,GAAAA,sBAKtDA,EAAAA,GAAAA,sBAA8B4sF,EAAcvlF,OAC5CL,EAAAA,EAAAA,IAAY,Y,MACP,GAAI9H,KAAKosF,mBAAqBpsF,KAAK4rF,eAAgB,CACxD,MAAM+B,EAAanB,GACjBxsF,KAAK4rF,eAAezjF,KAAK4E,QAAQ,SAAU,KAEzC4gF,IACF7sF,EAAAA,GAAAA,sBAA8B6sF,EAAWxlF,OACzCL,EAAAA,EAAAA,IAAY,a,CAGlB,IAGA1F,EAAAA,EAAAA,IAAAA,EADCstE,EAAAA,EAAAA,IAAQ,YAAU,uDAtOAqc,IAAY,UAbhCvpF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVwrF,0BAAyB,KACzBpnC,SAAQ,KACRs2B,aAAY,cACZjD,UAAS,GACTzgC,WAAU,KACVwvC,YAAW,GACX/jF,UAAS,KACT44E,oBAAmB,GACnBjyE,KAAIA,EAAAA,MAGayiF,I,YA0OfS,GAAalyE,GACjBjJ,EAAAA,GAAAA,aAAAA,MAA8BuO,GAAYA,EAASzX,OAASmS,IAExD2xE,GAAuD,CAC3D/P,gBAAiB,KAAM,EACvBO,YAAa,IAAM/7E,EAAAA,GAAAA,iBACnB44E,gBAAiB/+C,GACR,IAAWz5B,EAAAA,GAAAA,eAAwB,GAAGy5B,SAAe70B,GAE9D22E,gBACEC,EACAj8E,EACAgP,EACAvL,GAEKhD,EAAAA,GAAAA,gBAELuQ,EAAAA,GAAAA,iCACEu8E,EAAAA,GAAAA,IACE,CACEhuE,SAAU9e,EAAAA,GAAAA,eACVqB,KAAMm6E,EACNz9E,MAAOwB,GAET,CACEgP,UACAmtE,aACEx8E,KAAKy8E,YACHH,IACG,IAETx4E,GAGN,EACA+4E,kBAAmB,CAACv+D,EAAuBm2B,KACzC,MAAMo5C,EACJ/sF,EAAAA,GAAAA,gBAA0BA,EAAAA,GAAAA,eAAAA,KACvB+sF,IACL/uE,EAAAA,GAAAA,IAA0B+uE,EAAoBvvE,EAAem2B,EAAK,EAEpEqoC,kBAAoBx+D,IAClB,MAAMuvE,EACJ/sF,EAAAA,GAAAA,gBAA0BA,EAAAA,GAAAA,eAAAA,KAC5B,QAAK+sF,IACEjvE,EAAAA,GAAAA,IAA0BivE,EAAoBvvE,EAAc,GCrUmP,MCQ1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCAhC,IAAqBwvE,GAArB,cAA4CtuF,EAAAA,GAA5CC,c,oBACE,KAAA2qF,eAAgB,EAChB,KAAAD,eAAgB,CAgGlB,CA9FMyB,qBACF,OAAO9qF,EAAAA,GAAAA,cACT,CAEAuD,oBACMvD,EAAAA,GAAAA,WAAAA,uCAAAA,WACFA,EAAAA,GAAAA,cAAsB,IACjBA,EAAAA,GAAAA,WACH0qF,kCAAmC,mBAE/BxrF,KAAK+tF,QAEXjtF,EAAAA,GAAAA,+CAAuD,aAAa,EAExE,CAEAuD,aACErE,KAAKoqF,eAAgB,EACrB,MAAMG,QAAqBpqE,EAAAA,GAAAA,MAG3B,OAFAngB,KAAKoqF,eAAgB,EAEdG,CACT,CAEAlmF,aACErE,KAAKmqF,eAAgB,EACrB,MAAMI,QAAqBxqE,EAAAA,GAAAA,MAG3B,OAFA/f,KAAKmqF,eAAgB,EAEdI,CACT,CAEAC,kCACE1pF,EAAAA,GAAAA,2BAAmC,CACjC2pF,QAAS,YACTC,uBAAwB,CACtBx4C,MAAO,8CACPr/B,KAAM,mDACNlS,KAAM,SAGZ,CAEIm1C,4BACF,OAAOzkC,EAAAA,GAAAA,iCACT,CAGAs5E,kCAAkC70C,GAC5BA,EACF91C,KAAKwqF,kCAEL1pF,EAAAA,GAAAA,iCAAyC,YAE7C,CAEI8pF,+BACF,OAAO9pF,EAAAA,GAAAA,qBAAAA,WAAwC+pF,YACjD,CAGAxmF,2CACEwmF,GAEqB,YAAjBA,GACF/pF,EAAAA,GAAAA,mCAA2C,CACzC2pF,QAAS,iBACTK,cAAc,UAEN9qF,KAAK+tF,OACb/tF,KAAKmtC,QAELntC,KAAKwqF,mCAEmB,SAAjBK,IACT/pF,EAAAA,GAAAA,+BAAuC,CACrC2pF,QAAS,iBACTM,UAAU,UAEF/qF,KAAK01C,OACb11C,KAAKmtC,QAELntC,KAAKwqF,kCAGX,CAEIvyC,gBACF,OAAOj4C,KAAKoqF,eAAiBpqF,KAAKmqF,aACpC,CAEAh9C,SACEy5C,EAAAA,EAAAA,IAAa,YACf,IA7CAxkF,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,wBAAyB,CAAE8uB,WAAW,KAAO,wDAcpDr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,2BAA4B,CAAE8uB,WAAW,KAAO,0DAhEpCq0D,IAAc,UANlCtrF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV6rF,aAAY,GACZR,gBAAeA,OAGEuC,I,YCnBuS,MCQ5T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAI7qF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,0DAA0D,CAAC1E,EAAG,cAAc,CAAC8H,IAAI,cAActD,GAAG,CAAC,MAAQpE,EAAIquC,OAAOnuC,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,QAAQC,GAAG,WAAW,MAAO,CAAEpF,EAAI6uC,YAAYvsC,SAASoE,OAAQ9G,EAAG,SAAS,CAAC0E,YAAY,iDAAiDF,GAAG,CAAC,MAAQpE,EAAIkvF,cAAc,CAAsB,IAApBlvF,EAAImvF,YAAmB,CAACnvF,EAAIM,GAAG,WAAWN,EAAIkH,KAAM,CAAC,EAAG,GAAGuF,SAASzM,EAAImvF,aAAc,CAACnvF,EAAIM,GAAG,aAAaN,EAAIkH,MAAM,GAAGlH,EAAIkH,KAAK,EAAEhC,OAAM,MAAS,CAAClF,EAAIM,GAAG,iBAAiBV,EAAG,MAAM,CAACwG,MAAMpG,EAAI0X,UAAUtT,GAAG,CAAC,YAAcpE,EAAIovF,gBAAgB,CAACxvF,EAAG,MAAM,CAAC0E,YAAY,2BAA2BlE,MAAM,CAAC,kBAAkBJ,EAAIutC,iBAAiBnpC,GAAG,CAAC,UAAYpE,EAAIi7B,YAAY,CAACr7B,EAAG,MAAM,CAAC0E,YAAY,gCAAgC,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,uBAAuB4oB,YAAY,CAAC,cAAc,QAAQ,QAAU,SAAS,CAACltB,EAAIM,GAAG,iBAAiBV,EAAG,MAAM,CAAC0E,YAAY,WAAWlE,MAAM,CAAC,kBAAkBJ,EAAIutC,gBAAgB,cAAc,KAAK3tC,EAAG,MAAM,CAAC0E,YAAY,cAAclE,MAAM,CAAC,kBAAkBJ,EAAIutC,gBAAgB,cAAc,OAAQvtC,EAAI6uC,YAAYvsC,SAASoE,OAAS,EAAG9G,EAAG,sBAAsB,CAACQ,MAAM,CAAC,MAAQJ,EAAI6uC,YAAYvsC,SAAS,MAAQ,KAAK1C,EAAG,MAAM,CAAC0E,YAAY,+BAA+B,CAAC1E,EAAG,KAAK,CAACI,EAAIM,GAAG,iBAAiBV,EAAG,IAAI,CAACI,EAAIM,GAAG,2DAA2DV,EAAG,iBAAiB,CAAC0E,YAAY,+CAA+ClE,MAAM,CAAC,KAAO,KAAK,OAAS,gCAAgCgE,GAAG,CAAC,MAAQpE,EAAIg7C,YAAY,CAACh7C,EAAIM,GAAG,YAAY,IAAI,KAAKV,EAAG,yBAAyB,EAChpD,EACIY,GAAkB,GCkBhB,SAAU6uF,KACd,MAAO,CACLC,aAAa,EACbC,gBAAgB,EAChBC,WAAW,EACXC,YAAY,EACZC,kBAAkB,EAClBC,UAAU,EACVC,gBAAgB,EAChBC,mBAAmB,EAEvB,CAEM,SAAUC,GAAiCtmF,EAAWE,GAC1D,MAAMqmF,EAAiBx8E,SACpBy8E,kBAAkBxmF,EAAGE,GACrB5G,OAAOmtF,GAAc,mBACrB9Q,KAAK+Q,IACLC,UACAlvD,MAEH,GAAI8uD,EAAgB,CAElB,MAAMrqF,EAAYqqF,EAAez2D,QAAQ5zB,UAEzC,GAAIA,EACF,OAAOgI,SAAShI,E,CAIpB,OAAO,CACT,CAEO,MAAMuqF,GAAiBz0E,GACpB7Z,KACFA,EAAQ+V,UAAUu7B,SAASz3B,GAWtB00E,GAAc,CAACE,EAAmBC,IAEzC3iF,SAAS0iF,EAAS92D,QAAQnzB,OAASuH,SAAS2iF,EAAS/2D,QAAQnzB,QACvD,EAGRuH,SAAS2iF,EAAS/2D,QAAQnzB,OAASuH,SAAS0iF,EAAS92D,QAAQnzB,OAEtD,EAEA,EAILmqF,GAAuD,CAC3DC,EACA/0E,KAEA,MAAMyL,EAAWspE,EAAaztF,OAAOmtF,GAAcz0E,IACnD,OAAIyL,EAASvgB,OAAS,GAEbgH,SAASuZ,EAAS,GAAGqS,QAAQ5zB,UAG1B,EAGD8qF,GAAqB,CAChCz3D,EACAC,EACAve,KAEA,MAAM81E,EAAeh9E,SAASy8E,kBAAkBj3D,EAAQC,GAElDy3D,EAAapB,KAkCnB,GAhCAoB,EAAWb,eAAiBU,GAC1BC,EACA,eAGFE,EAAWZ,kBAAoBS,GAC7BC,EACA,kBAGFE,EAAWnB,YAAcgB,GACvBC,EACA,YAGFE,EAAWlB,eAAiBe,GAC1BC,EACA,eAGFE,EAAWd,UAIH,IAHNW,GACEC,EACA,kCAGAE,EAAWlB,eACbkB,EAAWhB,WAAagB,EAAWlB,eAC1BkB,EAAWnB,cACpBmB,EAAWhB,WAAagB,EAAWnB,aAGjCmB,EAAWhB,WAAY,CACzB,MAAM/xE,GAASC,EAAAA,GAAAA,IAAclD,EAAMg2E,EAAWhB,YACxCtvF,GAAQsd,EAAAA,GAAAA,GAAahD,EAAMg2E,EAAWhB,aAE9B,IAAVtvF,IAA8B,IAAXud,IACrB+yE,EAAWjB,UAAYrvF,EACvBswF,EAAWf,iBAAmBhyE,EAAOxX,G,CAIzC,OAAOuqF,CAAU,E,gBCrIb,SAAUC,GACdC,EACAl2E,EACAssB,GAEA,IAAI6pD,GAA0C,EAC9C,MAAMC,GAAc1lF,EAAAA,GAAAA,IAASsP,EAAMssB,GACnC,IAAK8pD,EAAa,OAAO,EAmDzB,GAAKF,EAAgBhB,UA2Id,GAAIgB,EAAgBhB,SAAU,CACnC,GACEmB,GAAY/pD,EAAetsB,IAC3Bk2E,EAAgBd,oBAAsB9oD,EACtC,CACA,IAAIgqD,GAA6C,EAEjDH,EAAoBI,GAAuBjqD,EAAetsB,GAEtDm2E,IACFG,EAA6BH,EAAkB9iE,UAGjD,MAAOijE,EAA4B,CACjC,IACE7yE,EAAAA,GAAAA,IACEzD,EACAo2E,EACAE,GAGF,MACK,IACLH,IACC1yE,EAAAA,GAAAA,IACCzD,EACAo2E,EACAD,EAAkB9iE,YAEpBgjE,GAAYC,EAA4Bt2E,GAYxC,MAXA,CACA,MAAMiD,GAASC,EAAAA,GAAAA,IAAclD,EAAMs2E,GACnCA,IAA6BrzE,GAASA,EAAOxX,GAEzC6qF,IACFH,EAAoBK,GAClBF,EACAt2E,G,GAURy2E,GAAoBnqD,EAAetsB,IACnCk2E,EAAgBf,iBAAmB7oD,IAEnC6pD,EAAoBO,GAClBpqD,EACAtsB,G,OA9LJ,GAAIk2E,EAAgBrB,YAAa,CAC/BsB,EAAoBQ,GAAkBT,EAAgBrB,YAAa70E,GAGjEssB,IACAsqD,GAAwBV,EAAgBrB,YAAa70E,KAErDm2E,GAAoB,GAGtB,MAAMU,EAAqBD,GACzBV,EAAgBrB,YAChB70E,GAIAm2E,GACAU,IACApzE,EAAAA,GAAAA,IAAgCzD,EAAMo2E,EAAaS,KAEnDV,EAAoBK,GAAuBK,EAAoB72E,G,MAE5D,GACLk2E,EAAgBpB,iBAC6C,IAA5DgC,GAAkBZ,EAAgBpB,eAAgB90E,KACjDoH,EAAAA,GAAAA,IAA8B8uE,EAAgBpB,iBAChD,CAMA,GALAqB,EAAoBY,GAClBb,EAAgBpB,eAChB90E,GAIAm2E,IACA1yE,EAAAA,GAAAA,IACEzD,EACAo2E,EACAD,EAAkB9iE,UAEpB,CACA,MAAM3tB,GAAQsd,EAAAA,GAAAA,GAAahD,EAAMo2E,EAAY3qF,IACvCwX,GAASC,EAAAA,GAAAA,IAAclD,EAAMo2E,EAAY3qF,KAGnC,IAAV/F,IACW,IAAXud,GACAkzE,GACAD,EAAgBnB,WAEZoB,EAAkB9iE,WAAapQ,EAAOxX,IACpC/F,EAAQwwF,EAAgBnB,YAC1BoB,EAAkBzwF,MAAQywF,EAAkBzwF,MAAQ,E,MAK1DywF,KACC1yE,EAAAA,GAAAA,IACCzD,EACAo2E,EACAD,EAAkB9iE,YAGpB8iE,EAAoBa,GAClBd,EAAgBpB,iBAIpB,GACEqB,KACC1yE,EAAAA,GAAAA,IACCzD,EACAo2E,EACAD,EAAkB9iE,WAEpBgjE,GAAYH,EAAgBpB,eAAgB90E,GAC5C,CACA,IAAIi3E,GAAwC,EAE5C,GAAIf,EAAgBpB,eAAgB,CAClC,MAAMoC,GAAyBh0E,EAAAA,GAAAA,IAC7BlD,EACAk2E,EAAgBpB,gBAElBmC,IAAwBC,GACpBA,EAAuBzrF,E,CAI7B,MAAOwrF,EAAuB,CAC5Bd,EAAoBY,GAAqBE,EAAuBj3E,GAGhE,MAAMiD,GAASC,EAAAA,GAAAA,IAAclD,EAAMo2E,EAAY3qF,IAE/C,GACE0qF,GACAlzE,GACAkzE,EAAkB9iE,WAAapQ,EAAOxX,GACtC,CACA,MAAM0rF,GAAmBn0E,EAAAA,GAAAA,GAAahD,EAAMo2E,EAAY3qF,IAClD2rF,GAAwBp0E,EAAAA,GAAAA,GAC5BhD,EACAi3E,GAGEE,EAAmBC,IACrBjB,EAAkBzwF,MAAQywF,EAAkBzwF,MAAQ,E,CAKxD,GAAKywF,EAEE,KACJ1yE,EAAAA,GAAAA,IACCzD,EACAo2E,EACAD,EAAkB9iE,WAEpBgjE,GAAYY,EAAuBj3E,GACnC,CACA,MAAMiD,GAASC,EAAAA,GAAAA,IAAclD,EAAMi3E,GAEnCA,IAAwBh0E,GAASA,EAAOxX,E,MAExCwrF,GAAwB,OAbxBA,GAAwB,C,QAkB9Bf,EAAgBpB,gBAChBgC,GAAkBZ,EAAgBpB,eAAgB90E,GAAQ,IAE1Dm2E,EAAoBa,GAClBd,EAAgBpB,iBA4DtB,IAAKqB,EAAmB,OAAO,EAE/B,MAAMkB,GAAc5zE,EAAAA,GAAAA,IAClBzD,EACAo2E,EACAD,EAAkB9iE,UAGpB,QAAIgkE,GACKlB,CAGX,CAIA,SAASQ,GAAkBxnF,EAAgB6Q,GACzC,MAAMta,GAAQsd,EAAAA,GAAAA,GAAahD,EAAM7Q,GAC3B8T,GAASC,EAAAA,GAAAA,IAAclD,EAAM7Q,GAEnC,OAAc,IAAVzJ,IAA8B,IAAXud,GAEhB,CACLoQ,SAAUpQ,EAAOxX,GACjB/F,MAAOA,EAEX,CAEA,SAASqxF,GACP5nF,EACA6Q,GAEA,MAAMta,GAAQsd,EAAAA,GAAAA,GAAahD,EAAM7Q,GAC3B8T,GAASC,EAAAA,GAAAA,IAAclD,EAAM7Q,GAEnC,OAAc,IAAVzJ,IAA8B,IAAXud,GAEhB,CACLoQ,SAAUpQ,EAAOxX,GACjB/F,MAAOA,EAAQ,EAEnB,CAEA,SAASsxF,GAAyB7nF,GAChC,MAAO,CACLkkB,SAAUlkB,EACVzJ,MAAO,EAEX,CAEA,SAAS8wF,GACPrnF,EACA6Q,GAEA,MAAMs3E,EAAaR,GAAkB3nF,EAAQ6Q,GAC7C,OAAmB,IAAfs3E,GAEG,CACLjkE,SAAUlkB,EACVzJ,MAAO4xF,EAEX,CAEA,SAASf,GACPpnF,EACA6Q,GAEA,MAAMiD,GAASC,EAAAA,GAAAA,IAAclD,EAAM7Q,GACnC,QAAK8T,GAEE8zE,GAAqB9zE,EAAOxX,GAAIuU,EACzC,CAEA,SAAS02E,GACPvnF,EACA6Q,GAEA,MAAM62E,EAAqBD,GAAwBznF,EAAQ6Q,GAC3D,QAAK62E,GAEEL,GAAuBK,EAAoB72E,EACpD,CAEA,SAAS42E,GAAwBznF,EAAgB6Q,GAC/C,MAAMta,GAAQsd,EAAAA,GAAAA,GAAahD,EAAM7Q,GAC3B8T,GAASC,EAAAA,GAAAA,IAAclD,EAAM7Q,GAEnC,OAAc,IAAVzJ,IAA8B,IAAXud,MAEnBvd,EAAQ,IAELud,EAAOpb,SAASnC,EAAQ,GAAG+F,GACpC,CAEA,SAASqrF,GAAkB3nF,EAAgB6Q,GACzC,MAAMzJ,GAAO7F,EAAAA,GAAAA,IAASsP,EAAM7Q,GAC5B,QAAKoH,GACEA,EAAK1O,SAASoE,MACvB,CAEA,SAASoqF,GAAYlnF,EAAgB6Q,GACnC,MAAMta,GAAQsd,EAAAA,GAAAA,GAAahD,EAAM7Q,GAC3B8T,GAASC,EAAAA,GAAAA,IAAclD,EAAM7Q,GAEnC,IAAc,IAAVzJ,IAA8B,IAAXud,EAAkB,OAEzC,MAAMq0E,EAAaR,GAAkB7zE,EAAOxX,GAAIuU,GAChD,OAAKs3E,EAEiB,IAAfA,GAAoB5xF,IAAU4xF,EAAa,OAFlD,CAGF,CAEA,SAASb,GAAoBtnF,EAAgB6Q,GAC3C,MAAMta,GAAQsd,EAAAA,GAAAA,GAAahD,EAAM7Q,GAEjC,IAAc,IAAVzJ,EAEJ,OAAOA,EAAQ,CACjB,C,gBCvVA,IAAqB6xF,GAArB,cAA4CtxF,EAAAA,GAA5CC,c,oBAGE,KAAAgwF,gBAAkB,IACbtB,MAgBL,KAAA4C,qBAAsB,EAEtB,KAAAC,mBAAoB,EAEpB,KAAAnrD,eAAgC,EAEhC,KAAAxB,mBAAyC,EAEzC,KAAA4sD,gBAAiB,EAEjB,KAAAC,uCAA8D,KA2F9D,KAAApiE,UAAY,IAAIpd,GAAAA,GAwKhB,KAAAy/E,yBAAkD,KA+DlD,KAAAlD,YAAyB,CAwC3B,CAjYE9gD,SACEy5C,EAAAA,EAAAA,IAAa,YACf,CAEIpwE,gBACF,MAAO,CACL,mCAAmC,EACnC,eAAgBxW,KAAKoxF,cACrB,mBAAoBtwF,EAAAA,GAAAA,4BACpB,wBAAyBd,KAAK+wF,oBAElC,CAcAhxF,eAEEC,KAAKC,SAASC,WAAW0H,oBAAsBzH,EAAAA,OAAAA,CACjD,CAEIqgB,sBACF,OAAO1f,EAAAA,GAAAA,eACT,CAEA+9B,UACE7+B,KAAKqxF,iCAGLrxF,KAAKkxF,uCAAyClxF,KAAKo7B,OAAOC,WAExD,EAAG16B,WACU,+BAATA,GACFX,KAAKqxF,gC,GAGX,CAEAA,iCACE,GAAIrxF,KAAKwgB,gBAAiB,CACxB,MAAM8wE,GAAuC/wE,EAAAA,GAAAA,IAC3CnY,EAAAA,GAAAA,SAAAA,KACApI,KAAKwgB,iBAGH8wE,GACFxwF,EAAAA,GAAAA,oCAA4C,IACvCA,EAAAA,GAAAA,oCACAwwF,IAKPtxF,KAAK4xB,WAAU,KAGb,IAAK5xB,KAAK8xC,MAAQ9xC,KAAKuxF,YACrB,OAGF,MAAMC,EAAqBxxF,KAAK8xC,IAAIryB,cAClC,qBAAqBzf,KAAKwgB,mDAGxBgxE,IACFC,EAAAA,EAAAA,IACEzxF,KAAK8xC,IACL9xC,KAAKuxF,YAAYz/C,IACjB0/C,E,IAKV,CAEI7jD,kBACF,OAAOvlC,EAAAA,GAAAA,SAAAA,KAAAA,IACT,CAEIgpF,oBACF,OAAOtwF,EAAAA,GAAAA,aACT,CAEAotF,cAAc5pF,GACZ,IAAKtE,KAAKoxF,cAAe,OAEzB9sF,EAAEC,iBACFD,EAAEsB,kBAEF,MAAMpB,EACJoqF,GAAiCtqF,EAAEiE,QAASjE,EAAEmE,eAAY/C,EAExDlB,GACF1D,EAAAA,GAAAA,gBAAwB0D,GAG1B1D,EAAAA,GAAAA,uCAA+C,CAC7C0D,YACA6D,SAAU,CACRC,EAAGhE,EAAEiE,QACLC,EAAGlE,EAAEmE,UAGX,CAIAsxB,UAAUz1B,GACR,GAAiB,IAAbA,EAAEotF,OAAc,OACpB,IAAK1xF,KAAKoxF,cAAe,OAEzB,MAAMvrD,EAAgB+oD,GACpBtqF,EAAEiE,QACFjE,EAAEmE,SAGAo9B,IACF/kC,EAAAA,GAAAA,gBAAwB+kC,GAExB7lC,KAAK6lC,cAAgBA,EAErB7lC,KAAK8uB,UAAU5rB,GAAG,YAAalD,KAAK03B,UACpC13B,KAAK8uB,UAAU5rB,GAAG,UAAWlD,KAAK67B,SAClC77B,KAAK+wF,qBAAsB,EAC3B/wF,KAAKixF,gBAAiB,EAEtBj8E,GAAAA,EAAAA,mBAEJ,CAIA3Q,eAAeC,GACb,IAAIszB,EAAAA,GAAAA,IAActzB,GAAI,OAKtB,GAHAA,EAAEC,iBACFD,EAAEsB,mBAEG5F,KAAK6lC,cAAe,OAEzB,IAAI8rD,EAAkC,KAEtC,GAAI3xF,KAAKgxF,kBAAmB,CAC1B,MAAMrsD,GAAYpoB,EAAAA,GAAAA,GAChBnU,EAAAA,GAAAA,SAAAA,KACApI,KAAK6lC,eAED+rD,GAAan1E,EAAAA,GAAAA,IACjBrU,EAAAA,GAAAA,SAAAA,KACApI,KAAK6lC,eAGP,IAAkB,IAAdlB,IAAsC,IAAfitD,EAAsB,OAEjD9wF,EAAAA,GAAAA,0BAAkCd,KAAK6lC,eAEvC8rD,EAAc,CACZjrD,iBAAkB1mC,KAAK6lC,cACvBc,mBAAoBirD,EAAW5sF,GAC/B/F,MAAO0lC,GAGT3kC,KAAKgxF,mBAAoB,C,KACpB,CACLhxF,KAAKyvF,gBAAkBH,GACrBhrF,EAAEiE,QACFjE,EAAEmE,QACFL,EAAAA,GAAAA,SAAAA,MAGFpI,KAAK6xF,6DAA6DvtF,GAElE,MAAMwtF,EAAkBtC,GACtBxvF,KAAKyvF,gBACLrnF,EAAAA,GAAAA,SAAAA,KACApI,KAAK6lC,eAGHisD,IACFH,EAAc,CACZjrD,iBAAkB1mC,KAAK6lC,cACvBc,mBAAoBmrD,EAAgBllE,SACpC3tB,MAAO6yF,EAAgB7yF,O,CAK7B,GAAI0yF,EAAa,CAWf,MAAMI,GAAmB9nF,EAAAA,GAAAA,IACvB7B,EAAAA,GAAAA,SAAAA,KACAupF,EAAYhrD,oBAGRqrD,GACJrqF,EAAAA,GAAAA,IAA6BgqF,EAAYhrD,qBACH,IAAtCorD,GAAkB3wF,SAASoE,OAE7B,GAAIwsF,EAA4B,CAC9B,MAAMC,QAAqB7pF,EAAAA,GAAAA,YAA0B,IAChDupF,EACHO,qBAAqB,IAIvBlyF,KAAKixF,eAAiBjxF,KAAKixF,gBAAkBgB,EAE7CnxF,EAAAA,GAAAA,oCAA4C,IACvCA,EAAAA,GAAAA,iCACH,CAAC6wF,EAAYhrD,mBAAmBryB,aAAa,IAG/CtU,KAAKqkC,kBAAoBstD,C,EAG/B,CAEAttF,cAAcC,GAMZ,GALAA,EAAEC,iBACFD,EAAEsB,kBAEF5F,KAAK8uB,UAAU/c,YAEX/R,KAAKqkC,kBAAmB,CAC1B,MAAM4tD,QAAqB7pF,EAAAA,GAAAA,YAA0B,IAChDpI,KAAKqkC,kBACR6tD,qBAAqB,IAIvBlyF,KAAKixF,eAAiBjxF,KAAKixF,gBAAkBgB,C,CAG/C,IAA2B,IAAvBjyF,KAAK6lC,eAA2B7lC,KAAKixF,eAAgB,CACvD,MAAMpC,GAAiB5kF,EAAAA,GAAAA,IACrB7B,EAAAA,GAAAA,SAAAA,KACApI,KAAK6lC,eAEP7wB,GAAAA,EAAAA,eACE,SAAQQ,EAAAA,GAAAA,IAA4Bq5E,GAAgB3tF,KAAKP,Q,MAG3DqU,GAAAA,EAAAA,yCAGFlU,EAAAA,GAAAA,uBAEAd,KAAKqkC,mBAAoB,EAEzBrkC,KAAKyvF,gBAAkB,IAClBtB,MAELnuF,KAAKgxF,mBAAoB,EACzBhxF,KAAK6lC,eAAgB,EACrB7lC,KAAK+wF,qBAAsB,EAC3B/wF,KAAKixF,gBAAiB,CACxB,CAEAY,6DAA6DvtF,GACtDtE,KAAKyvF,gBAAgBlB,YAE1BvuF,KAAKmyF,kBAAkBnyF,KAAKyvF,gBAAgBlB,WAAYjqF,EAC1D,CAGA6tF,kBAAkBzpF,EAAgBpE,GAC5BtE,KAAKmxF,0BACPhmE,aAAanrB,KAAKmxF,0BAGpBnxF,KAAKmxF,yBAA2B/lE,YAAW,KAIzC,GAHAprB,KAAKmxF,yBAA2B,KAG5BzoF,IAAW1I,KAAKyvF,gBAAgBlB,WAAY,CAC9C,MAAM5lF,GAAsCpH,EAAAA,GAAAA,GAC1CT,EAAAA,GAAAA,kCAGF6H,EAAoCD,IAAU,EAE9C5H,EAAAA,GAAAA,oCACE6H,GAOF3I,KAAK03B,SAASpzB,E,IAEf,IACL,CAEI+nC,sBACF,OAAOA,GAAAA,EACT,CAEA+lD,mBACEtxF,EAAAA,GAAAA,qCACEwf,EAAAA,GAAAA,IAAyBlY,EAAAA,GAAAA,SAAAA,MAA6B,GAE1D,CAEAiqF,iBACEvxF,EAAAA,GAAAA,qCACEwf,EAAAA,GAAAA,IAAyBlY,EAAAA,GAAAA,SAAAA,MAA6B,GAE1D,CAEAkqF,uBAAuBC,GACrB,MAAMC,GAAyBlyE,EAAAA,GAAAA,IAC7BlY,EAAAA,GAAAA,SAAAA,MACA,GAGIqqF,GAAqBlyE,EAAAA,GAAAA,IACzBnY,EAAAA,GAAAA,SAAAA,KACAmqF,GAGFzxF,EAAAA,GAAAA,oCAA4C,IACvC0xF,KACAC,GAEP,CAIAzE,cACE,GAAyB,IAArBhuF,KAAKiuF,YACPjuF,KAAKiuF,YAAc,EACnBjuF,KAAKoyF,wBACA,GAAyB,IAArBpyF,KAAKiuF,YACdjuF,KAAKqyF,iBACLryF,KAAKiuF,YAAc,OACd,GAAIntF,EAAAA,GAAAA,gBAAyB,CAClC,MAAM4xF,GAAsBj2E,EAAAA,GAAAA,IAC1BrU,EAAAA,GAAAA,SAAAA,KACAtH,EAAAA,GAAAA,iBAGF,GAAI4xF,GAAuBA,GAAqB1tF,KAAOqnC,GAAAA,GAKrD,OAHArsC,KAAKoyF,wBACLpyF,KAAKiuF,YAAc,GAKrBjuF,KAAKsyF,uBAAuBxxF,EAAAA,GAAAA,iBAC5Bd,KAAKiuF,YAAc,C,MAGnBjuF,KAAKoyF,mBACLpyF,KAAKiuF,YAAc,CAEvB,CAEA3yD,gBACEt7B,KAAKkxF,wCACHlxF,KAAKkxF,wCACT,CAEAp3C,aACEE,EAAAA,EAAAA,IAAc,MAChB,IAtYO53C,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,mCADao9C,IAAc,UAPlCtuF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVqJ,qBAAoB,KACpBm9E,YAAW,GACXr3C,eAAcA,OAGGyhD,I,YCxC2R,MCQhT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAI7tF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,sEAAsE,CAAC1E,EAAG,cAAc,CAAC8H,IAAI,cAAcpD,YAAY,iDAAiDF,GAAG,CAAC,MAAQpE,EAAIquC,QAAQ,CAACruC,EAAIM,GAAG,eAAiBN,EAAI6zF,iBAA0R7zF,EAAIkH,KAA5QtH,EAAG,UAAU,CAACA,EAAG,MAAM,CAACQ,MAAM,CAAC,MAAQJ,EAAI27C,IAAI,GAAK,WAAWv3C,GAAG,CAAC,MAAQ,SAASyC,GAAQ7G,EAAI27C,IAAM90C,CAAM,IAAI,CAAC7G,EAAIM,GAAG,eAAeV,EAAG,MAAM,CAACQ,MAAM,CAAC,MAAQJ,EAAI27C,IAAI,GAAK,aAAav3C,GAAG,CAAC,MAAQ,SAASyC,GAAQ7G,EAAI27C,IAAM90C,CAAM,IAAI,CAAC7G,EAAIM,GAAG,kBAAkB,GAAyB,YAAZN,EAAI27C,IAAmB/7C,EAAG,UAAU,CAACwE,GAAG,CAAC,iBAAmBpE,EAAI8zF,yBAAsC,cAAZ9zF,EAAI27C,IAAqB/7C,EAAG,aAAaI,EAAIkH,MAAM,EACpwB,EACI1G,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,kBAAkBtE,EAAI+F,GAAI/F,EAAI+zF,WAAW,SAASC,EAAS7zF,GAAO,OAAOP,EAAG,eAAe,CAACuF,IAAInF,EAAI+zF,UAAUrtF,OAAS,EAAIvG,EAAMC,MAAM,CAAC,sBAAsBJ,EAAI+zF,UAAUrtF,OAAS,EAAIvG,EAAM,SAAW6zF,EAAS,SAAWh0F,EAAIi0F,eAAiBj0F,EAAI+zF,UAAUrtF,OAAS,EAAIvG,GAAOiE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIk0F,mBAAmBl0F,EAAI+zF,UAAUrtF,OAAS,EAAIvG,EAAM,IAAI,IAAG,EAC9e,EACIK,GAAkB,GCFlB2D,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,iBAAiB8B,MAAM,CAAE,2BAA4BpG,EAAIgqF,UAAW5pF,MAAM,CAAC,eAAe,kBAAkBgE,GAAG,CAAC,MAAQ,SAASyC,GAAQ,OAAO7G,EAAIwB,MAAM,QAASxB,EAAIg0F,SAAS,IAAI,CAACp0F,EAAG,OAAO,CAAC0E,YAAY,yBAAyB,CAACtE,EAAIM,GAAGN,EAAIyH,GAAGzH,EAAIg0F,SAAS5gD,WACvX,EACI5yC,GAAkB,GCGtB,IAAqB2zF,GAArB,cAA0CzzF,EAAAA,MAMxC4C,EAAAA,EAAAA,IAAAA,EALCC,EAAAA,EAAAA,IAAK,CACJC,UACE,MAAO,CAAC,CACV,KACA,iCAIFF,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,gCARN2wF,IAAY,UADhCzwF,EAAAA,EAAAA,IAAU,CAAC,IACSywF,I,YCLqS,MCQ1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCLhC,IAAqBC,GAArB,cAAqC1zF,EAAAA,GACnCwzF,mBAAmBG,GACjBx7C,GAAAA,GAAAA,wBAAsCw7C,GACtCn+E,GAAAA,EAAAA,6BACF,CAEAm4B,SACEy5C,EAAAA,EAAAA,IAAa,UACf,CAEIiM,gBACF,MAAO,IAAIl7C,GAAAA,GAAAA,WAAyBs3C,SACtC,CAEI8D,mBACF,OAAOp7C,GAAAA,GAAAA,KACT,CAGAy7C,2BACEpzF,KAAKqzF,+BACP,CAEAA,gCACE7zF,EAAAA,GAAAA,UAAa,KACX,MAAM8zF,EAA0BtzF,KAAK8xC,IAAIryB,cACvC,yBAAyBzf,KAAK+yF,kBAG5BO,GACFtzF,KAAKM,MAAM,mBAAoBgzF,E,GAGrC,IAdAlxF,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,eAAgB,CAAE8uB,WAAW,KAAO,8CAlBxBy5D,IAAO,UAN3B1wF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVwmF,YAAW,GACXuM,aAAYA,OAGKC,I,YCdgS,MCQrT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIjwF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,mBAAmB,CAAC1E,EAAG,gBAAgB,CAACQ,MAAM,CAAC,aAAaJ,EAAIykF,QAAQ,UAAYzkF,EAAI0oF,gBAAgB,kCAAkC1oF,EAAI4pF,8BAA8BxlF,GAAG,CAAC,iBAAmBpE,EAAI2oF,uBAAuB,EACpV,EACInoF,GAAkB,GC4BtB,IAAqBi0F,GAArB,cAAuC/zF,EAAAA,GAAvCC,c,oBACE,KAAA8jF,SAAU,EACV,KAAAiQ,sBAAwB,EACxB,KAAApK,qBAAuB,OAEvB,KAAAV,6BAA8C,IA+MhD,CA7MMlB,sBACF,OAAOxnF,KAAKqoF,UAAUhnF,KACpB,CAACsnF,EAAU1pF,KAAK,CACd2pF,aAAcD,EACdE,WAAY7oF,KAAKwzF,wBAA0Bv0F,KAGjD,CAEAoF,gBACErE,KAAKujF,SAAU,EACf,MAAM2F,QAAwBlpF,KAAKyzF,uBACnCzzF,KAAKujF,SAAU,EACV2F,IAILpoF,GAAAA,GAAAA,iBAAyB,CACvBunF,UAAWa,EACXG,uBAAwBrpF,KAAK0zF,0BAA0BxK,KAGzDlpF,KAAK2zF,oBAEL3zF,KAAKopF,qBAAuBppF,KAAKo7B,OAAOC,WAAU8a,IAChD,MAAMszC,GAAaC,EAAAA,GAAAA,IAA0BvzC,GAG5B,aAAfszC,GACyB,0BAAzBtzC,EAAgBx1C,OAEhBG,GAAAA,GAAAA,iBAAyB,CACvBunF,UAAWvnF,GAAAA,GAAAA,cAAAA,UACXuoF,uBAAwBrpF,KAAK0zF,0BAC3B5yF,GAAAA,GAAAA,cAAAA,aAIJd,KAAK2zF,oB,IAGX,CAEA7/D,YACE9zB,KAAKopF,sBACP,CAEIf,gBACF,OAAOvnF,GAAAA,GAAAA,cAAAA,uBACH,CACEA,GAAAA,GAAAA,cAAAA,0BACGA,GAAAA,GAAAA,cAAAA,WAELA,GAAAA,GAAAA,cAAAA,SACN,CAEI8yF,kBACF,OAAOv2E,EAAAA,GAAAA,IAAWjV,GAAAA,GAAAA,SAAAA,KACpB,CAEI0tC,4BACF,OAAOh1C,GAAAA,GAAAA,qBACT,CAGAuD,mCACE,IAAKvD,GAAAA,GAAAA,sBAA+B,CAClC,MAAMooF,QAAwBlpF,KAAKyzF,uBAC/BvK,GACFpoF,GAAAA,GAAAA,iBAAyB,CACvBunF,UAAWa,EAEXG,uBAAwB,OAI5BrpF,KAAK2zF,mB,CAET,CAEAA,oBACE,MAAME,EAAsB7zF,KAAK8zF,uBAC/BhzF,GAAAA,GAAAA,cAAAA,YAG2B,IAAzB+yF,GACF7zF,KAAKwzF,sBAAwB1yF,GAAAA,GAAAA,cAAAA,uBAEzB+yF,EAAsB,EACtBA,EAEJ7zF,KAAK+zF,uBAAuB,YAE5B/zF,KAAKwzF,sBAAwB,EAC7BxzF,KAAK+zF,uBAAuB,QAEhC,CAEAD,uBAAuBzL,GACrB,OAAOA,EAAUhiD,WAAUsiD,IACzBqL,EAAAA,GAAAA,IAAWrL,EAASpvE,KAAMvZ,KAAK4zF,cAEnC,CAEAF,0BACErL,GAEA,MAAM4L,EAAiBj0F,KAAK8zF,uBAAuBzL,GAEnD,IAAwB,IAApB4L,EACF,MAAO,CACLjvF,IAAK,EACL4iF,QAAQ,EACRD,KAAM,UACNpuE,KAAMvZ,KAAK4zF,aAKf,MAAMM,EACe,IAAnBD,GACAnzF,GAAAA,GAAAA,cAAAA,yBACAkzF,EAAAA,GAAAA,IACE3L,EAAU4L,GAAgB16E,KAC1BzY,GAAAA,GAAAA,cAAAA,wBAA8CyY,MAGlD,OAAI26E,EACK,KAGFpzF,GAAAA,GAAAA,cAAAA,sBACT,CAEAuD,6BACE,OAAOkK,EAAAA,EAAAA,YACC6J,EAAAA,EAAAA,GAAyB,CAC7BC,OAAQ,gCACRG,QAAS4vE,GACT9vE,WAAY,CACVtT,GAAIoD,GAAAA,GAAAA,SAAAA,aAAAA,OAGRqG,EAAAA,EAAAA,OACEkK,KACEoF,EAAAA,GAAAA,IAAmBpF,GAEZ,QAETzX,GACM,gBAAiBA,GACnBlB,KAAK0oF,6BAA+BxnF,EAAKonF,YAElC,MAGFpnF,EAAKmnF,UACThnF,KAAIsnF,IACH,MAAMwL,GAAYpgF,EAAAA,GAAAA,GAChB40E,EAASpvE,KACT4uE,GAAAA,IAGIiM,GAAc7lF,EAAAA,EAAAA,MAClB4lF,GACA1lF,EAAAA,EAAAA,OACE,IAAM,OACN8K,GAAQA,KAIZ,MAAO,IACFovE,EACHpvE,KAAM66E,EACP,IAEFxyF,QACE+mF,GAA6D,OAAlBA,EAASpvE,SAKjE,CAEAkuE,mBAAmBuC,EAAgC/qF,GACjD,MAAM0pF,EAAW3oF,KAAKqoF,UAAU76E,MAC9Bm7E,GAAYA,EAAS3jF,KAAOglF,EAAepB,aAAa5jF,KAGtD2jF,IACF3oF,KAAKwzF,sBAAwBv0F,EAC7B6B,GAAAA,GAAAA,gBAAwB,MACxBA,GAAAA,GAAAA,kBAA0B,WAC1BsH,GAAAA,GAAAA,aAA2BugF,GAC3B7nF,GAAAA,GAAAA,kBAA0B,UAE9B,CAEAizF,uBAAuBM,IACrBtrF,EAAAA,GAAAA,IAAc,IACZsJ,SACGoN,cAAc,+CACb2gE,eAAe,CAAEiU,WAAUhU,MAAO,YAE1C,IA3IAj+E,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,0BAAwB,gDAvEZ4oF,IAAS,UAH7B/wF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAE8oF,cAAa,GAAED,aAAY,GAAErC,YAAWA,OAEnC6M,I,YC9BkS,MCQvT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCKhC,IAAqBe,GAArB,cAAsD90F,EAAAA,GAAtDC,c,oBACE,KAAAg7C,IAA4B,SAc9B,CAPEtN,SACEy5C,EAAAA,EAAAA,IAAa,UACf,CAEAgM,sBAAsBh7E,IACpB65E,EAAAA,EAAAA,IAA+BzxF,KAAK8xC,IAAK9xC,KAAKuxF,YAAYz/C,IAAKl6B,EACjE,IAVAxV,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,IAAK,CAAEC,SAAS,KAAQ,yCAGlBF,EAAAA,EAAAA,IAAAA,EAANsxC,EAAAA,EAAAA,OAAK,mCANa4gD,IAAwB,UAT5C9xF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVqzF,UAAS,GACTL,QAAO,GACPxM,YAAW,GACXnO,QAAO,GACPF,IAAGA,OAGcic,I,YCxBqS,MCQ1T,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIrxF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACwG,MAAMpG,EAAI0X,WAAW,CAAC1X,EAAI0K,GAAG,YAAY,EACnJ,EACIlK,GAAkB,GCOtB,IAAqBi1F,GAArB,cAAoD/0F,EAAAA,GAO9CgX,gBACF,MAAwB,WAApBxW,KAAKilD,WAAgC,CAAC,EAEnC,CACLuvC,UAAU,EACV,gBAAgB,EAChBC,aAAgC,UAAlBz0F,KAAKqI,SACnBqsF,cAAiC,SAAlB10F,KAAKqI,SACpB,2BAA8C,SAAlBrI,KAAKqI,SACjC,4BAA+C,UAAlBrI,KAAKqI,SAEtC,IAhBAjG,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,kCAJYkyF,IAAsB,SAD1C/xF,EAAAA,IACoB+xF,I,YCT+S,MCQpU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCMhC,IAAqBI,GAArB,cAA2Cn1F,EAAAA,GAA3CC,c,oBAmBE,KAAAm1F,qBAAuB,CACrBxqF,MAAOpK,KAAKilD,WACZ58C,SAAUrI,KAAKqI,UAIjB,KAAA22E,aAAeh/E,KAAK40F,oBACtB,CAzBMp0E,sBACF,OAAO1f,EAAAA,GAAAA,eACT,CASA+zF,qBACE70F,KAAK40F,qBAAqBxqF,MAAQpK,KAAKilD,UACzC,IARA7iD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,mCAIPD,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,eAAa,yCAcpBvI,EAAAA,EAAAA,IAAAA,EADCstE,EAAAA,EAAAA,IAAQ,iBAAe,oCAxBLilB,IAAa,UAXjCnyF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVq0F,uBAAsB,GACtBD,yBAAwB,GACxBxD,eAAc,GACd/T,uBAAsB,GACtB4J,IAAG,GACHsD,oBAAmB,GACnB6D,eAAcA,OAGG6G,I,YCzB0R,MCO/S,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI1xF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAAC0E,YAAY,0BAA0B,CAAC1E,EAAG,MAAM,CAAC0E,YAAY,8BAA8B,CAACtE,EAAI0K,GAAG,WAAW,GAAG9K,EAAG,MAAM,CAAC0E,YAAY,+BAA+B,CAACtE,EAAI0K,GAAG,SAAS,IACjS,EACIlK,GAAkB,GCGtB,IAAqBw1F,GAArB,cAAuCt1F,EAAAA,KAAlBs1F,IAAS,SAD7BtyF,EAAAA,IACoBsyF,I,YCLkS,MCQvT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAI7xF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAMI,EAAI+F,GAAI/F,EAAIi2F,sBAAsB,SAASl2F,EAAMsJ,GAAM,OAAOzJ,EAAG,gBAAgB,CAACuF,IAAIkE,EAAKjJ,MAAM,CAAC,KAAOL,EAAM8B,KAAK,mBAAmB9B,EAAMgsF,aAAa,sBAAsBhsF,EAAMksF,SAAS,sBAAsBlsF,EAAMgsF,aAAa,yBAAyBhsF,EAAMisF,aAAa,aAAajsF,EAAM08C,UAAU,cAAc18C,EAAMm2F,WAAW,cAAcn2F,EAAMo2F,WAAW,KAAOp2F,EAAMq2F,MAAMhyF,GAAG,CAAC,QAAU,SAASyC,GAAQ,OAAO7G,EAAIq2F,0BAA0BhtF,EAAM,UAAU,EAAE,KAAO,SAASxC,GAAQ,OAAO7G,EAAIq2F,0BAA0BhtF,EAAM,OAAO,EAAE,OAAS,SAASxC,GAAQ,OAAO7G,EAAIs2F,wBAAwBjtF,EAAK,EAAE,gBAAgB,SAASxC,GAAQ,OAAO7G,EAAIs2F,wBAAwBjtF,EAAK,GAAGnJ,YAAYF,EAAIwnB,GAAG,CAAC,CAACriB,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACpF,EAAIM,GAAGN,EAAIyH,GAAG1H,EAAMqzC,OAAO,KAAK,EAAEluC,OAAM,GAAM,CAACC,IAAI,OAAOC,GAAG,WAAW,MAAO,CAACpF,EAAIM,GAAGN,EAAIyH,GAAG1H,EAAMgU,OAAO,EAAE7O,OAAM,IAAO,MAAK,IAAO,IAAG,EAC79B,EACI1E,GAAkB,GCYtB,IAAqB+1F,GAArB,cAAkD71F,EAAAA,GAC5Cu1F,2BACF,OAAOrzF,OAAO4zF,YACZ5zF,OAAO+yB,QAAQ3zB,GAAAA,GAAAA,sBAA8Bc,QAC3C,EAAE,CAAE2zF,KACKA,GAAgBA,EAAaL,OAI5C,CAEAC,0BACE1K,EACAI,GAEA/pF,GAAAA,GAAAA,mCAA2C,CAAE2pF,UAASI,gBACxD,CAEAuK,wBAAwB3K,GACtB3pF,GAAAA,GAAAA,wBAAgC2pF,EAClC,GApBmB4K,IAAoB,UALxC7yF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVy7C,cAAaA,OAGI05C,I,YCd6S,MCOlU,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClBY32F,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAgB,oB,OAAC,WAAY,C,MAAC,CAAgB,SAACM,WAAe,I,YAAqB,KAAU,E,IAAC,QAAwD,GAAC,WAACgF,MAAM,+CAAK,EAAEC,OAAI,GAAOC,C,IAAc,OAA0mB,GAAC,WAACF,MAAM,+iBAAK,EAAEC,OAAI,GAAUC,C,IAAc,U,GAAqEhF,W,MAAO,GAAO,oBAAE,2B,MAAC,CAA2B,QAAIJ,KAAO,qB,CAAiE,KAAM,oBAAG,qBAA0F,OAA1F,Q,MAAC,CAAsB,QAAIA,KAAO,gB,CAA+C,KAAM,mBAAG,Q,MAAC,CAAe,KAAOA,GAAe,aAAIA,KAAO,gBAAsB,GAAC,kBAAM,EAAG,aAIvyC,E,MCMA,IAAqB02F,GAArB,cAA4Ch2F,EAAAA,GAatCi2F,0BACF,MAAMC,EAAMrjF,SAASiE,cAAc,YAEnC,OADAo/E,EAAInsE,UAAYvpB,KAAK2mB,aACd+uE,EAAI72F,KACb,CAEI82F,kBACF,OAAOjxE,EAAAA,GAAAA,IAAqB1kB,KAAK0mB,WACnC,CAEIgzB,kBACF,OAAIh5C,GAAAA,GAAAA,2BACKA,GAAAA,GAAAA,2BAAAA,oBAA6D,GAG/D,EACT,IA3BA0B,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,qCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,mCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,2CAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,wCAVYmzF,IAAc,UAHlChzF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEyE,OAAMA,GAAAA,MAED6wF,I,YCV2R,MCOhT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClBY92F,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAgB,oB,OAAC,WAAY,C,MAAC,CAAgB,SAACM,WAAe,I,YAAqB,KAAU,E,IAAC,QAAiC,GAAC,WAACgF,MAAM,wBAAK,EAAEC,OAAI,GAAOC,C,IAAc,OAAu+B,GAAC,WAACF,MAAM,m5BAAK,EAAEC,OAAI,GAAUC,C,IAAc,U,GAAoBhF,W,MAAO,GAAM,KAAG,C,MAAC,CAAe,KAAOJ,GAAkC,aAAIA,KAAO,mCAAsC,GAAC,kCAAM,EAAG,aAIp7C,E,MCKA,IAAqB82F,GAArB,cAA+Cp2F,EAAAA,GACzCq2F,sBACF,OAAOn1F,GAAAA,GAAAA,eACT,GAHmBk1F,IAAiB,UAHrCpzF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEyE,OAAMA,GAAAA,MAEDixF,I,YCT8R,MCOnT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClBYl3F,GAAOC,W,IAASC,EAAM,KAAuB,EAAOF,EAAG,SAAgB,oB,OAAC,WAAYo3F,C,MAAW,CAAY,QAAY,WAAM,UAAG,WAAC,G,GAA0B,CAAiC,kBAAE,yBAAC92F,G,YAA2C,KAAU,E,IAAC,eAAwC,GAAC,WAACgF,MAAM,+BAAK,EAAEC,OAAI,GAAQC,C,IAAc,QAA2D,GAAC,WAACF,MAAM,kDAAK,EAAEC,OAAI,GAAOC,C,IAAc,OAA6H,GAAC,WAACF,MAAM,mHAAK,EAAEC,OAAI,GAAUC,C,IAAc,U,GAAoB8nB,W,MAAa,SAAqB,YAAC,CAAC9sB,eAAM,QAAe,MAAC,CAAG,MAAC,QAA8B,IAAIJ,MAAO,sB,CAA8C,gCAAa,Q,MAAC,CAAU,YAAG,KAAC,IAAyB,IAAIA,MAAO,iBAAuB,GAAC,mBAAM,EAAG,aAIv4B,E,MCQA,IAAqBi3F,GAArB,cAA4Cv2F,EAAAA,GAA5CC,c,oBACE,KAAAyiD,OAASxhD,GAAAA,GAAAA,YAAwBs1F,0BAA2B,CA6B9D,CA3BMF,iBACF,OAAO91F,KAAKi2F,aAAej2F,KAAKkiD,MAElC,CAEI+zC,kBACF,OAA4D,IAArD7tF,GAAAA,GAAAA,SAAAA,KAAAA,KAAAA,SAAAA,MACT,CAEA8tF,eACEl2F,KAAKkiD,QAAS,GAEd9pC,EAAAA,EAAAA,GAAyB,CACvBC,OAAQ,4BACRC,WAAY,CACVrU,IAAK,qCACL/C,KAAM,QAERsX,QAAS3J,EAAAA,IAEb,CAEAg4E,qBACE3uD,EAAAA,GAAAA,IAAgB,SAEhBl4B,KAAKk2F,cACP,GA7BmBH,IAAc,UAHlCvzF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CAAEyE,OAAMA,GAAAA,MAEDoxF,I,YCZ2R,MCOhT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCoBhC,IAAqBI,GAArB,cAA2C32F,EAAAA,GAA3CC,c,oBAkDE,KAAAgnB,oBAAqB,CA+DvB,CAhHEoY,UACO/9B,EAAAA,GAAAA,gBACLs1F,EAAAA,GAAAA,KAA0BxkF,UAC5B,CAEA0pB,iBACE86D,EAAAA,GAAAA,KAA0BtkF,UAC1BH,EAAAA,GAAAA,MAA6BG,QAC/B,CAEI0E,gBACF,MAAO,CAAC,kBAAkBxW,KAAKkK,aACjC,CAEI6c,2BACF,OAAOjmB,EAAAA,GAAAA,WAAAA,oBACT,CAEIsmB,wBACF,OAAOtmB,EAAAA,GAAAA,WAAAA,iBACT,CAEAkmB,uBAAuB1iB,GACrBxD,EAAAA,GAAAA,wBAAgCwD,EAClC,CAEI2iB,qCACF,OAAOnmB,EAAAA,GAAAA,WAAAA,8BACT,CAEAomB,iCAAiC5iB,GAC/BxD,EAAAA,GAAAA,iCAAyCwD,EAC3C,CAEIkc,sBACF,OAAO1f,EAAAA,GAAAA,eACT,CAEIylB,4BACF,OAAOzlB,EAAAA,GAAAA,WAAAA,gBACT,CACIqmB,6BACF,OAAOrmB,EAAAA,GAAAA,WAAAA,iBACT,CAEIoJ,iBACF,OAAOxJ,EAAAA,GAAAA,YAAwBF,IACjC,CAGAgmB,iBAEEN,qBAAoB,MAClBL,EAAAA,GAAAA,KAAkC,IAGhC7lB,KAAKq2F,yBAA2Br2F,KAAKs2F,8BACvCt2F,KAAKymB,oBAAqB,IAG5B9U,EAAAA,GAAAA,MAA6BC,UAC/B,CAEIkV,4BACF,QAASpmB,EAAAA,GAAAA,eACX,CAEI21F,6BACF,OAGQ,OAFNnkF,OAAOC,YAAYC,QAAQC,UAAUoN,cACnC,gCAGN,CAEA82E,qBAAqBntE,GACnB,IAAKppB,KAAKq2F,uBACR,OAAO,KAGT,MAAMG,EAAkBtkF,OAAOC,YAAYC,QAAQC,UAAUoN,cAC3D,iCAGF,OAAO+2E,GAAiB/9D,aAAarP,EACvC,CAEIzC,mBACF,OAAO3mB,KAAKu2F,qBAAqB,uBAAyB,EAC5D,CAEI7vE,iBACF,MAAM+vE,EAAmBz2F,KAAKu2F,qBAAqB,oBAEnD,OAAOE,EAAmBjqF,SAASiqF,GAAoB,IACzD,CAEI7vE,yBACF,MAAkE,SAA3D5mB,KAAKu2F,qBAAqB,4BACnC,CAEI1vE,uBACF,OAAO7mB,KAAKu2F,qBAAqB,yBACnC,CAEID,kCACF,OAGQ,OAFNpkF,OAAOC,YAAYC,QAAQC,UAAUoN,cACnC,uCAGN,GAhHmB02E,IAAa,UAjBjC3zF,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV61F,eAAc,GACdlT,mBAAkB,GAClB+S,kBAAiB,GACjBJ,eAAc,GACdH,qBAAoB,GACpBzhD,aAAY,GACZsG,cAAa,GACboN,iBAAgB,GAChB+uB,cAAa,GACbluB,2BAA0B,GAC1BwsC,cAAa,GACbh5C,cAAa,GACbm5C,UAASA,OAGQqB,I,YCtC0R,MCQ/S,IAAI,IAAY,OACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCnBhC,IAAIlzF,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,MAAM,CAACA,EAAG,KAAK,CAACI,EAAIM,GAAG,0BAA0BN,EAAI+F,GAAI/F,EAAI6Z,QAAQ,SAAStE,EAAM6U,GAAG,OAAOxqB,EAAG,MAAM,CAACuF,IAAIilB,EAAE9lB,YAAY,wBAAwB,CAACtE,EAAIM,GAAG,IAAIN,EAAIyH,GAAG8N,GAAO,MAAM,KAAI,EACzR,EACI/U,GAAkB,GCItB,IAAqBo3F,GAArB,cAAmCl3F,EAAAA,GAC7BmZ,aACF,OAAO7X,EAAAA,GAAAA,0BACT,GAHmB41F,IAAK,SADzBl0F,EAAAA,IACoBk0F,I,YCNoR,MCQzS,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCQhC,IAAqBC,GAArB,cAAqCn3F,EAAAA,GAArCC,c,oBACE,KAAAm3F,iBAA4C,IAwG9C,CAvGEvyF,oBACE,GAAsC,YAAlC6N,OAAOC,WAAW0kF,YAA2B,CAE/C,MAAM70E,QAAwBL,EAAAA,GAAAA,IAC5BzP,OAAOC,WAAW2kF,0BAEpBl0E,EAAAA,GAAAA,IAAsCZ,E,CAExChiB,KAAK42F,kBAAmBG,EAAAA,GAAAA,IAC1B,CAEAz7D,gBACMt7B,KAAK42F,kBACP52F,KAAK42F,iBAAiBzpD,OAE1B,CAEI9mB,qBACF,OAAOvlB,EAAAA,GAAAA,cACT,CAEIslB,oBACF,OAAOtlB,EAAAA,GAAAA,2BAAAA,MACT,CAEIk2F,4BACF,OAAO5uF,EAAAA,GAAAA,SAAAA,aAAAA,EACT,CAGA6uF,4BAA4BtyE,GAC1B,MAAMuyE,EAAa,CAAC,cAEhBvyE,IAAewyE,GAAAA,IACjBD,EAAWprF,KAAK1D,EAAAA,GAAAA,SAAAA,aAAAA,YAGlB8J,OAAOG,SAAS6/B,MAAQglD,EAAWjqF,KAAK,MAC1C,CAEI6oC,4BACF,OAAOh1C,EAAAA,GAAAA,qBACT,CAGA6pF,kCAAkC70C,GAC5BA,EACF91C,KAAKo3F,6BAELp3F,KAAKq3F,2BAET,CAEAD,6BACEt2F,EAAAA,GAAAA,2BAAmC,CACjC2pF,QAAS,UACTC,uBAAwB,CACtBx4C,MAAO,mCACP+iD,WAAY,oBACZt0F,KAAM,UACN46C,WAAW,EACXy5C,YAAY,IAGlB,CAEAqC,4BACEv2F,EAAAA,GAAAA,iCAAyC,UAC3C,CAEI8pF,+BACF,OAAO9pF,EAAAA,GAAAA,qBAAAA,SAAsC+pF,YAC/C,CAGAxmF,2CACEwmF,GAEqB,YAAjBA,GACF7qF,KAAKq3F,6BACL30E,EAAAA,GAAAA,OAC0B,SAAjBmoE,IACT/pF,EAAAA,GAAAA,+BAAuC,CACrC2pF,QAAS,UACTM,UAAU,KAEZx8E,EAAAA,EAAAA,YACQonC,MACNlnC,EAAAA,EAAAA,OACE,KACE3N,EAAAA,GAAAA,+BAAuC,CACrC2pF,QAAS,UACTM,UAAU,GACV,IAEJ,KACE/qF,KAAKq3F,6BACL30E,EAAAA,GAAAA,KAAkB,KAK5B,IAxEAtgB,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,wBAAyB,CAAE8uB,WAAW,KAAO,kDAgBpDr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,wBAAyB,CAAE8uB,WAAW,KAAO,wDA+BpDr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,2BAA4B,CAAE8uB,WAAW,KAAO,0DA5EpCk9D,IAAO,UAP3Bn0F,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVi2F,cAAa,GACbxiD,QAAO,KACP2jD,oBAAmBA,OAGFX,I,YC3B4P,MCOjR,IAAI,IAAY,OACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,IClB4H33F,GAAAA,W,IAAqBiF,EAAI,K,EAAW,EAAC,SAAW,EAAQvF,MAAG,Y,SAAwC0E,MAAAA,CAAY,WAAZA,EAAY,8B,YAA+B,EAAK,GAACtE,CAAG,C,IAA8BsE,S,GAAmElE,W,MAAO,GAAO,SAAKq4F,CAAAA,EAAAA,gBAAkB,U,YAAW,2B,CAAoB,OAAQ,CAAC,8BAAQ,mEAAE,MAAMn4F,CAAoFF,MAAM,qBAAC,0BAAqB,kBAAwB,CAACR,EAAG,kCAAuB,sCAAC2E,MAAM,CAACxE,cAAW6oB,OAAmBnkB,eAAS,S,CAAyC,EAAC,wB,MAACC,CAA8B,0BAAI,SAAO,SAAW,GAAoCtE,EAAM,mBAAC,EAAoB,mCAAmBkE,GAAAA,EAAAA,GAAAA,GAAY,gCAA8B,CAAClE,MAAM,CAAC,cAAW,SAAIF,CAAAA,EAAAA,WAAgBsnB,C,YAAS,+B,MAAe,C,WAAWpjB,I,YAAcxE,EAAG,K,IAAqBQ,Y,aAAe,G,UAA8E,sBAAE,MAAM,4CAAQ,KAAM,KAAkB,KAAUR,uBAAyB,IAAW,IAAI,qB,CAAC,OAAQI,CAAAA,EAAI04F,GAAAA,EAAAA,CAAyB,OAAI94F,MAAG,I,GAAgF,CAAW,oC,CAAK,QAAY+4F,CAAAA,EAAAA,GAAAA,wBAAAA,GAAAA,EAAAA,GAAAA,EAAAA,CAAoB,OAAI/4F,MAAG,I,GAA0E,CAAW,+B,CAAK,QAAYg5F,CAAAA,EAAAA,GAAAA,kBAAAA,GAAAA,EAAAA,GAAAA,EAAAA,CAA8B,OAAIh5F,MAAG,I,GAAsF,CAAiB,yCAAiDQ,CAAAA,EAAK,MAAC,wD,MAAC,CAAoB,gBAAqBA,CAAAA,EAAK,mBAAC,sB,MAAC,CAAuB,cAAO,SAAMgE,CAAE,EAAC,c,MAAC,CAA0B,qBAAI,KAAO,MAAGc,GAAM,CAAM,2BAAe,O,SAA4E9E,G,eAAgE,WAAC,MAAM,2BAAgB,6BAACA,MAAM,CAAC,cAAc,EAAI,sBAAa,SAAY,UAA6D,kBAAoB,C,MAAuB,CAAsB,eAAe,EAACy4F,YAAS,aAAY74F,EAAI2oB,UAAe,4CAAG,qBAAC,oBAAC,iBAAe3oB,EAAuB,uBAAkD,8BAAmI,IAAIJ,aAAG,qBAA2BQ,mBAAM,2BAAC,oCAAkBioB,EAAsB,0CAAC,kBAAW,6BAAW,6BAAC,OAAM,cAAC,yBAAW,SAAO,WAExiF7nB,EAEJ,OAAS2D,I,kFCJLA,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,yBAAyB,CAACQ,MAAM,CAAC,cAAcJ,EAAImmD,WAAW,SAAWnmD,EAAIuJ,WAAW,CAAqB,mBAAnBvJ,EAAImmD,WAAiCvmD,EAAG,uBAAuBI,EAAIkH,KAAyB,cAAnBlH,EAAImmD,WAA4BvmD,EAAG,kBAAkBI,EAAIkH,KAAyB,YAAnBlH,EAAImmD,WAA0BvmD,EAAG,2BAA2B,CAACQ,MAAM,CAAC,qBAAoB,KAAQJ,EAAIkH,MAAM,EAC/a,EACI1G,GAAkB,GCgBtB,IAAqBs4F,GAArB,cAAqDp4F,EAAAA,MAEnD4C,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,iCAIPD,EAAAA,EAAAA,IAAAA,EADCC,EAAAA,EAAAA,OAAM,kCAJYu1F,IAAuB,UAR3Cp1F,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVo0F,yBAAwB,GACxBC,uBAAsB,GACtBtK,oBAAmB,GACnB6D,eAAcA,OAGG8J,I,YClBoS,MCOzT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QClBhC,IAAI30F,GAAS,WAAkB,IAAInE,EAAIkB,KAAKtB,EAAGI,EAAIH,MAAMD,GAAUI,EAAIH,MAAMiG,YAAY,OAAOlG,EAAG,iBAAiB,CAACstB,YAAY,CAAC,cAAc,MAAM,eAAe,OAAO9sB,MAAM,CAAC,QAAUJ,EAAI22C,eAAe,SAAW,MAAMvyC,GAAG,CAAC,MAAQpE,EAAI42C,OAAO,CAAC52C,EAAIM,GAAG,WAChQ,EACIE,GAAkB,GCatB,IAAqBu4F,GAArB,cAA4Cr4F,EAAAA,GAA5CC,c,oBACE,KAAAg2C,gBAAiB,CAsBnB,CApBMK,4BACF,OAAOh1C,EAAAA,GAAAA,qBACT,CAEAuD,aACErE,KAAKy1C,gBAAiB,QAEhBr3B,EAAAA,GAAAA,WACA2B,EAAAA,GAAAA,MAEN/f,KAAKy1C,gBAAiB,CACxB,CAEA5W,UACEoX,GAAAA,GAAAA,SAA2BC,GAAAA,EAAAA,MAA0Bl2C,KAAK01C,KAC5D,CAEApa,gBACE2a,GAAAA,GAAAA,OAAyBC,GAAAA,EAAAA,MAC3B,GAtBmB2hD,IAAc,UALlCr1F,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVmvC,eAAcA,OAGGwoD,I,YCf2R,MCOhT,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QC2ChC,IAAqBC,GAArB,cAAwCt4F,EAAAA,GAAxCC,c,oBACW,KAAAk4F,SAAW,4BAEpB,KAAAvmD,eAAkC,KAGlC,KAAAwlD,iBAA4C,IA+I9C,CA9IEvyF,oBACE,GAAsC,WAAlC6N,OAAOC,WAAW0kF,YAA0B,CAC9C,MAAM70E,QAAwBH,EAAAA,GAAAA,OAC9BE,EAAAA,GAAAA,IAAqCC,EAAiB,CACpDM,UAAWpQ,OAAOC,WAAWmQ,UAC7BK,kBAAmBzQ,OAAOC,WAAWwQ,mB,CAIzC3iB,KAAK42F,kBAAmBG,EAAAA,GAAAA,IAC1B,CAEI1wE,qBACF,OAAOvlB,EAAAA,GAAAA,cACT,CAEA+9B,UACE7+B,KAAKo2C,uBAAwBC,EAAAA,GAAAA,IAC3B,IACEhlC,EAAAA,GAAAA,kCACAA,EAAAA,GAAAA,mCAEN,CAEAiqB,iBACEgb,EAAAA,GAAAA,GAA6Bt2C,KAAKo2C,uBAC9Bp2C,KAAK42F,kBACP52F,KAAK42F,iBAAiBzpD,OAE1B,CAEAwF,mBAAmBtK,GACjB,IAAIA,EAIF,MADAroC,KAAKoxC,eAAiB,KAChB,gDAHNpxC,KAAKoxC,gBAAiB2mD,EAAAA,GAAAA,IAA6B1vD,EAKvD,CAEA1gB,yBAAyB+mB,GACvB5tC,EAAAA,GAAAA,2BAAmC4tC,EACrC,CAEA9mB,0CAA0CmsB,GACxCjzC,EAAAA,GAAAA,oCAA4CizC,EAC9C,CAEA/rB,0BACElnB,EAAAA,GAAAA,sBACF,CAEI0xC,gBACF,OAAOjwB,EAAAA,GAAAA,SACT,CAEI4wB,kBACF,OAAO5wB,EAAAA,GAAAA,WACT,CAEIy1E,mCACF,OAAOz1E,EAAAA,GAAAA,4BACT,CAEIg1E,yBACF,OAAOh1E,EAAAA,GAAAA,kBACT,CAEI6vB,yBACF,OAAOtxC,EAAAA,GAAAA,kBACT,CAEI2mB,qBACF,OAAOysB,EAAAA,GAAAA,IAAgB7iC,EAAAA,GACzB,CAEIkV,4BACF,OAAOzlB,EAAAA,GAAAA,WAAAA,gBACT,CAEIqmB,6BACF,OAAOrmB,EAAAA,GAAAA,WAAAA,iBACT,CAEIqd,qBACF,OAAO9M,EAAAA,GAAAA,cACT,CAEI0N,gBACF,OAAO1N,EAAAA,GAAAA,YACT,CAEI4mF,wCACF,OACEn4E,EAAAA,EAAAA,IAAc,oBACdA,EAAAA,EAAAA,IAAc,eACdA,EAAAA,EAAAA,IAAc,UAElB,CAEI4H,wBACF,OAAO5mB,EAAAA,GAAAA,iBACT,CAEI4mB,sBAAkBsvB,GACpBl2C,EAAAA,GAAAA,iBAAyBk2C,EAC3B,CAEAkhD,kBACEC,EAAAA,GAAAA,KACF,CAEAX,6BACEx9C,EAAAA,EAAAA,IAAc,iBAChB,CAEAy9C,wBACEz9C,EAAAA,EAAAA,IAAc,YAChB,CAEA09C,kCACE5vF,EAAAA,EAAAA,IAAY,UACd,CAGAmvF,+BACEmB,EAAAA,GAAAA,KACF,CAGAtqD,0BACM9tC,KAAKoxC,iBACPrD,EAAAA,GAAAA,GAA4B/tC,KAAKoxC,eAErC,CAGApD,qBACMhuC,KAAKoxC,iBACPnD,EAAAA,GAAAA,GAA6BjuC,KAAKoxC,eAEtC,IAhBAhvC,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,+BAAgC,CAAE8uB,WAAW,KAAO,kDAM3Dr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,iBAAkB,CAAE6uB,MAAM,EAAMC,WAAW,KAAO,8CAQzDr3B,EAAAA,EAAAA,IAAAA,EADCuI,EAAAA,EAAAA,IAAM,YAAa,CAAE6uB,MAAM,EAAMC,WAAW,KAAO,wCA/IjCq+D,IAAU,UAnB9Bt1F,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACVw3C,SAAQ,GACRmgD,eAAc,GACdD,wBAAuB,GACvBphD,qBAAoB,GACpBltC,KAAI,IACJ+lC,eAAc,GACdwD,cAAa,GACb0E,cAAa,GACbg9C,uBAAsB,GACtBt6C,OAAM,GACN66C,UAAS,GACT59C,WAAU,KACVm+C,qBAAoB,GACpBxyF,SAAQ,KACR8wC,QAAOA,GAAAA,MAGUmkD,I,YC7D+P,MCQpR,IAAI,IAAY,OACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,QCFhC,IAAqBO,GAArB,cAAiC74F,EAAAA,GAC/B27B,cACEr6B,EAAAA,GAAAA,QAAgBoR,OAAOC,WAAW0kF,YACpC,CAEI7P,0BACF,MAAwB,WAAjBlmF,EAAAA,GAAAA,IACT,CAEIw3F,kBACF,MAE6B,SAA3Bx3F,EAAAA,GAAAA,SAAAA,KAEJ,CAEI0V,gBACF,MAAO,CAAE,uBAAwBxW,KAAKs4F,YACxC,CAKAC,gBAAgBD,GAEdt4F,KAAKw4F,SAASvyC,MAAMwyC,KAAOH,CAC7B,IAHAl2F,EAAAA,EAAAA,IAAAA,EAHCuI,EAAAA,EAAAA,IAAM,cAAe,CACpB8uB,WAAW,KACX,qCAtBiB4+D,IAAG,UAPvB71F,EAAAA,EAAAA,IAAU,CACTtC,WAAY,CACV43F,WAAU,GACVnB,QAAO,GACP+B,cAAaA,EAAAA,MAGIL,I,YCjBwP,MCQ7Q,IAAI,IAAY,OACd,GACAp1F,EACA3D,GACA,EACA,KACA,KACA,MAIF,SAAe,GAAiB,Q,gBCXhCE,EAAAA,GAAAA,OAAAA,eAA2B,EAE3BA,EAAAA,GAAAA,OAAAA,gBAA6B,CAAC,aAAc,gBAE5CA,EAAAA,GAAAA,UAAc,aAAc0K,GAAAA,GAE5B,IAAI1K,EAAAA,GAAI,CACNgmB,MAAK,KAEL8uB,QAAO,KACPrxC,OAAQwsB,GAAKA,EAAE4oE,MACdtjD,OAAO,O,gFChBH,MAAM4jD,EAAkB9pF,EAAAA,GAAO,CACpCgE,KAAMhE,EAAAA,GACNhQ,MAAOgQ,EAAAA,KAUH+pF,EAAY/pF,EAAAA,GAAQ,CACxBA,EAAAA,GAAU,MACVA,EAAAA,GAAU,UACVA,EAAAA,GAAU,aACVA,EAAAA,GAAU,aACVA,EAAAA,GAAU,cACVA,EAAAA,GAAU,aACVA,EAAAA,GAAU,YACVA,EAAAA,GAAU,mBACVA,EAAAA,GAAU,gBACVA,EAAAA,GAAU,YACVA,EAAAA,GAAU,oBACVA,EAAAA,GAAU,YACVA,EAAAA,GAAU,gBACVA,EAAAA,KAKWgqF,EAAQhqF,EAAAA,GAAU,CAC7BwS,SAAUxS,EAAAA,GACViqF,YAAajqF,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,KAChCkqF,gBAAiBlqF,EAAAA,GAAQ,CAACmqF,EAAAA,GAAqBnqF,EAAAA,KAC/CwmD,QAASujC,EACT/5F,MAAOgQ,EAAAA,GAAQ,CACbA,EAAAA,GACAA,EAAAA,GACAA,EAAAA,GAAQA,EAAAA,IACRA,EAAAA,GAAQ8pF,KAEVM,iBAAkBpqF,EAAAA,GAAQ,CAACmqF,EAAAA,GAAqBnqF,EAAAA,OAKrCqqF,EAAarqF,EAAAA,GAAQgqF,GAIrBM,EAAsBtqF,EAAAA,GAAe,CAChDA,EAAAA,GAAO,CACLuN,MAAOvN,EAAAA,GACP+hD,MAAO/hD,EAAAA,GAAQ8pF,KAEjB9pF,EAAAA,GAAU,CACR0qE,iBAAkB1qE,EAAAA,GAAQ,CAACA,EAAAA,IAAU,GAAQA,EAAAA,GAAQA,EAAAA,UAM5CuqF,EAAavqF,EAAAA,GACxBA,EAAAA,GAAO,CACLrO,KAAMqO,EAAAA,GACNuN,MAAOvN,EAAAA,GACP0L,SAAU1L,EAAAA,GACV+mD,SAAU/mD,EAAAA,GAAQ+pF,GAClBh2B,OAAQ/zD,EAAAA,GAAQ,CAACA,EAAAA,GAAQsqF,GAAsBtqF,EAAAA,IAAU,KACzDwqF,eAAgBxqF,EAAAA,GAAQ,CACtBA,EAAAA,GACAA,EAAAA,GAAU,YACVA,EAAAA,GAAU,cACVA,EAAAA,GAAU,UACVA,EAAAA,GAAU,gBAEZ0qE,iBAAkB1qE,EAAAA,GAAQA,EAAAA,IAC1ByqF,SAAUzqF,EAAAA,GACRA,EAAAA,GAAQ,CACNA,EAAAA,GAAU,mBACVA,EAAAA,GAAU,cACVA,EAAAA,GAAU,oBAGdiS,QAASjS,EAAAA,GAAQ,CAACA,EAAAA,GAAaA,EAAAA,QAItB0qF,EAAc1qF,EAAAA,GAAQuqF,GAItBI,EAAkB3qF,EAAAA,GAAU,CACvC4qF,MAAO5qF,EAAAA,GACP6qF,QAAS7qF,EAAAA,GACT+Q,SAAU/Q,EAAAA,GACV8qF,WAAY9qF,EAAAA,GACZ+qF,UAAW/qF,EAAAA,GACXgrF,MAAOhrF,EAAAA,KAGIirF,EAAWjrF,EAAAA,GAAU,CAChCrO,KAAMqO,EAAAA,GACNlP,QAAS65F,IAGc3qF,EAAAA,GAAQirF,E,gFC1GjC,MAAMC,EAAYlrF,EAAAA,GAAO,CACvBuyC,SAAUvyC,EAAAA,GACVwwC,QAASxwC,EAAAA,GACTkxC,OAAQlxC,EAAAA,GAAQ,CAACA,EAAAA,GAAU,QAASA,EAAAA,GAAU,aAG1CmrF,EAAYnrF,EAAAA,GAAO,CACvB7J,GAAI6J,EAAAA,GACJgxC,MAAOhxC,EAAAA,GAAQkrF,GACfn6C,OAAQ/wC,EAAAA,GACRxJ,MAAOwJ,EAAAA,GAAQ,CAACA,EAAAA,GAAU,UAAWA,EAAAA,GAAU,cAGpCorF,EAAoBprF,EAAAA,GAAO,CACtC7J,GAAI6J,EAAAA,GACJg1C,OAAQh1C,EAAAA,GACRsvC,OAAQtvC,EAAAA,GACRi1C,kBAAmBj1C,EAAAA,GACnBy0C,QAASz0C,EAAAA,GACTwzC,eAAgBxzC,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,KACnCyzC,MAAOzzC,EAAAA,GAAQmrF,KAQJ57C,EAAwBvvC,EAAAA,GACnCA,EAAAA,GAAO,CACLw0C,OAAQx0C,EAAAA,GACRsvC,OAAQtvC,EAAAA,GACR00C,qBAAsB22C,EAAAA,KAGbj8C,EAAoBpvC,EAAAA,GAAO,CACtCwwC,QAASxwC,EAAAA,GACTuyC,SAAUvyC,EAAAA,I,qECvCL,MAAMsrF,EAAsBtrF,EAAAA,GAAO,CACxCurF,aAAcvrF,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,OAGtBwrF,EAAkBxrF,EAAAA,GAAO,CACpC1G,KAAM0G,EAAAA,GACN0jD,IAAK1jD,EAAAA,GACLlO,KAAMkO,EAAAA,GAAQ,CACZA,EAAAA,GAAU,iBACVA,EAAAA,GAAU,YACVA,EAAAA,GAAU,UACVA,EAAAA,KAEFm3E,QAASn3E,EAAAA,GAAQ,CAACA,EAAAA,GAAWA,EAAAA,KAC7B/K,KAAM+K,EAAAA,GAAQ,CAACA,EAAAA,GAAasrF,MAKjB3T,EAAqB33E,EAAAA,GAAO,CACvCyrF,gBAAiBzrF,EAAAA,GAAQwrF,GACzBnZ,kCAAmCryE,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,KACtD0rF,4BAA6B1rF,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,OAMrC2rF,EAAiB3rF,EAAAA,GAAO,CACnC7J,GAAI6J,EAAAA,GACJ1G,KAAM0G,EAAAA,GACN0jD,IAAK1jD,EAAAA,GACLkiB,KAAMliB,EAAAA,GAAQA,EAAAA,MAGHo3E,EAAiBp3E,EAAAA,GAAO,CACnCsqD,QAAStqD,EAAAA,GAGToyE,uBAAwBpyE,EAAAA,GAAQ,CAACA,EAAAA,GAAWA,EAAAA,KAC5C1G,KAAM0G,EAAAA,GACNsyE,iBAAkBtyE,EAAAA,GAAQ,CAACA,EAAAA,GAAWA,EAAAA,KACtCq0E,cAAer0E,EAAAA,GAAQ,CAACA,EAAAA,GAAWA,EAAAA,KACnCy2E,MAAOz2E,EAAAA,GAAQ2rF,KAQJC,EAAc5rF,EAAAA,GAAO,CAAE0jD,IAAK1jD,EAAAA,GAAU7J,GAAI6J,EAAAA,I,2FCjDhD,MAAM6rF,EAAgB7rF,EAAAA,GAAe,CAC1CA,EAAAA,GAAO,CACL0L,SACE1L,EAAAA,GACFrO,KAAMqO,EAAAA,GACNuN,MAAOvN,EAAAA,GACPY,SAAUZ,EAAAA,GAAQ6iE,EAAAA,IAClBipB,YAAa9rF,EAAAA,GAAQ+rF,EAAAA,KAEvB/rF,EAAAA,GAAU,CACRiS,QAASjS,EAAAA,GACTgsF,YAAahsF,EAAAA,GACbisF,kBAAmBjsF,EAAAA,GAAQ,CACzBA,EAAAA,GAASA,EAAAA,GAAUA,EAAAA,IAGnBA,EAAAA,GAAQA,EAAAA,UAgBDksF,GATiClsF,EAAAA,GAAO,CACnDmsF,SAAUnsF,EAAAA,GACVosF,cAAepsF,EAAAA,GACfqsF,aAAcrsF,EAAAA,KAMsBA,EAAAA,GACpCA,EAAAA,GACAA,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,GAAUA,EAAAA,GAASA,EAAAA,GAAUA,EAAAA,QAIrCmqF,EAAsBnqF,EAAAA,GAAO,CACxC+K,UAAW/K,EAAAA,GACX0S,MAAOm5E,EAGPx/E,WAAYrM,EAAAA,GAAQ,CAACksF,EAAwBlsF,EAAAA,GAAQA,EAAAA,QAK1CssF,EAAiBtsF,EAAAA,GAAQ6rF,GAEzBjiF,EAAe5J,EAAAA,GAAU,CACpC,QAAQgnB,QAAShnB,EAAAA,I,kKCjDZ,MAAMusF,EAA0BvsF,EAAAA,GACrCA,EAAAA,GAAO,CACLa,gBAAiBb,EAAAA,GAAQ6iE,EAAAA,IACzB9hE,eAAgBf,EAAAA,GAAQ6iE,EAAAA,IACxBxJ,iBAAkBr5D,EAAAA,GAAQ6iE,EAAAA,OAMjB2pB,EAAoCxsF,EAAAA,GAAO,CACtD1G,KAAM0G,EAAAA,GACN+U,SAAU/U,EAAAA,KAGCysF,EAA4CzsF,EAAAA,GAAO,CAC9D1G,KAAM0G,EAAAA,GACN5C,aAAc4C,EAAAA,KAGH0sF,EAAuC1sF,EAAAA,GAAO,CACzD1G,KAAM0G,EAAAA,GACNinB,SAAUjnB,EAAAA,KAeC2sF,EAA2B3sF,EAAAA,GAAQ,CAC9CwsF,EACAC,EACAC,IAKWE,EAA4B5sF,EAAAA,GAAQ2sF,GAMpCE,EAAiC7sF,EAAAA,GAAO,CACnD1G,KAAM0G,EAAAA,GACN+U,SAAU/U,EAAAA,KAOC8sF,EAAmC9sF,EAAAA,GAC9C6sF,GAOWE,EACX/sF,EAAAA,GAMIgtF,EAAqBhtF,EAAAA,GAAe,CACxCA,EAAAA,GAAO,CAAEse,OAAQte,EAAAA,KACjBA,EAAAA,GAAU,CAAEgM,aAAchM,EAAAA,GAAQA,EAAAA,IAAWitF,kBAAmBjtF,EAAAA,OAWrD+b,GARU/b,EAAAA,GAAO,CAC5BktF,WAAYF,EACZ91E,SAAUlX,EAAAA,GAAQA,EAAAA,MAM0BA,EAAAA,GAAU,CACtDqjC,MAAOrjC,EAAAA,GAEPmtF,QAASntF,EAAAA,GAAQA,EAAAA,IAEjBokB,cAAepkB,EAAAA,GAAQA,EAAAA,IAEvB25C,OAAQ35C,EAAAA,GAAQA,EAAAA,IAEhBotF,aAAcptF,EAAAA,GAAQA,EAAAA,IAEtBqtF,iBAAkBrtF,EAAAA,GAElBstF,kBAAmBttF,EAAAA,GAEnButF,YAAavtF,EAAAA,GAAQA,EAAAA,OAGjBwtF,EAAkBxtF,EAAAA,GACtBA,EAAAA,GAAO,CACL1G,KAAM0G,EAAAA,GACN0jD,IAAK1jD,EAAAA,MAIIk4D,EAA4Bl4D,EAAAA,GAAO,CAC9C1G,KAAM0G,EAAAA,GACNgxC,MAAOhxC,EAAAA,GAAO,CACZytF,GAAID,EACJhpE,IAAKgpE,MAQIE,EAAkB1tF,EAAAA,GAAU,CACvC2tF,iBAAkB3tF,EAAAA,GAAQgtF,GAC1BY,sBAAuB5tF,EAAAA,GAAQgtF,GAC/Ba,eAAgB7tF,EAAAA,GAAQgtF,GACxBc,iBAAkB9tF,EAAAA,GAAQgtF,GAC1Be,iBAAkB/tF,EAAAA,GAAQgtF,GAC1BgB,wBAAyBhuF,EAAAA,GAAQgtF,GACjCiB,mBAAoBjuF,EAAAA,GAAQgtF,KAUjBxsB,EAAmBxgE,EAAAA,GAAQ,CAEtCA,EAAAA,GAAU,QAIVA,EAAAA,GAAU,SAIVA,EAAAA,GAAU,cAGVA,EAAAA,GAAU,aAKVA,EAAAA,GAAU,wBAGVA,EAAAA,GAAU,kBAGVA,EAAAA,GAAU,4BAGVA,EAAAA,GAAU,WAIVA,EAAAA,GAAU,qCAGVA,EAAAA,GAAU,WAuBCkuF,EAA6BluF,EAAAA,GAAe,CACvDA,EAAAA,GAAO,CACLlO,KAAM0uE,IAERxgE,EAAAA,GAAU,CACRg0D,6BAA8Bh0D,EAAAA,GAAQA,EAAAA,IACtCmuF,4BAA6BnuF,EAAAA,GAAQA,EAAAA,IACrCouF,sCAAuCpuF,EAAAA,GAAQA,EAAAA,QAWtC68D,EAAsB78D,EAAAA,GAAQ,CACzCA,EAAAA,GAAU,cACVA,EAAAA,GAAU,eACVA,EAAAA,GAAU,gBACVA,EAAAA,GAAU,iBACVA,EAAAA,GAAU,eACVA,EAAAA,GAAU,iBACVA,EAAAA,GAAU,gBACVA,EAAAA,GAAU,oBAGC88D,EAAwB98D,EAAAA,GAAQ,CAC3CA,EAAAA,GAAU,eACVA,EAAAA,GAAU,gBACVA,EAAAA,GAAU,iBACVA,EAAAA,GAAU,kBACVA,EAAAA,GAAU,cACVA,EAAAA,GAAU,gBACVA,EAAAA,GAAU,eACVA,EAAAA,GAAU,mBAKNquF,EAAyBruF,EAAAA,GAAQ,CAACA,EAAAA,IAAU,GAAQA,EAAAA,GAAQA,EAAAA,MAQrDi9D,EAAyBj9D,EAAAA,GAAO,CAC3CmC,SAAU06D,EACVpuC,YAAaquC,EACbntC,qBAAsB3vB,EAAAA,KAWXsuF,EAA6DtuF,EAAAA,GACxE,gBACA,IACEA,EAAAA,GAAe,CACbA,EAAAA,GAAO,CACLrO,KAAMqO,EAAAA,KAERA,EAAAA,GAAU,CACR1P,kBAAmBy8F,EACnBx6F,SAAUyN,EAAAA,GAAQsuF,SAObnuB,EAAkBngE,EAAAA,GAAQ,CACrCA,EAAAA,GAAU,eACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,WACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,WACVA,EAAAA,GAAU,qBAINuuF,EAAmBvuF,EAAAA,GAAQ,CAC/BA,EAAAA,GAAU,CACRsjB,uBAAwBtjB,EAAAA,GACxBwmB,oBAAqBxmB,EAAAA,GACrBwgB,0BAA2BxgB,EAAAA,GAC3Bof,gBAAiBpf,EAAAA,GAAQmgE,GACzBluD,QAASjS,EAAAA,KAEXA,EAAAA,IAAU,KAICwuF,EAAiBxuF,EAAAA,GAAQ,CACpCA,EAAAA,IAAU,GACVA,EAAAA,GAAU,CACRmvE,WAAYnvE,EAAAA,GACZyuF,iBAAkBzuF,EAAAA,GAAQA,EAAAA,QAMjB0uF,EAAwC1uF,EAAAA,GAAQ,CAC3DA,EAAAA,GAAU,OACVA,EAAAA,GAAU,MACVA,EAAAA,GAAU,WACVA,EAAAA,GAAU,aAGC2uF,EAAmC3uF,EAAAA,GAAU,CACxDkxE,UAAWwd,EACXvd,YAAaud,EACbtd,YAAasd,EACbrd,qBAAsBqd,EACtBnzB,MAAOv7D,EAAAA,KAUI4uF,EAAS5uF,EAAAA,GAAO,CAC3B4S,gBAAiB5S,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,KACpC6S,UAAW7S,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,KAC9BuN,MAAOvN,EAAAA,KAKIiX,EAAkBjX,EAAAA,GAC7BA,EAAAA,GAAO,CACL1G,KAAM0G,EAAAA,GACNyL,UAAWzL,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,IAAU,KACxC1I,OAAQ0I,EAAAA,GAAQ,CAACA,EAAAA,GAAUA,EAAAA,IAAU,KACrCrO,KAAMqO,EAAAA,GACN0L,SAAU1L,EAAAA,GACV2L,MAAO3L,EAAAA,GAAQ,CAAC4uF,EAAQ5uF,EAAAA,IAAU,KAClCwlB,QAASxlB,EAAAA,GAAO,CACdvM,QAASuM,EAAAA,GACTlP,QAASkP,EAAAA,GAAQA,EAAAA,IACjBylB,cAAezlB,EAAAA,GAAQ,CAACA,EAAAA,IAAU,GAAQA,EAAAA,OAE5C+U,SAAU/U,EAAAA,GACVyM,kBAAmBzM,EAAAA,GAAQ,CACzB8sF,EACA9sF,EAAAA,IAAU,KAEZqM,WAAYrM,EAAAA,GAAQ,CAAC4sF,EAA2B5sF,EAAAA,IAAU,KAC1D0kB,YAAa1kB,EAAAA,GACb6kB,WAAY7kB,EAAAA,GACZ1P,kBAAmB0P,EAAAA,GAAQ,CACzB+sF,EACA/sF,EAAAA,IAAU,KAEZ+gE,gBAAiB/gE,EAAAA,GAAQ,CAACA,EAAAA,GAAQsuF,GAAuBtuF,EAAAA,IAAU,KACnEY,SAAU2rF,EACVvgF,aAAchM,EAAAA,GAAQ,CACpBA,EAAAA,GAAQ+b,GACR/b,EAAAA,IAAU,KAEZkM,QAASlM,EAAAA,GAAQ,CAAC0tF,EAAiB1tF,EAAAA,IAAU,KAC7CjO,YAAam8F,EACb9hF,YAAapM,EAAAA,GAAQ,CAACA,EAAAA,IAAU,GAAQA,EAAAA,GAAQi9D,KAChDzwD,qBAAsBxM,EAAAA,GAAQ,CAC5BA,EAAAA,IAAU,GACVA,EAAAA,GAAQ6uF,EAAAA,KAEV75F,SAAUu5F,EACVtiF,cAAeuiF,EACfliF,aAActM,EAAAA,GACduM,MAAOvM,EAAAA,GACP0M,kBAAmB1M,EAAAA,GAAQ,CACzBA,EAAAA,IAAU,GACV2uF,IAEFhiF,oCAAqC0hF,EACrCzhF,0CAA2CyhF,KAalCS,GAPwB9uF,EAAAA,GAAQiX,GAONjX,EAAAA,GAAO,CAC5CrO,KAAMqO,EAAAA,GACNuN,MAAOvN,EAAAA,MAEI+uF,EAA4B/uF,EAAAA,GAAQ8uF,GAIpCE,EAAuChvF,EAAAA,GAAU,CAC5DqM,WAAYrM,EAAAA,GAAQ2sF,GACpB3gF,aAAchM,EAAAA,GAAQ+b,GACtB7P,QAASwhF,IAOEuB,EAAcjvF,EAAAA,GACzBA,EAAAA,GAAO,CACLk/D,MAAOl/D,EAAAA,GACPrO,KAAMqO,EAAAA,K,8PC5YV,MAAMkvF,EAAqBlvF,EAAAA,GAAQ,CACjCA,EAAAA,GAAU,uBACVA,EAAAA,GAAU,uBACVA,EAAAA,GAAU,2BACVA,EAAAA,GAAU,sBAGNmvF,EAAmBnvF,EAAAA,GAAO,CAC9BovF,UAAWF,EACX7hC,SAAUrtD,EAAAA,GAAQ,CAACA,EAAAA,GAAaA,EAAAA,KAChCqvF,eAAgBrvF,EAAAA,KAKLuV,EAAmB,CAAC,OAAQ,OAE5B+5E,GAAoBC,EAAAA,EAAAA,GAC/Bh6E,GAKWi6E,EAAexvF,EAAAA,GAAQ,CAClCA,EAAAA,GAAU,SACVA,EAAAA,GAAU,gBAINyvF,EAAiCzvF,EAAAA,GAAO,CAC5CmU,YAAaq7E,EACbv6E,eAAgBy6E,EAAAA,EAChB16E,WAAY26E,EAAAA,EACZv7E,gBAAiBpU,EAAAA,GAAQiX,EAAAA,IACzB5C,oCAAqC26E,EAAAA,GACrC16E,yBAA0By6E,EAAAA,GAC1Bx6E,YAAaq7E,EAAAA,EACbp7E,cAAe83E,EAAAA,GACf73E,WAAYi2E,EAAAA,GACZh2E,MAAOm7E,EAAAA,EACPl7E,kCAAmCm7E,EAAAA,EACnCxgF,eAAgBL,EAAAA,GAChBsE,QAASw8E,EAAAA,EACTn7E,mBAAoBo1B,EAAAA,GACpB95B,UAAW8/E,EAAAA,GACXn7E,oBAAqB7U,EAAAA,GAAQiwF,EAAAA,IAC7Bn7E,qBAAsB9U,EAAAA,GAAQkwF,EAAAA,GAC9B76E,0BAA2BrV,EAAAA,GAAQmgE,EAAAA,IACnC9kE,WAAY60F,EAAAA,EACZh7E,mBAAoBlV,EAAAA,GAAQmwF,EAAAA,GAC5Bh7E,WAAY85E,EAAAA,GACZ75E,eAAgBpV,EAAAA,GAChBsV,cAAeqiE,EAAAA,GACfpiE,iBAAkB+5E,IAOdc,EAAmCpwF,EAAAA,GAAe,CACtDA,EAAAA,GAAO,CACLwD,SAAU6sF,EAAAA,GACV76E,2BAA4B86E,EAAAA,EAC5B76E,gBAAiB86E,EAAAA,KAEnBd,IAOW18E,EAA8B/S,EAAAA,GAAQ,CACjDmvF,EACAiB,IAOWn9E,EAA4Bw8E,C,kFC7GlC,MAAMe,EAAmBxwF,EAAAA,GAQnBywF,EAAezwF,EAAAA,GAAO,CACjC1G,KAAMk3F,EACN1+F,KAAMkO,EAAAA,GAAQ,CAACA,EAAAA,GAAU,SAAUA,EAAAA,GAAU,YAC7C1N,WAAY2c,EAAAA,KAKDuC,EAAmBxR,EAAAA,GAAQywF,GAG3BT,EAAsBhwF,EAAAA,GACjCA,EAAAA,GAAO,CACL+U,SAAU/U,EAAAA,GACVY,SAAUZ,EAAAA,GAAQ6iE,EAAAA,IAClB3yD,UAAWsB,I,4DC1BR,MAAMk/E,EAAiB1wF,EAAAA,GAAO,CACnC0S,MAAO1S,EAAAA,GACP5P,MAAO4P,EAAAA,KAGI2wF,EAA2B3wF,EAAAA,GAAO,CAC7CuN,MAAOvN,EAAAA,GACP0jD,IAAK1jD,EAAAA,GACLlO,KAAMkO,EAAAA,GACNqjD,SAAUrjD,EAAAA,GAAQ,CAAC0wF,EAAgB1wF,EAAAA,GAAQA,EAAAA,OAGhCkpC,EAA4BlpC,EAAAA,GAAQ2wF,GAIpCJ,EAAmBvwF,EAAAA,GAAO,CACrC4pC,iBAAkB5pC,EAAAA,GAAQ,CAACkpC,EAA2BlpC,EAAAA,IAAU,KAChE4wF,kBAAmB5wF,EAAAA,GAAQ,CAAC2wF,EAA0B3wF,EAAAA,IAAU,M,8ECX3D,MAAMiP,EACXjP,EAAAA,GAGW6wF,EAAgB7wF,EAAAA,GAAO,CAClClO,KAAMkO,EAAAA,GACN1N,WAAY2c,IAKD5O,EAA8BL,EAAAA,GAAY,YAAY,IACjEA,EAAAA,GAAe,CACbA,EAAAA,GAAO,CACL7J,GAAI6J,EAAAA,GACJ3N,KAAMw+F,EACNt+F,SAAUyN,EAAAA,GAAQK,KAEpBL,EAAAA,GAAU,CACRijB,UAAWjjB,EAAAA,SAYJ8wF,EAAe9wF,EAAAA,GAAO,CACjC6K,KAAMxK,EACN0wF,YAAa/wF,EAAAA,KAYFs5E,GARQt5E,EAAAA,GAAe,CAClC8wF,EACA9wF,EAAAA,GAAO,CACLg+B,OAAQh+B,EAAAA,GAAU,SAClBgxF,aAAchxF,EAAAA,GAASA,EAAAA,GAAUA,EAAAA,GAAQ,CAACA,EAAAA,GAAaK,SAI9BL,EAAAA,GAAe,CAC1C8wF,EACA9wF,EAAAA,GAAO,CAAEg+B,OAAQh+B,EAAAA,GAAU,iBAGhBixF,EAAqBjxF,EAAAA,GAAQ,CAACs5E,EAAet5E,EAAAA,IAAU,I,qECzD7D,MAAMkxF,EAAclxF,EAAAA,GAAQ,CACjCA,EAAAA,GAAU,OACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,OACVA,EAAAA,GAAU,SAGCmxF,EAA8BnxF,EAAAA,GAAO,CAChDoxF,iBAAkBpxF,EAAAA,KAOPqxF,EAAsBrxF,EAAAA,GAItBsxF,EAA8BtxF,EAAAA,GAAO,CAChDuN,MAAOvN,EAAAA,GACP7J,GAAIk7F,IAOOjxF,EAAoBJ,EAAAA,GAAe,CAC9CA,EAAAA,GAAO,CAAEuC,OAAQ+uF,IACjBtxF,EAAAA,GAAU,CACRyB,OAAQ0vF,MAMyBnxF,EAAAA,GAAQ,CAC3CA,EAAAA,GAAO,CACLuC,OAAQvC,EAAAA,GAAQ,CAACA,EAAAA,GAAaqxF,IAC9BE,eAAgBvxF,EAAAA,GAAQ,CAACA,EAAAA,GAAamxF,MAExCnxF,EAAAA,GAAO,CACLyB,OAAQ0vF,K,mFCpCE,SAAUjsF,EAItBssF,EACAC,GAEA,OAAO/xF,EAAAA,EAAAA,MACL8xF,EACAE,EAAAA,GACAl/F,EAAAA,EAAAA,MAAIm/F,EAAAA,EAAAA,MAAKF,EAASG,QAAQjY,EAAAA,EAAAA,SAAQzc,EAAAA,KAClC20B,EAAAA,QAEJ,C,kBC3BM,SAAUC,EACdC,GAEA,IAGE,OAAOC,KAAKC,MAAMF,E,CAClB,MAAOt8F,GAEP,YADA2O,QAAQoB,MAAM,+BAAgC/P,E,CAGlD,C,mDCXA,sP,GCCIy8F,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBv7F,IAAjBw7F,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CACjDj8F,GAAIi8F,EACJI,QAAQ,EACRF,QAAS,CAAC,GAUX,OANAG,EAAoBL,GAAUM,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG3EI,EAAOC,QAAS,EAGTD,EAAOD,OACf,CAGAH,EAAoBQ,EAAIF,E,MC5BxB,IAAIG,EAAW,GACfT,EAAoBU,EAAI,CAACl2F,EAAQm2F,EAAUz9F,EAAI09F,KAC9C,IAAGD,EAAH,CAMA,IAAIE,EAAeC,IACnB,IAAS54E,EAAI,EAAGA,EAAIu4E,EAASj8F,OAAQ0jB,IAAK,CAGzC,IAFA,IAAKy4E,EAAUz9F,EAAI09F,GAAYH,EAASv4E,GACpC64E,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAASn8F,OAAQw8F,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAalgG,OAAOC,KAAKq/F,EAAoBU,GAAGO,OAAOh+F,GAAS+8F,EAAoBU,EAAEz9F,GAAK09F,EAASK,MAC9IL,EAAS1kD,OAAO+kD,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbN,EAASxkD,OAAO/zB,IAAK,GACrB,IAAI3c,EAAIrI,SACEwB,IAAN6G,IAAiBf,EAASe,EAC/B,CACD,CACA,OAAOf,CAnBP,CAJCo2F,EAAWA,GAAY,EACvB,IAAI,IAAI14E,EAAIu4E,EAASj8F,OAAQ0jB,EAAI,GAAKu4E,EAASv4E,EAAI,GAAG,GAAK04E,EAAU14E,IAAKu4E,EAASv4E,GAAKu4E,EAASv4E,EAAI,GACrGu4E,EAASv4E,GAAK,CAACy4E,EAAUz9F,EAAI09F,EAqBjB,C,WCzBdZ,EAAoB37D,EAAK+7D,IACxB,IAAIc,EAASd,GAAUA,EAAOe,WAC7B,IAAOf,EAAO,WACd,IAAM,EAEP,OADAJ,EAAoBj+E,EAAEm/E,EAAQ,CAAE7nE,EAAG6nE,IAC5BA,CAAM,C,WCLdlB,EAAoBj+E,EAAI,CAACo+E,EAASiB,KACjC,IAAI,IAAIn+F,KAAOm+F,EACXpB,EAAoBqB,EAAED,EAAYn+F,KAAS+8F,EAAoBqB,EAAElB,EAASl9F,IAC5EvC,OAAO4gG,eAAenB,EAASl9F,EAAK,CAAEs+F,YAAY,EAAMle,IAAK+d,EAAWn+F,IAE1E,C,WCND+8F,EAAoBt0F,EAAI,WACvB,GAA0B,kBAAf81F,WAAyB,OAAOA,WAC3C,IACC,OAAOxiG,MAAQ,IAAIyiG,SAAS,cAAb,EAGhB,CAFE,MAAOn+F,GACR,GAAsB,kBAAX4N,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,WCAxB8uF,EAAoBqB,EAAI,CAACK,EAAKC,IAAUjhG,OAAOkhG,UAAUC,eAAetB,KAAKmB,EAAKC,E,WCClF3B,EAAoBz0F,EAAK40F,IACH,qBAAX2B,QAA0BA,OAAOC,aAC1CrhG,OAAO4gG,eAAenB,EAAS2B,OAAOC,YAAa,CAAElkG,MAAO,WAE7D6C,OAAO4gG,eAAenB,EAAS,aAAc,CAAEtiG,OAAO,GAAO,C,WCL9DmiG,EAAoBgC,IAAO5B,IAC1BA,EAAO5xF,MAAQ,GACV4xF,EAAOhgG,WAAUggG,EAAOhgG,SAAW,IACjCggG,E,WCHRJ,EAAoBgB,EAAI,G,WCKxB,IAAIiB,EAAkB,CACrB,IAAK,GAaNjC,EAAoBU,EAAEM,EAAKkB,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4BliG,KACvD,IAGI+/F,EAAUiC,GAHTvB,EAAU0B,EAAaC,GAAWpiG,EAGhBgoB,EAAI,EAC3B,GAAGy4E,EAAS31F,MAAMhH,GAAgC,IAAxBi+F,EAAgBj+F,KAAa,CACtD,IAAIi8F,KAAYoC,EACZrC,EAAoBqB,EAAEgB,EAAapC,KACrCD,EAAoBQ,EAAEP,GAAYoC,EAAYpC,IAGhD,GAAGqC,EAAS,IAAI93F,EAAS83F,EAAQtC,EAClC,CAEA,IADGoC,GAA4BA,EAA2BliG,GACrDgoB,EAAIy4E,EAASn8F,OAAQ0jB,IACzBg6E,EAAUvB,EAASz4E,GAChB83E,EAAoBqB,EAAEY,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOlC,EAAoBU,EAAEl2F,EAAO,EAGjC+3F,EAAqBf,WAAW,uBAAyBA,WAAW,wBAA0B,GAClGe,EAAmB33F,QAAQu3F,EAAqBK,KAAK,KAAM,IAC3DD,EAAmBz3F,KAAOq3F,EAAqBK,KAAK,KAAMD,EAAmBz3F,KAAK03F,KAAKD,G,KC7CvF,IAAIE,EAAsBzC,EAAoBU,OAAEh8F,EAAW,CAAC,IAAI,KAAK,IAAOs7F,EAAoB,SAChGyC,EAAsBzC,EAAoBU,EAAE+B,E","sources":["webpack://builder/./src/components/ElementStudio/ElementStudioDefaultElements.vue","webpack://builder/./src/components/ElementStudio/ElementStudioDefaultElements.vue?ad9f","webpack://builder/./src/components/ElementStudio/ElementStudioDefaultElements.vue?da62","webpack://builder/./src/components/ElementStudio/ElementStudioDefaultElements.vue?b4e9","webpack://builder/./src/components/ElementStudio/ElementStudioDefaultProperties.vue","webpack://builder/./src/components/ElementStudio/ElementStudioDefaultProperties.vue?5820","webpack://builder/./src/components/ElementStudio/ElementStudioDefaultProperties.vue?95a9","webpack://builder/./src/components/ElementStudio/ElementStudioDefaultProperties.vue?09a8","webpack://builder/./src/components/Reusable/GlobalBlockDialog.vue","webpack://builder/./src/components/Reusable/GlobalBlockDialog.vue?59e1","webpack://builder/./src/components/Reusable/GlobalBlockDialog.vue?4c76","webpack://builder/./src/components/Reusable/GlobalBlockDialog.vue?95aa","webpack://builder/./src/components/Structure/ChildStructureNodes.vue","webpack://builder/./src/components/Structure/StructureNode.vue","webpack://builder/./src/components/Structure/StructureNode.vue?8956","webpack://builder/./src/components/Structure/StructureNode.vue?8d90","webpack://builder/./src/components/Structure/StructureNode.vue?c1fa","webpack://builder/./src/components/Structure/ChildStructureNodes.vue?1f62","webpack://builder/./src/components/Structure/ChildStructureNodes.vue?d8d9","webpack://builder/./src/components/Structure/ChildStructureNodes.vue?4391","webpack://builder/./src/components/Structure/StructureContextMenu.vue","webpack://builder/./src/components/Structure/StructureContextMenu.vue?a86d","webpack://builder/./src/components/Structure/StructureContextMenu.vue?f6ad","webpack://builder/./src/components/Structure/StructureContextMenu.vue?fb7f","webpack://builder/./src/lib/canvas/flatten-properties.ts","webpack://builder/./src/lib/colors/colors.ts","webpack://builder/./src/types/copy-paste.ts","webpack://builder/./src/lib/copy-paste/element.ts","webpack://builder/./src/lib/copy-paste/copy-paste.ts","webpack://builder/./src/lib/copy-paste/utils.ts","webpack://builder/./src/lib/dynamic-data/load.ts","webpack://builder/./src/lib/elements/studio/php-template-element.ts","webpack://builder/./src/lib/elements/studio/php-template-preset.ts","webpack://builder/./src/lib/global-blocks/global-blocks.ts","webpack://builder/./src/lib/global-settings/global-settings.ts","webpack://builder/./src/lib/panels/accordions.ts","webpack://builder/./src/lib/selectors/selectors.ts","webpack://builder/./src/lib/structure-panel/expand-collapse.ts","webpack://builder/./src/lib/subscriptions/free-mode.ts","webpack://builder/./src/lib/wordpress/load.ts","webpack://builder/./src/App.vue","webpack://builder/./src/Builder.vue","webpack://builder/./src/components/Builder/BuilderLayout.vue","webpack://builder/./src/components/Canvas/IframeCanvas.vue","webpack://builder/./src/components/Canvas/OverlaidUI/styles.iframecss","webpack://builder/./src/lib/canvas/html-to-vnodes.ts","webpack://builder/./src/types/assets.ts","webpack://builder/./src/types/server-side-render.ts","webpack://builder/./src/lib/server-side-render/server-side-render.ts","webpack://builder/./src/components/Canvas/Empty/EmptyContainer.vue","webpack://builder/./src/components/Canvas/Empty/EmptyContainer.vue?64f8","webpack://builder/./src/components/Canvas/Empty/EmptyContainer.vue?1c14","webpack://builder/./src/components/Canvas/Empty/EmptyContainer.vue?2246","webpack://builder/./src/components/Canvas/Empty/EmptyColumns.vue","webpack://builder/./src/components/Canvas/Empty/EmptyColumns.vue?c234","webpack://builder/./src/components/Canvas/Empty/EmptyColumns.vue?0640","webpack://builder/./src/components/Canvas/Empty/EmptyColumns.vue?749a","webpack://builder/./src/lib/server-side-render/rerun-javascripts.ts","webpack://builder/./src/lib/canvas/ssr-html-strings.ts","webpack://builder/./src/components/Canvas/BuilderElement.vue?44b3","webpack://builder/./src/components/Canvas/BuilderElement.vue?f636","webpack://builder/./src/components/Canvas/BuilderElement.vue","webpack://builder/./src/components/Canvas/OverlaidUI/NodeChrome.vue","webpack://builder/./src/components/Canvas/OverlaidUI/DragDots.vue","webpack://builder/./src/lib/canvas/drag/drag.ts","webpack://builder/./src/components/Canvas/OverlaidUI/DragDots.vue?7576","webpack://builder/./src/components/Canvas/OverlaidUI/DragDots.vue?27cf","webpack://builder/./src/components/Canvas/OverlaidUI/DragDots.vue?040e","webpack://builder/./src/components/Canvas/OverlaidUI/SpacingBars.vue","webpack://builder/./src/components/Canvas/OverlaidUI/DragMixin.ts","webpack://builder/./src/components/Canvas/OverlaidUI/SpacingBar.vue","webpack://builder/./src/lib/canvas/spacing-bars.ts","webpack://builder/./src/components/Canvas/OverlaidUI/SpacingBar.vue?d8e1","webpack://builder/./src/components/Canvas/OverlaidUI/SpacingBar.vue?3b80","webpack://builder/./src/components/Canvas/OverlaidUI/SpacingBar.vue?04c9","webpack://builder/./src/components/Canvas/OverlaidUI/SpacingBars.vue?5b33","webpack://builder/./src/components/Canvas/OverlaidUI/SpacingBars.vue?ee89","webpack://builder/./src/components/Canvas/OverlaidUI/SpacingBars.vue?09d8","webpack://builder/./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue","webpack://builder/./src/lib/columns/canvas.ts","webpack://builder/./src/lib/columns/drag.ts","webpack://builder/./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?fd71","webpack://builder/./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?7fda","webpack://builder/./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?1225","webpack://builder/./src/components/Canvas/OverlaidUI/NodeTitlebar.vue","webpack://builder/./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue","webpack://builder/./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?1bc7","webpack://builder/./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?fa80","webpack://builder/./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?58bd","webpack://builder/./src/lib/right-click/actions.ts","webpack://builder/./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?641f","webpack://builder/./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?6303","webpack://builder/./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?6029","webpack://builder/./src/components/Canvas/OverlaidUI/NodeHoverControls.vue","webpack://builder/./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?38be","webpack://builder/./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?0b00","webpack://builder/./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?b6ea","webpack://builder/./src/components/Canvas/OverlaidUI/NodeContentEditable.vue","webpack://builder/./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?cc28","webpack://builder/./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?be83","webpack://builder/./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?a531","webpack://builder/./src/components/Canvas/OverlaidUI/NodeChrome.vue?a971","webpack://builder/./src/components/Canvas/OverlaidUI/NodeChrome.vue?e9a2","webpack://builder/./src/components/Canvas/OverlaidUI/NodeChrome.vue?fdd7","webpack://builder/./src/components/Canvas/OverlaidUI/CanvasChrome.vue","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?540c","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?cdad","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?8f70","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?28d4","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?00b0","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?d52c","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?24a7","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?c2a5","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?362e","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?20d4","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?a18d","webpack://builder/./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?3e81","webpack://builder/./src/components/Canvas/OverlaidUI/CanvasChrome.vue?56f7","webpack://builder/./src/components/Canvas/OverlaidUI/CanvasChrome.vue?07a4","webpack://builder/./src/components/Canvas/OverlaidUI/CanvasChrome.vue?a0e1","webpack://builder/./src/components/Canvas/Canvas.vue?bd04","webpack://builder/./src/components/Canvas/Canvas.vue?67ec","webpack://builder/./src/components/Canvas/Canvas.vue","webpack://builder/./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue","webpack://builder/./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?cce1","webpack://builder/./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?7ba4","webpack://builder/./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?bea1","webpack://builder/./src/components/UI/StandardButton.vue","webpack://builder/./src/components/UI/StandardButton.vue?09bc","webpack://builder/./src/components/UI/StandardButton.vue?487e","webpack://builder/./src/components/UI/StandardButton.vue?a356","webpack://builder/./src/components/Canvas/ForeignDocumentsOverlay.vue","webpack://builder/./src/util/css.ts","webpack://builder/./src/components/Canvas/ForeignDocumentsOverlay.vue?c90f","webpack://builder/./src/components/Canvas/ForeignDocumentsOverlay.vue?f3a6","webpack://builder/./src/components/Canvas/ForeignDocumentsOverlay.vue?bec3","webpack://builder/./src/components/Reusable/Iframe/IframeWrapper.vue","webpack://builder/./src/components/Reusable/Iframe/IframeWrapper.vue?62f3","webpack://builder/./src/components/Reusable/Iframe/IframeWrapper.vue?b6db","webpack://builder/./src/components/Reusable/Iframe/IframeWrapper.vue?2a41","webpack://builder/./src/components/Canvas/IframeCanvas.vue?f024","webpack://builder/./src/components/Canvas/IframeCanvas.vue?268a","webpack://builder/./src/components/Canvas/IframeCanvas.vue?0255","webpack://builder/./src/components/Builder/TopBar/BuilderTopBar.vue","webpack://builder/./src/components/Builder/TopBar/Save.vue","webpack://builder/./src/lib/wordpress/save.ts","webpack://builder/./src/components/Builder/TopBar/Save.vue?62cf","webpack://builder/./src/components/Builder/TopBar/Save.vue?ec64","webpack://builder/./src/components/Builder/TopBar/Save.vue?e921","webpack://builder/./src/components/Builder/TopBar/BreakpointsSelection.vue","webpack://builder/./src/components/Builder/TopBar/BreakpointsSelection.vue?87c7","webpack://builder/./src/components/Builder/TopBar/BreakpointsSelection.vue?4203","webpack://builder/./src/components/Builder/TopBar/BreakpointsSelection.vue?dd07","webpack://builder/./src/components/Builder/TopBar/UndoRedo.vue","webpack://builder/./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue","webpack://builder/./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?9a19","webpack://builder/./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?9bf2","webpack://builder/./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?9961","webpack://builder/./src/components/Builder/TopBar/UndoRedo.vue?a1d9","webpack://builder/./src/components/Builder/TopBar/UndoRedo.vue?1991","webpack://builder/./src/components/Builder/TopBar/UndoRedo.vue?2fe8","webpack://builder/./src/components/Builder/TopBar/PreviewContentChooserDialog.vue","webpack://builder/./src/lib/dynamic-data/templates.ts","webpack://builder/./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?920b","webpack://builder/./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?71d6","webpack://builder/./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?5176","webpack://builder/./src/components/Builder/TopBar/DocumentChooser.vue","webpack://builder/./src/lib/document-chooser/document-chooser.ts","webpack://builder/./src/components/Builder/TopBar/DocumentChooser.vue?1480","webpack://builder/./src/components/Builder/TopBar/DocumentChooser.vue?00e4","webpack://builder/./src/components/Builder/TopBar/DocumentChooser.vue?ad25","webpack://builder/./src/components/Builder/TopBar/SettingsDropdown.vue","webpack://builder/./src/components/Builder/TopBar/SettingsDropdown.vue?31b5","webpack://builder/./src/components/Builder/TopBar/SettingsDropdown.vue?e9dd","webpack://builder/./src/components/Builder/TopBar/SettingsDropdown.vue?8937","webpack://builder/./src/components/Builder/TopBar/Exit.vue","webpack://builder/./src/components/Builder/TopBar/Exit.vue?00d8","webpack://builder/./src/components/Builder/TopBar/Exit.vue?e084","webpack://builder/./src/components/Builder/TopBar/Exit.vue?f50c","webpack://builder/./src/components/Builder/TopBar/AddButton.vue","webpack://builder/./src/components/Builder/TopBar/AddButton.vue?1a3d","webpack://builder/./src/components/Builder/TopBar/AddButton.vue?d782","webpack://builder/./src/components/Builder/TopBar/AddButton.vue?e217","webpack://builder/./src/components/Reusable/AppLayout/TopBar/TopBar.vue","webpack://builder/./src/components/Reusable/AppLayout/TopBar/TopBar.vue?ddce","webpack://builder/./src/components/Reusable/AppLayout/TopBar/TopBar.vue?7766","webpack://builder/./src/components/Reusable/AppLayout/TopBar/TopBar.vue?3b21","webpack://builder/./src/components/Builder/TopBar/BuilderTopBar.vue?69a4","webpack://builder/./src/components/Builder/TopBar/BuilderTopBar.vue?0f8c","webpack://builder/./src/components/Builder/TopBar/BuilderTopBar.vue?0385","webpack://builder/./src/components/Settings/Preferences/PreferencesModal.vue","webpack://builder/./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue","webpack://builder/./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue","webpack://builder/./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue","webpack://builder/./src/components/UI/ConfirmDialog.vue","webpack://builder/./src/components/UI/ConfirmDialog.vue?8552","webpack://builder/./src/components/UI/ConfirmDialog.vue?6074","webpack://builder/./src/components/UI/ConfirmDialog.vue?f514","webpack://builder/./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?6cbe","webpack://builder/./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?63e7","webpack://builder/./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?8df8","webpack://builder/./src/components/Settings/Preferences/EmptyStatePreferences.vue","webpack://builder/./src/components/Settings/Preferences/EmptyStatePreferences.vue?8a2e","webpack://builder/./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?7700","webpack://builder/./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?d373","webpack://builder/./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?4b94","webpack://builder/./src/components/Settings/Preferences/PreferencesPanel.vue","webpack://builder/./src/components/Settings/Preferences/PreferencesPanel.vue?cb6d","webpack://builder/./src/components/Settings/Preferences/PreferencesPanel.vue?1771","webpack://builder/./src/components/Settings/Preferences/PreferencesPanel.vue?3e4a","webpack://builder/./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?6d0b","webpack://builder/./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?dbb6","webpack://builder/./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?2409","webpack://builder/./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue","webpack://builder/./src/lib/fonts/backend.ts","webpack://builder/./src/lib/fonts/utils.ts","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue","webpack://builder/./src/lib/fonts/constants.ts","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?a5f7","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?3ace","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?1bee","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?18d1","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?f709","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?a024","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?110e","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?fbd8","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?8400","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?db64","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?9329","webpack://builder/./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?5b3f","webpack://builder/./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?ad0f","webpack://builder/./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?acd5","webpack://builder/./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?8209","webpack://builder/./src/components/Settings/Preferences/CustomUiSettings.vue","webpack://builder/./src/components/Settings/Preferences/CustomUiSettings.vue?2670","webpack://builder/./src/components/Settings/Preferences/CustomUiSettings.vue?4159","webpack://builder/./src/components/Settings/Preferences/CustomUiSettings.vue?daec","webpack://builder/./src/components/Settings/Preferences/PreferencesModal.vue?c692","webpack://builder/./src/components/Settings/Preferences/PreferencesModal.vue?773d","webpack://builder/./src/components/Settings/Preferences/PreferencesModal.vue?ca79","webpack://builder/./src/components/Help/KeyboardShortcutsHelpModal.vue","webpack://builder/./src/components/Help/KeyboardShortcutsHelpModal.vue?87ac","webpack://builder/./src/components/Help/KeyboardShortcutsHelpModal.vue?50f1","webpack://builder/./src/components/Help/KeyboardShortcutsHelpModal.vue?cad5","webpack://builder/./src/components/ElementStudio/ElementStudio.vue","webpack://builder/./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue","webpack://builder/./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue","webpack://builder/./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?d1b0","webpack://builder/./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?1a9b","webpack://builder/./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?22ac","webpack://builder/./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?3f26","webpack://builder/./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?ce3e","webpack://builder/./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?133e","webpack://builder/./src/components/ElementStudio/ElementStudioElements.vue","webpack://builder/./src/components/ElementStudio/ElementStudioTopBar.vue","webpack://builder/./src/components/ElementStudio/ElementStudioSaveNewDialog.vue","webpack://builder/./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?9f92","webpack://builder/./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?4872","webpack://builder/./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?f664","webpack://builder/./src/components/ElementStudio/ElementStudioTopBar.vue?679a","webpack://builder/./src/components/ElementStudio/ElementStudioTopBar.vue?689e","webpack://builder/./src/components/ElementStudio/ElementStudioTopBar.vue?96d7","webpack://builder/./src/components/ElementStudio/ElementStudioTabsAndPanels.vue","webpack://builder/./src/components/ElementStudio/ElementStudioControls.vue","webpack://builder/./src/components/ElementStudio/ControlSectionOrControl.vue","webpack://builder/./src/components/Reusable/CustomInputs/ShittyTextInput.vue","webpack://builder/./src/components/Reusable/CustomInputs/ShittyTextInput.vue?8deb","webpack://builder/./src/components/Reusable/CustomInputs/ShittyTextInput.vue?95cd","webpack://builder/./src/components/Reusable/CustomInputs/ShittyTextInput.vue?0e96","webpack://builder/./src/components/ElementStudio/TwigCodeHelper.vue","webpack://builder/./src/components/ElementStudio/Copyable.vue","webpack://builder/./src/components/ElementStudio/Copyable.vue?22c1","webpack://builder/./src/components/ElementStudio/Copyable.vue?381c","webpack://builder/./src/components/ElementStudio/Copyable.vue?95d7","webpack://builder/./src/lib/element-studio/twig-code-helper.ts","webpack://builder/./src/components/ElementStudio/TwigCodeHelper.vue?326f","webpack://builder/./src/components/ElementStudio/TwigCodeHelper.vue?cbeb","webpack://builder/./src/components/ElementStudio/TwigCodeHelper.vue?6727","webpack://builder/./src/components/ElementStudio/ElementStudioConditionInput.vue","webpack://builder/./src/components/ElementStudio/ElementStudioConditionInput.vue?b444","webpack://builder/./src/components/ElementStudio/ElementStudioConditionInput.vue?f83b","webpack://builder/./src/components/ElementStudio/ElementStudioConditionInput.vue?f1e2","webpack://builder/./src/components/ElementStudio/ElementStudioUnitOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioUnitOptions.vue?a8be","webpack://builder/./src/components/ElementStudio/ElementStudioUnitOptions.vue?97b4","webpack://builder/./src/components/ElementStudio/ElementStudioUnitOptions.vue?2fd6","webpack://builder/./src/components/ElementStudio/ElementStudioRangeOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioRangeOptions.vue?7ffb","webpack://builder/./src/components/ElementStudio/ElementStudioRangeOptions.vue?b939","webpack://builder/./src/components/ElementStudio/ElementStudioRangeOptions.vue?7ec1","webpack://builder/./src/components/ElementStudio/ElementStudioRepeaterOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?77b1","webpack://builder/./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?ca72","webpack://builder/./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?902e","webpack://builder/./src/components/ElementStudio/ElementStudioDropdownOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue","webpack://builder/./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?9e73","webpack://builder/./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?99b6","webpack://builder/./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?ce23","webpack://builder/./src/components/ElementStudio/ElementStudioDropdownOptions.vue?eeea","webpack://builder/./src/components/ElementStudio/ElementStudioDropdownOptions.vue?7a3d","webpack://builder/./src/components/ElementStudio/ElementStudioDropdownOptions.vue?1b3c","webpack://builder/./src/components/ElementStudio/ElementStudioBreakpointOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?2240","webpack://builder/./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?5497","webpack://builder/./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?602b","webpack://builder/./src/components/ElementStudio/ElementStudioVariableOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioVariableOptions.vue?0343","webpack://builder/./src/components/ElementStudio/ElementStudioVariableOptions.vue?bb01","webpack://builder/./src/components/ElementStudio/ElementStudioVariableOptions.vue?e5b1","webpack://builder/./src/components/ElementStudio/ElementStudioMediaOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioMediaOptions.vue?eee4","webpack://builder/./src/components/ElementStudio/ElementStudioMediaOptions.vue?3e3b","webpack://builder/./src/components/ElementStudio/ElementStudioMediaOptions.vue?20c7","webpack://builder/./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?b2be","webpack://builder/./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?b3d3","webpack://builder/./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?557d","webpack://builder/./src/components/ElementStudio/ElementStudioIconOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioIconOptions.vue?7bcc","webpack://builder/./src/components/ElementStudio/ElementStudioIconOptions.vue?68d2","webpack://builder/./src/components/ElementStudio/ElementStudioIconOptions.vue?771e","webpack://builder/./src/lib/elements/studio/spacing-bars.ts","webpack://builder/./src/components/ElementStudio/ElementStudioPostChooserOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?1af8","webpack://builder/./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?cab4","webpack://builder/./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?fd9b","webpack://builder/./src/components/ElementStudio/ElementStudioVideoOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioVideoOptions.vue?a39b","webpack://builder/./src/components/ElementStudio/ElementStudioVideoOptions.vue?9151","webpack://builder/./src/components/ElementStudio/ElementStudioVideoOptions.vue?ee1b","webpack://builder/./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?3a8a","webpack://builder/./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?3ec2","webpack://builder/./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?8d57","webpack://builder/./src/components/ElementStudio/ElementStudioFocusPointOptions.vue","webpack://builder/./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?dd60","webpack://builder/./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?c30f","webpack://builder/./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?1099","webpack://builder/./src/lib/elements/studio/presets.ts","webpack://builder/./src/components/ElementStudio/ElementStudioHideControlInput.vue","webpack://builder/./src/components/ElementStudio/ElementStudioHideControlInput.vue?a0f5","webpack://builder/./src/components/ElementStudio/ElementStudioHideControlInput.vue?ccd7","webpack://builder/./src/components/ElementStudio/ElementStudioHideControlInput.vue?33c8","webpack://builder/./src/components/ElementStudio/ControlSectionOrControl.vue?7347","webpack://builder/./src/components/ElementStudio/ControlSectionOrControl.vue?22ac","webpack://builder/./src/components/ElementStudio/ControlSectionOrControl.vue?2a43","webpack://builder/./src/components/ElementStudio/ElementStudioControls.vue?9e9c","webpack://builder/./src/components/ElementStudio/ElementStudioControls.vue?ebca","webpack://builder/./src/components/ElementStudio/ElementStudioControls.vue?aa40","webpack://builder/./src/components/ElementStudio/ElementStudioDependencies.vue","webpack://builder/./src/components/ElementStudio/TextWithChevron.vue","webpack://builder/./src/components/ElementStudio/TextWithChevron.vue?e0f0","webpack://builder/./src/components/ElementStudio/TextWithChevron.vue?c59c","webpack://builder/./src/components/ElementStudio/TextWithChevron.vue?48bf","webpack://builder/./src/types/tags.ts","webpack://builder/./src/components/ElementStudio/ElementStudioDependencies.vue?7ccc","webpack://builder/./src/components/ElementStudio/ElementStudioDependencies.vue?f84a","webpack://builder/./src/components/ElementStudio/ElementStudioDependencies.vue?f340","webpack://builder/./src/lib/elements/studio/clean-element.ts","webpack://builder/./src/components/ElementStudio/ElementStudioAction.vue","webpack://builder/./src/components/ElementStudio/ElementStudioAction.vue?89c1","webpack://builder/./src/components/ElementStudio/ElementStudioAction.vue?4141","webpack://builder/./src/components/ElementStudio/ElementStudioAction.vue?902d","webpack://builder/./src/components/ElementStudio/ElementStudioAttributes.vue","webpack://builder/./src/components/ElementStudio/ElementStudioAttributes.vue?a9a3","webpack://builder/./src/components/ElementStudio/ElementStudioAttributes.vue?12b1","webpack://builder/./src/components/ElementStudio/ElementStudioAttributes.vue?9cce","webpack://builder/./src/components/ElementStudio/ElementStudioAdditionalClasses.vue","webpack://builder/./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?b29f","webpack://builder/./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?d846","webpack://builder/./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?931d","webpack://builder/./src/components/ElementStudio/ElementStudioProjectManagement.vue","webpack://builder/./src/components/ElementStudio/ElementStudioProjectManagement.vue?723f","webpack://builder/./src/components/ElementStudio/ElementStudioProjectManagement.vue?4682","webpack://builder/./src/components/ElementStudio/ElementStudioProjectManagement.vue?7d01","webpack://builder/./src/components/ElementStudio/ElementStudioPropertyPaths.vue","webpack://builder/./src/components/ElementStudio/ElementStudioPropertyPaths.vue?2192","webpack://builder/./src/components/ElementStudio/ElementStudioPropertyPaths.vue?fcda","webpack://builder/./src/components/ElementStudio/ElementStudioPropertyPaths.vue?bc47","webpack://builder/./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue","webpack://builder/./src/components/ElementStudio/ElementStudioDynPropPaths.vue","webpack://builder/./src/components/ElementStudio/ElementStudioDynPropPaths.vue?51b9","webpack://builder/./src/components/ElementStudio/ElementStudioDynPropPaths.vue?428a","webpack://builder/./src/components/ElementStudio/ElementStudioDynPropPaths.vue?7dc7","webpack://builder/./src/components/ElementStudio/ElementStudioSpacingBars.vue","webpack://builder/./src/components/ElementStudio/ElementStudioSpacingBar.vue","webpack://builder/./src/components/ElementStudio/ElementStudioSpacingBar.vue?3401","webpack://builder/./src/components/ElementStudio/ElementStudioSpacingBar.vue?fa73","webpack://builder/./src/components/ElementStudio/ElementStudioSpacingBar.vue?d881","webpack://builder/./src/components/ElementStudio/ElementStudioSpacingBars.vue?a32e","webpack://builder/./src/components/ElementStudio/ElementStudioSpacingBars.vue?84c1","webpack://builder/./src/components/ElementStudio/ElementStudioSpacingBars.vue?4125","webpack://builder/./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?cf08","webpack://builder/./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?04a8","webpack://builder/./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?a9d2","webpack://builder/./src/lib/elements/studio/macros.ts","webpack://builder/./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?1a10","webpack://builder/./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?e16f","webpack://builder/./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?244b","webpack://builder/./src/lib/elements/studio/blank-element.ts","webpack://builder/./src/components/ElementStudio/ElementStudioElements.vue?5be0","webpack://builder/./src/components/ElementStudio/ElementStudioElements.vue?847d","webpack://builder/./src/components/ElementStudio/ElementStudioElements.vue?cdb6","webpack://builder/./src/types/element-studio.ts","webpack://builder/./src/components/ElementStudio/ElementStudioMacros.vue","webpack://builder/./src/components/ElementStudio/ElementStudioMacros.vue?9935","webpack://builder/./src/components/ElementStudio/ElementStudioMacros.vue?ce65","webpack://builder/./src/components/ElementStudio/ElementStudioMacros.vue?ea76","webpack://builder/./src/components/ElementStudio/ElementStudioPresets.vue","webpack://builder/./src/components/ElementStudio/ElementStudioPresets.vue?b8db","webpack://builder/./src/components/ElementStudio/ElementStudioPresets.vue?9c7e","webpack://builder/./src/components/ElementStudio/ElementStudioPresets.vue?d3c2","webpack://builder/./src/components/ElementStudio/ElementStudio.vue?52b5","webpack://builder/./src/components/ElementStudio/ElementStudio.vue?3cfb","webpack://builder/./src/components/ElementStudio/ElementStudio.vue?2e7a","webpack://builder/./src/components/Builder/SidebarPanels.vue","webpack://builder/./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue","webpack://builder/./src/components/ElementPropertiesPanel/Titlebar.vue","webpack://builder/./src/components/ElementPropertiesPanel/Titlebar.vue?efcc","webpack://builder/./src/components/ElementPropertiesPanel/Titlebar.vue?d4db","webpack://builder/./src/components/ElementPropertiesPanel/Titlebar.vue?203f","webpack://builder/./src/components/ElementPropertiesPanel/BlankSidebarContent.vue","webpack://builder/./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?692c","webpack://builder/./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?e9e3","webpack://builder/./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?414e","webpack://builder/./src/components/ElementPropertiesPanel/TabsAndControls.vue","webpack://builder/./src/components/ElementPropertiesPanel/SearchBox.vue","webpack://builder/./src/components/ElementPropertiesPanel/SearchFilter.vue","webpack://builder/./src/components/ElementPropertiesPanel/SearchFilter.vue?46c1","webpack://builder/./src/components/ElementPropertiesPanel/SearchFilter.vue?b112","webpack://builder/./src/components/ElementPropertiesPanel/SearchFilter.vue?e32d","webpack://builder/./src/components/ElementPropertiesPanel/SearchBox.vue?a903","webpack://builder/./src/components/ElementPropertiesPanel/SearchBox.vue?d93e","webpack://builder/./src/components/ElementPropertiesPanel/SearchBox.vue?7819","webpack://builder/./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue","webpack://builder/./src/components/Reusable/Tabs/Tab.vue","webpack://builder/./src/components/Reusable/Tabs/Tab.vue?de8a","webpack://builder/./src/components/Reusable/Tabs/Tab.vue?e461","webpack://builder/./src/components/Reusable/Tabs/Tab.vue?d77e","webpack://builder/./src/components/Reusable/Tabs/TabsRow.vue","webpack://builder/./src/components/Reusable/Tabs/TabsRow.vue?f5e1","webpack://builder/./src/components/Reusable/Tabs/TabsRow.vue?71a1","webpack://builder/./src/components/Reusable/Tabs/TabsRow.vue?7077","webpack://builder/./src/components/DesignLibrary/Presets/SavePreset.vue","webpack://builder/./src/util/trigger-download.ts","webpack://builder/./src/components/DesignLibrary/Presets/SavePreset.vue?c062","webpack://builder/./src/components/DesignLibrary/Presets/SavePreset.vue?de8e","webpack://builder/./src/components/DesignLibrary/Presets/SavePreset.vue?a4e3","webpack://builder/./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?997c","webpack://builder/./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?a703","webpack://builder/./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?c64a","webpack://builder/./src/components/ElementPropertiesPanel/DesignTabContent.vue","webpack://builder/./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue","webpack://builder/./src/lib/presets/presets.ts","webpack://builder/./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?d101","webpack://builder/./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?87d6","webpack://builder/./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?5adc","webpack://builder/./src/components/ElementPropertiesPanel/DesignTabContent.vue?e33c","webpack://builder/./src/components/ElementPropertiesPanel/DesignTabContent.vue?6d30","webpack://builder/./src/components/ElementPropertiesPanel/DesignTabContent.vue?38b1","webpack://builder/./src/lib/controls/search.ts","webpack://builder/./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue","webpack://builder/./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?0e10","webpack://builder/./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?07ce","webpack://builder/./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?d798","webpack://builder/./src/components/ElementPropertiesPanel/TabsAndControls.vue?56b1","webpack://builder/./src/components/ElementPropertiesPanel/TabsAndControls.vue?b596","webpack://builder/./src/components/ElementPropertiesPanel/TabsAndControls.vue?f2e9","webpack://builder/./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?4c4d","webpack://builder/./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?b932","webpack://builder/./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?818b","webpack://builder/./src/components/Add/AddPanel.vue","webpack://builder/./src/components/Add/ElementsList.vue","webpack://builder/./src/components/Add/WebsiteDialog.vue","webpack://builder/./src/components/Add/WebsiteDialog.vue?a4e1","webpack://builder/./src/components/Add/WebsiteDialog.vue?5491","webpack://builder/./src/components/Add/WebsiteDialog.vue?d274","webpack://builder/./src/components/Add/ElementsList.vue?ae3a","webpack://builder/./src/components/Add/ElementsList.vue?2eca","webpack://builder/./src/components/Add/ElementsList.vue?b5cd","webpack://builder/./src/components/Add/library/DesignLibraryModal.vue","webpack://builder/./src/components/Add/library/DesignLibrarySkeleton.vue","webpack://builder/src/components/Add/library/DesignLibrarySkeleton.vue","webpack://builder/./src/components/Add/library/DesignLibrarySkeleton.vue?6476","webpack://builder/./src/components/Add/library/DesignLibrarySkeleton.vue?8462","webpack://builder/./src/lib/design-library/design-library.ts","webpack://builder/./src/components/Add/library/DesignLibrarySidebar.vue","webpack://builder/./src/components/Add/library/DesignLibrarySidebar.vue?8557","webpack://builder/./src/components/Add/library/DesignLibrarySidebar.vue?04b3","webpack://builder/./src/components/Add/library/DesignLibrarySidebar.vue?fb0f","webpack://builder/./src/components/Add/library/DesignProviderDropdown.vue","webpack://builder/./src/components/Add/library/DesignProviderDropdown.vue?8f5b","webpack://builder/./src/components/Add/library/DesignProviderDropdown.vue?e63e","webpack://builder/./src/components/Add/library/DesignProviderDropdown.vue?2033","webpack://builder/./src/components/Add/library/DesignLibraryModal.vue?14a3","webpack://builder/./src/components/Add/library/DesignLibraryModal.vue?1f8d","webpack://builder/./src/components/Add/library/DesignLibraryModal.vue?7cf4","webpack://builder/./src/components/Reusable/Util/PanelHeader.vue","webpack://builder/./src/components/Reusable/Util/PanelHeader.vue?dc6b","webpack://builder/./src/components/Reusable/Util/PanelHeader.vue?6cb4","webpack://builder/./src/components/Reusable/Util/PanelHeader.vue?78af","webpack://builder/./src/components/Add/AddPanel.vue?875a","webpack://builder/./src/components/Add/AddPanel.vue?d8f0","webpack://builder/./src/components/Add/AddPanel.vue?7349","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue","webpack://builder/./src/components/BrowseMode/BrowseModeToggle.vue","webpack://builder/./src/components/Reusable/Util/PanelHeaderButton.vue","webpack://builder/./src/components/Reusable/Util/PanelHeaderButton.vue?c910","webpack://builder/./src/components/Reusable/Util/PanelHeaderButton.vue?33fa","webpack://builder/./src/components/Reusable/Util/PanelHeaderButton.vue?3b2d","webpack://builder/./src/components/BrowseMode/BrowseModeToggle.vue?ea85","webpack://builder/./src/components/BrowseMode/BrowseModeToggle.vue?1f8a","webpack://builder/./src/components/BrowseMode/BrowseModeToggle.vue?b75b","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?7229","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?0953","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?a8a0","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue","webpack://builder/./src/types/revisions.ts","webpack://builder/./src/lib/global-settings/revisions.ts","webpack://builder/./src/components/Reusable/Revisions/RevisionsList.vue","webpack://builder/./src/components/Reusable/Revisions/RevisionItem.vue","webpack://builder/./src/components/Reusable/Revisions/RevisionItem.vue?0147","webpack://builder/./src/components/Reusable/Revisions/RevisionItem.vue?2b1f","webpack://builder/./src/components/Reusable/Revisions/RevisionItem.vue?24f9","webpack://builder/./src/components/Reusable/Revisions/RevisionsList.vue?142e","webpack://builder/./src/components/Reusable/Revisions/RevisionsList.vue?67e4","webpack://builder/./src/components/Reusable/Revisions/RevisionsList.vue?ff65","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?1fd7","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?c7e6","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?6d59","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?ed26","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?bbac","webpack://builder/./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?1fdc","webpack://builder/./src/components/Settings/Selectors/SelectorsPanel.vue","webpack://builder/./src/components/Settings/Selectors/ManageSelectors.vue","webpack://builder/./src/components/Settings/Selectors/AddSelector.vue","webpack://builder/./src/components/Settings/Selectors/AddSelector.vue?6d3c","webpack://builder/./src/components/Settings/Selectors/AddSelector.vue?680f","webpack://builder/./src/components/Settings/Selectors/AddSelector.vue?73a8","webpack://builder/./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue","webpack://builder/./src/lib/selectors/revisions.ts","webpack://builder/./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?ed63","webpack://builder/./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?e371","webpack://builder/./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?cfa5","webpack://builder/./src/components/Settings/Selectors/ManageSelectors.vue?6955","webpack://builder/./src/components/Settings/Selectors/ManageSelectors.vue?9727","webpack://builder/./src/components/Settings/Selectors/ManageSelectors.vue?50ed","webpack://builder/./src/components/Settings/Selectors/EditSelector.vue","webpack://builder/./src/components/Settings/Selectors/EditSelector.vue?4e4e","webpack://builder/./src/components/Settings/Selectors/EditSelector.vue?4a46","webpack://builder/./src/components/Settings/Selectors/EditSelector.vue?224a","webpack://builder/./src/components/Settings/Selectors/SelectorsPanel.vue?dbe3","webpack://builder/./src/components/Settings/Selectors/SelectorsPanel.vue?1db8","webpack://builder/./src/components/Settings/Selectors/SelectorsPanel.vue?5524","webpack://builder/./src/components/Structure/StructurePanel.vue","webpack://builder/./src/lib/structure-panel-drag/util.ts","webpack://builder/./src/lib/structure-panel-drag/get-new-node-position.ts","webpack://builder/./src/components/Structure/StructurePanel.vue?d98d","webpack://builder/./src/components/Structure/StructurePanel.vue?e5b3","webpack://builder/./src/components/Structure/StructurePanel.vue?b2d9","webpack://builder/./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue","webpack://builder/./src/components/HistoryAndRevisions/History/History.vue","webpack://builder/./src/components/HistoryAndRevisions/History/SnapshotItem.vue","webpack://builder/./src/components/HistoryAndRevisions/History/SnapshotItem.vue?e68d","webpack://builder/./src/components/HistoryAndRevisions/History/SnapshotItem.vue?fa5a","webpack://builder/./src/components/HistoryAndRevisions/History/SnapshotItem.vue?e665","webpack://builder/./src/components/HistoryAndRevisions/History/History.vue?c0e7","webpack://builder/./src/components/HistoryAndRevisions/History/History.vue?5ebc","webpack://builder/./src/components/HistoryAndRevisions/History/History.vue?2f72","webpack://builder/./src/components/HistoryAndRevisions/Revisions/Revisions.vue","webpack://builder/./src/components/HistoryAndRevisions/Revisions/Revisions.vue?779a","webpack://builder/./src/components/HistoryAndRevisions/Revisions/Revisions.vue?5610","webpack://builder/./src/components/HistoryAndRevisions/Revisions/Revisions.vue?9864","webpack://builder/./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?f7db","webpack://builder/./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?41f5","webpack://builder/./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?78f5","webpack://builder/./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue","webpack://builder/./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?a2a9","webpack://builder/./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?1fd6","webpack://builder/./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?e8e4","webpack://builder/./src/components/Builder/SidebarPanels.vue?7699","webpack://builder/./src/components/Builder/SidebarPanels.vue?8784","webpack://builder/./src/components/Builder/SidebarPanels.vue?2563","webpack://builder/./src/components/Reusable/AppLayout/AppLayout.vue","webpack://builder/./src/components/Reusable/AppLayout/AppLayout.vue?b8fa","webpack://builder/./src/components/Reusable/AppLayout/AppLayout.vue?89e4","webpack://builder/./src/components/Reusable/AppLayout/AppLayout.vue?6675","webpack://builder/./src/components/Reusable/AppLayout/ClosingConfirmations.vue","webpack://builder/./src/components/Reusable/AppLayout/ClosingConfirmations.vue?ca2d","webpack://builder/./src/components/Reusable/AppLayout/ClosingConfirmations.vue?a962","webpack://builder/./src/components/Reusable/AppLayout/ClosingConfirmations.vue?3d45","webpack://builder/./src/components/UI/TemplateDialog.vue","webpack://builder/./src/components/UI/TemplateDialog.vue?3ad5","webpack://builder/./src/components/UI/TemplateDialog.vue?a363","webpack://builder/./src/components/UI/TemplateDialog.vue?6ab7","webpack://builder/./src/components/UI/InvalidPostDialog.vue","webpack://builder/./src/components/UI/InvalidPostDialog.vue?49a5","webpack://builder/./src/components/UI/InvalidPostDialog.vue?2cdb","webpack://builder/./src/components/UI/InvalidPostDialog.vue?cc33","webpack://builder/./src/components/Onboarding/FirstTimeVisit.vue","webpack://builder/./src/components/Onboarding/FirstTimeVisit.vue?1ea3","webpack://builder/./src/components/Onboarding/FirstTimeVisit.vue?de0e","webpack://builder/./src/components/Onboarding/FirstTimeVisit.vue?9fdf","webpack://builder/./src/components/Builder/BuilderLayout.vue?76e6","webpack://builder/./src/components/Builder/BuilderLayout.vue?dcdf","webpack://builder/./src/components/Builder/BuilderLayout.vue?4779","webpack://builder/./src/components/UnrecoverableErrors.vue","webpack://builder/./src/components/UnrecoverableErrors.vue?af25","webpack://builder/./src/components/UnrecoverableErrors.vue?3038","webpack://builder/./src/components/UnrecoverableErrors.vue?6f6f","webpack://builder/./src/Builder.vue?3422","webpack://builder/./src/Builder.vue?fd41","webpack://builder/./src/Builder.vue?9d4d","webpack://builder/./src/BrowseMode.vue","webpack://builder/./src/components/BrowseMode/BrowseModeSidebarPanels.vue","webpack://builder/./src/components/BrowseMode/BrowseModeSidebarPanels.vue?89eb","webpack://builder/./src/components/BrowseMode/BrowseModeSidebarPanels.vue?7ca0","webpack://builder/./src/components/BrowseMode/BrowseModeSidebarPanels.vue?6b91","webpack://builder/./src/components/BrowseMode/BrowseModeSave.vue","webpack://builder/./src/components/BrowseMode/BrowseModeSave.vue?74bf","webpack://builder/./src/components/BrowseMode/BrowseModeSave.vue?f65a","webpack://builder/./src/components/BrowseMode/BrowseModeSave.vue?3050","webpack://builder/./src/BrowseMode.vue?4474","webpack://builder/./src/BrowseMode.vue?cdd9","webpack://builder/./src/BrowseMode.vue?52e8","webpack://builder/./src/App.vue?38a5","webpack://builder/./src/App.vue?f4f7","webpack://builder/./src/App.vue?0e40","webpack://builder/./src/main.ts","webpack://builder/./src/types/conditions.ts","webpack://builder/./src/types/custom-fonts.ts","webpack://builder/./src/types/design-library.ts","webpack://builder/./src/types/dynamic-data.ts","webpack://builder/./src/types/elements.ts","webpack://builder/./src/types/load.ts","webpack://builder/./src/types/selectors.ts","webpack://builder/./src/types/templates.ts","webpack://builder/./src/types/tree.ts","webpack://builder/./src/types/typography.ts","webpack://builder/./src/util/fp-json-parse-typesafe.ts","webpack://builder/./src/util/json-parse-or-undefined.ts","webpack://builder/./src/components/BrowseMode/styles.iframecss","webpack://builder/webpack/bootstrap","webpack://builder/webpack/runtime/chunk loaded","webpack://builder/webpack/runtime/compat get default export","webpack://builder/webpack/runtime/define property getters","webpack://builder/webpack/runtime/global","webpack://builder/webpack/runtime/hasOwnProperty shorthand","webpack://builder/webpack/runtime/make namespace object","webpack://builder/webpack/runtime/node module decorator","webpack://builder/webpack/runtime/runtimeId","webpack://builder/webpack/runtime/jsonp chunk loading","webpack://builder/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._v(\" Default Children \"),_c('Repeater',{attrs:{\"value\":_vm.value || [],\"default-new-value\":_vm.defaultValue,\"control\":_vm.repeaterOptions},on:{\"input\":function($event){return _vm.updateDefaultElements($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('v-autocomplete',{staticClass:\"mb-2\",attrs:{\"value\":value.slug,\"items\":_vm.elementsAvailableForThisElementNestingType,\"hint\":\"Element that will be automatically added inside this current element\",\"persistent-hint\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'slug')}}}),(value.slug && _vm.canHaveChildren(value.slug))?_c('ElementStudioDefaultElements',{staticClass:\"mb-2\",attrs:{\"value\":value.children,\"parent-element-slug\":value.slug,\"allow-import\":false},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'children')}}}):_vm._e(),(value.slug)?_c('ElementStudioDefaultProperties',{attrs:{\"value\":value.defaultProperties || false,\"element-slug\":value.slug},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'defaultProperties')}}}):_vm._e()]}}])}),(_vm.allowImport)?_c('div',[_c('br'),_c('div',{staticClass:\"mb-2\"},[_vm._v(\" Import all children of the currently active element \")]),_c('NiceButton',{attrs:{\"disabled\":!_vm.canImport},on:{\"click\":_vm.importChildren}},[_vm._v(\" Import Children \")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { isNestingRuleAllowedInside } from \"@/lib/tree/nesting\";\nimport { DefaultChildElement } from \"@/types/elements\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport ElementStudioDefaultProperties from \"@/components/ElementStudio/ElementStudioDefaultProperties.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport { TreeNode } from \"@/types/tree\";\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioDefaultProperties,\n    TextInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable,\n  },\n})\nexport default class ElementStudioDefaultElements extends Vue {\n  @Prop()\n  value!: DefaultChildElement[];\n\n  @Prop()\n  parentElementSlug!: string;\n\n  @Prop({ default: true })\n  allowImport!: boolean;\n\n  defaultValue = {};\n\n  repeaterOptions = {\n    options: {\n      repeaterOptions: {\n        defaultTitle: \"Default Element\",\n        titleTemplate: \"{slug}\",\n        buttonName: \"Add new default element\",\n      },\n    },\n  };\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ElementStudioDefaultElements =\n      require(\"./ElementStudioDefaultElements.vue\").default;\n  }\n\n  updateDefaultElements(newValue: DefaultChildElement[]) {\n    this.$emit(\"input\", newValue);\n  }\n\n  canHaveChildren(slug: string) {\n    if (!slug) return false;\n\n    const element = configStore.element(slug);\n    const type = element.nestingRule.type;\n    return !type.startsWith(\"final\");\n  }\n\n  get canImport() {\n    if (!uiStore.activeElement) return false;\n    return uiStore.activeElement.data.type === this.context.element().slug;\n  }\n\n  importChildren() {\n    if (!uiStore.activeElement) return;\n\n    const transform = (element: TreeNode): DefaultChildElement => {\n      return {\n        slug: element.data.type,\n        defaultProperties: element.data.properties,\n        children: element.children.map(transform),\n      };\n    };\n\n    const activeElement = defensiveCopy(uiStore.activeElement);\n\n    const newChildren = activeElement.children.map(transform);\n\n    this.updateDefaultElements(newChildren);\n  }\n\n  get elementsAvailableForThisElementNestingType() {\n    return Object.keys(configStore.elements).filter((slug) => {\n      const parentElement = configStore.element(this.parentElementSlug);\n      const currentElementNestingRule = configStore.element(slug).nestingRule;\n\n      return isNestingRuleAllowedInside(\n        currentElementNestingRule,\n        parentElement.nestingRule,\n        parentElement.slug\n      );\n    });\n  }\n\n  updatePath(\n    value: any,\n    repeaterIndex: number,\n    path: keyof DefaultChildElement\n  ) {\n    const newValue = defensiveCopy(this.value) || {};\n    newValue[repeaterIndex][path] = value;\n\n    this.$emit(\"input\", newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDefaultElements.vue?vue&type=template&id=99698fd2&\"\nimport script from \"./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"Default Properties\")]),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"text\":\"\",\"disabled\":!_vm.canImport,\"outlined\":\"\"},on:{\"click\":_vm.importDefaultProperties}},[_vm._v(\"import\")]),(_vm.value)?_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\",\"small\":\"\",\"outlined\":\"\"},on:{\"click\":_vm.clearDefaultProperties}},[_vm._v(\"clear\")]):_vm._e(),_c('div',{staticClass:\"element-studio-default-properties-instructions\"},[_vm._v(\" Click IMPORT to set the default properties to the properties of the currently active element. Active element must be a \"),_c('b',[_vm._v(_vm._s(_vm.elementSlug))]),_vm._v(\". \")]),_c('h5',[_vm._v(\"Current Default Properties\")]),_c('pre',{staticClass:\"element-studio-default-properties-preview\"},[_vm._v(_vm._s(_vm.value))]),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.dialogOpen),callback:function ($$v) {_vm.dialogOpen=$$v},expression:\"dialogOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Set Default Properties \")]),_c('v-card-text',[_vm._v(\" Set default properties for \"+_vm._s(_vm.elementSlug)+\" to:\"),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.defaultProperties)+\" \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" cancel \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.confirmDefaultProperties}},[_vm._v(\" confirm \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: {}\n})\nexport default class ElementStudioDefaultProperties extends Vue {\n  @Prop()\n  value!: unknown | false; // BuilderElementDefaultPropertiesV is unknown\n\n  @Prop()\n  elementSlug!: string;\n\n  dialogOpen = false;\n\n  defaultProperties = this.value;\n\n  get canImport() {\n    if (!uiStore.activeElement) return false;\n    return uiStore.activeElement.data.type === this.elementSlug;\n  }\n\n  cancel() {\n    this.dialogOpen = false;\n  }\n\n  importDefaultProperties() {\n    if (!uiStore.activeElement) return;\n    if (uiStore.activeElement.data.type !== this.elementSlug) return;\n\n    const defaultProperties = defensiveCopy(\n      uiStore.activeElement.data.properties\n    );\n\n    if (defaultProperties) {\n      if (\"settings\" in defaultProperties) {\n        delete defaultProperties.settings;\n      }\n\n      if (\"meta\" in defaultProperties) {\n        delete defaultProperties.meta;\n      }\n    }\n\n    this.defaultProperties = defaultProperties;\n\n    this.dialogOpen = true;\n  }\n\n  confirmDefaultProperties() {\n    this.dialogOpen = false;\n    this.$emit(\"input\", this.defaultProperties);\n  }\n\n  clearDefaultProperties() {\n    if (confirm(\"are you sure?\")) {\n      this.$emit(\"input\", false);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDefaultProperties.vue?vue&type=template&id=1ac94d7a&\"\nimport script from \"./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDefaultProperties.vue?vue&type=style&index=0&id=1ac94d7a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dialog',{attrs:{\"value\":true},on:{\"close\":function($event){return _vm.$emit('close')},\"click:outside\":function($event){return _vm.$emit('close')},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.$emit('close')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Save as Global Block \")]},proxy:true},{key:\"text\",fn:function(){return [_c('TextInput',{attrs:{\"size\":\"md\",\"placeholder\":\"Global Block\"},model:{value:(_vm.globalBlockName),callback:function ($$v) {_vm.globalBlockName=$$v},expression:\"globalBlockName\"}})]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\",\"disabled\":!_vm.globalBlockName},on:{\"click\":_vm.saveAsGlobalBlock}},[_vm._v(\" Save \")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { convertToGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\n@Component({ components: { Dialog, TextInput } })\nexport default class GlobalBlockDialog extends Vue {\n  @Prop({ required: true })\n  elementId!: number;\n\n  globalBlockName: string | null = \"\";\n\n  async saveAsGlobalBlock(e: Event) {\n    e.preventDefault();\n\n    if (!this.globalBlockName) return;\n\n    if (this.elementId) {\n      await convertToGlobalBlock(this.elementId, this.globalBlockName);\n    }\n\n    this.globalBlockName = \"\";\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalBlockDialog.vue?vue&type=template&id=4dd535c1&\"\nimport script from \"./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"structure-node-children\"},[_vm._l((_vm.nodes),function(childElement){return [_c('StructureNode',{key:childElement.id,attrs:{\"element\":childElement,\"depth\":_vm.depth}})]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n    'structure-node': true,\n    'breakdance--currently-dragging': this.currentlyDragging\n  },attrs:{\"data-element-id\":_vm.element.id}},[_c('div',{staticClass:\"structure-node-title-wrapper\"},[_c('div',{staticClass:\"structure-node-title\",class:_vm.activeClass,style:(_vm.indentStyle),on:{\"click\":_vm.activateElement}},[_c('div',{staticClass:\"structure-node-title-real\"},[_c('div',{staticClass:\"structure-node-toggle-wrapper\"},[(_vm.element.children.length)?_c('Icon',{staticClass:\"structure-node-action__icon\",attrs:{\"icon\":\"CaretDownIcon\",\"size\":\"10\",\"rotate\":_vm.shouldShowChildrenNodes ? undefined : '270'},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleChildren.apply(null, arguments)}}}):_vm._e()],1),_c('div',{class:{\n            'structure-node-title-real-real': true,\n            'structure-panel-editing-friendly-name': _vm.editingFriendlyName\n          }},[_c('ElementIcon',{staticClass:\"structure-node-icon\",attrs:{\"icon\":_vm.baseElement.uiIcon,\"size\":\"12\"}}),_c('div',{staticClass:\"element-title-text\",attrs:{\"title\":_vm.friendlyNameInputValue || _vm.elementName}},[(!_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title-name ellipsis-text\",on:{\"dblclick\":_vm.enableEditingFriendlyName}},[_vm._v(\" \"+_vm._s(_vm.friendlyNameInputValue || _vm.elementName)+\" \")]):_vm._e(),(_vm.editingFriendlyName)?_c('input',{ref:\"friendlyNameInputRef\",staticClass:\"element-custom-name-input\",attrs:{\"size\":_vm.friendlyNameInputValue,\"spellcheck\":\"false\"},domProps:{\"value\":_vm.friendlyNameInputValue},on:{\"input\":function($event){return _vm.updateFriendlyName($event.target.value)},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"]))return null;_vm.showElementNameFallback = false},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.disableEditing.apply(null, arguments)}],\"blur\":_vm.disableEditing,\"mousedown\":function($event){$event.stopPropagation();return _vm.noop.apply(null, arguments)},\"contextmenu\":function($event){$event.stopPropagation();return _vm.noop.apply(null, arguments)}}}):_vm._e(),(_vm.isDraftSection && !_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title__meta\"},[_vm._v(\" (Draft) \")]):_vm._e(),(_vm.isShowingIdsInStructurePanel && !_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title__meta\"},[_vm._v(\" #\"+_vm._s(_vm.element.id)+\" \")]):_vm._e()]),(!_vm.editingFriendlyName)?_c('div',{staticClass:\"structure-node-actions__wrapper\"},[_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"size\":\"12\",\"icon\":\"BarsIcon\",\"title\":\"Open menu\"},on:{\"click\":_vm.showContextMenu}}),_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"icon\":\"DuplicateIcon\",\"title\":\"Duplicate element\"},on:{\"click\":_vm.duplicate}}),_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"size\":\"12\",\"icon\":\"TrashIcon\",\"title\":\"Delete element\"},on:{\"click\":_vm.remove}})],1):_vm._e()],1)])]),_c('div',{staticClass:\"nest-deeper\",style:(_vm.nestDeeperStyle),attrs:{\"data-element-id\":_vm.element.id}}),_c('div',{staticClass:\"nest-shallower\",style:(_vm.nestShallowerStyle),attrs:{\"data-element-id\":_vm.element.id}}),_c('div',{staticClass:\"top-half\",attrs:{\"data-element-id\":_vm.element.id,\"data-depth\":_vm.depth}}),_c('div',{staticClass:\"bottom-half\",attrs:{\"data-element-id\":_vm.element.id,\"data-depth\":_vm.depth}})]),(_vm.shouldShowChildrenNodes)?_c('ChildStructureNodes',{attrs:{\"nodes\":_vm.element.children,\"depth\":_vm.depth + 1}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport StructureContextMenu from \"@/components/Structure/StructureContextMenu.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementIcon from \"@/components/UI/ElementIcon.vue\";\nimport { openUiPanel, whichSideToPutUiPanel } from \"@/lib/panels/panels\";\nimport { structurePanelNodeIsExpanded } from \"@/lib/structure-panel/expand-collapse\";\nimport { SECTION_SLUG } from \"@/lib/elements/constants\";\nimport lodash from \"lodash\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\nconst nodeIndentAmount = 16;\n\n@Component({\n  name: \"StructureNode\",\n  components: {\n    ElementIcon,\n    Icon,\n    StructureContextMenu\n  }\n})\nexport default class StructureNode extends Vue {\n  @Prop()\n  element!: TreeNode;\n\n  @Prop()\n  depth: any;\n\n  showElementNameFallback = true;\n\n  editingFriendlyName = false;\n\n  get shouldShowChildrenNodes() {\n    return structurePanelNodeIsExpanded(this.element.id);\n  }\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ChildStructureNodes = require(\"./ChildStructureNodes.vue\").default;\n  }\n\n  activateElement() {\n    uiStore.activateElement(this.element.id);\n\n    if (\n      whichSideToPutUiPanel(\"elementproperties\") !==\n      whichSideToPutUiPanel(\"structure\")\n    ) {\n      openUiPanel(\"elementproperties\");\n    }\n  }\n\n  get baseElement() {\n    return configStore.element(this.element.data.type);\n  }\n\n  get activeClass() {\n    return {\n      \"breakdance--active-element\": uiStore.activeElementId === this.element.id\n    };\n  }\n\n  get indentStyle() {\n    const indentAmt = this.depth * nodeIndentAmount;\n    return {\n      marginLeft: `${indentAmt}px`,\n      width: `calc(100% - 1px - ${indentAmt}px`\n    };\n  }\n\n  get nestDeeperStyle() {\n    const indentAmt = (this.depth + 1) * nodeIndentAmount;\n    return {\n      left: `${indentAmt}px`\n    };\n  }\n\n  get nestShallowerStyle() {\n    const indentAmt = this.depth * nodeIndentAmount;\n    return {\n      width: `${indentAmt}px`\n    };\n  }\n\n  get elementName() {\n    return configStore.element(this.element.data.type).name;\n  }\n\n  get currentlyDragging() {\n    return uiStore.currentlyDraggingCanvasElementId === this.element.id;\n  }\n\n  get isShowingIdsInStructurePanel() {\n    return uiStore.settings.showElementIdInStructurePanel;\n  }\n\n  duplicate() {\n    documentStore.duplicateElementAndActivateIt(this.element.id);\n  }\n\n  showContextMenu(e: MouseEvent) {\n    uiStore.setOnStructurePanelRightClickMenuState({\n      elementId: this.element.id,\n      position: {\n        x: e.clientX,\n        y: e.clientY\n      }\n    });\n  }\n\n  remove() {\n    documentStore.deleteElement({ nodeId: this.element.id });\n  }\n\n  toggleChildren() {\n    const newStructurePanelNodesExpandedState = defensiveCopy(\n      uiStore.structurePanelNodesExpandedState\n    );\n\n    newStructurePanelNodesExpandedState[this.element.id] = !this\n      .shouldShowChildrenNodes;\n\n    uiStore.setStructurePanelNodesExpandedState(\n      newStructurePanelNodesExpandedState\n    );\n  }\n\n  get isDraftSection() {\n    if (this.element.data.type === SECTION_SLUG) {\n      return lodash.get(\n        this.element.data.properties,\n        \"settings.advanced.draft\"\n      );\n    }\n\n    return false;\n  }\n\n  get friendlyNameInputValue() {\n    if (\n      this.element.data.properties?.meta?.friendlyName === undefined &&\n      // If the user deletes the whole input, don't go back to showing it\n      this.showElementNameFallback\n    ) {\n      this.showElementNameFallback = false;\n\n      return this.elementName;\n    }\n\n    // need this to trick the computed prop into re-rendering. Otherwise, it won't rerun and update\n    if (this.editingFriendlyName) {\n      // if it already has a name, don't show the fallback when deleting it\n      this.showElementNameFallback = false;\n    }\n\n    return (\n      this.element.data.properties?.meta?.friendlyName &&\n      this.element.data.properties?.meta?.friendlyName.trim()\n    );\n  }\n\n  enableEditingFriendlyName() {\n    this.editingFriendlyName = true;\n\n    // wait for it to show\n    forceNextTick(() => {\n      // @ts-ignore\n      this.$refs.friendlyNameInputRef.focus();\n      // @ts-ignore\n      this.$refs.friendlyNameInputRef.select();\n    });\n  }\n\n  updateFriendlyName(friendlyName: string | undefined) {\n    documentStore.unthrottledPropertyChanged({\n      elementId: this.element.id,\n      path: \"meta.friendlyName\",\n      meta: {\n        snapshotLabel: `Updated friendly name for element \"${this.elementName}\"`\n      },\n      value: friendlyName?.trim() || undefined\n    });\n  }\n\n  disableEditing() {\n    this.editingFriendlyName = false;\n    this.showElementNameFallback = true;\n  }\n\n  // don't drag or open context menu\n  noop(e: Event) {\n    e.stopPropagation();\n    return {};\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StructureNode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StructureNode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructureNode.vue?vue&type=template&id=317d79ad&\"\nimport script from \"./StructureNode.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructureNode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport StructureNode from \"./StructureNode.vue\";\n\n@Component({\n  components: {\n    StructureNode\n  },\n  name: \"ChildStructureNodes\"\n})\nexport default class ChildStructureNodes extends Vue {\n  @Prop()\n  nodes: any;\n\n  @Prop()\n  depth: any;\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChildStructureNodes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChildStructureNodes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChildStructureNodes.vue?vue&type=template&id=00e6d15a&\"\nimport script from \"./ChildStructureNodes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChildStructureNodes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('Dropdown',{attrs:{\"absolute\":true,\"position-x\":_vm.position.x,\"position-y\":_vm.position.y,\"transition\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_vm._t(\"default\")]},proxy:true}],null,true),model:{value:(_vm.shouldShow),callback:function ($$v) {_vm.shouldShow=$$v},expression:\"shouldShow\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.elementId},nativeOn:{\"click\":function($event){return _vm.copyElement.apply(null, arguments)}}},[_c('v-list-item-title',[_vm._v(\"Copy\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElement},nativeOn:{\"click\":function($event){return _vm.pasteElement.apply(null, arguments)}}},[_c('v-list-item-title',[_vm._v(\"Paste\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElementProperties},nativeOn:{\"click\":function($event){return _vm.pasteElementProperties('design')}}},[_c('v-list-item-title',[_vm._v(\"Paste Design\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElementProperties},nativeOn:{\"click\":function($event){return _vm.pasteElementProperties('settings')}}},[_c('v-list-item-title',[_vm._v(\"Paste Settings\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.elementId},nativeOn:{\"click\":function($event){return _vm.deleteElement.apply(null, arguments)}}},[_c('v-list-item-title',[_vm._v(\"Delete\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canSaveAsGlobalBlock},nativeOn:{\"click\":function($event){return _vm.openSaveGlobalBlockDialog.apply(null, arguments)}}},[_c('v-list-item-title',{staticClass:\"pointer-events-none\"},[_vm._v(\"Save as Global Block\")])],1)],1)],1),(_vm.saveGlobalBlockDialog)?_c('GlobalBlockDialog',{attrs:{\"element-id\":_vm.element.id},on:{\"close\":_vm.closeGlobalBlockDialog}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport {\n  canPasteElement,\n  canPasteElementProperties,\n  copyElement,\n  pasteElement,\n  pasteElementProperties\n} from \"@/lib/copy-paste/copy-paste\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { canSaveAsGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport { TreeNode } from \"@/types/tree\";\nimport GlobalBlockDialog from \"@/components/Reusable/GlobalBlockDialog.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\n\n@Component({\n  components: {\n    GlobalBlockDialog,\n    Dropdown\n  }\n})\nexport default class StructureContextMenu extends Vue {\n  saveGlobalBlockDialog = false;\n  clipboardDialog = false;\n\n  get menuState() {\n    return uiStore.onStructurePanelRightClickMenuState !== \"closed\"\n      ? uiStore.onStructurePanelRightClickMenuState\n      : null;\n  }\n\n  get position() {\n    return this.menuState?.position || { x: 0, y: 0 };\n  }\n\n  get elementId() {\n    return this.menuState?.elementId;\n  }\n\n  get element(): TreeNode | undefined {\n    return findNode(documentStore.document.tree, this.elementId);\n  }\n\n  canPasteElement = false;\n  canPasteElementProperties = false;\n  permission?: PermissionState;\n\n  @Watch(\"menuState\")\n  async onStateChange() {\n    const { permission } = await getClipboardStatus();\n\n    this.permission = permission?.state;\n\n    if (this.permission === \"prompt\") {\n      this.canPasteElement = true;\n      this.canPasteElementProperties = true;\n      return;\n    }\n\n    this.canPasteElement = await canPasteElement(\n      this.menuState?.elementId\n        ? this.menuState.elementId\n        : documentStore.document.tree.root.id\n    );\n\n    this.canPasteElementProperties = this.menuState?.elementId\n      ? await canPasteElementProperties(this.menuState.elementId)\n      : false;\n  }\n\n  copyElement() {\n    if (this.elementId) {\n      copyElement(this.elementId);\n    }\n  }\n\n  pasteElement() {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.elementId) {\n      pasteElement(this.elementId);\n    } else {\n      pasteElement(documentStore.document.tree.root.id);\n    }\n  }\n\n  pasteElementProperties(path: \"design\" | \"content\" | \"settings\") {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.elementId) {\n      pasteElementProperties(this.elementId, path);\n    }\n  }\n\n  deleteElement() {\n    if (!this.elementId) return;\n\n    documentStore.deleteElement({ nodeId: this.elementId });\n  }\n\n  openSaveGlobalBlockDialog() {\n    if (this.elementId) {\n      this.saveGlobalBlockDialog = true;\n    }\n  }\n\n  closeGlobalBlockDialog() {\n    this.saveGlobalBlockDialog = false;\n    this.$emit(\"close\");\n  }\n\n  get canSaveAsGlobalBlock() {\n    return this.elementId && canSaveAsGlobalBlock(this.elementId);\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.onStructurePanelRightClickMenuState !== \"closed\" &&\n      !this.saveGlobalBlockDialog\n    );\n  }\n\n  set shouldShow(value: boolean) {\n    if (!value) {\n      uiStore.setOnStructurePanelRightClickMenuState(\"closed\");\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StructureContextMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StructureContextMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructureContextMenu.vue?vue&type=template&id=59df01bf&\"\nimport script from \"./StructureContextMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructureContextMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { PropertiesData } from \"@/types/tree\";\n\n/*\n * For a detailed view of the data structures look at the tests\n *\n * This function is also in PHP and they must both mirror each other's logic\n *\n * Logic:\n *\n * - Traverse the properties object recursively and find the \"breakpointId\" key. Then return its value\n * This way the returned properties will have \"flattened\" the breakpoint.\n * - If We're on the base breakpoint, also return any other value that isn't \"responsive\" (tied to a breakpoint)\n * - For non-base breakpoints, only return the values associated with that breakpoint\n * - If no values match the breakpoint, `undefined` is returned\n */\nexport function getFlattenedPropertiesByBreakpoint(\n  propertiesData: PropertiesData,\n  breakpointId: string,\n  allBreakpointIds: string[],\n  baseBreakpointId: string,\n  whitelistedPropertyPaths?: string[]\n): PropertiesData {\n  function _getFattenPropertiesByDefault(\n    properties: PropertiesData,\n    parentPath: string\n  ) {\n    if (isObjectExcludingArray(properties)) {\n      const accumulatorObj: Record<string, unknown> = {};\n\n      for (const propertyKey in properties) {\n        if (propertyKey === breakpointId) {\n          return properties[propertyKey];\n        }\n\n        // Don't include data for other breakpoints that aren't the one we're flattening\n        if (allBreakpointIds.includes(propertyKey)) continue;\n\n        const result = _getFattenPropertiesByDefault(\n          properties[propertyKey],\n          `${parentPath ? `${parentPath}.` : \"\"}${propertyKey}`\n        );\n\n        if (result !== undefined) {\n          accumulatorObj[propertyKey] = result;\n        }\n      }\n\n      // Was anything added to the accumulator?\n      return Object.keys(accumulatorObj).length ? accumulatorObj : undefined;\n    } else if (Array.isArray(properties)) {\n      const accumulatorArray: unknown[] = [];\n\n      properties.forEach(property => {\n        accumulatorArray.push(\n          _getFattenPropertiesByDefault(property, `${parentPath}[]`)\n        );\n      });\n\n      // for non-base breakpoints we can get an array of undefined. Remove it\n      // e.g: \"{tags: [1,2,3]}\" becomes \"{tags: [undefined, undefined, undefined]}\"\n      if (accumulatorArray.filter(value => value !== undefined).length === 0) {\n        return undefined;\n      }\n\n      // Was anything added to the array?\n      return accumulatorArray.length ? accumulatorArray : undefined;\n    }\n\n    const isCurrentPathWhitelisted =\n      parentPath &&\n      whitelistedPropertyPaths?.some(propertyPath =>\n        parentPath.startsWith(propertyPath)\n      );\n\n    // only return non-responsive values if we're on the base breakpoint\n    // A scalar (string, number, boolean, etc. But not an array or obj)\n    return breakpointId === baseBreakpointId || isCurrentPathWhitelisted\n      ? properties\n      : undefined;\n  }\n\n  return _getFattenPropertiesByDefault(propertiesData, \"\");\n}\n\nexport function isObjectExcludingArray(\n  value: unknown\n): /* todo: we are lying to typescript here, isn't there a better way to do this? the real problem is that properties data\nis an any */ value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n","import { Color, GlobalColor, GradientColorV } from \"@/types/colors\";\nimport slugify from \"slugify\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { v4 as uuidV4 } from \"uuid\";\n\n// https://stackoverflow.com/a/51567564\nexport function isLight(color: string) {\n  if (!isValidHex(color)) return true;\n\n  const hex = expandHexColor(color);\n\n  const r = parseInt(hex.substr(0, 2), 16);\n  const g = parseInt(hex.substr(2, 2), 16);\n  const b = parseInt(hex.substr(4, 2), 16);\n  const alpha = parseInt(hex.substr(6, 2), 16);\n  const brightness = (r * 299 + g * 587 + b * 114) / 1000;\n\n  return brightness > 230 || alpha < 100;\n}\n\nexport function stripColorSign(color: string) {\n  return color.replace(\"#\", \"\");\n}\n\n/*\n Expand 3-digit hex code to 6-digit hex codes\n #f0f -> #ff00ff\n #fff -> #ffffff\n*/\nexport function expandHexColor(color: string) {\n  const hex = stripColorSign(color);\n  if (hex.length !== 3) return hex;\n\n  return hex\n    .split(\"\")\n    .map(hex => hex + hex)\n    .join(\"\");\n}\n\nexport function isValidHex(color: string) {\n  const hex = expandHexColor(color);\n  return (hex.length === 6 || hex.length === 8) && !isNaN(Number(\"0x\" + hex));\n}\n\nexport function isCSSVariable(color: Color) {\n  return color.value.startsWith(\"var(--\");\n}\n\nexport function findColorByVariableName(color: Color, colors: GlobalColor[]) {\n  if (!isCSSVariable(color)) return undefined;\n  const name = extractVariableName(color.value);\n  return colors.find(c => c.cssVariableName === name);\n}\n\nexport function extractVariableName(color: string) {\n  const regexp = /var\\(--(.*)\\)/g;\n  const match = regexp.exec(color);\n\n  if (match !== null) {\n    return match[1];\n  }\n\n  return null;\n}\n\nexport function createVariableName(color: string, suffix?: string | number) {\n  const prefix = \"bde-palette-\";\n  const append = suffix ? `-${suffix}` : \"\";\n  const slug = slugify(color, { lower: true });\n  const uuid = uuidV4();\n\n  return `${prefix}${slug}-${uuid}${append}`;\n}\n\nexport function getGlobalColorCode(color: GlobalColor): string {\n  return pipe(\n    color.value,\n    GradientColorV.decode,\n    fold(\n      () => color.value as string,\n      gradient => gradient.value\n    )\n  );\n}\n\nexport function isGlobalColorAGradient(color: GlobalColor) {\n  return pipe(\n    color.value,\n    GradientColorV.decode,\n    fold(\n      () => false,\n      () => true\n    )\n  );\n}\n","import { Control, ControlType } from \"./controls\";\nimport { PropertiesData, TreeNodeV } from \"./tree\";\nimport * as t from \"io-ts\";\nimport { GlobalColorsV } from \"@/types/colors\";\nimport { TypographyPresetV } from \"@/types/typography\";\n\n// Builder\nexport type ClipboardStatus = {\n  secure: Window[\"isSecureContext\"];\n  permission: PermissionStatus | null;\n};\n\nexport const ClipboardDataV = t.type({\n  source: t.string,\n  colors: GlobalColorsV,\n  presets: t.array(TypographyPresetV),\n  element: TreeNodeV\n});\n\nexport type ClipboardData = t.TypeOf<typeof ClipboardDataV>;\n\n// Element Studio\nexport type CopiedControl = {\n  value: unknown;\n  type: ControlType;\n};\n\nexport type CopiedElementDesignAndSettings = {\n  design: PropertiesData;\n  settings: PropertiesData;\n  elementTypeSlug: string;\n};\n\ntype ElementStudioClipboard = {\n  copiedControl: false | Control;\n};\n\nexport type Clipboard = {\n  copiedControlData: false | CopiedControl;\n  copiedElementDesignAndSettings: false | CopiedElementDesignAndSettings;\n  elementStudio: false | ElementStudioClipboard;\n};\n","import lodash from \"lodash\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport { BuilderElement } from \"@/types/elements\";\nimport { GlobalColor } from \"@/types/colors\";\nimport { extractVariableName } from \"@/lib/colors/colors\";\nimport { configStore, globalStore } from \"@/store/store-accessor\";\nimport { TreeNode } from \"@/types/tree\";\nimport { ClipboardData } from \"@/types/copy-paste\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { TypographyPreset } from \"@/types/typography\";\n\nfunction getPathsByType(type: ControlType, element: BuilderElement) {\n  const addPathToAccumulator = (\n    control: Control,\n    parentPath: string,\n    acc: string[]\n  ) => {\n    const curPath = `${parentPath}.${control.slug}`;\n\n    if (type === control.options.type) {\n      acc.push(curPath);\n    }\n\n    control.children.forEach(control => {\n      acc = addPathToAccumulator(control, curPath, acc);\n    });\n\n    return acc;\n  };\n\n  const paths: string[] = [];\n\n  element.controls.contentSections.forEach(control => {\n    paths.concat(addPathToAccumulator(control, \"content\", paths));\n  });\n\n  element.controls.designSections.forEach(control => {\n    paths.concat(addPathToAccumulator(control, \"design\", paths));\n  });\n\n  return paths;\n}\n\nfunction moveExternalSiteGlobalsIntoElement(\n  node: TreeNode,\n  copiedPresets: TypographyPreset[],\n  copiedColors: GlobalColor[]\n) {\n  const element = defensiveCopy(node);\n  const builderElement = configStore.element(element.data.type);\n\n  /*\n   * Typography Presets\n   */\n  const typographyPresets = getPathsByType(\"typography\", builderElement);\n\n  typographyPresets.forEach(path => {\n    const presetId = lodash.get(element.data.properties, `${path}.preset`);\n\n    if (!presetId) return;\n\n    const foundCopiedPreset = maybeImportTypographyPresetFromClipboard(\n      copiedPresets,\n      presetId\n    );\n\n    if (foundCopiedPreset) {\n      lodash.set(element.data.properties, path, {\n        custom: foundCopiedPreset.custom\n      });\n    }\n  });\n\n  /*\n   * Colors\n   */\n  const colorPaths = getPathsByType(\"color\", builderElement);\n\n  const maybeUpdateColor = (path: string, color: string) => {\n    const foundCopiedColor = maybeImportColorFromClipboard(copiedColors, color);\n\n    if (foundCopiedColor) {\n      lodash.set(element.data.properties, path, foundCopiedColor.value);\n    }\n  };\n\n  colorPaths.forEach(path => {\n    const color = lodash.get(element.data.properties, path);\n\n    if (!color) return;\n\n    if (lodash.isObject(color)) {\n      // Breakpoint values\n      for (const property in color) {\n        // @ts-ignore\n        maybeUpdateColor(`${path}.${property}`, color[property]);\n      }\n    } else {\n      maybeUpdateColor(path, color);\n    }\n  });\n\n  return element;\n}\n\nexport function importClipboardMetadataToElement(\n  clipboardData: ClipboardData\n): TreeNode {\n  const recursiveImport = (element: TreeNode): TreeNode => {\n    const newElement = moveExternalSiteGlobalsIntoElement(\n      element,\n      clipboardData.presets,\n      clipboardData.colors\n    );\n\n    const children = element.children.map(recursiveImport);\n\n    return {\n      ...newElement,\n      children\n    };\n  };\n\n  return recursiveImport(clipboardData.element);\n}\n\nexport function exportClipboardMetadataFromElement(\n  element: TreeNode\n): ClipboardData {\n  // const recursiveExport = (\n  //   element: TreeNode\n  // ): { colors: GlobalColor[]; presets: TypographyPreset[] } => {\n  //   const colors = extractGlobalColorsFromElement(element);\n  //   const presets = extractTypographyPresetsFromElement(element);\n\n  //   const children = element.children.map(recursiveExport).reduce(\n  //     (a, b) => {\n  //       return {\n  //         colors: [...a.colors, ...b.colors],\n  //         presets: [...a.presets, ...b.presets]\n  //       };\n  //     },\n  //     { colors: [], presets: [] }\n  //   );\n\n  //   return {\n  //     colors: [...colors, ...children.colors],\n  //     presets: [...presets, ...children.presets]\n  //   };\n  // };\n\n  const source = location.hostname;\n  // const { colors, presets } = recursiveExport(element);\n\n  return {\n    source,\n    element,\n    colors: [], //arrayUniqueByKey<GlobalColor>(colors, \"cssVariableName\"),\n    presets: [] //arrayUniqueByKey<TypographyPreset>(presets, \"preset.id\")\n  };\n}\n\n// Typography\n\nconst maybeImportTypographyPresetFromClipboard = (\n  copiedPresets: TypographyPreset[],\n  presetIdToCopy: string\n) => {\n  if (isPresetInGlobalPresets(presetIdToCopy)) return;\n  return copiedPresets.find(t => t.preset.id === presetIdToCopy);\n};\n\nexport function extractTypographyPresetsFromElement(element: TreeNode) {\n  const builderElement = configStore.element(element.data.type);\n\n  return getPathsByType(\"typography\", builderElement)\n    .map(path => {\n      return lodash.get(element.data.properties, `${path}.preset`);\n    })\n    .filter(path => !!path)\n    .map(isPresetInGlobalPresets)\n    .filter(isGlobalPreset);\n}\n\nfunction isPresetInGlobalPresets(presetId: string) {\n  return globalStore.typographyPresets?.find(x => x.preset.id === presetId);\n}\n\nfunction isGlobalPreset(preset?: TypographyPreset): preset is TypographyPreset {\n  return preset !== undefined;\n}\n\n// Colors\n\nfunction maybeImportColorFromClipboard(\n  copiedColors: GlobalColor[],\n  color: string\n) {\n  if (!isCssVar(color) || (isCssVar(color) && isColorInGlobalColors(color))) {\n    return;\n  }\n\n  const cssVar = extractVariableName(color);\n  return copiedColors.find(c => c.cssVariableName === cssVar);\n}\n\nexport function extractGlobalColorsFromElement(element: TreeNode) {\n  const builderElement = configStore.element(element.data.type);\n\n  return getPathsByType(\"color\", builderElement)\n    .map(path => lodash.get(element.data.properties, path))\n    .filter(color => !!color)\n    .map(maybeMapColorsObjectToArray)\n    .flat()\n    .filter(onlyUnique)\n    .filter(isCssVar)\n    .map(extractVariableName)\n    .map(maybeGetGlobalColorByName)\n    .filter(isGlobalColor);\n}\n\nfunction isCssVar(color: unknown) {\n  return typeof color === \"string\" && color.startsWith(\"var(\");\n}\n\nfunction isColorInGlobalColors(color: string) {\n  const name = extractVariableName(color);\n  return globalStore.globalColors.find(x => x.cssVariableName === name);\n}\n\nfunction maybeMapColorsObjectToArray(\n  maybeObject: Record<string, string> | string\n): string | string[] {\n  return lodash.isObject(maybeObject)\n    ? Object.values(maybeObject)\n    : maybeObject;\n}\n\nfunction isGlobalColor(color?: GlobalColor): color is GlobalColor {\n  return color !== undefined;\n}\n\nfunction maybeGetGlobalColorByName(color: string | null) {\n  return globalStore.globalColors.find(x => x.cssVariableName === color);\n}\n\nfunction onlyUnique(value: unknown, index: number, self: unknown[]) {\n  return self.indexOf(value) === index;\n}\n\n// function arrayUniqueByKey<T>(array: Array<T>, key: string) {\n//   return [\n//     ...new Map(array.map(item => [lodash.get(item, key), item])).values()\n//   ];\n// }\n","import { exportNode, findNode } from \"@/lib/tree/tree\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport { fold, isRight } from \"fp-ts/lib/Either\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport {\n  findPlaceToAddNodes,\n  getDefaultTopLevelElementSlug,\n  getNestingRuleFromNode\n} from \"@/lib/tree/nesting\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport lodash from \"lodash\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport fpJsonParseTypesafe from \"@/util/fp-json-parse-typesafe\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { EasyEvent } from \"@/util/easy-event\";\nimport {\n  documentHasSelection,\n  fallbackWriteToClipboard,\n  getClipboardStatus\n} from \"@/lib/copy-paste/utils\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport { ClipboardDataV } from \"@/types/copy-paste\";\nimport {\n  exportClipboardMetadataFromElement,\n  importClipboardMetadataToElement\n} from \"@/lib/copy-paste/element\";\n\nconst clipboardEvents = new EasyEvent();\n\nexport function registerClipboardShortcuts() {\n  return {\n    register() {\n      clipboardEvents.on(\"copy\", onNativeEventReceived);\n      clipboardEvents.on(\"cut\", onNativeEventReceived);\n      clipboardEvents.on(\"paste\", onNativeEventReceived);\n    },\n    unbind() {\n      clipboardEvents.removeAll();\n    }\n  };\n}\n\nfunction onNativeEventReceived(event: ClipboardEvent) {\n  const iframeDoc = window.Breakdance.canvas.document;\n  const hasSelection =\n    documentHasSelection(iframeDoc) || documentHasSelection(document);\n\n  if (hasSelection) return;\n\n  event.preventDefault();\n\n  if (event.type === \"copy\" && uiStore.activeElementId) {\n    copyElement(uiStore.activeElementId);\n  } else if (event.type === \"cut\" && uiStore.activeElementId) {\n    cutElement(uiStore.activeElementId);\n  } else if (event.type === \"paste\") {\n    pasteElement(uiStore.activeElementId, event);\n  }\n}\n\nasync function determinePastingMethod(event?: ClipboardEvent) {\n  const { secure, permission } = await getClipboardStatus();\n\n  // @ts-ignore\n  if (event && !window.safari) return \"event\"; // Safari behaves strangely on non-ssl websites.\n  if (!secure) return \"localstorage\";\n  if (permission === null || permission.state === \"denied\") {\n    return \"localstorage\";\n  }\n\n  return \"clipboard\";\n}\n\nasync function writeToClipboard(text: string) {\n  try {\n    await navigator.clipboard.writeText(text);\n    console.debug(\"Writing to clipboard\");\n  } catch (err) {\n    fallbackWriteToClipboard(text);\n    console.debug(\"Fallback: Writing to clipboard\");\n  }\n\n  writeToLocalStorage(\"breakdance_copied_element_json_string\", text);\n}\n\nasync function readFromClipboard(event?: ClipboardEvent) {\n  const eventText = event?.clipboardData?.getData(\"text\");\n  const method = await determinePastingMethod(event);\n  console.debug(`Reading clipboard from ${method}`);\n\n  // Accessing the clipboard from a native event requires no permission\n  if (method === \"event\") {\n    return eventText;\n  }\n\n  if (method === \"localstorage\") {\n    return readFromLocalStorage(\"breakdance_copied_element_json_string\");\n  }\n\n  return await navigator.clipboard.readText();\n}\n\nexport async function getElementFromClipboard(\n  event?: ClipboardEvent\n): Promise<TreeNode | null> {\n  const elementAsJsonString = await readFromClipboard(event);\n\n  if (!elementAsJsonString) return null;\n\n  const maybeClipboardData = fpJsonParseTypesafe(\n    elementAsJsonString,\n    ClipboardDataV\n  );\n\n  return pipe(\n    maybeClipboardData,\n    fold(\n      () => null,\n      clipboardData => {\n        console.debug(\"Got element from clipboard\", clipboardData);\n        return importClipboardMetadataToElement(clipboardData);\n      }\n    )\n  );\n}\n\nexport function copyElement(elementId: number) {\n  const elementToCopy = findNode(documentStore.document.tree, elementId);\n  if (!elementToCopy) return;\n\n  const exportedElement = exportNode(elementToCopy);\n\n  const exportedElementWithMetadata =\n    exportClipboardMetadataFromElement(exportedElement);\n\n  pipe(\n    exportedElementWithMetadata,\n    fpJsonStringify,\n    fold(\n      e =>\n        console.error(\n          \"Failed to copy element\",\n          ...e.map(err => err.toString())\n        ),\n      exportedElementAsJsonString => {\n        writeToClipboard(exportedElementAsJsonString);\n      }\n    )\n  );\n}\n\nexport function cutElement(elementId: number) {\n  copyElement(elementId);\n  documentStore.deleteElement({ nodeId: elementId });\n}\n\nexport async function pasteElement(\n  elementIdToPasteNodesIntoOrNear: number | null,\n  event?: ClipboardEvent\n) {\n\n  if (configStore.elementsLoadingState !== \"success\") return; // solves https://github.com/soflyy/breakdance/issues/5950\n\n  const elementToPaste = await getElementFromClipboard(event);\n\n  if (!elementToPaste) return;\n\n  const placeToAdd = findPlaceToAddNodes(\n    documentStore.document.tree,\n    elementIdToPasteNodesIntoOrNear,\n    getNestingRuleFromNode(elementToPaste)\n  );\n\n  /**\n   * Snapshot bundling is required in order to merge the following\n   * mutations into a single snapshot:\n   *\n   * a) documentStore.addElementMutation(), documentStore.pasteCopiedElementMutation()\n   * b) mutations that are made by breakdanceStoreActions.run.onCreatedElement()\n   *\n   * Some mutations made by breakdanceStoreActions.onCreatedElement are async,\n   * meaning they won't be included into this specific transaction.\n   *\n   * The transactionKey is passed to breakdanceStoreActions.run.onCreatedElement(), so\n   * any transactions executed by the appropriate actions will use it in order to emerge\n   * changes made by those transactions into a single snapshot generated by this specific transaction.\n   *\n   * We don't know the node ID for the pasted element yet.\n   * Instead, a random number is included into the transactionKey\n   */\n  const uniqueId = uuidV4();\n  const transactionKey = `Paste:${uniqueId}`;\n\n  pipe(\n    placeToAdd,\n    fold(\n      () => {},\n      legalPlaceToAdd => {\n        if (legalPlaceToAdd === \"TOP_LEVEL\") {\n          breakdanceUndo.transaction(\n            () => {\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.addElementMutation({\n                elementSlug: getDefaultTopLevelElementSlug(),\n                parentNodeId: documentStore.document.tree.root.id,\n                index: false,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId !== undefined) {\n                documentStore.pasteCopiedElementMutation({\n                  element: elementToPaste,\n                  placeToAddId: pointerForCreatedNodeId.nodeId,\n                  placeToAddIndex: 0\n                });\n\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: elementToPaste.id,\n                  transactionKey\n                });\n              }\n            },\n            `Paste copied ${getBuilderElementNameBySlug(\n              elementToPaste.data.type\n            )} into a new section`,\n            transactionKey\n          );\n        } else {\n          breakdanceUndo.transaction(\n            () => {\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.pasteCopiedElementMutation({\n                element: elementToPaste,\n                placeToAddId: legalPlaceToAdd.place.id,\n                placeToAddIndex:\n                  legalPlaceToAdd.index ||\n                  legalPlaceToAdd.place.children.length,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId) {\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: pointerForCreatedNodeId.nodeId,\n                  transactionKey\n                });\n              }\n            },\n            `Paste copied ${getBuilderElementNameBySlug(\n              elementToPaste.data.type\n            )}`,\n            transactionKey\n          );\n        }\n      }\n    )\n  );\n}\n\nexport async function pasteElementProperties(\n  elementIdToPastePropertiesTo: number,\n  path: \"design\" | \"content\" | \"settings\" = \"design\"\n) {\n  const elementToCopyPropertiesFrom = await getElementFromClipboard();\n\n  if (!elementToCopyPropertiesFrom) return;\n\n  const elementToPastePropertiesTo = findNode(\n    documentStore.document.tree,\n    elementIdToPastePropertiesTo\n  );\n\n  if (!elementToPastePropertiesTo) return;\n\n  const copiedProperties = lodash.get(\n    elementToCopyPropertiesFrom.data.properties,\n    path,\n    null\n  );\n  /*\n    Setting to undefined actually blows up VueSimpleDeepset\n    when you then try to set a control value that has previously been cleared\n    by this function. so we use null as a fallback\n    */\n  if (\n    elementToCopyPropertiesFrom.data.type ===\n    elementToPastePropertiesTo.data.type\n  ) {\n    documentStore.throttledPropertyChanged({\n      elementId: elementToPastePropertiesTo.id,\n      path: path,\n      value: defensiveCopy(copiedProperties),\n      meta: {\n        snapshotLabel: `Paste properties of ${getBuilderElementNameBySlug(\n          elementToCopyPropertiesFrom.data.type\n        )} to ${getBuilderElementNameBySlug(\n          elementToPastePropertiesTo.data.type\n        )}`\n      }\n    });\n  }\n}\n\nexport async function canPasteElement(elementIdToPasteNodesIntoOrNear: number) {\n\n  if (configStore.elementsLoadingState !== \"success\") return false; // solves https://github.com/soflyy/breakdance/issues/5950\n\n  const elementToPaste = await getElementFromClipboard();\n\n  if (!elementToPaste) return false;\n\n  const placeToAdd = findPlaceToAddNodes(\n    documentStore.document.tree,\n    elementIdToPasteNodesIntoOrNear,\n    getNestingRuleFromNode(elementToPaste)\n  );\n\n  return isRight(placeToAdd);\n}\n\nexport async function canPasteElementProperties(\n  elementIdToPastePropertiesTo: number\n) {\n  const element = await getElementFromClipboard();\n\n  if (!element) return false;\n\n  const elementToPasteTo = findNode(\n    documentStore.document.tree,\n    elementIdToPastePropertiesTo\n  );\n\n  return element.data.type === elementToPasteTo?.data.type;\n}\n","import { ClipboardStatus } from \"@/types/copy-paste\";\n\ndeclare global {\n  // @see https://github.com/microsoft/TypeScript/issues/33923\n  interface PermissionDescriptor {\n    allowWithoutGesture: boolean;\n  }\n}\n\nexport async function maybeQueryClipboardPermission(): Promise<PermissionStatus | null> {\n  try {\n    return await navigator.permissions.query({\n      name: \"clipboard-read\" as PermissionName, // @see https://github.com/microsoft/TypeScript/issues/33923\n      allowWithoutGesture: false\n    });\n  } catch (e) {\n    return null;\n  }\n}\n\nexport async function getClipboardStatus(): Promise<ClipboardStatus> {\n  const permission = await maybeQueryClipboardPermission();\n\n  return {\n    secure: window.isSecureContext,\n    permission\n  };\n}\n\nexport function fallbackWriteToClipboard(text: string) {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  textArea.classList.add(\"breakdance-offscreen-input\");\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  let result: boolean;\n\n  try {\n    result = document.execCommand(\"copy\");\n  } catch (err) {\n    result = false;\n  }\n\n  document.body.removeChild(textArea);\n  return result;\n}\n\nfunction isHTMLInputElement(node: HTMLElement): node is HTMLInputElement {\n  return node?.nodeName === \"INPUT\";\n}\n\nfunction isTextField(node: HTMLElement) {\n  const nonTextInputs = [\n    \"button\",\n    \"checkbox\",\n    \"hidden\",\n    \"file\",\n    \"radio\",\n    \"image\",\n    \"range\",\n    \"reset\",\n    \"submit\",\n    \"number\",\n    \"email\",\n    \"time\"\n  ];\n\n  return (\n    (isHTMLInputElement(node) &&\n      node.type &&\n      !nonTextInputs.includes(node.type)) ||\n    node.nodeName === \"TEXTAREA\" ||\n    node.contentEditable === \"true\"\n  );\n}\n\nexport function documentHasTextSelection(doc: Document) {\n  const selection = doc?.defaultView?.getSelection();\n  const range = selection?.rangeCount ? selection.getRangeAt(0) : null;\n  return !!range && !range.collapsed;\n}\n\nexport function documentHasSelection(doc: Document) {\n  const activeEl = doc.activeElement as HTMLElement;\n\n  return (\n    activeEl &&\n    (isHTMLInputElement(activeEl) ||\n      isTextField(activeEl) ||\n      documentHasTextSelection(doc))\n  );\n}\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { PropertiesData, Tree } from \"@/types/tree\";\nimport { configStore, documentStore } from \"@/store/store\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { isDynamicShortcode } from \"@/lib/dynamic-data/utils\";\nimport { treeNodeReduce } from \"@/lib/tree/tree\";\nimport { objectDeepMap } from \"@/util/objects\";\nimport { DynamicData, DynamicDataV } from \"@/types/dynamic-data\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { getFrontendUrl } from \"@/lib/document\";\nimport { getHash } from \"@/util/hash\";\n\nexport async function loadDynamicData(\n  dynamicShortcodes: string[]\n): Promise<DynamicData> {\n  const overrideAjaxUrl = getFrontendUrl();\n\n  if (!dynamicShortcodes.length) {\n    return {};\n  }\n\n  const hashedDynamicShortcodes = convertDynamicShortcodesToDynamicShortcodesAsHashmapWithHashedKeys(dynamicShortcodes);\n\n  let evaluatedShortcodesFromWp: DynamicData = {};\n\n  // if they are previewing something (i.e. editing a template) use the URL of the previewed item.\n  // otherwise use the URL to the frontend\n  // if the URL to the frontend doesn't exist (i.e. editing a global block), handle it the same way we\n  // handle an error below\n  // TODO: what should we do for dynamic data if there's nothing to preview tho?\n\n  if (!overrideAjaxUrl) {\n    Object.keys(hashedDynamicShortcodes).forEach(key => {\n      evaluatedShortcodesFromWp[key] = \"\";\n    });\n    return evaluatedShortcodesFromWp;\n  }\n\n  pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_dynamic_data_get\",\n      overrideAjaxUrl: overrideAjaxUrl,\n      dataToPost: {\n        shortcodes: hashedDynamicShortcodes,\n        id: documentStore.document.documentMeta.id\n      },\n      decoder: DynamicDataV,\n      resultKey: \"data\"\n    }),\n    fold(\n      errors => {\n        errors.forEach(e => NotificationLogger.log.message(e.msg));\n        // If there's an error return '' for all values to invalidate the cache\n        // Otherwise the cache will become empty for those values and it'll keep retrying\n        // To get the data forever.\n        Object.keys(hashedDynamicShortcodes).forEach(key => {\n          evaluatedShortcodesFromWp[key] = \"\";\n        });\n      },\n      data => {\n        evaluatedShortcodesFromWp = data;\n      }\n    )\n  );\n\n  return evaluatedShortcodesFromWp;\n}\n\nexport async function loadAllDynamicDataFromTreeIntoStore() {\n  const dynamicShortcodes = getAllDynamicShortcodesFromTree(\n    documentStore.document.tree\n  ); // TODO - what's the performance of this on a huge tree on initial load?\n  const loadedDynamicData = await loadDynamicData(dynamicShortcodes);\n  configStore.updateDynamicDataCache(loadedDynamicData);\n}\n\n/**\n * @param propertiesOrPropertyValue\n * @param existingDynamicDataToExclude - any keys with truthy values here wont be returned\n */\nexport function getDynamicShortcodesFromPropertiesData(\n  propertiesOrPropertyValue: PropertiesData,\n  existingDynamicDataToExclude: DynamicData\n) {\n  const dynamicShortcodesToFetch: string[] = [];\n\n  // Recursively find all dynamic values\n  objectDeepMap(propertiesOrPropertyValue, (value: unknown) => {\n    if (isDynamicShortcode(value) && !existingDynamicDataToExclude[value]) {\n      dynamicShortcodesToFetch.push(value);\n    }\n  });\n\n  return dynamicShortcodesToFetch;\n}\n\nfunction getAllDynamicShortcodesFromTree(tree: Tree) {\n  return [\n    ...new Set(\n      treeNodeReduce<string[]>(\n        (node, acc) => {\n          const dynamicShortcodes = getDynamicShortcodesFromPropertiesData(\n            node.data.properties,\n            configStore.dynamicDataCache.data\n          );\n\n          return [...acc, ...dynamicShortcodes];\n        },\n        tree.root,\n        []\n      )\n    )\n  ];\n}\n\n\nfunction convertDynamicShortcodesToDynamicShortcodesAsHashmapWithHashedKeys(\n  dynamicShortcodes: string[]\n): DynamicData {\n  const hashmap: DynamicData = {};\n  dynamicShortcodes.forEach(shortcode => {\n    const hashedKey = hashDynamicShortcode(shortcode);\n    hashmap[hashedKey] = shortcode;\n  });\n  return hashmap;\n}\n\nexport function hashDynamicShortcode(shortcode: string) {\n  return getHash(shortcode);\n}\n","export function getElementPhpTemplate({\n  namespace,\n  phpClassName,\n  uiIcon,\n  tag,\n  tagOptions,\n  tagControlPath,\n  name,\n  className,\n  category,\n  badge,\n  defaultProperties,\n  defaultChildrenElements,\n  designControls,\n  contentControls,\n  settingsControls,\n  dependencies,\n  settings,\n  addPanelRules,\n  actions,\n  nestingRules,\n  spacingBars,\n  attributes,\n  experimental,\n  order,\n  dynamicPropertyPaths,\n  additionalClasses,\n  projectManagement,\n  propertyPathsToWhitelistInFlatProps,\n  propertyPathsToSsrElementWhenValueChanges\n}: {\n  namespace: string;\n  phpClassName: string;\n  uiIcon: string;\n  tag: string;\n  tagOptions: string;\n  tagControlPath: string;\n  name: string;\n  className: string;\n  category: string;\n  badge: string;\n  defaultProperties: string;\n  defaultChildrenElements: string;\n  designControls: string;\n  contentControls: string;\n  settingsControls: string;\n  dependencies: string;\n  settings: string;\n  addPanelRules: string;\n  actions: string;\n  nestingRules: string;\n  spacingBars: string;\n  attributes: string;\n  experimental: string;\n  order: string;\n  dynamicPropertyPaths: string;\n  additionalClasses: string;\n  projectManagement: string;\n  propertyPathsToWhitelistInFlatProps: string;\n  propertyPathsToSsrElementWhenValueChanges: string;\n}) {\n  return `<?php\n\nnamespace ${namespace};\n\nuse function Breakdance\\\\Elements\\\\c;\nuse function Breakdance\\\\Elements\\\\PresetSections\\\\getPresetSection;\n\n\n\\\\Breakdance\\\\ElementStudio\\\\registerElementForEditing(\n    \"${namespace}\\\\\\\\${phpClassName}\",\n    \\\\Breakdance\\\\Util\\\\getdirectoryPathRelativeToPluginFolder(__DIR__)\n);\n\nclass ${phpClassName} extends \\\\Breakdance\\\\Elements\\\\Element\n{\n    static function uiIcon()\n    {\n        return '${uiIcon}';\n    }\n\n    static function tag()\n    {\n        return '${tag}';\n    }\n\n    static function tagOptions()\n    {\n        return ${tagOptions};\n    }\n\n    static function tagControlPath()\n    {\n        return ${tagControlPath};\n    }\n\n    static function name()\n    {\n        return '${name}';\n    }\n\n    static function className()\n    {\n        return '${className}';\n    }\n\n    static function category()\n    {\n        return '${category}';\n    }\n\n    static function badge()\n    {\n        return ${badge};\n    }\n\n    static function slug()\n    {\n        return get_class();\n    }\n\n    static function template()\n    {\n        return file_get_contents(__DIR__ . '/html.twig');\n    }\n\n    static function defaultCss()\n    {\n        return file_get_contents(__DIR__ . '/default.css');\n    }\n\n    static function defaultProperties()\n    {\n        return ${defaultProperties};\n    }\n\n    static function defaultChildren()\n    {\n        return ${defaultChildrenElements};\n    }\n\n    static function cssTemplate()\n    {\n        $template = file_get_contents(__DIR__ . '/css.twig');\n        return $template;\n    }\n\n    static function designControls()\n    {\n        return ${designControls};\n    }\n\n    static function contentControls()\n    {\n        return ${contentControls};\n    }\n\n    static function settingsControls()\n    {\n        return ${settingsControls};\n    }\n\n    static function dependencies()\n    {\n        return ${dependencies};\n    }\n\n    static function settings()\n    {\n        return ${settings};\n    }\n\n    static function addPanelRules()\n    {\n        return ${addPanelRules};\n    }\n\n    static public function actions()\n    {\n        return ${actions};\n    }\n\n    static function nestingRule()\n    {\n        return ${nestingRules};\n    }\n\n    static function spacingBars()\n    {\n        return ${spacingBars};\n    }\n\n    static function attributes()\n    {\n        return ${attributes};\n    }\n\n    static function experimental()\n    {\n        return ${experimental};\n    }\n\n    static function order()\n    {\n        return ${order};\n    }\n\n    static function dynamicPropertyPaths()\n    {\n        return ${dynamicPropertyPaths};\n    }\n\n    static function additionalClasses()\n    {\n        return ${additionalClasses};\n    }\n\n    static function projectManagement()\n    {\n        return ${projectManagement};\n    }\n\n    static function propertyPathsToWhitelistInFlatProps()\n    {\n        return ${propertyPathsToWhitelistInFlatProps};\n    }\n\n    static function propertyPathsToSsrElementWhenValueChanges()\n    {\n        return ${propertyPathsToSsrElementWhenValueChanges};\n    }\n}\n`;\n}\n","export function getPresetPhpTemplate(\n  slug: string,\n  control: string,\n  namespace: string,\n  options: string | null\n) {\n  return `<?php\n\nnamespace ${namespace};\n\nuse function Breakdance\\\\Elements\\\\c;\nuse function Breakdance\\\\Elements\\\\PresetSections\\\\getPresetSection;\n\n\\\\Breakdance\\\\Elements\\\\PresetSections\\\\PresetSectionsController::getInstance()->register(\n    \"${slug}\",\n    ${control},\n    true,\n    ${options}\n);\n\n`;\n}\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  GlobalBlock,\n  GlobalBlocksV,\n  GlobalBlockV\n} from \"@/types/global-blocks\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport { Either, fold } from \"fp-ts/lib/Either\";\nimport { ExportedTree, ExportedTreeV, TreeNode } from \"@/types/tree\";\nimport {\n  copyNode,\n  createNode,\n  exportTree,\n  findNode,\n  getBlankTree,\n  getNodeIndex,\n  getNodeParent,\n  moveNode\n} from \"@/lib/tree/tree\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { DIV_SLUG, GLOBAL_BLOCK_SLUG } from \"@/lib/elements/constants\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  getNestingRuleFromElementSlug,\n  isNestingRuleAllowedInside,\n  isThisNodeAllowedInsideThatNode\n} from \"@/lib/tree/nesting\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\n\nexport async function getBlocksFromWordPress(): Promise<\n  Either<_Error[], GlobalBlock[]>\n> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_load_blocks\",\n    resultKey: \"blocks\",\n    decoder: GlobalBlocksV\n  });\n}\n\n// TODO this creates multiple snapshots, should be wrapped with transaction\nexport async function convertToGlobalBlock(\n  nodeIdOfElementToConvert: number,\n  blockName: string\n) {\n  const nodeToConvert = findNode(\n    documentStore.document.tree,\n    nodeIdOfElementToConvert\n  );\n  if (!nodeToConvert) return;\n\n  const globalBlockTree = createGlobalBlockTreeFromNode(nodeToConvert);\n\n  uiStore.setElementUpdatingState({\n    elementId: nodeIdOfElementToConvert,\n    isUpdating: true\n  });\n\n  pipe(\n    await saveGlobalBlockToWordPress({\n      tree: globalBlockTree,\n      label: blockName,\n      id: -1,\n      editInBreakdanceLink: \"\"\n    }),\n    fold(\n      errors => {\n        errors.forEach(e => NotificationLogger.log.message(e.msg));\n\n        uiStore.setElementUpdatingState({\n          elementId: nodeIdOfElementToConvert,\n          isUpdating: false\n        });\n      },\n      savedBlockInfo => {\n        const index = getNodeIndex(\n          documentStore.document.tree,\n          nodeToConvert.id\n        );\n        const parent = getNodeParent(\n          documentStore.document.tree,\n          nodeToConvert.id\n        );\n\n        uiStore.setElementUpdatingState({\n          elementId: nodeIdOfElementToConvert,\n          isUpdating: false\n        });\n\n        if (!parent) return;\n\n        if (\n          !isNestingRuleAllowedInside(\n            getNestingRuleFromElementSlug(GLOBAL_BLOCK_SLUG),\n            getNestingRuleFromElementSlug(parent.data.type),\n            parent.data.type,\n            \"breakdance_block\"\n          )\n        ) {\n          return;\n        }\n\n        const pointerForCreatedNodeId: { nodeId?: number } = {\n          nodeId: undefined\n        };\n\n        // TODO these create 3 snapshots. Would be great if they were a single one to easily undo/redo\n        documentStore.addElementMutation({\n          elementSlug: GLOBAL_BLOCK_SLUG,\n          parentNodeId: parent.id,\n          index: index,\n          pointer: pointerForCreatedNodeId\n        });\n\n        if (!pointerForCreatedNodeId.nodeId) {\n          return;\n        }\n\n        breakdanceStoreActions.run.onCreatedElement({\n          elementId: pointerForCreatedNodeId.nodeId,\n          transactionKey: undefined\n        });\n\n        documentStore.deleteElement({ nodeId: nodeIdOfElementToConvert });\n\n        documentStore.throttledPropertyChanged({\n          elementId: pointerForCreatedNodeId.nodeId,\n          path: \"content.content.block\",\n          value: savedBlockInfo.id,\n          meta: {\n            // TODO write something meaningful\n            snapshotLabel: \"Replace element with a global block\"\n          }\n        });\n\n        uiStore.activateElement(pointerForCreatedNodeId.nodeId);\n      }\n    )\n  );\n}\n\nfunction createGlobalBlockTreeFromNode(node: TreeNode): ExportedTree {\n  const tree = getBlankTree();\n  const copiedNode = copyNode(tree, node);\n\n  const isAllowedInsideRoot = isThisNodeAllowedInsideThatNode(\n    tree,\n    copiedNode,\n    tree.root.id,\n    \"breakdance_block\"\n  );\n\n  if (isAllowedInsideRoot) {\n    moveNode(\n      tree,\n      copiedNode.id,\n      tree.root.id,\n      tree.root.children.length,\n      \"breakdance_block\"\n    );\n  } else {\n    const divWrapperNode = createNode(tree, {\n      type: DIV_SLUG,\n      properties: configStore.element(DIV_SLUG).defaultProperties\n        ? defensiveCopy(configStore.element(DIV_SLUG).defaultProperties)\n        : null\n    });\n    moveNode(\n      tree,\n      divWrapperNode.id,\n      tree.root.id,\n      tree.root.children.length,\n      \"breakdance_block\"\n    );\n    moveNode(\n      tree,\n      copiedNode.id,\n      divWrapperNode.id,\n      divWrapperNode.children.length,\n      \"breakdance_block\"\n    );\n  }\n\n  return exportTree(tree);\n}\n\nexport async function saveGlobalBlockToWordPress(globalBlock: GlobalBlock) {\n  return await makeWordPressAjaxRequest({\n    friendlyName: \"Saving Global Block to WordPress\",\n    action: \"breakdance_save_global_block\",\n    dataToPost: {\n      ...globalBlock,\n      tree: fpJsonStringify(globalBlock.tree)\n    },\n    decoder: GlobalBlockV,\n    resultKey: \"block\"\n  });\n}\n\nexport function canSaveAsGlobalBlock(nodeToSaveId: number) {\n  const nodeToSave = findNode(documentStore.document.tree, nodeToSaveId);\n\n  if (!nodeToSave) return false;\n\n  if (nodeToSave.data.type === GLOBAL_BLOCK_SLUG) return false;\n\n  /*\n    is it allowed inside the root or inside a div?\n\n    when converting a node to a global block\n    a tree for the global block will be created. the node will be placed in\n    the tree root. if that's not allowed, it will be wrapped with a div\n    so as long as the node can be placed inside a div, it's legal to convert it\n    to a global block\n    */\n\n  const tempTree = getBlankTree();\n  const tempDiv = createNode(tempTree, {\n    type: DIV_SLUG,\n    properties: null\n  });\n  moveNode(\n    tempTree,\n    tempDiv.id,\n    tempTree.root.id,\n    tempTree.root.children.length,\n    \"breakdance_block\"\n  );\n\n  if (\n    isThisNodeAllowedInsideThatNode(\n      tempTree,\n      nodeToSave,\n      tempDiv.id,\n      \"breakdance_block\"\n    )\n  ) {\n    return true;\n  }\n\n  if (\n    isThisNodeAllowedInsideThatNode(\n      tempTree,\n      nodeToSave,\n      tempTree.root.id,\n      \"breakdance_block\"\n    )\n  ) {\n    return true;\n  }\n\n  return false;\n}\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { PropertiesDataV } from \"@/types/tree\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { globalStore } from \"@/store/store-accessor\";\nimport * as t from \"io-ts\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\n\nexport async function fetchGlobalSettings(): Promise<boolean> {\n  const maybeGlobalSettingsData = await makeWordPressAjaxRequest({\n    action: \"breakdance_load_global_settings\",\n    decoder: PropertiesDataV\n  });\n  return pipe(\n    maybeGlobalSettingsData,\n    fold(\n      errors => {\n        logErrorsToUiStore(\n          errors.map(err => {\n            return {\n              ...err,\n              customNotificationToShow: err.customNotificationToShow\n                ? err.customNotificationToShow.type === \"INTERNAL_SERVER_ERROR\"\n                  ? { ...err.customNotificationToShow, keepOpen: true }\n                  : err.customNotificationToShow\n                : undefined\n            };\n          })\n        );\n        return false;\n      },\n      loadedData => {\n        breakdanceUndo.ignore(() => {\n          globalStore.setGlobalSettings(loadedData.globalSettings);\n          globalStore.markCurrentGlobalSettingsAsUntouched();\n        });\n        return true;\n      }\n    )\n  );\n}\n\nexport async function saveGlobalSettingsToWordPress(): Promise<boolean> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      friendlyName: \"Saving global settings to WordPress\",\n      action: \"breakdance_save_global_settings\",\n      dataToPost: {\n        globalSettings: fpJsonStringify(globalStore.globalSettings)\n      },\n      decoder: t.unknown\n    }),\n    fold(\n      (errors: _Error[]) => {\n        logErrorsToUiStore(errors);\n        return false;\n      },\n      () => {\n        breakdanceUndo.ignore(() =>\n          globalStore.markCurrentGlobalSettingsAsUntouched()\n        );\n        return true;\n      }\n    )\n  );\n}\n","import { uiStore } from \"@/store/store-accessor\";\nimport { AccordionState } from \"@/types/ui\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\nexport function getElementAccordionState(\n  elementId: number,\n  accordionPath: string\n): AccordionState {\n  return uiStore.panelState.accordionState.elementProperties[elementId]?.[\n    accordionPath\n  ];\n}\n\nexport function setElementAccordionState(\n  elementId: number,\n  accordionPath: string,\n  expand: boolean\n) {\n  const newPanelState = defensiveCopy(uiStore.panelState);\n\n  newPanelState.accordionState.elementProperties = {\n    ...newPanelState.accordionState.elementProperties,\n    [elementId]: {\n      ...newPanelState.accordionState.elementProperties[elementId],\n      [accordionPath]: expand\n    }\n  };\n\n  uiStore.setPanelState(newPanelState);\n}\n\nexport function getSelectorAccordionState(\n  selectorName: string,\n  accordionPath: string\n): AccordionState {\n  return uiStore.panelState.accordionState.selectors[selectorName]?.[\n    accordionPath\n  ];\n}\n\nexport function setSelectorAccordionState(\n  selectorName: string,\n  accordionPath: string,\n  expand: boolean\n) {\n  const newPanelState = defensiveCopy(uiStore.panelState);\n\n  newPanelState.accordionState.selectors = {\n    ...newPanelState.accordionState.selectors,\n    [selectorName]: {\n      ...newPanelState.accordionState.selectors[selectorName],\n      [accordionPath]: expand\n    }\n  };\n\n  uiStore.setPanelState(newPanelState);\n}\n\nexport function setGlobalSettingsAccordionState(\n  accordionPath: string,\n  expand: boolean\n) {\n  const newPanelState = defensiveCopy(uiStore.panelState);\n\n  newPanelState.accordionState.globalSettings = {\n    ...newPanelState.accordionState.globalSettings,\n    [accordionPath]: expand\n  };\n\n  uiStore.setPanelState(newPanelState);\n}\n\nexport function getGlobalSettingsAccordionState(\n  accordionPath: string\n): AccordionState {\n  return uiStore.panelState?.accordionState?.globalSettings[accordionPath];\n}\n\nexport function setDynamicDataFieldAttributesAccordionState(\n  accordionPath: string,\n  expand: boolean\n) {\n  const newPanelState = defensiveCopy(uiStore.panelState);\n\n  newPanelState.accordionState.dynamicDataFieldAttributes = {\n    ...newPanelState.accordionState.dynamicDataFieldAttributes,\n    [accordionPath]: expand\n  };\n\n  uiStore.setPanelState(newPanelState);\n}\n\nexport function getDynamicDataFieldAttributesAccordionState(\n  accordionPath: string\n): AccordionState {\n  return uiStore.panelState?.accordionState?.dynamicDataFieldAttributes[\n    accordionPath\n  ];\n}\n","import { left, right, Either } from \"fp-ts/lib/Either\";\nimport { CSSSelector, CSSSelectorListV } from \"@/types/selectors\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { globalStore } from \"@/store/store-accessor\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport * as t from \"io-ts\";\nimport { isUiPanelOpen } from \"@/lib/panels/panels\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\n\n/** https://stackoverflow.com/questions/448981/which-characters-are-valid-in-css-class-names-selectors */\nexport function isValidClassName(name: string) {\n  return /^-?[.]+[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(name);\n}\n\n/** https://stackoverflow.com/questions/34849001/check-if-css-selector-is-valid */\nexport function isValidSelectorName(name: string) {\n  try {\n    document.createDocumentFragment().querySelector(name);\n  } catch {\n    return false;\n  }\n  return true;\n}\n\nexport function addSelector(newSelector: CSSSelector) {\n  /* these errors should never appear - a check should happen before this point */\n  if (newSelector.type === \"class\") {\n    if (!isValidClassName(newSelector.name)) {\n      NotificationLogger.log.message(\n        `${newSelector.name} is not a valid CSS class name.`\n      );\n      return;\n    }\n  } else {\n    if (!isValidSelectorName(newSelector.name)) {\n      NotificationLogger.log.message(\n        `${newSelector.name} is not a valid CSS selector.`\n      );\n\n      return;\n    }\n  }\n\n  if (\n    globalStore.cssSelectors.find(\n      selector => selector.name === newSelector.name\n    )\n  ) {\n    NotificationLogger.log.message(`${newSelector.name} is already present.`);\n    return;\n  }\n\n  breakdanceUndo.transaction(\n    () => globalStore.setSelectors([...globalStore.cssSelectors, newSelector]),\n    \"Add Selector\"\n  );\n}\n\nexport function addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed(\n  selector: CSSSelector\n) {\n  addSelector(selector);\n\n  // TODO not sure whether this check should exist here, it's inspired by SaveColorDialog.saveAsGlobal()'s logic\n  if (!isUiPanelOpen(\"selectors\")) {\n    saveSelectorsToWordPress();\n  }\n}\n\nexport function createCssSelectorObjectFromSelectorName(\n  selectorName: string\n): Either<string[], CSSSelector> {\n  if (!isValidSelectorName(selectorName)) {\n    return left([`\"${selectorName}\" is not a valid CSS selector.`]);\n  }\n\n  const isClass = !!isValidClassName(selectorName);\n\n  return right({\n    name: selectorName,\n    type: isClass ? \"class\" : \"custom\",\n    properties: {}\n  });\n}\n\nexport async function refetchSelectorsFromServerToGlobalStore(): Promise<\n  boolean\n> {\n  const selectorsFromServerOrErrors = await makeWordPressAjaxRequest({\n    action: \"breakdance_load_selectors\",\n    decoder: CSSSelectorListV\n  });\n\n  return pipe(\n    selectorsFromServerOrErrors,\n    fold(\n      errors => {\n        logErrorsToUiStore(\n          errors.map(err => {\n            return {\n              ...err,\n              customNotificationToShow: err.customNotificationToShow\n                ? err.customNotificationToShow.type === \"INTERNAL_SERVER_ERROR\"\n                  ? { ...err.customNotificationToShow, keepOpen: true }\n                  : err.customNotificationToShow\n                : undefined\n            };\n          })\n        );\n        return false;\n      },\n      loadedData => {\n        breakdanceUndo.ignore(() => {\n          globalStore.setSelectors(loadedData);\n          globalStore.markCurrentSelectorsAsUntouched();\n        });\n        return true;\n      }\n    )\n  );\n}\n\nexport async function saveSelectorsToWordPress(): Promise<boolean> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      friendlyName: \"Saving selectors to WordPress\",\n      action: \"breakdance_save_selectors\",\n      dataToPost: {\n        selectors: fpJsonStringify(globalStore.cssSelectors)\n      },\n      decoder: t.unknown\n    }),\n    fold(\n      (errors: _Error[]) => {\n        logErrorsToUiStore(errors);\n        return false;\n      },\n      () => {\n        breakdanceUndo.ignore(() =>\n          globalStore.markCurrentSelectorsAsUntouched()\n        );\n        return true;\n      }\n    )\n  );\n}\n","import { Tree } from \"@/types/tree\";\nimport { findNode, parentNodesReduce, treeNodeReduce } from \"@/lib/tree/tree\";\nimport { uiStore } from \"@/store/store-accessor\";\n\nexport type StructurePanelNodeStateExpanded = undefined | true;\nexport type StructurePanelNodeStateCollapsed = false;\n\nexport type StructurePanelNodesExpandedState = {\n  [key: string]:\n    | StructurePanelNodeStateExpanded\n    | StructurePanelNodeStateCollapsed;\n};\n\nexport function expandOrCollapseAllNodes(\n  tree: Tree,\n  expand: boolean\n): StructurePanelNodesExpandedState {\n  return treeNodeReduce(\n    (node, acc: StructurePanelNodesExpandedState) => {\n      acc[node.id] = expand;\n      return acc;\n    },\n    tree.root,\n    {}\n  );\n}\n\nexport function expandNodesToShowActiveElement(\n  tree: Tree,\n  activeElementId: number\n): StructurePanelNodesExpandedState | undefined {\n  const activeNode = findNode(tree, activeElementId);\n\n  if (!activeNode) return;\n\n  return parentNodesReduce(\n    (node, acc: StructurePanelNodesExpandedState) => {\n      acc[node.id] = true;\n      return acc;\n    },\n    tree,\n    activeNode,\n    {}\n  );\n}\n\nexport function structurePanelNodeIsCollapsed(nodeId: number) {\n  return uiStore.structurePanelNodesExpandedState[nodeId] === false;\n}\n\nexport function structurePanelNodeIsExpanded(nodeId: number) {\n  return (\n    uiStore.structurePanelNodesExpandedState[nodeId] === undefined ||\n    uiStore.structurePanelNodesExpandedState[nodeId] === true\n  );\n}\n","import { configStore } from \"@/store/store-accessor\";\nimport { PopupTriggers } from \"@/subapps/manage-templates/types\";\nimport { Condition, RuleGroup, Trigger } from \"@/types/conditions\";\nimport { DynamicField } from \"@/types/dynamic-data\";\n\nexport function appendProToProConditionsLabelInFreeMode(\n  label: string,\n  condition: Condition\n) {\n  if (condition.proOnly) {\n    return appendProToLabelInFreeMode(label);\n  }\n\n  return label;\n}\n\nexport function appendProToLabelInFreeMode(label: string) {\n  if (configStore.subscriptionMode === \"free\") {\n    return `${label} [PRO]`;\n  }\n\n  return label;\n}\n\nexport function areProConditionsUsedInRules(\n  ruleGroups: RuleGroup[] | undefined | null,\n  proOnlyConditions: Condition[]\n) {\n  return (\n    ruleGroups &&\n    proOnlyConditions.length &&\n    ruleGroups\n      .flat()\n      .find(rule =>\n        proOnlyConditions.find(condition => condition.slug === rule.ruleSlug)\n      )\n  );\n}\n\nexport function areProPopupTriggersUsed(\n  appliedTriggers: Trigger[],\n  allPopupTriggers: PopupTriggers[]\n) {\n  const proOnlyTriggers = allPopupTriggers.filter(trigger => trigger.proOnly);\n\n  return appliedTriggers.find(appliedTrigger =>\n    proOnlyTriggers.find(\n      proOnlyTrigger => proOnlyTrigger.value == appliedTrigger.slug\n    )\n  );\n}\n\nexport function isDynamicFieldProOnlyAndUserIsOnFreeTier(field: DynamicField) {\n  return configStore.subscriptionMode === \"free\" && field.proOnly;\n}\n\nexport function getProBadge() {\n  return {\n    backgroundColor: \"var(--gray200)\",\n    label: \"Pro\",\n    textColor: \"var(--gray800)\"\n  };\n}\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  ConfigDataLoadedFromWordPress,\n  DocumentDataLoadedFromWordPress,\n  ExpectedDataToLoadConfig,\n  ExpectedDataToLoadConfigV,\n  ExpectedDataToLoadDocument,\n  ExpectedDataToLoadDocumentV\n} from \"@/types/load\";\nimport {\n  configStore,\n  documentStore,\n  uiStore,\n  globalStore,\n  browseModeStore\n} from \"@/store/store\";\nimport { initAPI } from \"@/lib/api/api\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { Either, fold } from \"fp-ts/lib/Either\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { loadAllDynamicDataFromTreeIntoStore } from \"@/lib/dynamic-data/load\";\nimport { Store } from \"vuex\";\nimport {\n  precompileTemplatesOfElements,\n  precompileTwigMacrosTemplate\n} from \"@/lib/twig/twig\";\nimport { setWindowBreakdanceObjectAssetsFunctionsForBuilderMode } from \"@/lib/canvas/helpers\";\nimport * as t from \"io-ts\";\nimport { TemplatePreviewableItem } from \"@/types/templates\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { enableBrowseMode } from \"@/lib/browse-mode\";\nimport { BreakdanceWindowObjectDataFromLoaderForBrowseMode } from \"@/types/breakdance-window-object\";\nimport { BuilderElementV } from \"@/types/elements\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { chunk } from \"lodash\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\n\nexport async function loadDocumentFromWordPress(\n  id: number\n): Promise<Either<_Error[], ExpectedDataToLoadDocument>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_load_document\",\n    dataToPost: { id: id },\n    decoder: ExpectedDataToLoadDocumentV\n  });\n}\n\nexport async function loadConfigFromWordPress(): Promise<\n  Either<_Error[], ExpectedDataToLoadConfig>\n> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_load_document\",\n    decoder: ExpectedDataToLoadConfigV\n  });\n}\n\n/**\n * Initial mode is browse mode, loads config from WordPress\n */\nexport function initializeAppWhenInitialModeIsBrowse(\n  maybeLoadedData: Either<_Error[], ExpectedDataToLoadConfig>,\n  browseModeOptions?: Pick<\n    BreakdanceWindowObjectDataFromLoaderForBrowseMode,\n    \"browseModeOpenUrl\" | \"returnUrl\"\n  >\n) {\n  pipe(\n    maybeLoadedData,\n    fold(\n      errors => {\n        uiStore.setInterfaceState(\"normal\");\n\n        logErrorsToUiStore(\n          errors.map(err => {\n            return {\n              ...err,\n              customNotificationToShow: err.customNotificationToShow\n                ? err.customNotificationToShow.type === \"INTERNAL_SERVER_ERROR\"\n                  ? { ...err.customNotificationToShow, keepOpen: true }\n                  : err.customNotificationToShow\n                : undefined\n            };\n          })\n        );\n      },\n      async loadedData => {\n        initializeBreakdanceWindowObject();\n        initAPI(loadedData.plugins);\n\n        putDataInStoreFromWordPressConfig(loadedData);\n\n        if (browseModeOptions?.returnUrl) {\n          browseModeStore.setBackToAdminUrl(browseModeOptions.returnUrl);\n        }\n\n        precompileTwigMacrosTemplate();\n        precompileTemplatesOfElements();\n\n        uiStore.selectBaseBreakpoint();\n\n        enableBrowseMode(\n          \"globalSettings\",\n          browseModeOptions?.browseModeOpenUrl\n        );\n      }\n    )\n  );\n}\n\n/**\n * Initial mode is builder, loads both document data and config from WordPress\n */\nexport function initializeAppWhenInitialModeIsBuilder(\n  maybeLoadedData: Either<_Error[], ExpectedDataToLoadDocument>\n) {\n  pipe(\n    maybeLoadedData,\n    fold(\n      errors => {\n        uiStore.setInterfaceState(\"normal\");\n\n        logErrorsToUiStore(\n          errors.map(err => {\n            return {\n              ...err,\n              customNotificationToShow: err.customNotificationToShow\n                ? err.customNotificationToShow.type === \"INTERNAL_SERVER_ERROR\"\n                  ? { ...err.customNotificationToShow, keepOpen: true }\n                  : err.customNotificationToShow\n                : undefined\n            };\n          })\n        );\n      },\n      async loadedData => {\n        if (\"errorType\" in loadedData) {\n          uiStore.setInterfaceState(\"normal\");\n          configStore.setInvalidPostData(loadedData);\n\n          return;\n        }\n\n        initializeBreakdanceWindowObject();\n        setWindowBreakdanceObjectAssetsFunctionsForBuilderMode();\n\n        initAPI(loadedData.plugins);\n\n        putDataInStoreFromDocumentLoadedFromWordpress(loadedData);\n\n        precompileTwigMacrosTemplate();\n        precompileTemplatesOfElements();\n\n        await loadAllDynamicDataFromTreeIntoStore();\n\n        uiStore.selectBaseBreakpoint();\n        uiStore.setInterfaceState(\"normal\");\n\n        breakdanceUndo.initialize();\n      }\n    )\n  );\n}\n\nexport function putDataInStoreFromWordPressConfig(\n  d: ConfigDataLoadedFromWordPress\n) {\n  configStore.setEnvironment(d.environment);\n  configStore.setElementsAndAppendRootElement(d.builderElements);\n  configStore.setElementsExternalAttrsDepsAndActions(\n    d.elementsExternalAttrsDepsAndActions\n  );\n  configStore.setElementCategories(d.builderElementCategories);\n  configStore.setPreferences(d.preferences);\n  configStore.setDynamicFields(d.dynamicFields);\n  configStore.setConditions(d.conditions);\n  configStore.setFonts(d.fonts);\n  configStore.setGlobalSettingsControlsAndTemplate(\n    d.globalSettingsControlsAndTemplate\n  );\n  configStore.setAvailableDocuments(d.availableDocuments);\n  configStore.setAvailableMediaSizes(d.availableMediaSizes);\n  configStore.setAvailablePermissions(d.availablePermissions);\n  configStore.setPermission(d.permission);\n  configStore.setSelectorControls(d.selectors.controls);\n  configStore.setClassTemplate(d.selectors.template);\n  configStore.setNeededUrls(d.neededData);\n  configStore.setPresetsForElements(d.elementPresets);\n  configStore.setBuiltinBreakpoints(d.builtinBreakpoints);\n  configStore.setTwigMacros(d.twigMacros);\n  configStore.setTwigMacrosHash(d.twigMacrosHash);\n  configStore.setAvailableWordpressPlugins(d.availableWordpressPlugins);\n  configStore.setDesignLibrary(d.designLibrary);\n  configStore.setSubscriptionMode(d.subscriptionMode);\n\n  breakdanceUndo.ignore(() => {\n    globalStore.setGlobalSettings(d.globalSettings);\n    globalStore.markCurrentGlobalSettingsAsUntouched();\n\n    globalStore.setSelectors(d.selectors.selectors);\n    globalStore.markCurrentSelectorsAsUntouched();\n  });\n}\n\nexport function putDataInStoreFromDocumentLoadedFromWordpress(\n  d: DocumentDataLoadedFromWordPress\n) {\n  documentStore.setDocument(d.document);\n\n  configStore.setDocumentSpecificNeededUrls(d.documentSpecificNeededUrls);\n  configStore.loadTemplatePreviewData(d.templatePreview);\n\n  putDataInStoreFromWordPressConfig(d);\n}\n\nfunction initializeBreakdanceWindowObject() {\n  // Save the URL on first page load. The URL may change later and we want to be able to use it\n  // For example if we by using a Router\n  window.Breakdance.originalUrl = location.href;\n\n  window.Breakdance.stores = {\n    configStore,\n    documentStore,\n    uiStore,\n    globalStore\n  };\n}\n\nexport function getDocumentUrlFromId(documentId: number) {\n  const updatedUrl = new URL(window.Breakdance.originalUrl);\n\n  updatedUrl.searchParams.set(\"id\", `${documentId}`);\n  updatedUrl.search = updatedUrl.searchParams.toString();\n\n  return updatedUrl.href;\n}\n\nexport async function saveLastPreviewedItemInWp(\n  reviewableItem: TemplatePreviewableItem\n) {\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_save_template_last_previewed_item\",\n    decoder: t.type({ success: t.literal(true) }),\n    dataToPost: {\n      postId: documentStore.document.documentMeta.id,\n      item: fpJsonStringify(reviewableItem)\n    }\n  });\n}\n\nclass InitialStoreState {\n  initialState: unknown;\n  store!: Store<any>;\n\n  setupHook(store: Store<any>) {\n    this.store = store;\n    this.initialState = defensiveCopy(this.store.state);\n  }\n\n  resetToInitialState() {\n    // TODO: but what about the AJX errors? lmfao.\n    const newState = defensiveCopy(this.initialState);\n    this.store.replaceState(newState);\n  }\n}\n\nexport const initialStoreState = new InitialStoreState();\n\nexport const vuexInitialStoreStateInitFunction = (store: Store<any>) => {\n  initialStoreState.setupHook(store);\n};\n\nexport async function loadBuilderElementsFromWordPress() {\n  pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_load_builder_elements\",\n      resultKey: \"elements\",\n      decoder: t.array(BuilderElementV)\n    }),\n    fold(\n      errors => {\n        errors.forEach(e => NotificationLogger.log.message(e.msg));\n        configStore.setElementsLoadingState(\"failed\");\n        uiStore.logError(\"Failed to load elements\");\n      },\n      elements => {\n        const chunked = chunk(elements, 10);\n\n        chunked.forEach((elementsChunk, index) => {\n          // @ts-ignore\n          requestIdleCallback(() => {\n            configStore.addNonExistentElementsNonReactively(elementsChunk);\n            precompileTemplatesOfElements(elementsChunk);\n\n            const isLastChunk = index === chunked.length - 1;\n            if (isLastChunk) {\n              // TODO this clears and re-registers store actions for elements that have been initially loaded, should it only affect newly loaded elements?\n              breakdanceStoreActions.registerAllStoreActions();\n              configStore.setElementsLoadingState(\"success\");\n            }\n          });\n        });\n      }\n    )\n  );\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app',{class:_vm.classList},[_c('Notifications'),(_vm.isBrowseModeEnabled)?[_c('BrowseMode',{key:\"browser\"})]:[_c('Builder',{key:\"builder\"})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-builder\"},[(_vm.errorsPresent)?_c('UnrecoverableErrors'):(_vm.interfaceState === 'normal')?_c('BuilderLayout'):(_vm.interfaceState === 'loading')?_c('Loading'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('AppLayout',{class:_vm.classList,scopedSlots:_vm._u([{key:\"topbar\",fn:function(){return [_c('BuilderTopBar')]},proxy:true},{key:\"body\",fn:function(){return [_c('ClosingConfirmations'),_c('DesignLibraryModal'),_c('FirstTimeVisit'),_c('SidebarPanels',{attrs:{\"panelState\":_vm.leftSidebarPanelState,\"position\":'left'}}),_c('IframeCanvas',{on:{\"loaded\":_vm.onIframeLoaded}}),(_vm.showTemplateDialog)?_c('TemplateDialog',{attrs:{\"template-id\":_vm.templateId,\"template-name\":_vm.templateName,\"templateIsFallback\":_vm.isTemplateFallback,\"templatesPageUrl\":_vm.templatesPageUrl}}):_vm._e(),(_vm.showInvalidPostDialog)?_c('InvalidPostDialog'):_vm._e(),(_vm.preferencesModalOpen)?_c('PreferencesModal',{attrs:{\"open\":_vm.preferencesModalOpen},on:{\"update:dialog\":_vm.updatePreferencesModal}}):_vm._e(),(_vm.keyboardShortcutsHelpModalOpen)?_c('KeyboardShortcutsHelpModal',{attrs:{\"open\":_vm.keyboardShortcutsHelpModalOpen},on:{\"update:dialog\":_vm.updateKeyboardShortcutsHelpModal}}):_vm._e(),_c('SidebarPanels',{attrs:{\"panelState\":_vm.rightSidebarPanelState,\"position\":'right'}}),(_vm.elementStudioOpen)?_c('div',{staticClass:\"breakdance-app-far-right-area vscroll-wrap\"},[_c('ElementStudio')],1):_vm._e()]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.iframeURL)?_c('IframeWrapper',{attrs:{\"iframe-url\":_vm.iframeURL,\"iframe-preview-width\":_vm.canvasPreviewWidth,\"iframe-exited\":_vm.iframeExited,\"iframe-state\":_vm.canvasState,\"min-width\":_vm.iframeMinWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe-id\":\"iframe\"},on:{\"previewWidthChange\":_vm.handlePreviewWidthChange,\"previewWidthChangeWithAdjustmentBar\":_vm.handlePreviewWidthChangeWithAdjustmentBar,\"iframeLoaded\":_vm.mountCanvasInIframe,\"iframeUnloaded\":_vm.setIframeAsExited,\"reloadWanted\":_vm.reloadIframe,\"resetPreviewWidth\":_vm.handleResetPreviewWidth}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default \"/* Copied from globals.scss, don't modify here directly */\\n:root {\\n  --white: #ffffff;\\n  --black: #000000;\\n\\n  --blue50: #eff6ff;\\n  --blue100: #dbeafe;\\n  --blue200: #bfdbfe;\\n  --blue300: #93c5fd;\\n  --blue400: #60a5fa;\\n  --blue500: #3b82f6;\\n  --blue600: #2563eb;\\n  --blue700: #1d4ed8;\\n  --blue800: #1e40af;\\n  --blue900: #1e3a8a;\\n\\n  --red600: #dc2626;\\n\\n  --bde-canvas-font-family: system-ui, -apple-system, \\\"Segoe UI\\\", Roboto,\\n    Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\";\\n\\n  --bde-app-font-family: \\\"Avenir\\\", Helvetica, Arial, sans-serif;\\n}\\n\\n/* everything here should be prefixed with breakdance because\\nthese styles are mixed with any fuckery from their theme */\\n\\n#breakdance_canvas {\\n  position: relative;\\n  /* note that .breakdance { position: relative { is loaded by default on the frontend,\\n  therwise if the user uses absolute positioning, things could look different in the builder */\\n  /* this is necessary cuz our outlines, titlebars, etc. are positioned relative to this element */\\n}\\n\\n#breakdance_canvas.dragging {\\n  cursor: grabbing;\\n}\\n\\n#iframe {\\n  margin: 4px;\\n  border: 1px solid #eee;\\n  background-color: white;\\n  width: 100%;\\n  padding: 2px;\\n  font-family: var(--bde-canvas-font-family);\\n  position: relative;\\n}\\n\\n.breakdance-icon {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.breakdance-icon > svg {\\n  fill: currentColor;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n@-moz-document url-prefix() {\\n  .breakdance-icon > svg {\\n    width: auto;\\n    height: auto;\\n  }\\n}\\n\\n.dragTaller {\\n  height: 6px;\\n  width: 6px;\\n  border: 2px solid grey;\\n  border-radius: 50%;\\n  background-color: white;\\n  z-index: 2000;\\n}\\n\\n.drag-dot {\\n  width: 11px;\\n  height: 11px;\\n  border-radius: 50%;\\n  background-color: rgb(32, 43, 67);\\n  cursor: move;\\n  position: absolute;\\n  z-index: 100000;\\n  pointer-events: auto;\\n}\\n\\n.drag-dots-wrapper {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n\\n.drag-dot-top-left {\\n  top: -5px;\\n  left: -5px;\\n}\\n\\n.drag-dot-top-middle {\\n  top: -5px;\\n  left: calc(50% - 5px);\\n}\\n\\n.drag-dot-top-right {\\n  top: -5px;\\n  left: calc(100% - 5px);\\n}\\n\\n.drag-dot-bottom-left {\\n  top: calc(100% - 5px);\\n  left: -5px;\\n}\\n\\n.drag-dot-bottom-middle {\\n  top: calc(100% - 5px);\\n  left: calc(50% - 5px);\\n}\\n\\n.drag-dot-bottom-right {\\n  top: calc(100% - 5px);\\n  left: calc(100% - 5px);\\n}\\n\\n.drag-dot-middle-left {\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\n.drag-dot-middle-right {\\n  top: 50%;\\n  transform: translate(50%, -50%);\\n  right: 0;\\n}\\n\\n.spacing-bar {\\n  background-color: rgba(0, 0, 255, 0.2);\\n  opacity: 0;\\n  position: absolute;\\n  transition: 0.3s ease-in-out opacity;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 10000;\\n  min-height: 5px;\\n}\\n\\n.spacing-bar:hover {\\n  transition-delay: 0.2s;\\n}\\n\\n.spacing-bar .spacing-bar-current-value {\\n  font-family: monospace;\\n  color: white;\\n  font-size: 13px;\\n  font-weight: 500;\\n  background-color: #5555aa;\\n  line-height: 1;\\n  padding: 6px;\\n  border-radius: 4px;\\n  pointer-events: none;\\n}\\n\\n.spacing-bar-inside-top {\\n  min-height: 5px;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n/* column drag */\\n.drag-dots-left-width {\\n  margin-right: 22px;\\n}\\n\\n.drag-dots-column-widths-values {\\n  display: flex;\\n  flex-direction: row;\\n  position: absolute;\\n  left: -66px;\\n  top: -8px;\\n}\\n\\n.drag-dots-left-width,\\n.drag-dots-right-width {\\n  font-family: monospace;\\n  color: white;\\n  font-size: 13px;\\n  font-weight: 500;\\n  background-color: #5555aa;\\n  line-height: 1;\\n  padding: 6px;\\n  border-radius: 4px;\\n  width: 48px;\\n}\\n\\n/* Node Chrome */\\n\\n.node-chrome,\\n.node-titlebar-wrapper,\\n.node-hover-controls {\\n  transition: 0.3s opacity ease;\\n}\\n\\n.node-chrome--hide-all,\\n.node-chrome--hide-titlebar .node-titlebar-wrapper,\\n.node-chrome--hide-hover .node-hover-controls {\\n  opacity: 0;\\n}\\n\\n/* Titlebars */\\n\\n.node-titlebar-wrapper {\\n  position: absolute;\\n  pointer-events: none;\\n  direction: ltr;\\n  z-index: 10000;\\n  outline: 1px solid rgb(32, 43, 67);\\n  user-select: none;\\n}\\n\\n.node-titlebar {\\n  pointer-events: auto;\\n\\n  display: flex;\\n  align-items: center;\\n  position: absolute;\\n\\n  bottom: 100%;\\n  height: 28px;\\n  padding: 0 10px;\\n  border-radius: 4px 4px 0 0;\\n\\n  font-family: var(--bde-app-font-family);\\n  font-size: 12px;\\n  font-weight: 500;\\n\\n  letter-spacing: normal;\\n  text-transform: none;\\n\\n  background-color: rgb(32, 43, 67);\\n  color: white;\\n  z-index: 1000000;\\n\\n  left: -1px;\\n}\\n\\n.node-titlebar-is-draft-section {\\n  background-color: rgb(122, 125, 133);\\n}\\n\\n/*\\n * Moving you mouse over the node titlebar or spacing bars\\n * will trigger an erroneous mouseleave event on the element\\n * you are dragging, when your mouse is not outside of it yet.\\n */\\n.dragging .spacing-bar,\\n.dragging .node-titlebar {\\n  pointer-events: none;\\n}\\n\\n.node-titlebar-is-dragging,\\n.breakdance--currently-dragging,\\n.builder-element.breakdance--currently-dragging {\\n  cursor: grabbing;\\n}\\n\\n.breakdance--currently-dragging,\\n.builder-element.breakdance--currently-dragging {\\n  opacity: 0.5;\\n}\\n\\n.node-titlebar-is-dragging {\\n  /* color: rgb(32, 43, 67); */\\n  background-color: rgb(167, 170, 177) !important;\\n}\\n\\n.node-titlebar-wrapper-is-dragging {\\n  outline: 1px solid rgb(167, 170, 177) !important;\\n}\\n\\n.node-titlebar-wrapper .node-titlebar-button {\\n  color: rgba(255, 255, 255, 0.85);\\n  cursor: pointer;\\n}\\n\\n.node-titlebar-button:hover {\\n  color: rgba(255, 255, 255, 1);\\n}\\n\\n.node-titlebar-title {\\n  white-space: nowrap;\\n  cursor: grab;\\n  display: flex;\\n  align-items: center;\\n  letter-spacing: normal;\\n}\\n\\n.node-titlebar-title .node-titlebar-button {\\n  margin-right: 4px;\\n  margin-left: 0px;\\n}\\n\\n.node-titlebar-title .node-titlebar-button svg {\\n  cursor: grab;\\n}\\n\\n.node-titlebar-button-activate-parent {\\n  margin-left: 6px;\\n}\\n\\n.node-titlebar-button.node-titlebar-button-activate-parent > svg {\\n  width: 10px;\\n  height: 10px;\\n}\\n\\n.node-titlebar-button {\\n  margin-left: 9px;\\n}\\n\\n.node-titlebar-button > svg {\\n  width: 13px;\\n  height: 13px;\\n}\\n\\n.node-titlebar-margin-left {\\n  margin-left: 20px;\\n}\\n\\n/* Other */\\n.breakdance-drag-placeholder-wrapper {\\n  pointer-events: none;\\n}\\n\\n.breakdance-drag-placeholder {\\n  /* this won't work if something other than the window has position relative on it,\\n  maybe we could mount the overlaid ui chrome inside the body, not in the canvas */\\n\\n  /* some months later\\n  ... really? The above sounds like bullshit. I can put position relative\\n  on all sorts of stuff and this works fine\\n  so maybe we are already mounting the overlaid UI chrome in the right place?\\n  */\\n\\n  position: absolute;\\n  /* ---- */\\n  background-color: var(--blue500);\\n  z-index: 100001;\\n  display: none;\\n  border-radius: 2px;\\n}\\n\\n.breakdance-drag-target-outline {\\n  outline: 6px solid var(--blue300);\\n  outline-offset: -6px;\\n  z-index: 100000;\\n  display: none;\\n}\\n\\n.breakdance-children-pointer-events-none > * {\\n  pointer-events: none;\\n}\\n\\n/* global blocks */\\n.breakdance-themeless-global-block {\\n  cursor: default;\\n}\\n\\n.breakdance-themeless-global-block::selection {\\n  background-color: transparent;\\n}\\n\\n.breakdance-themeless-global-block *::selection {\\n  background-color: transparent;\\n}\\n\\n.breakdance-foreign-documents-overlay {\\n  font-family: var(--bde-canvas-font-family);\\n  position: fixed;\\n  z-index: 9999;\\n  outline: 1px solid rgb(255 182 216);\\n  outline-offset: -1px;\\n  cursor: not-allowed;\\n  background-color: rgba(0, 0, 0, 0.1);\\n  display: none;\\n}\\n.breakdance-foreign-documents-overlay-titlebar-wrapper {\\n  position: absolute;\\n  top: 0;\\n  left: 50%;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar {\\n  position: relative;\\n  left: -50%;\\n  height: 28px;\\n  padding: 0 10px;\\n  font-family: var(--bde-canvas-font-family);\\n  font-size: 12px;\\n  font-weight: 500;\\n  background-color: rgb(255 182 216);\\n  border-radius: 0px 0px 4px 4px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  user-select: none;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar a {\\n  cursor: pointer;\\n  color: black;\\n  text-decoration: none;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar a svg {\\n  margin-left: 5px;\\n  width: 14px;\\n  height: 14px;\\n}\\n\\n.breakdance-foreign-document-wrapper:hover\\n  .breakdance-foreign-document-wrapper__overlay {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/* node hover controls */\\n.node-hover-controls {\\n  position: absolute;\\n  pointer-events: none;\\n  z-index: 9999;\\n}\\n\\n.node-hover-controls--outline {\\n  outline: 1px solid rgb(177, 202, 255);\\n}\\n\\n.node-hover-controls > div {\\n  display: none;\\n  z-index: 100000;\\n}\\n\\n.node-hover-controls.node-hover-controls-show > div {\\n  display: flex;\\n}\\n\\n.node-hover-controls-button {\\n  position: absolute;\\n  pointer-events: auto;\\n  flex-direction: column;\\n\\n  border-radius: 50%;\\n\\n  width: 40px;\\n  height: 40px;\\n\\n  font-size: 20px;\\n  font-weight: 700;\\n  font-family: var(--bde-canvas-font-family);\\n  background-color: rgb(32, 43, 67);\\n  color: white;\\n\\n  align-items: center;\\n  justify-content: center;\\n\\n  cursor: pointer;\\n}\\n\\n.node-hover-controls-bottom-button {\\n  top: calc(100% - 20px);\\n  left: calc(50% - 20px);\\n}\\n\\n.node-hover-controls-right-button {\\n  top: 50%;\\n  left: calc(100% - 48px);\\n  transform: translateY(-50%);\\n}\\n\\n.node-hover-controls-menu {\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n  border-radius: 3px;\\n  font-family: var(--bde-canvas-font-family);\\n  font-size: 13px;\\n  font-weight: 500;\\n  flex-direction: column;\\n  background-color: white;\\n  color: black;\\n  display: none;\\n  position: absolute;\\n  top: calc(100% - 20px);\\n  left: 50%;\\n  transform: translateX(-50%);\\n  width: 170px;\\n  overflow: hidden;\\n}\\n\\n.node-hover-controls-menu > div {\\n  padding: 9px 12px;\\n  text-align: center;\\n}\\n\\n.node-hover-controls-menu > div:hover {\\n  background-color: #fafafa;\\n}\\n\\n.node-hover-controls-menu--open {\\n  display: flex;\\n}\\n\\n/* We do the outlining with JS to add some logic to it*/\\n*:focus[contenteditable=\\\"true\\\"] {\\n  border: none;\\n  outline: none;\\n}\\n\\n.node-content-editable {\\n  position: absolute;\\n  pointer-events: none;\\n  z-index: 1000;\\n  outline: 1px solid var(--blue500);\\n}\\n\\n/* EMPTY CONTAINER */\\n\\n.breakdance-empty-container {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  min-height: 200px;\\n}\\n\\n.breakdance-empty-container__add-element {\\n  font-family: var(--bde-canvas-font-family);\\n\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\\n  cursor: pointer;\\n\\n  user-select: none;\\n\\n  background-color: var(--blue50);\\n  width: 42px;\\n  height: 42px;\\n  border-radius: 3px;\\n  margin: 10px;\\n}\\n\\n.breakdance-empty-container__add-element {\\n  color: var(--blue500);\\n}\\n\\n.breakdance-empty-container__add-element:hover {\\n  background-color: var(--blue100);\\n}\\n\\n.breakdance-empty-container__add-element--disabled,\\n.breakdance-empty-container__add-element--disabled:hover {\\n  cursor: not-allowed;\\n  background: var(--grey-100);\\n  color: var(--grey-300);\\n}\\n\\n/* COLUMNS */\\n\\n.breakdance-empty-columns {\\n  font-family: var(--bde-canvas-font-family);\\n  box-sizing: border-box;\\n  width: 100%;\\n  overflow: hidden;\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 100px rgba(0, 0, 0, 0.1);\\n  padding: 50px;\\n}\\n\\n.breakdance-empty-columns-choices-heading {\\n  font-weight: 500;\\n  font-size: 16px;\\n  text-align: center;\\n  margin-bottom: 16px;\\n  user-select: none;\\n}\\n\\n.breakdance-empty-columns-choices {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-empty-columns-choices-row {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-empty-columns-column-icon-wrapper {\\n  padding: 4px;\\n  margin: 16px;\\n  cursor: pointer;\\n  border-radius: 3px;\\n  transition: 0.3s ease-in-out filter;\\n  filter: grayscale(90%);\\n}\\n\\n.breakdance-empty-columns-column-icon-wrapper:hover {\\n  filter: grayscale(0%);\\n}\\n\\n.breakdance-empty-columns-column-icon {\\n  width: 160px;\\n  height: 90px;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n}\\n\\n.breakdance-empty-columns-column-icon-column {\\n  margin: 4px;\\n  width: 100%;\\n  background-color: #bfdbfe;\\n  border-radius: 3px;\\n}\\n\\n.breakdance--empty-container:not(.breakdance--active-element) {\\n  outline: 2px solid #eee;\\n  outline-offset: -2px;\\n}\\n\\n/* ELEMENT */\\n\\n.builder-element {\\n  cursor: default;\\n}\\n\\n/* right click menu. This is  duplicated in the RightClickMenu\\n\\nWe need it also here because this is used both in the canvas and the structure panel\\n*/\\n\\n.breakdance-canvas-right-click-menu {\\n  position: absolute;\\n  z-index: 2147483647;\\n  font-family: var(--bde-canvas-font-family);\\n  background-color: var(--white);\\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\\n  min-width: 200px;\\n  border-radius: 4px;\\n  padding: 6px 0px;\\n  user-select: none;\\n}\\n\\n.breakdance-canvas-right-click-menu-item {\\n  font-size: 13px;\\n  font-weight: 400;\\n  font-size: 13px;\\n  min-height: 40px;\\n  padding-left: 18px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  cursor: pointer;\\n  color: #333;\\n}\\n\\n.breakdance-canvas-right-click-menu-divider {\\n  height: 1px;\\n  background-color: #ddd;\\n  margin-top: 6px;\\n  margin-bottom: 6px;\\n}\\n\\n.breakdance-canvas-right-click-menu-item:hover:not(.breakdance-canvas-right-click-menu-item-disabled) {\\n  background-color: #eee;\\n}\\n\\n.breakdance-canvas-right-click-menu-item-disabled {\\n  opacity: 0.5;\\n  cursor: default !important;\\n}\\n\\n/* Empty State */\\n\\n.breakdance-canvas-empty-element {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  width: 100%;\\n  padding: 30px;\\n  text-align: center;\\n  border: 2px dashed #c3c4c7;\\n}\\n\\n.breakdance-canvas-empty-element__title {\\n  font-size: 18px;\\n  font-weight: normal;\\n  color: #646970;\\n  margin-bottom: 0;\\n}\\n\\n/*** Warning ***/\\n\\n.bde-ssr-error {\\n  background: rgb(254, 242, 242);\\n  color: var(--red600);\\n  padding: 12px;\\n}\\n\\n/*** Loading ***/\\n\\n.breakdance-empty-ssr-message {\\n  padding: 12px;\\n  background: rgb(242, 242, 254);\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  color: black;\\n  font-size: 13px;\\n  font-weight: 500;\\n  margin: 12px 0;\\n}\\n\\n.breakdance-empty-ssr-message-error {\\n  background: rgb(254, 242, 242);\\n}\\n\\n.breakdance-empty-ssr-message small {\\n  margin-top: 6px;\\n  color: black;\\n  font-size: 11px;\\n  font-weight: 400;\\n}\\n\\n.breakdance-element-is-updating:empty {\\n  min-height: 80px;\\n  max-width: 100%;\\n  width: 400px;\\n}\\n\\n.breakdance-element-is-updating {\\n  opacity: 0.3;\\n  background: repeating-linear-gradient(\\n    45deg,\\n    #eee 0px,\\n    #eee 10px,\\n    #d4d4d4 10px,\\n    #d4d4d4 20px\\n  );\\n}\\n\\n.breakdance-node-titlebar-loading-spinner {\\n  animation: breakdance-node-titlebar-loading-spinner 1s linear infinite;\\n}\\n\\n@keyframes breakdance-node-titlebar-loading-spinner {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n\";","import {\n  CreateElement,\n  VNode,\n  VNodeChildren,\n  VNodeChildrenArrayContents,\n  VNodeData\n} from \"vue\";\n\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\n\nexport function htmlToVNodes(\n  html: string,\n  createElement: CreateElement,\n  functionToRenderChildren: () => VNode | VNode[],\n  {\n    enableContentEditableAndFocus,\n    saveContentEditable\n  }: {\n    enableContentEditableAndFocus: Function;\n    saveContentEditable: Function;\n  }\n): VNodeChildrenArrayContents {\n  const processNodes = (nodes: NodeListOf<ChildNode>) => {\n    const arrayOfNodes: VNodeChildrenArrayContents = [];\n    nodes.forEach(node => {\n      if (node.nodeType === TEXT_NODE) {\n        // nodeValue can have white spaces and we must preserve them, otherwise the HTML may end up wrong\n        const nodeValue = node.nodeValue;\n\n        if (nodeValue?.trim() === \"%%CHILDREN%%\") {\n          // '<div> %%CHILDREN%% </div>' will lose the whitespace around children, which is technically a bug.\n          // But this probably doesn't matter.\n          arrayOfNodes.push(functionToRenderChildren());\n        } else if (nodeValue) {\n          arrayOfNodes.push(nodeValue);\n        }\n      } else if (node.nodeType === ELEMENT_NODE && node instanceof Element) {\n        /* property attributes actually does exist of nodeType is ELEMENT_NODE, apparently */\n        const rawAttributes = node.attributes;\n        const tag = node.nodeName;\n        const attsObj: VNodeData[\"attrs\"] = {};\n        const domProps: VNodeData[\"domProps\"] = {};\n        const contentEditableEvents: VNodeData[\"on\"] = {};\n        const children: VNodeChildren = [];\n\n        // Don't add class or style if variable is empty (it needs to be undefined as null is considered set)\n        let classString: string | undefined = undefined;\n        let styleString: string | undefined = undefined;\n\n        for (let i = 0; i < rawAttributes.length; i++) {\n          const rawAttribute = rawAttributes.item(i);\n\n          if (rawAttribute) {\n            const attributeName = rawAttribute.name;\n\n            if (attributeName === \"class\") {\n              classString = rawAttribute.value;\n            } else if (attributeName === \"style\") {\n              styleString = rawAttribute.value;\n            } else {\n              attsObj[attributeName] = rawAttribute.value;\n            }\n\n            /**\n             * Once we met content-editable DOM node, there's no point in creating\n             * VNodes for its child DOM nodes. Setting innerHTML is a correct\n             * workaround for this bug:\n             *\n             * https://github.com/vuejs/vue/issues/5805#issuecomment-305951126\n             */\n            if (attributeName === \"data-content-editable-property-path\") {\n              contentEditableEvents.dblclick = enableContentEditableAndFocus;\n              contentEditableEvents.blur = saveContentEditable;\n              domProps.innerHTML = node.innerHTML;\n            }\n          }\n        }\n\n        if (!domProps.innerHTML && node.hasChildNodes()) {\n          children.push(...processNodes(node.childNodes));\n        }\n\n        arrayOfNodes.push(\n          createElement(\n            tag,\n            {\n              class: classString,\n              style: styleString,\n              attrs: { ...attsObj },\n              on: { ...contentEditableEvents },\n              domProps\n            },\n            children\n          )\n        );\n      }\n    });\n\n    return arrayOfNodes;\n  };\n\n  const domParser = new DOMParser();\n\n  // decode the HTML to fix issues like HTML entities '&pound;'\n  const decodedHtml = domParser.parseFromString(html, \"text/html\").body;\n  // Then XML serialize it because we need it to be xhtml to process it and the HTML may not be valid XML (like with img closing tags)\n  const serializedXml = new XMLSerializer().serializeToString(decodedHtml);\n  // remove the body so that we only get the innerHTML. Since this is an XML string, I didn't find any easier way.\n  const xmlWithoutBodyTag = serializedXml\n    // remove the body tags\n    // '.*?' = match everything until the next match,  which is > (non-greedy catch all)\n    .replace(/<body.*?>/, \"\")\n    .replace(\"</body>\", \"\");\n\n  const doc = domParser.parseFromString(\n    \"<root>\" + xmlWithoutBodyTag + \"</root>\",\n    \"application/xhtml+xml\"\n  );\n\n  return processNodes(doc.documentElement.childNodes);\n}\n","import * as t from \"io-ts\";\nimport { ElementDependencyAndConditionV } from \"@/types/elements\";\n\nexport const GlobalGeneratedCssFilePathsV = t.partial({\n  globalSettingsCssFilePath: t.string,\n  globalSelectorsCssFilePath: t.string,\n  defaultCssForAllElementsFilePath: t.string\n});\n\n// this type also exists in Psalm\nexport type GlobalGeneratedCssFilePaths = t.TypeOf<\n  typeof GlobalGeneratedCssFilePathsV\n>;\n\nexport const PostGeneratedCssFilePathsV = t.partial({\n  postCssFilePath: t.string,\n  postDefaultsCssFilePath: t.string\n});\n\n// this type also exists in Psalm\nexport type PostGeneratedCssFilePaths = t.TypeOf<\n  typeof PostGeneratedCssFilePathsV\n>;\n\nexport const PostAssetsWithoutDependenciesV = t.type({\n  postsGeneratedCssFilePaths: t.record(t.string, PostGeneratedCssFilePathsV)\n});\n\nexport const PostAssetsV = t.intersection([\n  PostAssetsWithoutDependenciesV,\n  t.type({\n    dependencies: ElementDependencyAndConditionV\n  })\n]);\n\n// this type also exists in Psalm\nexport type PostAssets = t.TypeOf<typeof PostAssetsV>;\n\n// this type also exists in Psalm\nexport type PostAssetsWithoutDependencies = t.TypeOf<\n  typeof PostAssetsWithoutDependenciesV\n>;\n","import * as t from \"io-ts\";\nimport { PostAssetsV, PostAssetsWithoutDependenciesV } from \"@/types/assets\";\nimport { ElementDependencyAndConditionV } from \"@/types/elements\";\n\nexport const SsrNodeV = t.intersection([\n  t.type({\n    html: t.string\n  }),\n  PostAssetsV\n]);\n\n// this type also exists in Psalm\nexport type SsrNode = t.TypeOf<typeof SsrNodeV>;\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { PropertiesData } from \"@/types/tree\";\nimport { documentStore } from \"@/store/store\";\nimport { SsrNode, SsrNodeV } from \"@/types/server-side-render\";\nimport { Either } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport { getFrontendUrl } from \"@/lib/document\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\n\nconst debounceTimeoutTable: {\n  [key: number]: NodeJS.Timeout;\n} = {};\n\n/*\n * Works the same as a debounce function, but it return a promise that will execute its function and be resolved\n * after \"interval\" of not being called.\n *\n * It uses a timeoutTable to be able to debounce different calls at the same time.\n */\nfunction promiseDebounce(\n  exec: (...args: any[]) => Promise<Either<_Error[], SsrNode>>,\n  interval: number,\n  id: number\n): () => ReturnType<typeof exec> {\n  let resolves: Array<(value: Promise<Either<_Error[], SsrNode>>) => void> = [];\n\n  return async (...args: unknown[]) => {\n    if (debounceTimeoutTable[id]) {\n      clearTimeout(debounceTimeoutTable[id]);\n    }\n\n    debounceTimeoutTable[id] = setTimeout(() => {\n      const result = exec(...args);\n      resolves.forEach(resolve => resolve(result));\n      resolves = [];\n\n      delete debounceTimeoutTable[id];\n    }, interval);\n\n    return new Promise(resolve => resolves.push(resolve));\n  };\n}\n\nexport function serverSideRender(\n  elementSlug: string,\n  properties: PropertiesData,\n  id: number,\n  parentProperties: PropertiesData\n): Promise<Either<_Error[], SsrNode>> {\n  const makeWordPressAjaxRequestFunction = () =>\n    makeWordPressAjaxRequest({\n      action: \"breakdance_server_side_render\",\n      overrideAjaxUrl: getFrontendUrl(),\n      dataToPost: {\n        properties: fpJsonStringify(properties),\n        parentProperties: fpJsonStringify(parentProperties),\n        elementSlug,\n        triggeringDocument: documentStore.document.documentMeta.id\n      },\n      decoder: SsrNodeV\n    });\n\n  return promiseDebounce(makeWordPressAjaxRequestFunction, 1000, id)();\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-empty-container\",attrs:{\"id\":\"breakdance-empty-container\"}},[_c('div',{staticClass:\"breakdance-empty-container__add-element\",class:{\n      'breakdance-empty-container__add-element--disabled': !_vm.canAddElement\n    },on:{\"click\":_vm.openAddPanel}},[_c('Icon',{attrs:{\"icon\":\"PlusIcon\",\"size\":\"22\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { uiStore } from \"@/store/store\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: { Icon }\n})\nexport default class EmptyContainer extends Vue {\n  @Prop({ default: null })\n  id!: number | null;\n\n  get canAddElement() {\n    return uiStore.hasFullAccess;\n  }\n\n  openAddPanel(e: Event) {\n    // Don't open links if inside an `a`\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!this.canAddElement) return;\n\n    openUiPanel(\"add\");\n\n    uiStore.activateElement(this.id);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmptyContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmptyContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EmptyContainer.vue?vue&type=template&id=a21ec9ea&\"\nimport script from \"./EmptyContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmptyContainer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-empty-columns\"},[_c('div',{staticClass:\"breakdance-empty-columns-choices-heading\"},[_vm._v(\" Choose a column structure \")]),_c('div',{staticClass:\"breakdance-empty-columns-choices\"},[_c('div',{staticClass:\"breakdance-empty-columns-choices-row\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2)}}},[_vm._m(0)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 3)}}},[_vm._m(1)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 4)}}},[_vm._m(2)])]),_c('div',{staticClass:\"breakdance-empty-columns-choices-row\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2, [35, 65])}}},[_vm._m(3)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2, [65, 35])}}},[_vm._m(4)])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"35%\"}}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"65%\"}})])\n},function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"65%\"}}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"35%\"}})])\n}]\n\nexport { render, staticRenderFns }","\nimport { PATH_TO_WIDTH_PROPERTY } from \"@/lib/columns/helpers\";\nimport { documentStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport lodash from \"lodash\";\nimport { COLUMN_SLUG } from \"@/lib/elements/constants\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { rewidthColumnsAndCommitToStore } from \"@/lib/columns/rewidthing\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\n@Component({})\nexport default class EmptyColumns extends Vue {\n  @Prop()\n  id!: number;\n\n  addColumns(e: Event, numberOfColumns: number, columnWidths?: number[]) {\n    // Don't open links if inside an `a`\n    e.preventDefault();\n    e.stopPropagation();\n\n    const nodes: TreeNode[] = [];\n    const columnProperties = columnWidths\n      ? columnWidths.map(columnWidth => {\n          const columnWidthSanitized = parseFloatAndFixTo2Digits(columnWidth);\n\n          return lodash.set({}, PATH_TO_WIDTH_PROPERTY, {\n            number: columnWidthSanitized,\n            unit: \"%\",\n            style: `${columnWidthSanitized}%`\n          });\n        })\n      : []; // rewidthColumnsAndCommitToStore will do all the math necessary for the columns when they're equal\n\n    for (let i = 0; i < numberOfColumns; i++) {\n      nodes.push({\n        id: i,\n        data: {\n          type: COLUMN_SLUG,\n          properties: columnWidths ? columnProperties[i] : {}\n        },\n        children: []\n      });\n    }\n\n    breakdanceUndo.transaction(() => {\n      documentStore.addMultipleNodes({\n        nodes: nodes,\n        parentId: this.id\n      });\n\n      if (!columnWidths) {\n        rewidthColumnsAndCommitToStore(this.id);\n      }\n    }, `Set amount of columns to ${numberOfColumns}`);\n\n    openUiPanel(\"elementproperties\");\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmptyColumns.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EmptyColumns.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EmptyColumns.vue?vue&type=template&id=3a94f906&\"\nimport script from \"./EmptyColumns.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmptyColumns.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const excludedScripts = [\"jquery\", \"wp-polyfill-js\"];\n\nexport function rerunAllScriptsInCanvasDocumentBody() {\n  const canvasDocument = window.Breakdance.canvas.document;\n  const allScripts = canvasDocument.querySelectorAll(\n    // only the direct children of the body\n    `script`\n  ) as NodeListOf<HTMLScriptElement>;\n\n  for (const script of allScripts) {\n    if (\n      excludedScripts.find(\n        excludedScript =>\n          script.id.toLowerCase().includes(excludedScript) ||\n          script.src.toLowerCase().includes(excludedScript)\n      )\n    ) {\n      continue;\n    }\n\n    const newScript = cloneScriptNode(script);\n\n    script.remove();\n    canvasDocument.querySelector(\"body\")?.appendChild(newScript);\n  }\n}\n\nfunction cloneScriptNode(scriptNode: HTMLScriptElement) {\n  const newScriptNode = document.createElement(\"script\");\n\n  Array.from(scriptNode.attributes).forEach(attr => {\n    newScriptNode.setAttribute(attr.name, attr.value);\n  });\n\n  if (scriptNode.src) {\n    newScriptNode.src = scriptNode.src;\n  } else {\n    newScriptNode.innerHTML = scriptNode.innerHTML;\n  }\n\n  return newScriptNode;\n}\n","import { RequiredPlugin } from \"@/types/elements\";\n\nexport const emptyHtmlFromSsrMessage = `\n<div class=\"breakdance-empty-ssr-message\">\n    This element has no content.\n\n    <small>Hide this notice at <i>Preferences / UI Settings / Disable Notice For Empty SSR Elements</i></small>\n</div>`;\n\nexport const ssrErrorMessage = `\n<div class=\"breakdance-empty-ssr-message breakdance-empty-ssr-message-error\">\n    There was an error on the server when rendering this element.\n</div>`;\n\nexport const requiredPluginsNotAvailableMessage = (\n  elementName: string,\n  requiredPlugins: RequiredPlugin[]\n) => {\n  return `\n<div class=\"breakdance-empty-ssr-message breakdance-empty-ssr-message-error\">\n    The <strong>\"${elementName}\"</strong> element requires the plugins <em>\"${requiredPlugins.join(\n    \", \"\n  )}\"</em>. Please check that they are installed and activated from the Plugins page of the WP admin.\n</div>`;\n};\n","\nimport Vue, { CreateElement, VNodeData } from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { generateCss } from \"@/lib/canvas/styles\";\nimport { PropertiesData, TreeNode } from \"@/types/tree\";\nimport {\n  getDynamicShortcodesFromPropertiesData,\n  hashDynamicShortcode,\n  loadDynamicData\n} from \"@/lib/dynamic-data/load\";\nimport lodash from \"lodash\";\nimport { applyFilters } from \"@/lib/api/api\";\nimport {\n  configStore,\n  documentStore,\n  globalStore,\n  uiStore\n} from \"@/store/store\";\nimport { addBuilderElementDependenciesToHead } from \"@/lib/canvas/builder-element-dependencies\";\nimport { htmlToVNodes } from \"@/lib/canvas/html-to-vnodes\";\nimport { serverSideRender } from \"@/lib/server-side-render/server-side-render\";\nimport { SelectorCSSName } from \"@/types/selectors\";\nimport { VNode } from \"vue/types/vnode\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\n\nimport EmptyContainer from \"@/components/Canvas/Empty/EmptyContainer.vue\";\nimport EmptyColumns from \"@/components/Canvas/Empty/EmptyColumns.vue\";\nimport {\n  getBuilderElementAdditionalClassTemplateCacheKey,\n  getBuilderElementAttributeTemplateCacheKey,\n  getBuilderElementCssTemplateCacheKey,\n  getBuilderElementTemplateCacheKey,\n  renderTags,\n  renderTwig\n} from \"@/lib/twig/twig\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport {\n  getDynamicMetaPath,\n  isDynamicShortcode\n} from \"@/lib/dynamic-data/utils\";\nimport { isObject, objectDeepMap } from \"@/util/objects\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { rerunAllScriptsInCanvasDocumentBody } from \"@/lib/server-side-render/rerun-javascripts\";\nimport { BuilderElementAttribute } from \"@/types/elements\";\nimport { COLUMNS_SLUG, RICH_TEXT_SLUG } from \"@/lib/elements/constants\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport {\n  emptyHtmlFromSsrMessage,\n  requiredPluginsNotAvailableMessage,\n  ssrErrorMessage\n} from \"@/lib/canvas/ssr-html-strings\";\nimport {\n  addOrUpdateElementSubStylesComingFromSsr,\n  addOrUpdateGeneratedBuilderElementDefaultStylesInlineCSSInCanvasHead,\n  addOrUpdateGeneratedBuilderElementStylesInlineCSSInCanvasHead,\n  removeElementDefaultStylesFromCanvasHead,\n  removeElementStylesCameFromSsrFromCanvasHead,\n  removeElementStylesFromCanvasHead\n} from \"@/lib/canvas/assets/css-in-head\";\nimport { countNodesOfTypeInTree, isDescendant } from \"@/lib/tree/tree\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport {\n  getNodeHtmlId,\n  getClassNameForNode,\n  getBaseClassNameForBuilderElement\n} from \"@/lib/elements/utils\";\nimport { getNestingRuleFromElementSlug } from \"@/lib/tree/nesting\";\nimport { isDefined } from \"ts-is-present\";\nimport { generateDocumentStorePropertyChangeSnapshotLabel } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { SnapshotLabelAction } from \"@/types/snapshot\";\nimport { GLOBAL_SETTINGS_PATHS } from \"@/store/modules/global\";\nimport { DynamicFieldOutput } from \"@/types/dynamic-data\";\nimport { nl2br } from \"@/util/nl2br\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { v4 } from \"uuid\";\nimport { SsrNode } from \"@/types/server-side-render\";\nimport UIModule from \"@/store/modules/ui\";\nimport { deepEqual } from \"@/util/deep-equal\";\nimport { triggerShortcut } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\n\nconst addDependenciesToHeadDebounced = lodash.debounce(\n  addBuilderElementDependenciesToHead,\n  500\n);\n\n@Component({})\nexport default class BuilderElementComponent extends Vue {\n  // TODO - this is a TreeNode. Not an element. Rename it to node.\n  @Prop()\n  element!: TreeNode;\n\n  @Prop()\n  parentId!: number;\n\n  @Prop()\n  ssrParentProperties?: PropertiesData;\n\n  isActive = false;\n  isUpdating = false;\n  currentlyDragging = false;\n  lastModifiedPropertyPath: string | null = null;\n\n  /**\n   * @see https://github.com/soflyy/breakdance/issues/4236\n   */\n  uniqueId = v4();\n\n  get isEmptyContainer() {\n    const elementNestingRuleType = getNestingRuleFromElementSlug(\n      this.element.data.type\n    ).type;\n\n    const isContainer =\n      elementNestingRuleType === \"popup\" ||\n      elementNestingRuleType === \"container\" ||\n      elementNestingRuleType === \"container-link\" ||\n      elementNestingRuleType === \"section\";\n\n    return isContainer && this.element.children.length === 0;\n  }\n\n  get isEmptyColumns() {\n    return (\n      this.element.data.type === COLUMNS_SLUG &&\n      this.element.children.length === 0\n    );\n  }\n\n  get parentProps() {\n    const sharePropsWithSSRChildren =\n      this.baseElement.settings &&\n      this.baseElement.settings.sharePropsWithSSRChildren;\n\n    // Intentionally ignore design props.\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { design, ...props } = this.element.data.properties || {};\n\n    // Share its own properties if it must, otherwise pass down the parent's\n    // because we don't know if at some higher level the parent is sharing them\n    return (sharePropsWithSSRChildren ? props : this.ssrParentProperties) || {};\n  }\n\n  __render(h: CreateElement) {\n    const RootTag = this.rootTag;\n\n    if (!this.shouldShow) {\n      return false;\n    }\n\n    if (this.isEmptyColumns) {\n      return (\n        <RootTag\n          {...{ attrs: { ...this.attributes } }}\n          // @ts-ignore Because TS fails to infer possible attributes when JSX tag is dynamic expression\n          onMousedown={this.activateAndMaybeStartDrag}\n          onDragstart={this.disableDefaultDrag}\n          onClick={this.maybePreventDefault}\n          id={this.htmlId}\n          class={this.classList}\n        >\n          <EmptyColumns\n            // @ts-ignore\n            id={this.element.id}\n          />\n        </RootTag>\n      );\n    }\n    const innerHTML = renderTags(this.processedTemplate, {\n      ssr: this.ssrValueOrMessage\n    });\n\n    const children = this.isEmptyContainer ? (\n      <EmptyContainer\n        // @ts-ignore\n        id={this.element.id}\n      />\n    ) : (\n      this.element.children.map(node => {\n        return (\n          <BuilderElementComponent\n            // @ts-ignore\n            key={node.id}\n            // @ts-ignore\n            element={node}\n            parentId={this.element.id}\n            ssrParentProperties={this.parentProps}\n          />\n        );\n      })\n    );\n\n    const shouldRenderContentAsHtml =\n      // content editable elements don't have children since their content is a string. Use their innerHTML directly\n      this.contentEditablePropertyPath ||\n      // SSR content should be replaced, as JS can modify an element in the html, and it won't be updated since the SSR didn't change that child.\n      (this.ssrValueOrMessage !== null &&\n        // except when it needs to render %%CHILDREN%%. We need to convert them into v nodes\n        !this.ssrValueOrMessage.includes(\"%%CHILDREN%%\"));\n\n    const domProps: VNodeData[\"domProps\"] = {};\n\n    if (shouldRenderContentAsHtml) {\n      domProps.innerHTML = innerHTML;\n    }\n\n    const arrayOfChildVNodes = shouldRenderContentAsHtml\n      ? []\n      : htmlToVNodes(\n          innerHTML,\n          h,\n          /* %%CHILDREN%% in the HTML will be replaced with this jsx */\n          () => children,\n          {\n            enableContentEditableAndFocus: this.enableContentEditableAndFocus,\n            saveContentEditable: this.saveContentEditable\n          }\n        );\n\n    return h(\n      this.rootTag,\n      {\n        class: this.classList,\n        attrs: {\n          ...this.attributes,\n          id: this.htmlId\n        },\n        domProps,\n        on: {\n          mousedown: this.activateAndMaybeStartDrag,\n          dragstart: this.disableDefaultDrag,\n          click: this.maybePreventDefault,\n          dblclick: this.handleDoubleClick,\n          blur: this.contentEditablePropertyPath\n            ? this.saveContentEditable\n            : () => {}\n        }\n      },\n      arrayOfChildVNodes\n    );\n  }\n\n  render(h: CreateElement) {\n    return this.__render(h) as VNode;\n  }\n\n  get processedTemplate() {\n    if (\n      !this.hasRequiredPluginsAndTheyAreAvailable &&\n      this.baseElement.settings &&\n      this.baseElement.settings.requiredPlugins\n    ) {\n      return requiredPluginsNotAvailableMessage(\n        this.baseElement.name,\n        this.baseElement.settings.requiredPlugins\n      );\n    }\n\n    const template = renderTwig(\n      this.baseElement.template,\n      this.twigProps,\n      getBuilderElementTemplateCacheKey(this.baseElement)\n    );\n\n    if (!template) return \"\";\n\n    return renderTags(template, this.tags);\n  }\n\n  get shouldSsr() {\n    const templateHasSsr = this.processedTemplate.includes(\"%%SSR%%\");\n    if (!templateHasSsr) {\n      return false;\n    }\n\n    // Bypass any other checks when refreshing SSR is explicitly requested\n    if (this.refreshSsr) {\n      return true;\n    }\n\n    // Don't check for allowed property paths when SSR is not triggered by a property change\n    if (this.lastModifiedPropertyPath === null) {\n      return true;\n    }\n\n    const propertyPathsToSsrElementWhenValueChanges =\n      this.baseElement.propertyPathsToSsrElementWhenValueChanges;\n\n    const thereIsNoWhitelist = !propertyPathsToSsrElementWhenValueChanges;\n    if (thereIsNoWhitelist) {\n      return true;\n    }\n\n    return propertyPathsToSsrElementWhenValueChanges.some(path =>\n      // startsWith because a path can be for a sections to make all children SSR\n      this.lastModifiedPropertyPath?.startsWith(path)\n    );\n  }\n\n  get refreshSsr() {\n    if (!uiStore.refreshSsrElementId) return false;\n\n    return uiStore.refreshSsrElementId === this.element.id;\n  }\n\n  get hasRequiredPluginsAndTheyAreAvailable() {\n    if (\n      !this.baseElement.settings ||\n      !this.baseElement.settings.requiredPlugins\n    ) {\n      return true;\n    }\n\n    const availablePlugins = this.baseElement.settings.requiredPlugins.filter(\n      requiredPlugin =>\n        configStore.availableWordpressPlugins.includes(requiredPlugin)\n    );\n\n    return (\n      availablePlugins.length ===\n      this.baseElement.settings.requiredPlugins.length\n    );\n  }\n\n  get ssrValueOrMessage() {\n    // An element with no ssr content may be updated by a non-ssr prop, so shouldSsr is false\n    if (this.ssrInnerHtml === \"\") {\n      if (uiStore.settings.disableNoticeForEmptySSRElements) return \"\";\n\n      return emptyHtmlFromSsrMessage;\n    }\n\n    // Keep the SSR result if a non-SSR property is changed\n    if (!this.shouldSsr && !this.ssrInnerHtml) return null;\n\n    if (this.isUpdating) {\n      return this.ssrInnerHtml || \"\";\n    }\n\n    return this.ssrInnerHtml;\n  }\n\n  get tags() {\n    return {\n      id: this.element.id,\n      selector: this.elementSelector,\n      uniqueSlug: this.uniqueClassName,\n      postId: this.postId,\n      elementName: this.baseElement.name\n    };\n  }\n  ssrInnerHtml: null | string = null;\n\n  oldSsrParentProperties = defensiveCopy(this.ssrParentProperties);\n\n  @Watch(\"ssrParentProperties\", {\n    deep: true\n  })\n  async rerenderFromServeOnParentPropertyChange() {\n    if (!this.shouldSsr) return;\n\n    // Prop object references change on every render\n    // So we can't rely on @Watch without comparing if the value actually changed\n    // Use state for old value, since @Watch newValue/oldValue params are the same for props\n    // Details & video explanation: https://github.com/soflyy/breakdance/pull/3856\n    if (!deepEqual(this.ssrParentProperties, this.oldSsrParentProperties)) {\n      this.oldSsrParentProperties = defensiveCopy(this.ssrParentProperties);\n      await this.maybeRerenderFromServer();\n\n      // Why are we not calling \"runActionsAfterSsr\" here? Is that on purpose?\n    }\n  }\n\n  @Watch(\"refreshSsr\")\n  async rerenderFromServerOnRefreshSsr() {\n    if (this.refreshSsr) {\n      await this.maybeRerenderFromServer();\n\n      uiStore.setRefreshSsrElementId(null);\n\n      this.runActionsAfterSsr();\n    }\n  }\n\n  oldTwigProps = defensiveCopy(this.element.data.properties);\n  @Watch(\"twigProps\")\n  async maybeRerenderFromServerOnPropertyChange() {\n    /**\n     * Since this watcher may be called before other watchers, we have to wait\n     * for the next tick, because we need other watchers to update state first,\n     * so {@link shouldSsr()} would use up-to-date values in its logic.\n     *\n     * E.g. {@link lastModifiedPropertyPath} is set by the\n     * {@link handleLastModifiedTreeNodePropertyChange} watcher function,\n     * which is called by Vue after this function when a property changes.\n     */\n    await this.$nextTick();\n\n    if (!this.shouldSsr) {\n      // An element can have conditional SSR. Clean the SSR result if it's no longer applicable\n      if (!this.processedTemplate.includes(\"%%SSR%%\")) {\n        // This condition is mandatory in order to avoid redundant re-rendering\n        if (this.ssrInnerHtml !== null) {\n          this.ssrInnerHtml = null;\n        }\n        /**\n         * TODO this call entirely or some of its sub-calls may be redundant,\n         * it used to be a part of a ditched \"ssrInnerHtml\" watcher function,\n         * and was preserved for a potential backwards compatibility.\n         */\n        this.updateSsrDependenciesAndStyles();\n        // TODO shouldn't we also clean SSR dependencies and styles?\n      }\n\n      return;\n    }\n\n    /**\n     * When switching previews, \"dynProps\" will rerun, causing twigProps to change in reference but not value\n     * If we rerun SSR at this point, it'll be\n     *\n     * 1) useless since no properties changed and\n     * 2) bug prone because actions (like onMount) can run before the element finished rendering\n     *\n     * This also prevents useless re-renders when mounting an ssr element\n     *\n     * Explanation: https://github.com/soflyy/breakdance/pull/4290\n     */\n    if (deepEqual(this.twigProps, this.oldTwigProps)) {\n      return;\n    }\n\n    this.oldTwigProps = this.twigProps;\n    await this.maybeRerenderFromServer();\n\n    this.runActionsAfterSsr();\n  }\n\n  runActionsAfterSsr() {\n    breakdanceStoreActions.run.onBeforeDeletingElement({\n      elementId: this.element.id\n    });\n\n    if (this.element._parentId) {\n      breakdanceStoreActions.run.onAfterDeletedElement({\n        deletedElementNodeType: this.element.data.type,\n        parentIdOfDeletedElement: this.element._parentId,\n        transactionKey: undefined\n      });\n    }\n\n    breakdanceStoreActions.run.onMountedElement({\n      elementId: this.element.id\n    });\n  }\n\n  async maybeRerenderFromServer() {\n    if (!this.shouldSsr) {\n      return;\n    }\n\n    uiStore.setElementUpdatingState({\n      elementId: this.element.id,\n      isUpdating: true\n    });\n\n    const ssrNode = pipe(\n      await serverSideRender(\n        this.baseElement.slug,\n        this.element.data.properties,\n        this.element.id,\n        this.parentProps\n      ),\n      fold(\n        errors => {\n          errors.forEach(error => {\n            NotificationLogger.log.message(error.msg);\n          });\n\n          return {\n            html: ssrErrorMessage,\n            postsGeneratedCssFilePaths: {},\n            dependencies: {}\n          };\n        },\n        ssrNode => ssrNode\n      )\n    );\n\n    uiStore.setElementUpdatingState({\n      elementId: this.element.id,\n      isUpdating: false\n    });\n\n    this.ssrInnerHtml = ssrNode.html;\n    this.updateSsrDependenciesAndStyles(\n      ssrNode.dependencies,\n      ssrNode.postsGeneratedCssFilePaths\n    );\n  }\n\n  maybeRerunAllScriptsInCanvasDocumentBody() {\n    const dependsOnGlobalScripts =\n      this.baseElement.settings &&\n      this.baseElement.settings.dependsOnGlobalScripts;\n\n    if (dependsOnGlobalScripts) {\n      rerunAllScriptsInCanvasDocumentBody();\n    }\n  }\n\n  /**\n   * This cannot be inside a \"ssrInnerHtml\" watcher:\n   * ssrInnerHtml value may remain intact after re-render,\n   * but the contents of CSS files may change.\n   */\n  updateSsrDependenciesAndStyles(\n    dependencies?: SsrNode[\"dependencies\"],\n    postsGeneratedCssFilePaths?: SsrNode[\"postsGeneratedCssFilePaths\"]\n  ) {\n    this.maybeRerunAllScriptsInCanvasDocumentBody();\n\n    if (dependencies) {\n      addBuilderElementDependenciesToHead(getBuilderCanvasDocument(), {\n        dependencies: [dependencies],\n        // An element (like Block elements) can be added multiple times with scripts that need to rerun\n        addInlineScriptsAsUnique: false,\n        element: this.element\n      });\n    }\n\n    addOrUpdateElementSubStylesComingFromSsr(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      postsGeneratedCssFilePaths\n    );\n  }\n\n  get shouldShow() {\n    return applyFilters(\n      \"elementShouldShow\",\n      true,\n      this.element.data.properties,\n      {\n        currentBreakpoint: uiStore.currentBreakpoint\n        // Add any data you want to share with filters here\n      }\n    );\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  // Update the styles if a breakpoint changes\n  // E.G: a breakpoint value was updated or the user switched breakpoint types\n  @Watch(\"breakpoints\", { deep: true })\n  onBreakpointsChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"twigProps\", { deep: true, immediate: true })\n  onTwigPropsChange() {\n    this.generateElementsCSS();\n  }\n\n  //--- These values can change through Element Studio\n  @Watch(\"baseElement.cssTemplate\")\n  onCssTemplateChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"baseElement.defaultCss\")\n  onDefaultCssChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"baseElement.dependencies\", { deep: true })\n  onInternalDependenciesChange() {\n    if (this.baseElement.dependencies) {\n      // Don't run internal scripts to avoid errors if the code is being saved before it's ready\n      // Let the user execute manually\n      const internalDependenciesWithoutInlineScripts =\n        this.baseElement.dependencies.map(deps => ({\n          ...deps,\n          inlineScripts: []\n        }));\n\n      addDependenciesToHeadDebounced(getBuilderCanvasDocument(), {\n        dependencies: internalDependenciesWithoutInlineScripts,\n        tags: this.tags,\n        element: this.element\n      });\n    }\n  }\n  //---\n\n  //---\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  /**\n   * For typography macro presets, we only render the values if they're set (so only add font-weight if it's set in the preset)\n   * But the element is not tied to the global settings in any way (aka, no reactivity)\n   * so a change in global settings won't cause a re-render without this\n   *\n   * Downside: a change in Global Settings will re-render *all* elements, even ones without typography or presets.\n   * If this becomes too slow, we should find a way to know if an element has a typography preset set.\n   */\n  @Watch(`globalSettings.${GLOBAL_SETTINGS_PATHS.typographyPresets}`, {\n    deep: true\n  })\n  refreshIfTypographyPresetsChange() {\n    this.generateElementsCSS();\n  }\n\n  get elementChildrenCount() {\n    return this.element.children.length;\n  }\n\n  @Watch(\"elementChildrenCount\", {})\n  elementChildrenCountChanged() {\n    this.generateElementsCSS();\n  }\n\n  generateElementsCSS() {\n    const css = generateCss(\n      this.twigProps,\n      this.breakpoints,\n      this.baseElement.cssTemplate,\n      this.tags,\n      this.baseElement.propertyPathsToWhitelistInFlatProps,\n      this.elementChildrenCount,\n      getBuilderElementCssTemplateCacheKey(this.baseElement)\n    );\n\n    // default CSS first to make the element's CSS (the func below) higher precedence\n    addOrUpdateGeneratedBuilderElementDefaultStylesInlineCSSInCanvasHead(\n      getBuilderCanvasDocument(),\n      this.baseElement.slug,\n      this.baseElement.defaultCss\n    );\n\n    addOrUpdateGeneratedBuilderElementStylesInlineCSSInCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      css,\n      this.uniqueId\n    );\n  }\n\n  async mounted() {\n    /**\n     * TODO this call entirely or some of its sub-calls might be redundant.\n     * It used to be a part of a ditched \"ssrInnerHtml\" watcher function,\n     * which was \"immediate\" and fired before mount,\n     * so this call was preserved for backwards compatibility.\n     * @see https://github.com/soflyy/breakdance/pull/4560/files#r1013915111\n     */\n    this.updateSsrDependenciesAndStyles();\n\n    // Run both method in parallel\n    await Promise.all([\n      this.loadDependencies(),\n      this.maybeRerenderFromServer()\n    ]);\n\n    // Run onMountedElement action after dependencies and SSR are loaded\n    breakdanceStoreActions.run.onMountedElement({\n      elementId: this.element.id\n    });\n  }\n\n  destroyed() {\n    const areThereNoOtherElementsOfThisType =\n      countNodesOfTypeInTree(\n        documentStore.document.tree.root,\n        this.baseElement.slug\n      ) === 0;\n\n    if (areThereNoOtherElementsOfThisType) {\n      removeElementDefaultStylesFromCanvasHead(\n        getBuilderCanvasDocument(),\n        this.baseElement.slug\n      );\n    }\n\n    removeElementStylesFromCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      this.uniqueId\n    );\n\n    removeElementStylesCameFromSsrFromCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id\n    );\n\n    if (this.element._parentId) {\n      breakdanceStoreActions.run.onAfterDeletedElement({\n        deletedElementNodeType: this.element.data.type,\n        parentIdOfDeletedElement: this.element._parentId,\n        transactionKey: `DocumentDeleteElement:ID:${this.element.id}`\n      });\n    }\n  }\n\n  loadDependencies() {\n    return addBuilderElementDependenciesToHead(getBuilderCanvasDocument(), {\n      dependencies: [\n        ...(this.baseElement.dependencies || []),\n        ...(configStore.elementsExternalAttrsDepsAndActions.dependencies || [])\n      ],\n      element: this.element,\n      tags: this.tags\n    });\n  }\n\n  get elementSelector() {\n    return `.breakdance .${this.uniqueClassName}`;\n  }\n\n  get rootTag(): string {\n    const customTag: unknown = this.baseElement.htmlTag.pathToControl\n      ? lodash.get(\n          this.element.data.properties,\n          this.baseElement.htmlTag.pathToControl\n        )\n      : this.element.data.properties?.settings?.advanced?.tag;\n\n    if (typeof customTag === \"string\")\n      return customTag || this.baseElement.htmlTag.default;\n\n    return this.baseElement.htmlTag.default;\n  }\n\n  get baseElement() {\n    return configStore.element(this.element.data.type);\n  }\n\n  get twigProps(): object {\n    if (\n      isObject(this.element.data.properties) &&\n      Object.entries(this.element.data.properties).length !== 0\n    ) {\n      const cachedDynamicData = configStore.dynamicDataCache.data;\n\n      const dynamicShortcodes = getDynamicShortcodesFromPropertiesData(\n        this.element.data.properties,\n        cachedDynamicData\n      );\n\n      const uncachedDynamicShortcodes = dynamicShortcodes.filter(\n        dynamicShortcode =>\n          !Object.keys(cachedDynamicData).includes(hashDynamicShortcode(dynamicShortcode))\n      );\n\n      // Request new dynamic values if they're not in the store (e.g. the element was added)\n      if (uncachedDynamicShortcodes.length) {\n        loadDynamicData(uncachedDynamicShortcodes).then(newDynamicData => {\n          configStore.setNewDynamicDataCacheEntries(newDynamicData);\n        });\n      }\n\n      const isThereSomethingToPreview = !!configStore.previewedItem;\n\n      return objectDeepMap(this.element.data.properties, (value: unknown) => {\n        if (isDynamicShortcode(value)) {\n          /*\n          if there is nothing to preview (i.e. preview dropdown is in an error state)\n          we show the raw shortcode.\n\n          if there is something to preview, then dynamic data is working, and\n          if a dynamic data point really is blank/undefined/false/whatever...\n          then we just let it be blank. we don't return the raw shortcode.\n          we only return the raw shortcode when the preview dropdown is in an error state.\n\n          relevant explanation / rationale / thoughts: https://github.com/soflyy/breakdance/issues/349#issuecomment-882815000\n          */\n          if (cachedDynamicData[hashDynamicShortcode(value)] || isThereSomethingToPreview) {\n            return cachedDynamicData[hashDynamicShortcode(value)];\n          }\n          return value;\n        }\n\n        return value;\n      }) as object;\n    }\n\n    return {};\n  }\n\n  get postId() {\n    return documentStore.document.documentMeta.id;\n  }\n\n  get htmlId() {\n    return getNodeHtmlId(this.element);\n  }\n\n  get uniqueClassName() {\n    return getClassNameForNode(this.element, this.postId);\n  }\n\n  get baseClassName() {\n    return getBaseClassNameForBuilderElement(this.baseElement);\n  }\n\n  get classList() {\n    const classes = [\n      this.uniqueClassName,\n      \"builder-element\",\n      this.baseClassName\n    ];\n\n    if (this.isActive) {\n      classes.push(\"breakdance--active-element\");\n    }\n\n    if (this.currentlyDragging) {\n      classes.push(\"breakdance--currently-dragging\");\n    }\n\n    if (this.isEmptyContainer) {\n      classes.push(\"breakdance--empty-container\");\n    }\n\n    const classList = (this.element.data.properties?.settings?.advanced\n      ?.classes ?? false) as false | SelectorCSSName[];\n\n    if (classList) {\n      classes.push(...classList);\n    }\n\n    if (\n      this.baseElement.settings &&\n      this.baseElement.settings.bypassPointerEvents\n    ) {\n      classes.push(\"breakdance-children-pointer-events-none\");\n    }\n\n    if (this.isUpdating) {\n      classes.push(\"breakdance-element-is-updating\");\n    }\n\n    classes.push(...this.additionalClasses);\n\n    return classes;\n  }\n\n  get additionalClasses(): string[] {\n    if (!this.baseElement.additionalClasses) return [];\n    return this.baseElement.additionalClasses\n      .map(classRule => {\n        const template = renderTwig(\n          classRule.template,\n          this.twigProps,\n          getBuilderElementAdditionalClassTemplateCacheKey(\n            this.baseElement,\n            classRule\n          )\n        );\n\n        if (!template) return;\n\n        return {\n          name: classRule.name,\n          include: template\n        };\n      })\n      .filter(isDefined)\n      .filter(x => !!x.include)\n      .map(x => x.name);\n  }\n\n  renderAttributeValue(attribute: BuilderElementAttribute): string | null {\n    if (\"template\" in attribute) {\n      return renderTwig(\n        attribute.template,\n        this.twigProps,\n        getBuilderElementAttributeTemplateCacheKey(this.baseElement, attribute)\n      );\n    }\n    if (\"propertyPath\" in attribute) {\n      return String(\n        lodash.get(this.element.data.properties, attribute.propertyPath, \"\")\n      );\n    }\n    if (\"rawValue\" in attribute) {\n      return attribute.rawValue;\n    }\n\n    return null;\n  }\n\n  get attributes() {\n    type attrs = {\n      [key: string]: string | undefined;\n    };\n    const atts: attrs = {};\n\n    /* attribute rules defined by the element */\n    const attributes = [\n      ...(this.baseElement.attributes || []),\n      ...(configStore.elementsExternalAttrsDepsAndActions.attributes || [])\n    ];\n\n    attributes.forEach(rule => {\n      const value = this.renderAttributeValue(rule);\n\n      if (value) {\n        atts[rule.name] = renderTags(value, this.tags);\n      }\n    });\n\n    type Attribute = { name: string; value: string };\n\n    /* user attribute settings at settings. this might make more sense to code in a plugin and run with a hook */\n    const userAttSettings = (this.element.data.properties?.settings?.advanced\n      ?.attributes ?? []) as Attribute[];\n\n    userAttSettings.forEach((userAtt: Attribute) => {\n      atts[userAtt.name] = userAtt.value;\n    });\n\n    atts[\"data-node-id\"] = `${this.element.id}`;\n\n    // remove blank attributes.\n    const cleanAtts: attrs = {};\n\n    Object.keys(atts).forEach(key => {\n      if (atts[key]) {\n        cleanAtts[key] = atts[key];\n      }\n    });\n\n    return cleanAtts;\n  }\n\n  get contentEditablePropertyPath() {\n    return this.attributes[\"data-content-editable-property-path\"];\n  }\n\n  get isDragAndDropEnabled() {\n    return uiStore.hasFullAccess;\n  }\n\n  /**\n   * @deprecated It's not deprecated, but do not use this computed property directly!\n   */\n  get lastModifiedTreeNodePropertyForWatcher() {\n    return uiStore.lastModifiedElementProperty;\n  }\n\n  @Watch(\"lastModifiedTreeNodePropertyForWatcher\", { immediate: true })\n  handleLastModifiedTreeNodePropertyChange(\n    lastModified: UIModule[\"lastModifiedElementProperty\"]\n  ) {\n    if (lastModified.elementId === this.element.id) {\n      this.lastModifiedPropertyPath = lastModified.path;\n    } else if (this.lastModifiedPropertyPath !== null) {\n      this.lastModifiedPropertyPath = null;\n    }\n  }\n\n  /**\n   * @deprecated It's not deprecated, but do not use this computed property directly, use this.currentlyDragging instead!\n   */\n  get currentlyDraggingForWatcher() {\n    return uiStore.currentlyDraggingCanvasElementId === this.element.id;\n  }\n\n  /**\n   * If currentlyDragging was a computed property, any change made to\n   * the uiStore.currentlyDraggingCanvasElementId would cause a complete tree re-render.\n   */\n  @Watch(\"currentlyDraggingForWatcher\", { immediate: true })\n  handleCurrentlyDraggingChange(currentlyDragging: boolean) {\n    this.currentlyDragging = currentlyDragging;\n  }\n\n  /**\n   * @deprecated It's not deprecated, but do not use this computed property directly, use this.isActive instead!\n   */\n  get activeElementIdForWatcher() {\n    return uiStore.activeElementId;\n  }\n\n  /**\n   * If isActive was a computed property, any change made to\n   * the uiStore.activeElementId would cause a complete tree re-render.\n   */\n  @Watch(\"activeElementIdForWatcher\", { immediate: true })\n  handleActiveElementIdChange(activeElementId: UIModule[\"activeElementId\"]) {\n    this.isActive = activeElementId === this.element.id;\n  }\n\n  /**\n   * @deprecated It's not deprecated, but do not use this computed property directly, use this.isUpdating instead!\n   */\n  get isElementUpdatingForWatcher() {\n    return Boolean(uiStore.elementsThatAreUpdating[this.element.id]);\n  }\n\n  /**\n   * If isActive was a computed property, any change made to\n   * the uiStore.elementsThatAreUpdating would cause a complete tree re-render.\n   */\n  @Watch(\"isElementUpdatingForWatcher\", { immediate: true })\n  handleLoadingElementIdChange(isUpdating: boolean) {\n    if (this.isUpdating !== isUpdating) {\n      this.isUpdating = isUpdating;\n    }\n  }\n\n  get behaviorModeEnabled() {\n    const builderBehaviorId = uiStore.builderBehaviorElementId;\n\n    if (builderBehaviorId) {\n      return isDescendant(\n        documentStore.document.tree,\n        builderBehaviorId,\n        this.element.id\n      );\n    }\n\n    return false;\n  }\n\n  /* drag logic */\n  dragMouseStartX: false | number = false;\n  dragMouseStartY: false | number = false;\n\n  easyEvent = new EasyEvent();\n\n  activateElement() {\n    if (this.behaviorModeEnabled) return;\n\n    uiStore.activateElement(this.element.id);\n    openUiPanel(\"elementproperties\");\n  }\n\n  canDrag(e: MouseEvent) {\n    if (!this.isDragAndDropEnabled) return false;\n\n    const target = e.target as HTMLElement;\n    const elementsToIgnore = [\"textarea\", \"input\", \"select\"];\n    const currentElement = target.tagName.toLowerCase();\n\n    // disable dragging if the current element should be ignored.\n    if (elementsToIgnore.includes(currentElement)) return false;\n\n    // html content editable relies on mousedown events\n    if (uiStore.elementWithContentEditable) return false;\n\n    return true;\n  }\n\n  disableDefaultDrag(e: MouseEvent) {\n    // Prevents the default html-draggable event from happening\n    e.preventDefault();\n  }\n\n  maybePreventDefault(event: Event) {\n    /*\n     * Prevent:\n     * 1. Following links in the Builder\n     * 2. Buttons from submitting forms.\n     */\n\n    const target = event.target as HTMLElement;\n    const elementsToPrevent = [\"a\", \"button\"];\n    const selector = elementsToPrevent.join(\", \");\n    const isAChild = elementsToPrevent.some(el => target.closest(el));\n\n    if (target.matches(selector) || isAChild) {\n      event.preventDefault();\n    }\n  }\n\n  activateAndMaybeStartDrag(e: MouseEvent) {\n    e.stopPropagation();\n\n    this.activateElement();\n\n    if (!this.canDrag(e)) return;\n    if (this.behaviorModeEnabled) return;\n\n    this.dragMouseStartX = e.clientX;\n    this.dragMouseStartY = e.clientY;\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.removeDragListeners);\n  }\n\n  removeDragListeners() {\n    this.easyEvent.removeAll();\n\n    this.dragMouseStartX = false;\n    this.dragMouseStartY = false;\n  }\n\n  dragging(e: MouseEvent) {\n    if (this.behaviorModeEnabled) return;\n    if (!isCanvasEvent(e)) return;\n\n    if (this.dragMouseStartX === false || this.dragMouseStartY === false)\n      return;\n\n    const mouseX = e.clientX;\n    const mouseY = e.clientY;\n\n    if (\n      Math.abs(mouseX - this.dragMouseStartX) > 3 ||\n      Math.abs(mouseY - this.dragMouseStartY) > 3\n    ) {\n      uiStore.setCanvasElementDraggedId(this.element.id);\n      this.removeDragListeners();\n    }\n  }\n\n  /* End drag logic */\n\n  handleDoubleClick(e: Event) {\n    if (this.contentEditablePropertyPath) {\n      this.enableContentEditableAndFocus(e);\n    }\n    // open rich text editor modal on double click\n    else if (this.element.data.type === RICH_TEXT_SLUG) {\n      triggerShortcut(\"CMD_E\");\n    }\n  }\n\n  /* ContentEditable logic */\n\n  // On double click\n  enableContentEditableAndFocus(e: Event) {\n    const target: HTMLElement = e.target as HTMLElement;\n    let editableElement = null;\n\n    // the element itself\n    if (target.dataset.contentEditablePropertyPath || target.dataset.nodeId) {\n      editableElement = target;\n    }\n    // Or the closest parent that has a \"data-content-editable-property-path\" property\n    // (the click can happen in a child that isn't content editable)\n    else {\n      editableElement = target.closest(\n        \"[data-content-editable-property-path]\"\n      ) as HTMLElement;\n    }\n\n    if (!editableElement) return;\n\n    const contentEditablePropertyPath =\n      editableElement.dataset.contentEditablePropertyPath;\n\n    if (contentEditablePropertyPath) {\n      const maybeDynamicData: DynamicFieldOutput | undefined = lodash.get(\n        this.twigProps,\n        getDynamicMetaPath(contentEditablePropertyPath)\n      );\n\n      const elementValueIsDynamic = maybeDynamicData?.field.slug;\n\n      if (elementValueIsDynamic) {\n        return;\n      }\n    }\n\n    const elementIsAlreadyActive =\n      editableElement.getAttribute(\"contenteditable\") === \"true\";\n\n    if (elementIsAlreadyActive) return;\n\n    uiStore.setContentEditableElementId(this.element.id);\n\n    editableElement.setAttribute(\"contenteditable\", \"true\");\n    editableElement.focus();\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"keydown\",\n      this.handleKeydownInsideContentEditable\n    );\n\n    editableElement.addEventListener(\"paste\", this.pasteWithoutFormatting);\n  }\n\n  // on blur\n  saveContentEditable(e: Event) {\n    const target = e.target as HTMLElement;\n\n    window.Breakdance.canvas.document.removeEventListener(\n      \"keydown\",\n      this.handleKeydownInsideContentEditable\n    );\n\n    target.removeEventListener(\"paste\", this.pasteWithoutFormatting);\n\n    target.setAttribute(\"contenteditable\", \"false\");\n\n    uiStore.setContentEditableElementId(null);\n\n    const path =\n      target.dataset.contentEditablePropertyPath ||\n      this.contentEditablePropertyPath;\n\n    if (!path) {\n      return;\n    }\n\n    target.innerHTML = target.innerHTML.trim();\n\n    // Remove the last <br> tag if it's present. Some browsers (firefox) add it\n    const lastElement = target.childNodes[target.childNodes.length - 1] as\n      | HTMLElement\n      | undefined;\n\n    if (lastElement && lastElement.tagName === \"BR\") {\n      lastElement.remove();\n    }\n\n    // save decoded HTML to prevent stuff like & becoming &amp\n    const textAreaWithTargetInnerHtml = document.createElement(\"textarea\");\n    textAreaWithTargetInnerHtml.innerHTML = target.innerHTML;\n    const decodedHtml = textAreaWithTargetInnerHtml.value;\n\n    // Don't save if the value didn't change\n    const prevValue: unknown = lodash.get(this.element.data.properties, path);\n\n    if (prevValue === decodedHtml) return;\n\n    documentStore.throttledPropertyChanged({\n      elementId: this.element.id,\n      path,\n      value: decodedHtml,\n      meta: {\n        snapshotLabel:\n          generateDocumentStorePropertyChangeSnapshotLabel.forElementBasingOnChangedStorePropertyPath(\n            this.baseElement,\n            path,\n            SnapshotLabelAction.CHANGE\n          )\n      }\n    });\n  }\n\n  // Force pasted text to be without formatting (colors, bold, etc)\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/paste_event#live_example\n  pasteWithoutFormatting(event: ClipboardEvent) {\n    const paste = event.clipboardData?.getData(\"text/plain\");\n    if (!paste) return;\n\n    window.Breakdance.canvas.document.execCommand(\n      \"insertHTML\",\n      false,\n      // since we get the pasted data as plain text, and HTML renders new lines as just space, we turn them into BR\n      // to get the same behaviour as if the user had pressed enter\n      nl2br(paste)\n    );\n\n    // prevent at the end, in case \"getData\" failed\n    event.preventDefault();\n  }\n\n  handleKeydownInsideContentEditable(event: KeyboardEvent) {\n    // Pressing Space doesn't always work inside content editable.\n    // https://stackoverflow.com/q/48512479\n    if (event.code === \"Space\") {\n      event.preventDefault();\n      event.stopPropagation();\n      window.Breakdance.canvas.document.execCommand(\"insertText\", false, \" \");\n      return;\n    }\n\n    /**\n     * add line break on enter. This makes all browsers behave the same, instead of some of them adding it and some not\n     * https://stackoverflow.com/a/61237402/5993042\n     * \"execCommand\" is deprecated but \"insertLineBreak\" works fine on all big browsers and knowing the web, it'll never\n     * be removed due to backwards compatibility.\n     */\n    if (event.code === \"Enter\") {\n      window.Breakdance.canvas.document.execCommand(\"insertLineBreak\");\n      event.preventDefault();\n      return;\n    }\n\n    if (event.code === \"Escape\") {\n      event.preventDefault();\n      this.saveContentEditable(event);\n      return;\n    }\n\n    // prevent the \"save\" dialog when inside content editable. Our global shortcuts don't apply here for some reason\n    // instead make it \"save\" the changes in the content editable\n    if ((event.ctrlKey || event.metaKey) && event.key === \"s\") {\n      event.preventDefault();\n      this.saveContentEditable(event);\n      return;\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-42.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BuilderElement.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-42.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BuilderElement.vue?vue&type=script&lang=tsx&\"","var render, staticRenderFns\nimport script from \"./BuilderElement.vue?vue&type=script&lang=tsx&\"\nexport * from \"./BuilderElement.vue?vue&type=script&lang=tsx&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"node-chrome\",class:_vm.hideClass},[_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]},[_c('SpacingBars'),_c('ColumnDragSizer')],1),_c('NodeTitlebar'),_c('NodeHoverControls'),_c('NodeContentEditable')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"drag-dots-wrapper\",style:(_vm.dragDotsWrapperPositionStyle)},[_c('div',{staticClass:\"drag-dot drag-dot-top-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-top-middle\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-top-right\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-right\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-middle\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-middle-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-middle-right\",on:{\"mousedown\":_vm.dragStart}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ElementPositionAndSize } from \"../helpers\";\nimport { documentStore, uiStore } from \"@/store/store\";\n\nexport type DragHandleBehavior = {\n  xProperty?: string /* this should be an array of properties... i.e. padding.left and padding.left */;\n  yProperty?: string;\n};\n\nexport type DragCallback = (\n  elementPositionAndSize: ElementPositionAndSize,\n  mouseDragInfo: ValidMouseDragInfo\n) => void;\n\nexport type MouseDragInfo = ValidMouseDragInfo | false;\n\nexport type ValidMouseDragInfo = {\n  startX: number;\n  startY: number;\n  currentX: number;\n  currentY: number;\n  lastXChange: number;\n  lastYChange: number;\n  totalXChange: number;\n  totalYChange: number;\n};\n\nexport function makeDragCallback(dragHandleBehavior: DragHandleBehavior) {\n  return (\n    elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo\n  ) => {\n    if (uiStore.activeElementId) {\n      const combinatorFunction = (a: number, b: number) => {\n        return a + b >= 0 ? a + b : 0;\n      };\n\n      /*\n\n      for an image:\n       - any drag anywhere only affects width\n\n       for an image frame\n        - we'd need percentages, not px widths\n\n       for a button:\n        - drag a corner proportionally increases paddings\n        - drag middle side - incerases padding left and right\n        - drag middle top or bottom - increases padding top and bottom\n        \n        \n        /*\n\n      top left - decrease x, decrease y\n      top middle - decrease y\n      top right - increase x, decrease y\n\n      bottom left - decrease x, increase y\n      bottom middle - increase y\n      bottom right - increase x, increqase y\n\n      left middle - decrease x\n      right middle - increase x\n\n      */\n\n      if (\"xProperty\" in dragHandleBehavior && dragHandleBehavior.xProperty) {\n        const controlPath = dragHandleBehavior.xProperty.replace(\n          \"%%CURRENTMEDIAQUERY%%\",\n          uiStore.currentBreakpoint.id\n        );\n\n        const newValue = combinatorFunction(\n          elementPositionAndSize.width,\n          mouseDragInfo.lastXChange\n        );\n\n        documentStore.throttledPropertyChanged({\n          elementId: uiStore.activeElementId,\n          path: controlPath,\n          value: {\n            number: newValue,\n            unit: \"px\"\n          },\n          meta: {\n            snapshotLabel: \"Resize element\"\n          }\n        });\n      }\n\n      if (\"yProperty\" in dragHandleBehavior && dragHandleBehavior.yProperty) {\n        const controlPath = dragHandleBehavior.yProperty.replace(\n          \"%%CURRENTMEDIAQUERY%%\",\n          uiStore.currentBreakpoint.id\n        );\n\n        const newValue = combinatorFunction(\n          elementPositionAndSize.height,\n          mouseDragInfo.lastYChange\n        );\n\n        documentStore.throttledPropertyChanged({\n          elementId: uiStore.activeElementId,\n          path: controlPath,\n          value: {\n            number: newValue,\n            unit: \"px\"\n          },\n          meta: {\n            snapshotLabel: \"Resize element\"\n          }\n        });\n      }\n    }\n  };\n}\n","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { getActiveElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport {\n  DragHandleBehavior,\n  makeDragCallback,\n  MouseDragInfo,\n  DragCallback\n} from \"@/lib/canvas/drag/drag\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\n\nconst imageDragHandleBehavior: DragHandleBehavior = {\n  xProperty:\n    \"design.size.width.%%CURRENTMEDIAQUERY%%\" /* i'd like it better without the mediaquery thing */\n  //   yProperty:\n  //     \"design.size.width.%%CURRENTMEDIAQUERY%%\" /* how do we enforce this is a path to a valid control of type unit input? */\n};\n\n@Component({})\nexport default class NodeChrome extends Vue {\n  mouseDragInfo: MouseDragInfo = false;\n\n  dragDotsWrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  dragCallback: false | DragCallback = false;\n\n  unsubscribeFromStorePositionDotsWrapper = () => {};\n  nextTickPositionDragDotsWrapper() {\n    forceNextTick(() => this.positionDragDotsWrapper());\n  }\n  beforeMount() {\n    this.positionDragDotsWrapper();\n\n    this.unsubscribeFromStorePositionDotsWrapper = this.$store.subscribe(\n      this.nextTickPositionDragDotsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionDragDotsWrapper);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionDotsWrapper();\n    window.removeEventListener(\"resize\", this.nextTickPositionDragDotsWrapper);\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.mouseDragInfo = {\n      startX: e.clientX,\n      startY: e.clientY,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: 0,\n      lastYChange: 0,\n      totalXChange: 0,\n      totalYChange: 0\n    };\n\n    this.dragCallback = makeDragCallback(imageDragHandleBehavior);\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n  }\n\n  dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      const elementPositionAndSize = getActiveElementPositionAndSize();\n      if (!elementPositionAndSize || !this.mouseDragInfo) return;\n\n      this.mouseDragInfo = {\n        ...this.mouseDragInfo,\n        currentX: e.clientX,\n        currentY: e.clientY,\n        lastXChange: e.clientX - this.mouseDragInfo.currentX,\n        lastYChange: e.clientY - this.mouseDragInfo.currentY,\n        totalXChange: e.clientX - this.mouseDragInfo.startX,\n        totalYChange: e.clientY - this.mouseDragInfo.startY\n      };\n\n      if (this.dragCallback) {\n        this.dragCallback(elementPositionAndSize, this.mouseDragInfo);\n      }\n\n      this.positionDragDotsWrapper();\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    this.mouseDragInfo = false;\n    this.dragCallback = false;\n  }\n\n  positionDragDotsWrapper() {\n    if (!uiStore.activeElementId) {\n      this.dragDotsWrapperPositionStyle = {\n        display: \"none\"\n      };\n    }\n\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize) return;\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    this.dragDotsWrapperPositionStyle = {\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it \n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: y.toString() + \"px\",\n      left: x.toString() + \"px\",\n      width: width.toString() + \"px\",\n      height: height.toString() + \"px\"\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DragDots.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DragDots.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DragDots.vue?vue&type=template&id=bfb1318c&\"\nimport script from \"./DragDots.vue?vue&type=script&lang=ts&\"\nexport * from \"./DragDots.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',_vm._l((_vm.bars),function(bar,i){return _c('SpacingBar',{key:i,attrs:{\"bar\":bar,\"isDragging\":_vm.isDragging,\"isActiveBar\":_vm.clickedHandle === bar.location},on:{\"mousedown\":function($event){return _vm.dragStart($event, bar.location)}}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component } from \"vue-property-decorator\";\nimport { MouseDragInfo, ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport Vue from \"vue\";\nimport {\n  getActiveElementPositionAndSize,\n  ElementPositionAndSize,\n  clearTextSelection\n} from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport _throttle from \"lodash/throttle\";\n\n@Component\nexport class DragMixin extends Vue {\n  clickedHandle: string | false = false;\n\n  mouseDragInfo: MouseDragInfo = false;\n\n  dragCallback(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _elementPositionAndSize: ElementPositionAndSize,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _mouseDragInfo: ValidMouseDragInfo,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _handle: string\n  ) {\n    console.warn(\"To use DragMixin you must implement dragCallback()\");\n  } /* how do we type this so that you can't override it in the wrong way? */\n\n  dragEndCallback() {} /* how do we type this so that you can't override it in the wrong way? */\n\n  dragStartCallback(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _handle: string\n  ) {} /* how do we type this so that you can't override it in the wrong way? */\n\n  dragStart(e: MouseEvent, handle?: string) {\n    // e.preventDefault(); // If we don't call `preventDefault` we will continue to receive events, even if we leave the iframe\n    e.stopPropagation();\n\n    if (typeof handle !== \"string\") {\n      console.warn(\n        \"To use drag mixin you must specify a handle parameter (string) as the second param of your mousedown=dragStart, i.e. mousedown=dragStart($event, 'myhandle')\"\n      );\n      return;\n    }\n\n    uiStore.setDragMixinDragging(true);\n    this.clickedHandle = handle;\n\n    this.mouseDragInfo = {\n      startX: e.clientX,\n      startY: e.clientY,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: 0,\n      lastYChange: 0,\n      totalXChange: 0,\n      totalYChange: 0\n    };\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"mousemove\",\n      this.throttledDragging\n    );\n    window.Breakdance.canvas.document.addEventListener(\"mouseup\", this.dragEnd);\n\n    this.dragStartCallback(handle);\n  }\n\n  throttledDragging = _throttle(this.dragging, 60);\n\n  dragging(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    requestAnimationFrame(() => this._draggingFunc(e));\n  }\n\n  _draggingFunc(e: MouseEvent) {\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize || !this.mouseDragInfo) return;\n\n    this.mouseDragInfo = {\n      ...this.mouseDragInfo,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: e.clientX - this.mouseDragInfo.currentX,\n      lastYChange: e.clientY - this.mouseDragInfo.currentY,\n      totalXChange: e.clientX - this.mouseDragInfo.startX,\n      totalYChange: e.clientY - this.mouseDragInfo.startY\n    };\n\n    if (this.clickedHandle) {\n      this.dragCallback(\n        elementPositionAndSize,\n        this.mouseDragInfo,\n        this.clickedHandle\n      );\n    }\n\n    this.positionWrapper();\n    clearTextSelection();\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // eslint-disable-next-line prettier/prettier\n    window.Breakdance.canvas.document.removeEventListener(\n      \"mousemove\",\n      this.throttledDragging\n    );\n    window.Breakdance.canvas.document.removeEventListener(\n      \"mouseup\",\n      this.dragEnd\n    );\n    this.mouseDragInfo = false;\n    this.clickedHandle = false;\n\n    uiStore.setDragMixinDragging(false);\n    this.dragEndCallback();\n    clearTextSelection();\n  }\n\n  get isDragging() {\n    return !!this.mouseDragInfo;\n  }\n\n  unsubscribeFromStorePositionWrapper = () => {};\n  nextTickPositionsWrapper() {\n    forceNextTick(this.positionWrapper);\n  }\n\n  beforeMount() {\n    this.positionWrapper();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.nextTickPositionsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionsWrapper);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n    window.removeEventListener(\"resize\", this.nextTickPositionsWrapper);\n  }\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  positionWrapper() {\n    if (!uiStore.activeElementId) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize) return;\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    this.wrapperPositionStyle = {\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it \n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: `${y}px`,\n      left: `${x}px`,\n      width: `${width}px`,\n      height: `${height}px`\n    };\n  }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"spacing-bar\",class:_vm.classList,style:(_vm.style),on:{\"mousedown\":function($event){return _vm.$emit('mousedown', $event)},\"mouseover\":function($event){_vm.isHovering = true},\"mouseleave\":function($event){_vm.isHovering = false}}},[_c('div',{staticClass:\"spacing-bar-current-value\"},[_vm._v(_vm._s(_vm.value)+\"px\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getElementComputedStyleFromNode } from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store\";\nimport lodash from \"lodash\";\n\nexport function getSpacingPropertyValue(\n  propertyPath: string,\n  cssProperty: string\n) {\n  const valInPx = getCurrentValueInPx(propertyPath, cssProperty);\n  return valInPx ? valInPx : 0;\n}\n\nexport function getCurrentValueInPx(path: string, cssProperty: string) {\n  if (!uiStore.activeElement) return false;\n\n  const fullPath = fullPathToSpacingProp(path, uiStore.currentBreakpoint.id);\n\n  let currentValue = parseInt(\n    lodash.get(uiStore.activeElement, `data.properties.${fullPath}.number`)\n  );\n\n  if (!currentValue) {\n    currentValue = 0;\n  }\n\n  let currentUnit = lodash.get(\n    uiStore.activeElement,\n    `data.properties.${fullPath}.unit`\n  );\n\n  if (!currentUnit) {\n    currentUnit = \"px\";\n  }\n\n  if (currentUnit !== \"px\" && currentValue !== 0) {\n    const computedStyle = getElementComputedStyleFromNode(\n      uiStore.activeElement\n    );\n    if (!computedStyle) return false;\n\n    const styleValue = parseInt(computedStyle.getPropertyValue(cssProperty));\n\n    return styleValue;\n  }\n  return currentValue;\n}\n\nexport function fullPathToSpacingProp(path: string, breakpointSlug: string) {\n  return path.replace(\"%%BREAKPOINT%%\", breakpointSlug);\n}\n","\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { SpacingBarDescription } from \"@/types/elements\";\nimport { getSpacingPropertyValue } from \"@/lib/canvas/spacing-bars\";\nimport {\n  ElementPositionAndSize,\n  getDomElementFromTreeNode,\n  getDomElementPositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class SpacingBar extends Vue {\n  @Prop()\n  bar!: SpacingBarDescription;\n\n  @Prop()\n  isDragging!: boolean;\n\n  @Prop()\n  isActiveBar!: boolean;\n\n  isHovering = false;\n\n  resizeObserver: ResizeObserver = new ResizeObserver(\n    this.onActiveElementResize\n  );\n\n  activeElementPositionAndSize: ElementPositionAndSize | null = null;\n  valueAtMomentOfElementPositionAndSizeCalculation: number | null = null;\n\n  intervalHandle: NodeJS.Timeout | undefined;\n\n  get value() {\n    return getSpacingPropertyValue(\n      this.bar.affectedPropertyPath,\n      this.bar.cssProperty\n    );\n  }\n\n  get activeElement() {\n    return uiStore.activeElement;\n  }\n\n  updateActiveElementPositionWhenItsPresent() {\n    const activeElement = this.activeElement;\n    if (activeElement) {\n      const activeElementDomNode = getDomElementFromTreeNode(activeElement);\n      if (activeElementDomNode) {\n        this.activeElementPositionAndSize =\n          getDomElementPositionAndSize(activeElementDomNode) || null;\n        // Defensively copy this.value in case it'll become an object in the future\n        this.valueAtMomentOfElementPositionAndSizeCalculation = this.value;\n\n        return;\n      }\n    }\n\n    this.activeElementPositionAndSize = null;\n    this.valueAtMomentOfElementPositionAndSizeCalculation = null;\n  }\n\n  mounted() {\n    this.intervalHandle = setInterval(() => {\n      forceNextTick(this.updateActiveElementPositionWhenItsPresent);\n    }, 50);\n  }\n\n  @Watch(\"activeElement\", { immediate: true })\n  handleActiveElementChange() {\n    this.updateActiveElementPositionWhenItsPresent();\n\n    this.resizeObserver.disconnect();\n\n    const activeElement = this.activeElement;\n\n    if (activeElement) {\n      const activeElementDomNode = getDomElementFromTreeNode(activeElement);\n      if (activeElementDomNode) {\n        this.resizeObserver.observe(activeElementDomNode, {\n          box: \"border-box\"\n        });\n        if (activeElementDomNode.parentElement) {\n          this.resizeObserver.observe(activeElementDomNode.parentElement, {\n            box: \"border-box\"\n          });\n        }\n      }\n    }\n  }\n\n  onActiveElementResize() {\n    this.updateActiveElementPositionWhenItsPresent();\n  }\n\n  get classList() {\n    return [`spacing-bar-${this.bar.location}`];\n  }\n\n  get style() {\n    if (\n      (this.isDragging && this.isActiveBar) ||\n      // don't show other bars while dragging\n      (this.isHovering && !this.isDragging)\n    ) {\n      return { ...this.barStyle, opacity: 1 };\n    }\n\n    return this.barStyle;\n  }\n\n  get barStyle() {\n    const positionAndSize = this.activeElementPositionAndSize;\n\n    if (!positionAndSize) return {};\n\n    const valueAtMomentOfElementPositionAndSizeCalculation =\n      this.valueAtMomentOfElementPositionAndSizeCalculation || this.value;\n\n    const { width, height, y: top, x: left } = positionAndSize;\n\n    const valueMin5 =\n      valueAtMomentOfElementPositionAndSizeCalculation > 5\n        ? valueAtMomentOfElementPositionAndSizeCalculation\n        : 5;\n\n    switch (this.bar.location) {\n      case \"inside-top\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"outside-top\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${-valueMin5 + top}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"inside-bottom\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top + height - valueMin5}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"outside-bottom\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top + height}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"inside-left\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left}px`,\n          cursor: \"col-resize\"\n        };\n      case \"outside-left\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left - valueMin5}px`,\n          cursor: \"col-resize\"\n        };\n      case \"inside-right\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left + width - valueMin5}px`,\n          cursor: \"col-resize\"\n        };\n      case \"outside-right\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left + width}px`,\n          cursor: \"col-resize\"\n        };\n      default:\n        return {};\n    }\n  }\n\n  beforeDestroy() {\n    this.resizeObserver.disconnect();\n    if (this.intervalHandle) {\n      clearInterval(this.intervalHandle);\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SpacingBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SpacingBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpacingBar.vue?vue&type=template&id=76f02033&\"\nimport script from \"./SpacingBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpacingBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { DragMixin } from \"./DragMixin\";\nimport { Component, Mixins } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport SpacingBar from \"./SpacingBar.vue\";\nimport { ElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport { ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport {\n  fullPathToSpacingProp,\n  getCurrentValueInPx\n} from \"@/lib/canvas/spacing-bars\";\nimport { SpacingBarDescription, SpacingBarLocation } from \"@/types/elements\";\nimport { generateDocumentStorePropertyChangeSnapshotLabel } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { SnapshotLabelAction } from \"@/types/snapshot\";\n\n@Component({\n  components: { SpacingBar }\n})\nexport default class SpacingBars extends Mixins(DragMixin) {\n  get bars(): SpacingBarDescription[] {\n    return this.activeElementSpacingBars ? this.activeElementSpacingBars : [];\n  }\n\n  get activeElementSpacingBars() {\n    return uiStore.activeElement\n      ? configStore.element(uiStore.activeElement.data.type).spacingBars\n      : false;\n  }\n\n  originalValue: number | false = false;\n\n  dragCallback(\n    _elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo,\n    handle: SpacingBarLocation\n  ) {\n    const bar = this.bars.filter(b => b.location === handle).pop();\n\n    if (!uiStore.activeElementId || !bar) return;\n\n    let newValue = 0;\n    let currentValue = getCurrentValueInPx(\n      bar.affectedPropertyPath,\n      bar.cssProperty\n    );\n\n    if (!currentValue) {\n      currentValue = 0;\n    }\n\n    if (!this.originalValue) {\n      this.originalValue = currentValue;\n    }\n\n    switch (handle) {\n      case \"inside-top\":\n      case \"inside-bottom\":\n      case \"outside-top\":\n      case \"outside-bottom\":\n        newValue = this.originalValue + mouseDragInfo.totalYChange;\n        break;\n      case \"inside-left\":\n      case \"inside-right\":\n      case \"outside-left\":\n      case \"outside-right\":\n        newValue = this.originalValue + mouseDragInfo.totalXChange;\n        break;\n    }\n\n    if (newValue < 0) {\n      newValue = 0;\n    }\n\n    const fullPathToSpacingProperty = fullPathToSpacingProp(\n      bar.affectedPropertyPath,\n      uiStore.currentBreakpoint.id\n    );\n\n    documentStore.throttledPropertyChanged({\n      elementId: uiStore.activeElementId,\n      path: fullPathToSpacingProperty,\n      value: {\n        number: newValue,\n        unit: \"px\",\n        style: `${newValue}px`\n      },\n      meta: {\n        snapshotLabel: generateDocumentStorePropertyChangeSnapshotLabel.forElementByTreeNodeId(\n          uiStore.activeElementId,\n          fullPathToSpacingProperty,\n          SnapshotLabelAction.CHANGE\n        )\n      }\n    });\n  }\n\n  dragEndCallback() {\n    this.originalValue = false;\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SpacingBars.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SpacingBars.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpacingBars.vue?vue&type=template&id=920c868e&\"\nimport script from \"./SpacingBars.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpacingBars.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.shouldShow)?_c('div',{staticClass:\"drag-dots-wrapper\",style:(_vm.wrapperPositionStyle)},[(_vm.isNotFarLeftColumn)?_c('div',{staticClass:\"drag-dot drag-dot-middle-left\",on:{\"mousedown\":function($event){return _vm.dragStart($event, 'left')}}},[(_vm.resizedWidths && 'left' in _vm.resizedWidths)?_c('div',{staticClass:\"drag-dots-column-widths-values\"},[_c('div',{staticClass:\"drag-dots-left-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.left.siblingWidth)+\"% \")]),_c('div',{staticClass:\"drag-dots-right-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.left.resizedWidth)+\"% \")])]):_vm._e()]):_vm._e(),(_vm.isNotFarRightColumn)?_c('div',{staticClass:\"drag-dot drag-dot-middle-right\",on:{\"mousedown\":function($event){return _vm.dragStart($event, 'right')}}},[(_vm.resizedWidths && 'right' in _vm.resizedWidths)?_c('div',{staticClass:\"drag-dots-column-widths-values\"},[_c('div',{staticClass:\"drag-dots-left-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.right.resizedWidth)+\"% \")]),_c('div',{staticClass:\"drag-dots-right-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.right.siblingWidth)+\"% \")])]):_vm._e()]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { TreeNode } from \"@/types/tree\";\nimport {\n  getTreeNodePositionAndSize,\n  getElementComputedStyleFromNode\n} from \"@/lib/canvas/helpers\";\nimport { documentStore } from \"@/store/store\";\nimport { getNodeParent } from \"../tree/tree\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\nexport function getOnCanvasColumnWidthInPercent(column: TreeNode) {\n  const columnWidthInPx = getOnCanvasColumnWidthInPixels(column);\n  const columnParentWidthInPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnWidthInPx || !columnParentWidthInPx) return false;\n\n  const columnWidthInPercent = parseFloatAndFixTo2Digits(\n    (columnWidthInPx / columnParentWidthInPx) * 100\n  );\n\n  return columnWidthInPercent ? columnWidthInPercent : false;\n}\n\nexport function calcNewPercentWidthForColumn(\n  column: TreeNode,\n  pixelsToAdd: number,\n  currentWidthInPx: number\n) {\n  const columnWidthPx = currentWidthInPx;\n  const columnParentWidthPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnWidthPx || !columnParentWidthPx) return false;\n\n  const newColumnWidthInPercent =\n    100 * ((columnWidthPx + pixelsToAdd) / columnParentWidthPx);\n\n  return parseFloatAndFixTo2Digits(newColumnWidthInPercent);\n}\n\nexport function getOnCanvasColumnWidthInPixels(column: TreeNode) {\n  const columnPosition = getTreeNodePositionAndSize(column);\n  if (columnPosition) {\n    return columnPosition.width;\n  }\n\n  return false;\n}\n\nfunction getOnCanvasColumnParentWidthInPixels(column: TreeNode) {\n  const columnParent = getNodeParent(documentStore.document.tree, column.id);\n\n  if (columnParent) {\n    const columnParentPosition = getTreeNodePositionAndSize(columnParent);\n    if (columnParentPosition) {\n      return columnParentPosition.width;\n    }\n  }\n\n  return false;\n}\n\nexport function getOnCanvasColumnMinWidthBasedOnPadding(column: TreeNode) {\n  const computedStyle = getElementComputedStyleFromNode(column);\n  if (!computedStyle) return false;\n\n  const paddingLeft = parseInt(computedStyle.getPropertyValue(\"padding-left\"));\n  const paddingRight = parseInt(\n    computedStyle.getPropertyValue(\"padding-right\")\n  );\n\n  if (Number.isNaN(paddingLeft) || Number.isNaN(paddingRight)) return false;\n\n  const columnParentWidthPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnParentWidthPx) return false;\n\n  const minColumnWidthInPercent =\n    100 * ((paddingLeft + paddingRight) / columnParentWidthPx);\n\n  return Math.ceil(minColumnWidthInPercent);\n}\n","import { TreeNode } from \"@/types/tree\";\nimport {\n  getColumnWidth,\n  rewidthIfColumnsNotAddUpTo100\n} from \"@/lib/columns/helpers\";\nimport { getOnCanvasColumnMinWidthBasedOnPadding } from \"./canvas\";\nimport { changeColumnWidthAndCommitToStore } from \"./store\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\nconst DEFAULT_MIN_WIDTH = 20;\n\nexport type NewColumnWidths = {\n  resizedWidth: number;\n  siblingWidth: number;\n};\n\nexport function resizeTwoColumnsAndCommit(\n  columns: TreeNode,\n  columnToResizeIndex: number,\n  newWidth: number,\n  adjustSibling: \"right\" | \"left\"\n): NewColumnWidths | false {\n  const siblingToResizeIndex =\n    adjustSibling === \"right\"\n      ? columnToResizeIndex + 1\n      : columnToResizeIndex - 1;\n  const siblingToResize = columns.children[siblingToResizeIndex];\n  const columnToResize = columns.children[columnToResizeIndex];\n\n  if (!columnToResize || !siblingToResize) return false;\n  if (columnToResizeIndex < 0 || siblingToResizeIndex < 0) return false;\n\n  const columnMinWidth = getOnCanvasColumnMinWidthBasedOnPadding(\n    columnToResize\n  );\n  const siblingMinWidth = getOnCanvasColumnMinWidthBasedOnPadding(\n    siblingToResize\n  );\n\n  let MIN_WIDTH = DEFAULT_MIN_WIDTH;\n\n  if (columnMinWidth !== false && siblingMinWidth !== false) {\n    MIN_WIDTH = Math.max(columnMinWidth, siblingMinWidth);\n  }\n\n  let unavailableWidth =\n    100 - getColumnWidth(columnToResize) - getColumnWidth(siblingToResize);\n\n  let siblingWidth = 100 - unavailableWidth - newWidth;\n\n  if (newWidth < MIN_WIDTH) {\n    newWidth = MIN_WIDTH;\n    siblingWidth = 100 - unavailableWidth - newWidth;\n  }\n\n  if (siblingWidth < MIN_WIDTH) {\n    siblingWidth = MIN_WIDTH;\n    newWidth = 100 - unavailableWidth - siblingWidth;\n  }\n\n  if (unavailableWidth > 100 - MIN_WIDTH * 2) {\n    newWidth = (100 - unavailableWidth) / 2;\n    siblingWidth = (100 - unavailableWidth) / 2;\n  }\n\n  newWidth = parseFloatAndFixTo2Digits(newWidth);\n  siblingWidth = parseFloatAndFixTo2Digits(siblingWidth);\n  unavailableWidth = parseFloatAndFixTo2Digits(unavailableWidth);\n\n  if (newWidth + siblingWidth + unavailableWidth !== 100) {\n    siblingWidth = 100 - unavailableWidth - newWidth;\n    siblingWidth = parseFloatAndFixTo2Digits(siblingWidth);\n  }\n\n  changeColumnWidthAndCommitToStore(columnToResize.id, newWidth);\n  changeColumnWidthAndCommitToStore(siblingToResize.id, siblingWidth);\n\n  rewidthIfColumnsNotAddUpTo100(columns);\n\n  return {\n    resizedWidth: newWidth,\n    siblingWidth: siblingWidth\n  };\n}\n","\nimport { Component, Mixins } from \"vue-property-decorator\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport { DragMixin } from \"./DragMixin\";\nimport { ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport {\n  getOnCanvasColumnWidthInPercent,\n  calcNewPercentWidthForColumn,\n  getOnCanvasColumnWidthInPixels\n} from \"@/lib/columns/canvas\";\nimport { resizeTwoColumnsAndCommit } from \"@/lib/columns/drag\";\nimport { getColumnsElement, isColumnElement } from \"@/lib/columns/helpers\";\nimport { NewColumnWidths } from \"@/lib/columns/drag\";\nimport { ElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { BASE_BREAKPOINT_ID } from \"@/lib/breakpoints/breakpoints\";\nimport { getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport lodash from \"lodash\";\n\n@Component({})\nexport default class ColumnDragSizer extends Mixins(DragMixin) {\n  resizedWidths:\n    | false\n    | { left: NewColumnWidths }\n    | { right: NewColumnWidths } = false;\n\n  widthOnDragStart: number | false = false;\n\n  get columnsAreNotResizeableAtBaseBreakpoint() {\n    if (!this.activeColumn) return false;\n\n    const columns = getColumnsElement(this.activeColumn);\n    if (!columns) return false;\n\n    const VERTICAL_STACKING_PATH = \"design.layout.stack_vertically\";\n    const FIFTY_FIFTY_PATH = \"design.layout.fifty_percent\";\n\n    const verticalStacking = lodash.get(\n      columns.data.properties,\n      VERTICAL_STACKING_PATH,\n      false\n    );\n    const fiftyFifty = lodash.get(\n      columns.data.properties,\n      FIFTY_FIFTY_PATH,\n      false\n    );\n\n    return (\n      verticalStacking === BASE_BREAKPOINT_ID ||\n      fiftyFifty === BASE_BREAKPOINT_ID\n    );\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.currentBreakpoint.id === BASE_BREAKPOINT_ID &&\n      this.activeColumn &&\n      !this.columnsAreNotResizeableAtBaseBreakpoint\n    );\n  }\n\n  dragStartCallback() {\n    breakdanceUndo.startTransaction();\n  }\n\n  dragCallback(\n    _elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo,\n    handle: string\n  ) {\n    if (!this.activeColumn || (handle !== \"left\" && handle !== \"right\")) return;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    const columnParent = getNodeParent(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n\n    if (columnIndex === false || columnParent === false) return;\n\n    let adjustPx = 0;\n\n    if (!this.widthOnDragStart) {\n      this.widthOnDragStart = getOnCanvasColumnWidthInPixels(this.activeColumn);\n    }\n\n    if (!this.widthOnDragStart) return;\n\n    adjustPx =\n      handle === \"right\"\n        ? mouseDragInfo.totalXChange\n        : -1 * mouseDragInfo.totalXChange;\n\n    /* we need to product mouseDragInfo from having any NaN values */\n\n    const newWidth = calcNewPercentWidthForColumn(\n      this.activeColumn,\n      adjustPx,\n      this.widthOnDragStart\n    );\n\n    if (!newWidth) return;\n\n    const resizedWidths = resizeTwoColumnsAndCommit(\n      columnParent,\n      columnIndex,\n      newWidth,\n      handle\n    );\n\n    if (resizedWidths) {\n      // @ts-ignore\n      this.resizedWidths = {\n        [handle]: {\n          resizedWidth: Number(resizedWidths.resizedWidth.toFixed(2)),\n          siblingWidth: Number(resizedWidths.siblingWidth.toFixed(2))\n        }\n      };\n    }\n  }\n\n  dragEndCallback() {\n    this.resizedWidths = false;\n    this.widthOnDragStart = false;\n    breakdanceUndo.endTransaction(\"Resizing column\");\n  }\n\n  get isNotFarLeftColumn() {\n    if (!this.activeColumn) return false;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    if (columnIndex === false) return false;\n\n    return columnIndex !== 0;\n  }\n\n  get isNotFarRightColumn() {\n    if (!this.activeColumn) return false;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    const columnParent = getNodeParent(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    if (columnIndex === false || columnParent === false) return false;\n\n    return columnIndex !== columnParent.children.length - 1;\n  }\n\n  get activeColumn() {\n    return isColumnElement(uiStore.activeElement)\n      ? uiStore.activeElement\n      : false;\n  }\n\n  get columnWidthInPercent() {\n    if (!this.activeColumn) return false;\n    return getOnCanvasColumnWidthInPercent(this.activeColumn);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ColumnDragSizer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ColumnDragSizer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColumnDragSizer.vue?vue&type=template&id=7c45e06a&\"\nimport script from \"./ColumnDragSizer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColumnDragSizer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n    'node-titlebar-wrapper': true,\n    'node-titlebar-wrapper-is-dragging': _vm.isDragging\n  },style:(_vm.wrapperPositionStyle)},[_c('div',{staticClass:\"node-titlebar\",class:_vm.titlebarClasses,style:(_vm.titlebarPositionStyle),on:{\"contextmenu\":_vm.openContextMenu}},[(_vm.isDragAndDropEnabled)?_c('OnCanvasDragHandle',{attrs:{\"node\":_vm.node}},[_c('span',{staticClass:\"node-titlebar-title\",attrs:{\"title\":\"Drag element\"}},[_c('span',{staticClass:\"node-titlebar-button\"},[_c('Icon',{attrs:{\"icon\":\"MaximizeIcon\",\"size\":\"10\"}})],1),_c('span',[_vm._v(\" \"+_vm._s(_vm.elementTitle)+\" \")]),(_vm.isDraftSection)?_c('span',{staticStyle:{\"margin-left\":\"4px\"}},[_vm._v(\" (Draft) \")]):_vm._e()])]):[_vm._v(_vm._s(_vm.elementTitle))],(_vm.hasParent)?_c('span',{staticClass:\"node-titlebar-button node-titlebar-button-activate-parent\",attrs:{\"title\":\"Select parent\"},on:{\"click\":_vm.activateParent}},[_c('Icon',{attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":\"180\",\"size\":\"10\"}})],1):_vm._e(),(_vm.hasSSr)?_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],class:{\n        'node-titlebar-button': true,\n        'node-titlebar-margin-left': true,\n        'breakdance-node-titlebar-loading-spinner': _vm.isElementUpdating\n      },attrs:{\"title\":\"Refresh element\"},on:{\"click\":_vm.refreshSsr}},[_c('Icon',{attrs:{\"icon\":\"RotateIcon\",\"size\":\"13\"}})],1):_vm._e(),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],class:{\n        'node-titlebar-button': true,\n        'node-titlebar-margin-left': !_vm.hasSSr\n      },attrs:{\"title\":\"Duplicate\"},on:{\"click\":_vm.duplicate}},[_c('Icon',{attrs:{\"icon\":\"DuplicateIcon\",\"size\":\"13\"}})],1),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],staticClass:\"node-titlebar-button\",attrs:{\"title\":\"Remove\"},on:{\"click\":_vm.remove}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"12\"}})],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.updateCurrentlyDraggingElementId.apply(null, arguments)}}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Vue, Component, Prop, Watch } from \"vue-property-decorator\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { DragPayload } from \"@/lib/structure-panel-drag/util\";\nimport { TreeNode } from \"@/types/tree\";\nimport {\n  getNodeIdAtPointInCanvas,\n  shouldItBeInsertedBeforeOrAfter,\n  getStackingStyle,\n  getNodesIdsAtPointInCanvas\n} from \"@/lib/canvas/drag/element-drag\";\nimport {\n  clearTextSelection,\n  ElementPositionAndSize,\n  getTreeNodePositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { distance } from \"@/util/distance\";\nimport { CanvasDragPlaceholderPosition } from \"@/types/ui\";\nimport { findNode, getNodeParent, treeNodeReduce } from \"@/lib/tree/tree\";\nimport {\n  findNearestParentThatWillAcceptNodes,\n  getNestingRuleFromNode,\n  isThisNodeAllowedInsideThatNode\n} from \"@/lib/tree/nesting\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\n\ntype PlaceholderPosition = {\n  dropTargetId: number;\n  dragPlaceholderIndex: number;\n  beforeOrAfter: \"before\" | \"after\";\n}; // this is a silly type because we already have a very similar one - CanvasDragPlaceholderPosition\n\n@Component\nexport default class OnCanvasDragHandle extends Vue {\n  @Prop()\n  node!: TreeNode;\n\n  lastSubmittedDrag: false | DragPayload = false;\n\n  get nestingPermissions() {\n    return getNestingRuleFromNode(this.node);\n  }\n\n  get canvasElementDraggedId() {\n    return uiStore.currentlyDraggingCanvasElementId;\n  }\n\n  @Watch(\"canvasElementDraggedId\")\n  watchCanvasElementDraggedId() {\n    this.dragStart();\n  }\n\n  // Call this instead of dragStart directly. dragStart will be called by the watcher\n  // This allows us to trigger a drag event from anywhere by updating the canvasElementDraggedId\n  updateCurrentlyDraggingElementId() {\n    uiStore.setCanvasElementDraggedId(this.node.id);\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart() {\n    if (!uiStore.hasFullAccess || !this.canvasElementDraggedId) return;\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n\n    const maybeParent = getNodeParent(\n      documentStore.document.tree,\n      this.node.id\n    );\n\n    if (maybeParent) {\n      this.setCanvasDragPlaceholderPosition({\n        nodeIndex: -1, // bs, doesnt matter\n        position: \"before\", // bs, doesnt matter\n        parentId: maybeParent.id,\n        onlyShowTargetOutline: true\n      }); // only reason we call this is to outline the parent\n    }\n\n    clearTextSelection();\n  }\n\n  setCanvasDragPlaceholderPosition(\n    canvasDragPlaceholderPosition: CanvasDragPlaceholderPosition | null\n  ) {\n    uiStore.setCanvasDragPlaceholderPosition(canvasDragPlaceholderPosition);\n  }\n\n  dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      const mouseX = e.clientX;\n      const mouseY = e.clientY;\n\n      const nodeMouseIsOverId = getNodeIdAtPointInCanvas(mouseX, mouseY);\n\n      if (nodeMouseIsOverId === undefined) return;\n\n      const nodeMouseIsOver = findNode(\n        documentStore.document.tree,\n        nodeMouseIsOverId\n      );\n      if (nodeMouseIsOver === undefined) return;\n\n      const dropTargetNode = findNearestParentThatWillAcceptNodes(\n        documentStore.document.tree,\n        nodeMouseIsOver,\n        this.nestingPermissions\n      );\n\n      if (!dropTargetNode) return;\n\n      const dropTargetNodeId = dropTargetNode.id;\n\n      // ---------------------------------\n\n      if (\n        nodeMouseIsOverId === this.node.id ||\n        treeNodeReduce(\n          (node, foundNode: TreeNode | undefined) => {\n            if (!foundNode) {\n              foundNode = node.children.find(n => nodeMouseIsOverId === n.id);\n            }\n            return foundNode;\n          },\n          this.node,\n          undefined\n        )\n      ) {\n        /**\n         * if over self, outline parent and do nothing\n         */\n        this.setCanvasDragPlaceholderPosition({\n          nodeIndex: -1, // bs, doesnt matter\n          position: \"before\", // bs, doesnt matter\n          parentId: dropTargetNodeId,\n          onlyShowTargetOutline: true\n        }); // only reason we call this is to outline the parent\n\n        this.setDropPosition(false);\n      } else if (nodeMouseIsOverId === dropTargetNodeId) {\n        /*\n        if we are over the drop target, but not any of its children\n        */\n        this.handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(\n          mouseX,\n          mouseY,\n          nodeMouseIsOverId,\n          this.node.id,\n          dropTargetNode\n        );\n      } else if (\n        dropTargetNode.children.find(n => nodeMouseIsOverId === n.id)\n      ) {\n        /*\n        if we are over an immediate child of the drop target, and not the self\n        */\n        this.handleDragWhenMouseIsOverAChildOfTheDropTarget(\n          mouseX,\n          mouseY,\n          nodeMouseIsOverId,\n          this.node.id,\n          dropTargetNode\n        );\n      } else if (\n        /*\n        if we are over a deeper child of the drop target, and not the self\n        */\n        treeNodeReduce(\n          (node, foundNode: TreeNode | undefined) => {\n            if (!foundNode) {\n              foundNode = node.children.find(n => nodeMouseIsOverId === n.id);\n            }\n            return foundNode;\n          },\n          dropTargetNode,\n          undefined\n        )\n      ) {\n        const childOfDropTargetThatMouseIsReallyOver = getNodesIdsAtPointInCanvas(\n          mouseX,\n          mouseY\n        ).reduce((foundNode: TreeNode | undefined, nodeId: number) => {\n          if (!foundNode) {\n            return dropTargetNode.children.find(n => n.id === nodeId);\n          }\n          return foundNode;\n        }, undefined);\n\n        if (childOfDropTargetThatMouseIsReallyOver) {\n          this.handleDragWhenMouseIsOverAChildOfTheDropTarget(\n            mouseX,\n            mouseY,\n            childOfDropTargetThatMouseIsReallyOver.id,\n            this.node.id,\n            dropTargetNode\n          );\n        }\n      }\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.lastSubmittedDrag) {\n      documentStore.moveElement(this.lastSubmittedDrag);\n    }\n\n    this.setCanvasDragPlaceholderPosition(null);\n    this.lastSubmittedDrag = false;\n    uiStore.endCanvasElementDrag();\n\n    clearTextSelection();\n  }\n\n  handleDragWhenMouseIsOverAChildOfTheDropTarget(\n    mouseX: number,\n    mouseY: number,\n    mouseOverNodeId: number,\n    draggedNodeId: number,\n    dropTargetNode: TreeNode,\n    placeholderOnly = false\n  ) {\n    const stackingStyle = getStackingStyle(dropTargetNode);\n\n    const insertBeforeOrAfter =\n      shouldItBeInsertedBeforeOrAfter(\n        mouseX,\n        mouseY,\n        mouseOverNodeId,\n        stackingStyle\n      ) === \"before\"\n        ? \"before\"\n        : \"after\";\n\n    const nodesInDropTarget = dropTargetNode.children\n      .map(node => node.id)\n      .filter(id => id !== draggedNodeId);\n\n    const dragPlaceholderIndex = dropTargetNode.children\n      .map(node => node.id)\n      .findIndex(id => id === mouseOverNodeId);\n\n    let dropPlacementIndex = nodesInDropTarget.findIndex(\n      id => id === mouseOverNodeId\n    );\n\n    if (insertBeforeOrAfter === \"after\") {\n      dropPlacementIndex++; // for the placement of the dropped element, 0 inserts before the first node, 1 inserts after the first node\n    }\n\n    if (placeholderOnly === true) {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: dragPlaceholderIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition(false);\n    } else {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: dragPlaceholderIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: dropPlacementIndex\n      });\n    }\n  }\n\n  handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(\n    mouseX: number,\n    mouseY: number,\n    _mouseOverNodeId: number,\n    draggedNodeId: number,\n    dropTargetNode: TreeNode\n  ) {\n    if (dropTargetNode.children.length === 0) {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: 0,\n        beforeOrAfter: \"after\"\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: 0\n      });\n    } else {\n      const rects = (dropTargetNode.children\n        .map((node, i) => {\n          return {\n            positionAndSize: getTreeNodePositionAndSize(node, \"absolute\"), // we need to save the index to figure out which rect,\n            index: i,\n            id: node.id\n          };\n        })\n        .filter(r => r.positionAndSize) as {\n        index: number;\n        positionAndSize: ElementPositionAndSize;\n        id: number;\n      }[])\n        .map(r => {\n          return {\n            min: {\n              x: r.positionAndSize.x,\n              y: r.positionAndSize.y\n            },\n            max: {\n              x: r.positionAndSize.x + r.positionAndSize.width,\n              y: r.positionAndSize.y + r.positionAndSize.height\n            },\n            nodeIndex: r.index,\n            id: r.id\n          };\n        })\n        .map(r => {\n          return {\n            ...r,\n            distance: distance(r, { x: mouseX, y: mouseY })\n          };\n        });\n\n      const nearestRect = rects.reduce((r1, r2) =>\n        r1.distance < r2.distance ? r1 : r2\n      );\n\n      const xCenter = (nearestRect.min.x + nearestRect.max.x) / 2;\n      const yCenter = (nearestRect.min.y + nearestRect.max.y) / 2;\n\n      const leftOrRight = xCenter > mouseX ? \"left\" : \"right\";\n      const aboveOrBelow = yCenter > mouseY ? \"above\" : \"below\";\n\n      const stackingStyle = getStackingStyle(dropTargetNode);\n\n      let insertBeforeOrAfter: \"before\" | \"after\";\n\n      if (stackingStyle === \"vertical\") {\n        insertBeforeOrAfter = aboveOrBelow === \"above\" ? \"before\" : \"after\";\n      } else {\n        insertBeforeOrAfter = leftOrRight === \"left\" ? \"before\" : \"after\";\n      }\n\n      if (nearestRect.id === draggedNodeId) {\n        // if nearest node is self, just recompute the placeholder position.\n\n        this.setPlaceholder({\n          dropTargetId: dropTargetNode.id,\n          dragPlaceholderIndex: nearestRect.nodeIndex,\n          beforeOrAfter: insertBeforeOrAfter\n        });\n\n        this.setDropPosition(false);\n\n        return;\n      }\n\n      const nodesInDropTargetIds = dropTargetNode.children\n        .map(node => node.id)\n        .filter(id => id !== draggedNodeId);\n\n      let dropPlacementIndex = nodesInDropTargetIds.findIndex(\n        id => id === nearestRect.id\n      );\n\n      if (insertBeforeOrAfter === \"after\") {\n        dropPlacementIndex++;\n      }\n\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: nearestRect.nodeIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: dropPlacementIndex\n      });\n    }\n  }\n\n  setPlaceholder(placeholderPosition: PlaceholderPosition) {\n    if (\n      isThisNodeAllowedInsideThatNode(\n        documentStore.document.tree,\n        this.node,\n        placeholderPosition.dropTargetId\n      )\n    ) {\n      this.movePlaceholder(\n        placeholderPosition.dropTargetId,\n        placeholderPosition.dragPlaceholderIndex,\n        placeholderPosition.beforeOrAfter\n      );\n    }\n  }\n\n  setDropPosition(dropPosition: DragPayload | false) {\n    if (dropPosition === false) {\n      this.lastSubmittedDrag = false;\n      return;\n    }\n\n    if (\n      isThisNodeAllowedInsideThatNode(\n        documentStore.document.tree,\n        this.node,\n        dropPosition.droppedOnElementId\n      )\n    ) {\n      this.lastSubmittedDrag = dropPosition;\n    }\n  }\n\n  movePlaceholder(\n    dropTargetId: number,\n    dragPlaceholderIndex: number,\n    beforeOrAfter: \"before\" | \"after\"\n  ) {\n    let onlyShowTargetOutline = false;\n\n    /* hide if placeholder is on the dragged node */\n    const dropTarget = findNode(documentStore.document.tree, dropTargetId);\n    if (dropTarget) {\n      const maybeChildWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex];\n      const maybeChildBeforeWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex - 1];\n      const maybeChildAFterWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex + 1];\n\n      if (maybeChildWherePlaceholderIs) {\n        if (maybeChildWherePlaceholderIs.id === this.node.id) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n\n      if (maybeChildBeforeWherePlaceholderIs) {\n        if (\n          maybeChildBeforeWherePlaceholderIs.id === this.node.id &&\n          beforeOrAfter === \"before\"\n        ) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n\n      if (maybeChildAFterWherePlaceholderIs) {\n        if (\n          maybeChildAFterWherePlaceholderIs.id === this.node.id &&\n          beforeOrAfter === \"after\"\n        ) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n    }\n    /* ---------- */\n\n    /* only move if it is materially different than last position */\n    if (uiStore.canvasDragPlaceholderPosition) {\n      const movedForwards = () =>\n        dragPlaceholderIndex ===\n        (uiStore.canvasDragPlaceholderPosition as CanvasDragPlaceholderPosition)\n          .nodeIndex +\n          1;\n\n      const movedBackwards = () =>\n        dragPlaceholderIndex ===\n        (uiStore.canvasDragPlaceholderPosition as CanvasDragPlaceholderPosition)\n          .nodeIndex -\n          1;\n\n      if (uiStore.canvasDragPlaceholderPosition.parentId === dropTargetId) {\n        if (\n          movedForwards() &&\n          uiStore.canvasDragPlaceholderPosition.position === \"after\" &&\n          beforeOrAfter === \"before\"\n        ) {\n          return;\n        }\n\n        if (\n          movedBackwards() &&\n          uiStore.canvasDragPlaceholderPosition.position === \"before\" &&\n          beforeOrAfter === \"after\"\n        ) {\n          return;\n        }\n      }\n    }\n    /* ------ */\n\n    this.setCanvasDragPlaceholderPosition({\n      parentId: dropTargetId,\n      nodeIndex: dragPlaceholderIndex,\n      position: beforeOrAfter,\n      onlyShowTargetOutline: onlyShowTargetOutline\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OnCanvasDragHandle.vue?vue&type=template&id=616df96e&\"\nimport script from \"./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getCanvasPositionAndSize } from \"@/lib/canvas/helpers\";\n\nexport function getRightClickMenuPositionInCanvas(\n  mouseX: number,\n  mouseY: number\n) {\n  const { x: canvasX, y: canvasY } = getCanvasPositionAndSize();\n\n  const iframe = document.getElementById(\"iframe\");\n\n  const menuElement = window.Breakdance.canvas.document.querySelector(\n    \".breakdance-canvas-right-click-menu\"\n  ) as HTMLElement;\n\n  if (!menuElement || !iframe) {\n    return;\n  }\n\n  const {\n    width: iframeWidth,\n    height: iframeHeight\n  } = iframe.getBoundingClientRect();\n\n  const { menuWidth, menuHeight } = getMenuSize(menuElement);\n\n  const x =\n    mouseX + menuWidth + 15 > iframeWidth\n      ? mouseX - canvasX - menuWidth\n      : mouseX - canvasX;\n\n  const y =\n    mouseY + menuHeight + 15 > iframeHeight\n      ? mouseY - canvasY - menuHeight\n      : mouseY - canvasY;\n\n  return {\n    x,\n    y\n  };\n}\n\nfunction getMenuSize(menuElement: HTMLElement) {\n  // getBoundingClientRect sizes will be 0 if the element is hidden\n  menuElement.style.display = \"block\";\n  const { width, height } = menuElement.getBoundingClientRect();\n\n  return {\n    menuWidth: width,\n    menuHeight: height\n  };\n}\n","\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport OnCanvasDragHandle from \"./OnCanvasDragHandle.vue\";\nimport { getNodeParent } from \"@/lib/tree/tree\";\nimport {\n  getNodeElementWrapperStyles,\n  getDomElementFromTreeNode,\n  getNodeTitlebarStyles\n} from \"@/lib/canvas/helpers\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { getRightClickMenuPositionInCanvas } from \"@/lib/right-click/actions\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { SECTION_SLUG } from \"@/lib/elements/constants\";\nimport lodash from \"lodash\";\n\n@Component({\n  components: {\n    Icon,\n    OnCanvasDragHandle\n  }\n})\nexport default class NodeTitlebar extends Vue {\n  interval!: NodeJS.Timer;\n  refreshRate = 500;\n\n  unsubscribeFromStorePositionWrapper = () => {};\n  nextTickPositionsWrapper() {\n    forceNextTick(this.calculateStylesAndTitle);\n  }\n\n  openContextMenu(e: MouseEvent) {\n    // don't reach the event in the menu, otherwise It'll select the wrong element\n    e.stopPropagation();\n    e.preventDefault();\n\n    const position = getRightClickMenuPositionInCanvas(e.clientX, e.clientY);\n\n    if (!uiStore.activeElementId || !position) return;\n\n    uiStore.setOnCanvasRightClickMenuState({\n      elementId: uiStore.activeElementId,\n      position\n    });\n  }\n\n  mounted() {\n    this.calculateStylesAndTitle();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.nextTickPositionsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionsWrapper);\n\n    this.interval = setInterval(\n      this.nextTickPositionsWrapper,\n      this.refreshRate\n    );\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n\n    window.removeEventListener(\"resize\", this.nextTickPositionsWrapper);\n\n    clearInterval(this.interval);\n  }\n\n  get isDraftSection() {\n    if (!uiStore.activeElement) return false;\n\n    if (uiStore.activeElement.data.type !== SECTION_SLUG) return false;\n\n    const isDraft = lodash.get(\n      uiStore.activeElement.data.properties,\n      \"settings.advanced.draft\"\n    );\n\n    return !!isDraft;\n  }\n\n  get isDragAndDropEnabled() {\n    return uiStore.hasFullAccess;\n  }\n\n  get isElementUpdating() {\n    if (!uiStore.activeElementId) return false;\n    return !!uiStore.elementsThatAreUpdating[uiStore.activeElementId];\n  }\n\n  titlebarPositionStyle: { [key: string]: string } = {};\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  elementTitle = \"\";\n\n  // Everything is calculated in a func to avoid UI flicker caused by values being calculated at different times\n  calculateStylesAndTitle() {\n    if (uiStore.elementWithContentEditable || !uiStore.activeElement) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    this.elementTitle = configStore.element(\n      uiStore.activeElement.data.type\n    ).name;\n\n    this.wrapperPositionStyle = getNodeElementWrapperStyles(\n      getDomElementFromTreeNode(uiStore.activeElement)\n    );\n\n    this.titlebarPositionStyle = getNodeTitlebarStyles(uiStore.activeElement);\n  }\n\n  get titlebarClasses() {\n    return {\n      \"node-titlebar-is-dragging\": this.isDragging,\n      \"node-titlebar-is-draft-section\": this.isDraftSection\n    };\n  }\n\n  get isDragging() {\n    return uiStore.currentlyDraggingCanvasElementId === uiStore.activeElementId;\n  }\n\n  duplicate() {\n    if (uiStore.activeElementId) {\n      documentStore.duplicateElementAndActivateIt(uiStore.activeElementId);\n    }\n  }\n\n  remove() {\n    if (uiStore.activeElementId !== null) {\n      documentStore.deleteElement({ nodeId: uiStore.activeElementId });\n    }\n  }\n\n  refreshSsr() {\n    uiStore.setRefreshSsrElementId(uiStore.activeElementId);\n  }\n\n  get hasSSr() {\n    const activeElementBase =\n      uiStore.activeElement &&\n      configStore.element(uiStore.activeElement.data.type);\n\n    if (!activeElementBase) {\n      return \"\";\n    }\n\n    return activeElementBase.template.includes(\"%%SSR%%\");\n  }\n\n  get hasParent() {\n    return this.parentElement && this.parentElement.data.type !== \"root\";\n  }\n\n  get node() {\n    // False should never happen\n    return uiStore.activeElement || false;\n  }\n\n  activateParent() {\n    if (this.parentElement) {\n      uiStore.activateElement(this.parentElement.id);\n    }\n  }\n\n  get parentElement() {\n    if (!uiStore.activeElement) return false;\n\n    const maybeParent = getNodeParent(\n      documentStore.document.tree,\n      uiStore.activeElement.id\n    );\n\n    return maybeParent ? maybeParent : false;\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeTitlebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeTitlebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeTitlebar.vue?vue&type=template&id=071ac525&\"\nimport script from \"./NodeTitlebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeTitlebar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"node-hover-controls\",class:_vm.wrapperClassList,style:(_vm.wrapperPositionStyle)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { getNodeIdAtPointInCanvas } from \"@/lib/canvas/drag/element-drag\";\nimport {\n  getTreeNodePositionAndSize,\n  getNodeElementWrapperStyles,\n  getDomElementFromTreeNode\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport throttle from \"lodash/throttle\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class NodeHoverControls extends Vue {\n  interval!: NodeJS.Timer;\n  refreshRate = 500;\n  shouldShowControls = false;\n\n  unsubscribeFromStorePositionWrapper = () => {};\n\n  throttledNextTickPositionWrapper = throttle(\n    () => forceNextTick(() => this.positionWrapper()),\n    100\n  );\n\n  beforeMount() {\n    this.positionWrapper();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.throttledNextTickPositionWrapper\n    );\n\n    window.addEventListener(\"resize\", this.throttledNextTickPositionWrapper);\n  }\n\n  mounted() {\n    const canvasElement = window.Breakdance.canvas.document.getElementById(\n      \"breakdance_canvas\"\n    );\n\n    if (!canvasElement) return;\n\n    canvasElement.addEventListener(\n      \"mousemove\",\n      this.throttledShowHoverControlsOnMouseMoveCanvas\n    );\n    canvasElement.addEventListener(\n      \"mouseleave\",\n      this.disableMouseHoverOnMouseLeaveCanvas\n    );\n\n    this.interval = setInterval(\n      this.throttledNextTickPositionWrapper,\n      this.refreshRate\n    );\n  }\n\n  beforeDestroy() {\n    const canvasElement = window.Breakdance.canvas.document.getElementById(\n      \"breakdance_canvas\"\n    );\n\n    this.unsubscribeFromStorePositionWrapper();\n    window.removeEventListener(\"resize\", this.throttledNextTickPositionWrapper);\n    canvasElement?.removeEventListener(\n      \"mousemove\",\n      this.throttledShowHoverControlsOnMouseMoveCanvas\n    );\n    clearInterval(this.interval);\n  }\n\n  get wrapperClassList() {\n    return {\n      \"node-hover-controls-show\": this.shouldShowControls && this.isNotDragging,\n      \"node-hover-controls--outline\": this.isNotDragging\n    };\n  }\n\n  get isNotDragging() {\n    return !uiStore.isCanvasElementBeingDragged && !uiStore.isDragMixinDragging;\n  }\n\n  get element() {\n    if (\n      !uiStore.lastHoveredOnCanvasElementId ||\n      uiStore.elementWithContentEditable\n    )\n      return false;\n\n    const lastHoveredElement = findNode(\n      documentStore.document.tree,\n      uiStore.lastHoveredOnCanvasElementId\n    );\n\n    return lastHoveredElement || false;\n  }\n\n  setHoveredNode(x: number, y: number) {\n    const hoveredNodeId = getNodeIdAtPointInCanvas(x, y);\n\n    if (hoveredNodeId !== undefined) {\n      const hoveredNode = findNode(documentStore.document.tree, hoveredNodeId);\n\n      if (hoveredNode) {\n        uiStore.setLastHoveredOnCanvasElementId(hoveredNode.id);\n      }\n    }\n  }\n\n  disableMouseHoverOnMouseLeaveCanvas = () => {\n    // without a timeout, the mousemove event will trigger after mouseleave\n    // setting the hoveredElement again\n    setTimeout(() => uiStore.setLastHoveredOnCanvasElementId(null), 110);\n  };\n\n  throttledShowHoverControlsOnMouseMoveCanvas = throttle(\n    this.showHoverControlsOnMouseMoveCanvas,\n    100\n  );\n  showHoverControlsOnMouseMoveCanvas(e: MouseEvent) {\n    const { clientX: mouseX, clientY: mouseY } = e;\n\n    this.setHoveredNode(mouseX, mouseY);\n\n    if (this.element === false) return;\n\n    const elementPositionAndSize = getTreeNodePositionAndSize(\n      this.element,\n      \"absolute\"\n    );\n\n    if (!elementPositionAndSize) return;\n\n    const {\n      x: elementX,\n      y: elementY,\n      width: elementWidth,\n      height: elementHeight\n    } = elementPositionAndSize;\n\n    this.shouldShowControls =\n      mouseX > elementX + elementWidth - 48 &&\n      mouseX < elementX + elementWidth &&\n      mouseY > elementY &&\n      mouseY < elementY + elementHeight;\n  }\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  positionWrapper() {\n    if (uiStore.elementWithContentEditable || !this.element) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    this.wrapperPositionStyle = getNodeElementWrapperStyles(\n      getDomElementFromTreeNode(this.element)\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeHoverControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeHoverControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeHoverControls.vue?vue&type=template&id=ccf96b4e&\"\nimport script from \"./NodeHoverControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeHoverControls.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"node-content-editable\",style:(_vm.wrapperStyle)})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {\n  getDomElementFromTreeNode,\n  getNodeElementWrapperStyles\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class NodeContentEditable extends Vue {\n  unsubscribeFromStorePositionWrapper = () => {};\n  wrapperStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n  lastModifiedDomElement: HTMLElement | null = null;\n\n  mounted() {\n    this.calculateWrapperStyles();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.calculateWrapperStyles\n    );\n\n    window.addEventListener(\"resize\", this.calculateWrapperStyles);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n\n    window.removeEventListener(\"resize\", this.calculateWrapperStyles);\n  }\n\n  get domElement() {\n    if (!uiStore.elementWithContentEditable) return null;\n\n    const contentEditableElement = findNode(\n      documentStore.document.tree,\n      uiStore.elementWithContentEditable\n    );\n\n    if (!contentEditableElement) return null;\n\n    const domElement = getDomElementFromTreeNode(contentEditableElement);\n\n    if (domElement?.contentEditable === \"true\") {\n      this.lastModifiedDomElement = domElement;\n      return domElement;\n    }\n\n    const childWithContentEditable = domElement?.querySelector(\n      '[contenteditable=\"true\"]'\n    );\n\n    if (childWithContentEditable) {\n      this.lastModifiedDomElement = childWithContentEditable as HTMLElement;\n\n      return childWithContentEditable;\n    }\n\n    return null;\n  }\n\n  calculateWrapperStyles() {\n    // wait for the domElement to recalculate\n    forceNextTick(() => {\n      if (!this.domElement && this.lastModifiedDomElement) {\n        this.lastModifiedDomElement.removeEventListener(\n          \"input\",\n          this.calculateWrapperStyles\n        );\n        this.lastModifiedDomElement = null;\n      }\n\n      this.wrapperStyle = getNodeElementWrapperStyles(\n        this.domElement as HTMLElement\n      );\n\n      if (this.domElement) {\n        // a contenteditable element won't update the store until it's blurred, but we need to update the wrapper styles\n        this.domElement.addEventListener(\"input\", this.calculateWrapperStyles);\n      }\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeContentEditable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeContentEditable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeContentEditable.vue?vue&type=template&id=10cffb2c&\"\nimport script from \"./NodeContentEditable.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeContentEditable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport DragDots from \"./DragDots.vue\";\nimport SpacingBars from \"./SpacingBars.vue\";\nimport ColumnDragSizer from \"./ColumnDragSizer.vue\";\nimport NodeTitlebar from \"./NodeTitlebar.vue\";\nimport NodeHoverControls from \"./NodeHoverControls.vue\";\nimport NodeContentEditable from \"@/components/Canvas/OverlaidUI/NodeContentEditable.vue\";\nimport { documentStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  getDomElementFromTreeNode,\n  shouldHideElementNodeControls\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { TreeNode } from \"@/types/tree\";\n\n@Component({\n  components: {\n    NodeContentEditable,\n    DragDots,\n    SpacingBars,\n    ColumnDragSizer,\n    NodeTitlebar,\n    NodeHoverControls\n  }\n})\nexport default class NodeChrome extends Vue {\n  observer?: MutationObserver;\n  hoverObserver?: MutationObserver;\n  hideTitleBar = false;\n  hideHoverControls = false;\n\n  get element() {\n    return uiStore.activeElement || false;\n  }\n\n  get hoveredElement() {\n    if (uiStore.lastHoveredOnCanvasElementId) {\n      return findNode(\n        documentStore.document.tree,\n        uiStore.lastHoveredOnCanvasElementId\n      );\n    }\n\n    return false;\n  }\n\n  get hideClass() {\n    let prefix = null;\n\n    if (this.hideTitleBar && this.hideHoverControls) {\n      prefix = \"all\";\n    } else if (this.hideHoverControls) {\n      prefix = \"hover\";\n    } else if (this.hideTitleBar) {\n      prefix = \"titlebar\";\n    }\n\n    return prefix ? `node-chrome--hide-${prefix}` : null;\n  }\n\n  @Watch(\"element\")\n  onElementSelected() {\n    this.observer?.disconnect();\n    if (!this.element) return;\n\n    this.observer = this.observePositionChange(this.element, target => {\n      this.hideTitleBar = shouldHideElementNodeControls(target);\n    });\n  }\n\n  @Watch(\"hoveredElement\")\n  onHoveredElementSelected() {\n    this.hoverObserver?.disconnect();\n    if (!this.hoveredElement) return;\n\n    this.hoverObserver = this.observePositionChange(\n      this.hoveredElement,\n      target => {\n        this.hideHoverControls = shouldHideElementNodeControls(target);\n      }\n    );\n  }\n\n  beforeDestroy() {\n    this.destroyObserver();\n  }\n\n  observePositionChange(\n    element: TreeNode | false,\n    callback: (target: HTMLElement) => void\n  ) {\n    if (!element) return;\n    const node = getDomElementFromTreeNode(element);\n\n    if (!node) return;\n\n    const onMutate = (mutations: MutationRecord[]) => {\n      mutations.forEach(record => {\n        const target = record.target as HTMLElement;\n        callback(target);\n      });\n    };\n\n    const observer = new MutationObserver(onMutate);\n\n    const options = {\n      attributes: true,\n      attributeFilter: [\"class\"]\n    };\n\n    observer.observe(node, options);\n    return observer;\n  }\n\n  destroyObserver() {\n    this.observer?.disconnect();\n    this.hoverObserver?.disconnect();\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeChrome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NodeChrome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeChrome.vue?vue&type=template&id=6b8240c2&\"\nimport script from \"./NodeChrome.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeChrome.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('DragPlaceholder'),_c('RightClickMenu',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-drag-placeholder-wrapper\"},[_c('div',{staticClass:\"breakdance-drag-placeholder\",style:(_vm.dragPlaceholderPositionStyle)}),_c('div',{staticClass:\"breakdance-drag-target-outline\",style:(_vm.dragTargetOutlineStyle)})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport {\n  getEmptyContainerPositionAndSize,\n  getTreeNodePositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { getStackingStyle } from \"@/lib/canvas/drag/element-drag\";\nimport { findNode, ROOT_ELEMENT_ID } from \"@/lib/tree/tree\";\n\n@Component({\n  components: {}\n})\nexport default class DragPlaceholder extends Vue {\n  get canvasDragPlaceholderPosition() {\n    return uiStore.canvasDragPlaceholderPosition;\n  }\n\n  get parentNode() {\n    if (!this.canvasDragPlaceholderPosition) return false;\n\n    const maybeNode = findNode(\n      documentStore.document.tree,\n      this.canvasDragPlaceholderPosition.parentId\n    );\n    return maybeNode ? maybeNode : false;\n  }\n\n  get stackingStyle() {\n    if (!this.canvasDragPlaceholderPosition) return {};\n\n    if (!this.parentNode) return {};\n\n    return getStackingStyle(this.parentNode);\n  }\n\n  get dragPlaceholderPositionStyle() {\n    if (\n      !this.canvasDragPlaceholderPosition ||\n      this.canvasDragPlaceholderPosition.onlyShowTargetOutline === true\n    )\n      return {};\n\n    const parentNode = findNode(\n      documentStore.document.tree,\n      this.canvasDragPlaceholderPosition.parentId\n    );\n\n    if (!parentNode) return {};\n\n    const widthOrHeightNumber = 8;\n    // - 1 for the border of the parent element\n    const widthOrHeightValue = `${widthOrHeightNumber}px`;\n\n    if (parentNode.children.length === 0) {\n      // this is similar to that shit in DragMixin.ts\n      const elementPositionAndSize =\n        parentNode.id === ROOT_ELEMENT_ID\n          ? getEmptyContainerPositionAndSize()\n          : getTreeNodePositionAndSize(parentNode);\n\n      if (!elementPositionAndSize) return {};\n\n      // eslint-disable-next-line prefer-const\n      let { x, y, width, height } = elementPositionAndSize;\n\n      if (width - 40 > 100) {\n        x = x + 20;\n        width = width - 40;\n      }\n\n      return {\n        display: \"block\",\n        top: `${y + height / 2 - widthOrHeightNumber / 2}px`,\n        left: `${x}px`,\n        width: `${width}px`,\n        height: widthOrHeightValue\n      };\n    } else {\n      const overNode =\n        parentNode.children[this.canvasDragPlaceholderPosition.nodeIndex];\n      // this is a little dangerous. What if the index of the placeholder is not right and the shit doesnt exist?\n      // when we upgrade TypeScript to use noUncheckedIndexedAccess, this will be caught\n\n      const elementPositionAndSize = getTreeNodePositionAndSize(overNode); // this is similar to that shit in DragMixin.ts\n      const stackingStyle = getStackingStyle(parentNode);\n\n      if (!elementPositionAndSize) return {};\n\n      const { x, y, width, height } = elementPositionAndSize;\n\n      if (stackingStyle === \"vertical\") {\n        if (this.canvasDragPlaceholderPosition.position === \"before\") {\n          return {\n            display: \"block\",\n            top: `${y - (widthOrHeightNumber / 2 - 1)}px`,\n            left: `${x}px`,\n            width: `${width}px`,\n            height: widthOrHeightValue\n          };\n        } else if (this.canvasDragPlaceholderPosition.position === \"after\") {\n          return {\n            display: \"block\",\n            top: `${height + y - (widthOrHeightNumber / 2 + 1)}px`,\n            left: `${x}px`,\n            width: `${width}px`,\n            height: widthOrHeightValue\n          };\n        }\n      } else if (stackingStyle === \"horizontal\") {\n        if (this.canvasDragPlaceholderPosition.position === \"before\") {\n          return {\n            display: \"block\",\n            top: `${y}px`,\n            left: `${x - widthOrHeightNumber / 2}px`,\n            height: `${height}px`,\n            width: widthOrHeightValue\n          };\n        } else if (this.canvasDragPlaceholderPosition.position === \"after\") {\n          return {\n            display: \"block\",\n            left: `${width + x - widthOrHeightNumber / 2}px`,\n            top: `${y}px`,\n            height: `${height}px`,\n            width: widthOrHeightValue\n          };\n        }\n      }\n    }\n\n    return {};\n  }\n\n  get dragTargetOutlineStyle() {\n    if (!this.parentNode) return {};\n\n    const elementPositionAndSize =\n      this.parentNode.id === ROOT_ELEMENT_ID &&\n      documentStore.document.tree.root.children.length === 0\n        ? getEmptyContainerPositionAndSize()\n        : getTreeNodePositionAndSize(this.parentNode);\n\n    if (!elementPositionAndSize) return {};\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    return {\n      display: \"block\",\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it\n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: `${y}px`,\n      left: `${x}px`,\n      width: `${width}px`,\n      height: `${height}px`\n    };\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DragPlaceholder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DragPlaceholder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DragPlaceholder.vue?vue&type=template&id=8f2066d6&\"\nimport script from \"./DragPlaceholder.vue?vue&type=script&lang=ts&\"\nexport * from \"./DragPlaceholder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShow),expression:\"shouldShow\"}],staticClass:\"breakdance-canvas-right-click-menu\",style:(_vm.wrapperPositionStyle)},[_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.elementIdPresent},on:{\"click\":_vm.copyElement}},[_vm._v(\" Copy \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElement},on:{\"click\":_vm.pasteElement}},[_vm._v(\" Paste \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElementProperties},on:{\"click\":function($event){return _vm.pasteElementProperties('design')}}},[_vm._v(\" Paste Design \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElementProperties},on:{\"click\":function($event){return _vm.pasteElementProperties('settings')}}},[_vm._v(\" Paste Settings \")]),_c('div',{staticClass:\"breakdance-canvas-right-click-menu-divider\"}),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.elementIdPresent},on:{\"click\":_vm.deleteElement}},[_vm._v(\" Delete \")]),_c('div',{staticClass:\"breakdance-canvas-right-click-menu-divider\"}),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canSaveAsGlobalBlock},on:{\"click\":_vm.openSaveGlobalBlockDialog}},[_vm._v(\" Save as Global Block \")])],1),(_vm.saveGlobalBlockDialog)?_c('GlobalBlockDialog',{attrs:{\"element-id\":_vm.elementIdToSaveAsGlobalBlock},on:{\"close\":_vm.closeGlobalBlockDialog}}):_vm._e(),_c('ClipboardDialog',{model:{value:(_vm.clipboardDialog),callback:function ($$v) {_vm.clipboardDialog=$$v},expression:\"clipboardDialog\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n    'breakdance-canvas-right-click-menu-item': true,\n    'breakdance-canvas-right-click-menu-item-disabled': _vm.disabled\n  },on:{\"click\":function($event){_vm.disabled ? () => {} : _vm.$emit('click', $event)}}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class RightClickMenuItem extends Vue {\n  @Prop({ default: false })\n  disabled!: boolean;\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightClickMenuItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightClickMenuItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RightClickMenuItem.vue?vue&type=template&id=f2edc36e&\"\nimport script from \"./RightClickMenuItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./RightClickMenuItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dialog',{attrs:{\"value\":_vm.value,\"width\":500,\"closeable\":true},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Enable Paste\")]},proxy:true},{key:\"text\",fn:function(){return [_c('p',[_vm._v(\" To paste using the Edit menu, \"),(_vm.status && !_vm.status.secure)?[_vm._v(\" your website needs to be served with HTTPS. \")]:(_vm.status && !_vm.permissionGranted)?[_vm._v(\" please allow access to your clipboard. \")]:_vm._e()],2),_c('p',[_vm._v(\"Alternatively, you can use your keyboard shortcuts:\")]),_c('ul',{staticClass:\"clipboard-dialog-shortcuts\"},[_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" C\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"copy\")])]),_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" X\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"cut\")])]),_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" V\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"paste\")])])])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\nimport { ClipboardStatus } from \"@/types/copy-paste\";\n\n@Component({ components: { Dialog } })\nexport default class ClipboardDialog extends Vue {\n  @Prop()\n  value!: boolean;\n\n  status: ClipboardStatus | null = null;\n\n  @Watch(\"value\", { immediate: true })\n  async onChange() {\n    this.status = await getClipboardStatus();\n\n    if (this.status?.permission)\n      this.status.permission.onchange = () => {\n        this.$emit(\"input\", false);\n      };\n  }\n\n  get permissionGranted() {\n    return this.status?.permission?.state === 'granted';\n  }\n\n  get metaKey() {\n    return this.isAppleDevice ? \"⌘\" : \"Ctrl + \";\n  }\n\n  get isAppleDevice() {\n    return /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n  }\n\n  close() {\n    this.$emit(\"input\", false);\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClipboardDialog.vue?vue&type=template&id=39ad7e34&\"\nimport script from \"./ClipboardDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClipboardDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ClipboardDialog.vue?vue&type=style&index=0&id=39ad7e34&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport {\n  canPasteElement,\n  canPasteElementProperties,\n  copyElement,\n  pasteElement,\n  pasteElementProperties\n} from \"@/lib/copy-paste/copy-paste\";\nimport RightClickMenuItem from \"./RightClickMenuItem.vue\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { getRightClickMenuPositionInCanvas } from \"@/lib/right-click/actions\";\nimport { canSaveAsGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport { getNodeIdAtPointInCanvas } from \"@/lib/canvas/drag/element-drag\";\nimport GlobalBlockDialog from \"@/components/Reusable/GlobalBlockDialog.vue\";\nimport ClipboardDialog from \"@/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\n\n@Component({\n  components: {\n    ClipboardDialog,\n    GlobalBlockDialog,\n    RightClickMenuItem\n  }\n})\nexport default class RightClickMenu extends Vue {\n  saveGlobalBlockDialog = false;\n  clipboardDialog = false;\n\n  async mounted() {\n    window.Breakdance.canvas.document.addEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCanvas\n    );\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n    window.addEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n  }\n\n  beforeDestroy() {\n    window.Breakdance.canvas.document.removeEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCanvas\n    );\n\n    window.Breakdance.canvas.document.removeEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n    window.removeEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n  }\n\n  get menuState() {\n    return uiStore.onCanvasRightClickMenuState !== \"closed\"\n      ? uiStore.onCanvasRightClickMenuState\n      : null;\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.onCanvasRightClickMenuState !== \"closed\" &&\n      !this.saveGlobalBlockDialog\n    );\n  }\n\n  handleRightClickInCanvas(e: MouseEvent) {\n    e.preventDefault();\n\n    const elementId = getNodeIdAtPointInCanvas(e.clientX, e.clientY);\n    const position = getRightClickMenuPositionInCanvas(e.clientX, e.clientY);\n\n    if (!position) return;\n\n    uiStore.setOnCanvasRightClickMenuState({\n      elementId,\n      position\n    });\n  }\n\n  closeRightClickMenuIfClickHappensOutsideRightClickMenu(e: MouseEvent) {\n    if (this.saveGlobalBlockDialog) return;\n\n    const closestMenu = (e.target as HTMLElement).closest(\n      \".breakdance-canvas-right-click-menu\"\n    );\n\n    if (!closestMenu) {\n      uiStore.setOnCanvasRightClickMenuState(\"closed\");\n    }\n  }\n\n  get wrapperPositionStyle() {\n    if (!this.menuState) return {};\n\n    return {\n      left: `${this.menuState.position.x}px`,\n      top: `${this.menuState.position.y}px`\n    };\n  }\n\n  get elementIdPresent() {\n    return this.menuState?.elementId;\n  }\n\n  canPasteElement = false;\n  canPasteElementProperties = false;\n  permission?: PermissionState;\n\n  @Watch(\"menuState\")\n  async onStateChange() {\n    const { permission } = await getClipboardStatus();\n\n    this.permission = permission?.state;\n\n    if (this.permission === \"prompt\") {\n      this.canPasteElement = true;\n      this.canPasteElementProperties = true;\n      return;\n    }\n\n    this.canPasteElement = await canPasteElement(\n      this.menuState?.elementId\n        ? this.menuState.elementId\n        : documentStore.document.tree.root.id\n    );\n\n    this.canPasteElementProperties = this.menuState?.elementId\n      ? await canPasteElementProperties(this.menuState.elementId)\n      : false;\n  }\n\n  copyElement() {\n    if (this.menuState?.elementId) {\n      copyElement(this.menuState.elementId);\n    }\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  pasteElement() {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.menuState?.elementId) {\n      pasteElement(this.menuState.elementId);\n    } else {\n      pasteElement(documentStore.document.tree.root.id);\n    }\n\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  pasteElementProperties(path: \"design\" | \"content\" | \"settings\") {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.menuState?.elementId) {\n      pasteElementProperties(this.menuState.elementId, path);\n    }\n\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  deleteElement() {\n    if (!this.menuState?.elementId) return;\n\n    documentStore.deleteElement({ nodeId: this.menuState?.elementId });\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  elementIdToSaveAsGlobalBlock: number | null = null;\n  openSaveGlobalBlockDialog() {\n    if (this.menuState?.elementId) {\n      this.elementIdToSaveAsGlobalBlock = this.menuState.elementId;\n      this.saveGlobalBlockDialog = true;\n    }\n  }\n\n  closeGlobalBlockDialog() {\n    this.saveGlobalBlockDialog = false;\n    this.elementIdToSaveAsGlobalBlock = null;\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  get canSaveAsGlobalBlock() {\n    return (\n      this.menuState?.elementId &&\n      canSaveAsGlobalBlock(this.menuState.elementId)\n    );\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightClickMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RightClickMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RightClickMenu.vue?vue&type=template&id=539c9e4c&\"\nimport script from \"./RightClickMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./RightClickMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport DragPlaceholder from \"./Canvas/DragPlaceholder.vue\";\nimport RightClickMenu from \"./Canvas/RightClickMenu.vue\";\n\n@Component({\n  components: {\n    DragPlaceholder,\n    RightClickMenu\n  }\n})\nexport default class CanvasChrome extends Vue {}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CanvasChrome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CanvasChrome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CanvasChrome.vue?vue&type=template&id=4b09c05c&\"\nimport script from \"./CanvasChrome.vue?vue&type=script&lang=ts&\"\nexport * from \"./CanvasChrome.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport BuilderElement from \"./BuilderElement.vue\";\nimport NodeChrome from \"./OverlaidUI/NodeChrome.vue\";\nimport CanvasChrome from \"./OverlaidUI/CanvasChrome.vue\";\nimport { uiStore, documentStore, globalStore } from \"@/store/store\";\nimport EmptyContainer from \"@/components/Canvas/Empty/EmptyContainer.vue\";\nimport {\n  handleGlobalSelectorsChanged,\n  handleGlobalSettingsChanged\n} from \"@/lib/canvas/reacting-to-global-store-changes\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\n\n@Component({\n  components: {\n    EmptyContainer,\n    BuilderElement,\n    NodeChrome,\n    CanvasChrome\n  }\n})\nexport default class Canvas extends Vue {\n  render() {\n    const children = () => {\n      if (this.rootElement.children.length === 0) {\n        return <EmptyContainer />;\n      }\n\n      return this.rootElement.children.map(element => (\n        <BuilderElement\n          // @ts-ignore\n          key={element.id}\n          // @ts-ignore\n          parentId={this.rootElement.id}\n          element={element}\n        />\n      ));\n    };\n\n    return (\n      <div key={this.canvasKey} class={this.classList} id=\"breakdance_canvas\">\n        {children()}\n        <NodeChrome />\n        <CanvasChrome />\n      </div>\n    );\n  }\n\n  mounted() {\n    uiStore.setCanvasState(\"normal\");\n  }\n\n  get canvasKey() {\n    return uiStore.canvasKey;\n  }\n\n  get classList() {\n    return {\n      breakdance: true,\n      canvas: true,\n      dragging:\n        uiStore.isCanvasElementBeingDragged || uiStore.isAddElementBeingDragged\n    };\n  }\n\n  get rootElement() {\n    return documentStore.document.tree.root;\n  }\n\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  @Watch(\"globalSettings\", { deep: true, immediate: true })\n  onGlobalSettingsChanged() {\n    handleGlobalSettingsChanged(getBuilderCanvasDocument());\n  }\n\n  @Watch(\"selectors\", { deep: true, immediate: true })\n  onSelectorsChanged() {\n    handleGlobalSelectorsChanged(getBuilderCanvasDocument());\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-42.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-42.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=tsx&\"","var render, staticRenderFns\nimport script from \"./Canvas.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=tsx&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:_vm.classes,style:(_vm.style)},[_c('Icon',{staticClass:\"breakdance-preview-width-adjustment-handle align-center\",attrs:{\"icon\":\"EllipsisStrokeVerticalIcon\",\"size\":\"6\",\"heightAuto\":true},on:{\"mousedown\":_vm.dragStart,\"dblclick\":_vm.resetPreviewWidth}}),(_vm.isDragging || _vm.currentPreviewWidthIsSetByUser)?_c('div',{staticClass:\"breakdance-px-amount\"},[_vm._v(\" \"+_vm._s(_vm.pxAmount)+\" \"),_c('Icon',{staticClass:\"px-amount-reset-icon\",attrs:{\"icon\":\"CloseCircleIcon\",\"size\":\"11\"},on:{\"click\":_vm.resetPreviewWidth}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\n\n@Component({\n  components: { Icon }\n})\nexport default class PreviewWidthAdjustmentHandle extends Vue {\n  @Prop()\n  iframeWrapperPosition!: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  };\n\n  @Prop() previewWidth!: CanvasPreviewWidth;\n  @Prop() currentBreakpoint!: Breakpoint;\n\n  @Prop() mainWrapper!: HTMLDivElement | null;\n  @Prop() iframe!: HTMLIFrameElement | null;\n\n  get currentPreviewWidthIsSetByUser() {\n    if (this.currentBreakpoint.defaultPreviewWidth === \"100%\") {\n      return this.previewWidth.width !== \"100%\";\n    } else {\n      return (\n        this.previewWidth.width !== this.currentBreakpoint.defaultPreviewWidth\n      );\n    }\n  }\n\n  get style() {\n    return {\n      left: `${this.iframeWrapperPosition.x +\n        this.iframeWrapperPosition.width}px`,\n      height: `${this.iframeWrapperPosition.height}px`\n    };\n  }\n\n  get pxAmount() {\n    return this.previewWidth.width === \"100%\"\n      ? \"100%\"\n      : `${this.previewWidth.width}px`;\n  }\n\n  get alreadyAtMaximumWidth() {\n    if (this.previewWidth.width === \"100%\") return true;\n\n    return (\n      this.previewWidth.width >= this.previewWidth.availableCanvasSize.width\n    );\n  }\n\n  mouseXChange = 0;\n  lastMouseX = 0;\n\n  isDragging = false;\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n\n    this.lastMouseX = e.clientX;\n\n    if (this.iframe) {\n      // without this, once the mouse goes over the iframe, the mousemove event stops firing\n      this.iframe.style.pointerEvents = \"none\";\n    }\n\n    if (this.mainWrapper) {\n      this.mainWrapper.style.cursor = \"col-resize\";\n    }\n  }\n\n  dragging(e: MouseEvent) {\n    if (!isCanvasEvent(e)) {\n      this.isDragging = true;\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      this.mouseXChange = e.clientX - this.lastMouseX;\n\n      this.adjustPreviewWidth(this.mouseXChange * 2);\n\n      this.lastMouseX = e.clientX;\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.iframe) {\n      this.iframe.style.pointerEvents = \"auto\";\n    }\n\n    if (this.mainWrapper) {\n      this.mainWrapper.style.cursor = \"auto\";\n    }\n\n    this.isDragging = false;\n  }\n\n  adjustPreviewWidth(adjustX: number) {\n    let newPreviewWidth: number;\n\n    const previousPreviewWidth = this.previewWidth.width;\n\n    if (this.alreadyAtMaximumWidth && adjustX > 0) {\n      adjustX = 0;\n    }\n\n    if (this.previewWidth.width === \"100%\") {\n      if (!this.iframe) {\n        console.warn(\"iframe element is missing\");\n        return;\n      }\n      newPreviewWidth = this.iframe.offsetWidth - adjustX;\n    } else {\n      newPreviewWidth = this.previewWidth.width + adjustX;\n    }\n\n    if (\n      previousPreviewWidth !== \"100%\" &&\n      newPreviewWidth > previousPreviewWidth &&\n      newPreviewWidth > this.previewWidth.availableCanvasSize.width\n    ) {\n      newPreviewWidth = this.previewWidth.availableCanvasSize.width;\n    }\n\n    this.$emit(\"previewWidthChangeWithAdjustmentBar\", newPreviewWidth);\n  }\n\n  resetPreviewWidth() {\n    this.$emit(\"resetPreviewWidth\");\n  }\n\n  get classes() {\n    return {\n      \"breakdance-preview-width-bar\": true,\n      \"breakdance-preview-width-bar-is-dragging\": this.isDragging\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewWidthAdjustmentHandle.vue?vue&type=template&id=f3217438&\"\nimport script from \"./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreviewWidthAdjustmentHandle.vue?vue&type=style&index=0&id=f3217438&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-btn',_vm._g({class:_vm.classList,attrs:{\"elevation\":\"0\",\"loading\":_vm.loading,\"height\":\"37\",\"minWidth\":_vm.minWidth,\"outlined\":\"\",\"data-test-id\":_vm.testId}},_vm.$listeners),[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class StandardButton extends Vue {\n  @Prop({\n    default: false\n  })\n  loading!: boolean;\n  @Prop({\n    default: false\n  })\n  active!: boolean;\n  @Prop({\n    default: \"auto\"\n  })\n  minWidth!: number | \"auto\";\n\n  @Prop()\n  testId!: string;\n\n  get classList() {\n    return {\n      \"breakdance-toolbar-button\": true,\n      \"breakdance-toolbar-button--active\": this.active\n    };\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StandardButton.vue?vue&type=template&id=5274ded5&\"\nimport script from \"./StandardButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./StandardButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StandardButton.vue?vue&type=style&index=0&id=5274ded5&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.showOverlay)?_c('div',{staticClass:\"breakdance-foreign-documents-overlay\",style:(_vm.overlayStyles),on:{\"mouseleave\":_vm.handleOverlayMouseLeave}},[_c('div',{staticClass:\"breakdance-foreign-documents-overlay-titlebar-wrapper\"},[_c('div',{staticClass:\"breakdance-foreign-documents-overlay-titlebar\"},[_c('a',{attrs:{\"href\":_vm.foreignDocumentBuilderUrl},on:{\"click\":_vm.openBuilderUrl}},[_vm._v(\" Edit \"+_vm._s(_vm.foreignDocumentTitle)+\" \"),_c('Icon',{attrs:{\"icon\":\"EditIcon\"}})],1)])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const px = (v: number) => `${v}px`;\n","\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport { throttle } from \"lodash\";\nimport { px } from \"@/util/css\";\nimport { SomeNonNullable } from \"@/types/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { uiStore } from \"@/store/store\";\n\nenum ForeignDocumentTypeLabels {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  breakdance_header = \"header\",\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  breakdance_footer = \"footer\"\n}\n\n@Component({\n  components: { Icon }\n})\nexport default class ForeignDocumentsOverlay extends Vue {\n  @Prop()\n  canvasElement!: HTMLElement;\n\n  @Prop()\n  iframeDocument!: Document;\n\n  @Prop()\n  elementsToWatch!: NodeListOf<HTMLElement>;\n\n  hoveredForeignDocumentDomElement: HTMLElement | null = null;\n  hoveredForeignDocumentDomElementCoords: DOMRect | null = null;\n\n  isScrolling = false;\n  isScrollingCleanupTimerId: NodeJS.Timeout | null = null;\n  throttledHandleIframeScroll = throttle(this.handleIframeScroll, 120);\n  throttledHandleWatchedElementMouseMove = throttle(\n    this.handleWatchedElementMouseMove,\n    60\n  );\n\n  get showOverlay(): boolean {\n    return uiStore.hasFullAccess;\n    //    return this.isThereHoveredElementAndItsCoords() && !this.isScrolling;\n  }\n\n  get foreignDocumentBuilderUrl(): string | undefined {\n    return this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentBuilderUrl;\n  }\n\n  get foreignDocumentTypeLabel(): string {\n    const documentType = this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentType as\n      | keyof typeof ForeignDocumentTypeLabels\n      | undefined;\n\n    return documentType ? ForeignDocumentTypeLabels[documentType] ?? \"\" : \"\";\n  }\n\n  get foreignDocumentTitle(): string {\n    const documentTitle = this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentTitle as string | undefined;\n    return documentTitle ? documentTitle : \"Unknown Document\";\n  }\n\n  get overlayStyles() {\n    if (!this.isThereHoveredElementAndItsCoords()) {\n      return undefined;\n    }\n\n    const {\n      top,\n      left,\n      height,\n      width\n    } = this.hoveredForeignDocumentDomElementCoords;\n\n    return {\n      display: \"flex\",\n      top: px(top),\n      left: px(left),\n      height: px(height),\n      width: px(width)\n    };\n  }\n\n  mounted() {\n    this.addEventListenersToIframeDocument();\n    this.addEventListenersToWatchedElements();\n  }\n\n  beforeDestroy() {\n    this.removeEventListenersFromIframeDocument();\n    this.removeEventListenersFromWatchedElements();\n  }\n\n  addEventListenersToIframeDocument() {\n    this.iframeDocument.addEventListener(\n      \"scroll\",\n      this.throttledHandleIframeScroll\n    );\n  }\n\n  removeEventListenersFromIframeDocument() {\n    this.iframeDocument.removeEventListener(\n      \"scroll\",\n      this.throttledHandleIframeScroll\n    );\n  }\n\n  addEventListenersToWatchedElements() {\n    this.elementsToWatch.forEach(node => {\n      node.addEventListener(\n        \"mousemove\",\n        this.throttledHandleWatchedElementMouseMove\n      );\n      node.addEventListener(\"mouseleave\", this.handleWatchedElementMouseLeave);\n    });\n  }\n\n  removeEventListenersFromWatchedElements() {\n    this.elementsToWatch.forEach(node => {\n      node.removeEventListener(\n        \"mousemove\",\n        this.throttledHandleWatchedElementMouseMove\n      );\n      node.removeEventListener(\n        \"mouseleave\",\n        this.handleWatchedElementMouseLeave\n      );\n    });\n  }\n\n  isThereHoveredElementAndItsCoords(): this is SomeNonNullable<\n    this,\n    | \"hoveredForeignDocumentDomElement\"\n    | \"hoveredForeignDocumentDomElementCoords\"\n  > {\n    return (\n      this.hoveredForeignDocumentDomElement !== null &&\n      this.hoveredForeignDocumentDomElementCoords !== null\n    );\n  }\n\n  setHoveredForeignDocumentDomElement(value: HTMLElement | null) {\n    this.hoveredForeignDocumentDomElement = value;\n    this.hoveredForeignDocumentDomElementCoords = this.getCoords();\n  }\n\n  getCoords() {\n    const el = this.hoveredForeignDocumentDomElement;\n    if (el?.childElementCount === 1) {\n      // The child element could be position fixed,\n      // so we need to use its coords instead of the foreign element.\n      const child = el.firstElementChild as HTMLElement;\n      return child.getBoundingClientRect();\n    } else {\n      return el?.getBoundingClientRect() ?? null;\n    }\n  }\n\n  setIsScrolling(isScrolling: boolean) {\n    if (isScrolling) {\n      this.hoveredForeignDocumentDomElement = null;\n      this.hoveredForeignDocumentDomElementCoords = null;\n      this.removeEventListenersFromWatchedElements();\n    } else {\n      this.addEventListenersToWatchedElements();\n    }\n    this.isScrolling = isScrolling;\n  }\n\n  handleIframeScroll() {\n    this.setIsScrolling(true);\n\n    if (this.isScrollingCleanupTimerId) {\n      clearTimeout(this.isScrollingCleanupTimerId);\n    }\n\n    this.isScrollingCleanupTimerId = setTimeout(\n      () => this.setIsScrolling(false),\n      120\n    );\n  }\n\n  handleOverlayMouseLeave() {\n    this.setHoveredForeignDocumentDomElement(null);\n  }\n\n  handleWatchedElementMouseMove(e: MouseEvent) {\n    if (!e.currentTarget) return;\n\n    this.setHoveredForeignDocumentDomElement(\n      e.currentTarget as HTMLElement | null\n    );\n  }\n\n  handleWatchedElementMouseLeave(e: MouseEvent) {\n    if (this.$el.contains(e.relatedTarget as Node | null)) {\n      if (this.hoveredForeignDocumentDomElement !== null) {\n        this.hoveredForeignDocumentDomElementCoords = this.getCoords();\n      }\n    } else {\n      this.setHoveredForeignDocumentDomElement(null);\n    }\n  }\n\n  openBuilderUrl() {\n    const builderUrl = this.foreignDocumentBuilderUrl;\n    if (builderUrl) {\n      this.$emit(\"openDocument\", {\n        builderUrl,\n        title: this.foreignDocumentTitle\n      });\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ForeignDocumentsOverlay.vue?vue&type=template&id=48a14c54&\"\nimport script from \"./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"\nexport * from \"./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"mainWrapper\",staticClass:\"breakdance-iframe-main-wrapper\",style:(_vm.mainWrapperStyle),attrs:{\"id\":\"canvas-area\"}},[_c('PreviewWidthAdjustmentHandle',{attrs:{\"iframe-wrapper-position\":_vm.iframeWrapperPosition,\"preview-width\":_vm.iframePreviewWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe\":_vm.iframe,\"main-wrapper\":_vm.mainWrapper},on:{\"resetPreviewWidth\":() => this.$emit('resetPreviewWidth'),\"previewWidthChangeWithAdjustmentBar\":width => this.$emit('previewWidthChangeWithAdjustmentBar', width)}}),(_vm.iframeExited)?_c('div',{staticClass:\"iframe-reloaded-warning-block\"},[_vm._v(\" Something navigated you away from the page you are editing. \"),_c('StandardButton',{staticClass:\"mt-4\",attrs:{\"minWidth\":\"80\"},on:{\"click\":_vm.handleReloadWanted}},[_vm._v(\" Continue Editing \")])],1):_c('div',{ref:\"iframeWrapper\",staticClass:\"breakdance-iframe-inner-wrapper\",style:(_vm.iframeWrapperStyles),attrs:{\"id\":\"iframe-wrapper\"}},[(_vm.iframeIsLoading)?_c('Loading',{attrs:{\"absolute\":\"\"}}):_vm._e(),_c('iframe',{key:_vm.iframeUrl,ref:\"iframe\",staticClass:\"breakdance-iframe\",style:(_vm.iframeStyle),attrs:{\"id\":_vm.iframeId,\"name\":_vm.iframeId,\"src\":_vm.iframeUrl},on:{\"load\":_vm.handleIframeLoaded}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport PreviewWidthAdjustmentHandle from \"@/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport { CanvasPreviewWidth, InterfaceState } from \"@/types/ui\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\n\nconst CANVAS_PADDING = 8;\n\n@Component({\n  components: {\n    StandardButton,\n    Loading,\n    PreviewWidthAdjustmentHandle\n  }\n})\nexport default class IframeWrapper extends Vue {\n  @Prop() iframeState!: InterfaceState;\n  @Prop() iframePreviewWidth!: CanvasPreviewWidth;\n  @Prop() iframeUrl!: string;\n  @Prop() iframeId!: string;\n  @Prop() minWidth!: number;\n  @Prop() iframeExited!: boolean;\n  @Prop() currentBreakpoint!: Breakpoint;\n\n  @Ref() readonly mainWrapper!: HTMLDivElement | null;\n  @Ref() readonly iframeWrapper!: HTMLDivElement | null;\n  @Ref() readonly iframe!: HTMLIFrameElement | null;\n\n  iframeWrapperPosition = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n\n  get mainWrapperStyle() {\n    return {\n      padding: `${CANVAS_PADDING}px`\n    };\n  }\n\n  get iframeWrapperStyles() {\n    return {\n      width:\n        this.iframePreviewWidth.width === \"100%\"\n          ? \"100%\"\n          : `${this.iframePreviewWidth.width}px`,\n      overflow:\n        uiStore.settings.scaleToFit === \"SCALED_TO_FIT\" ? \"hidden\" : \"auto\"\n    };\n  }\n\n  get iframeStyle() {\n    const scaledStyles = (width: number) => {\n      const scaleFactor = Math.min(\n        1,\n        this.iframePreviewWidth.availableCanvasSize.width / width\n      );\n      return {\n        width: `${width}px`,\n        transform: `scale(${scaleFactor})`,\n        height: `${this.iframePreviewWidth.availableCanvasSize.height *\n          (1 / scaleFactor)}px`\n      };\n    };\n\n    if (uiStore.settings.scaleToFit === \"ACTUAL_SIZE\") {\n      if (this.iframePreviewWidth.width === \"100%\") {\n        return {\n          width: \"100%\",\n          minWidth: `${this.minWidth}px`\n        };\n      } else {\n        return {\n          width: `${this.iframePreviewWidth.width}px`\n        };\n      }\n    } else {\n      if (this.iframePreviewWidth.width === \"100%\") {\n        if (this.iframePreviewWidth.availableCanvasSize.width < this.minWidth) {\n          return scaledStyles(this.minWidth);\n        } else {\n          return {\n            width: \"100%\",\n            minWidth: `${this.minWidth}px`\n          };\n        }\n      } else {\n        return scaledStyles(this.iframePreviewWidth.width);\n      }\n    }\n  }\n\n  get iframeIsLoading() {\n    return this.iframeState === \"loading\";\n  }\n\n  handleIframeLoaded() {\n    if (this.iframe?.contentWindow) {\n      this.iframe.contentWindow.onunload = () => {\n        this.$emit(\"iframeUnloaded\");\n      };\n    }\n\n    this.$emit(\"iframeLoaded\", this.iframe);\n  }\n\n  handleReloadWanted() {\n    this.$emit(\"reloadWanted\");\n  }\n\n  mounted() {\n    if (this.mainWrapper) {\n      new ResizeObserver(this.setAvailableCanvasSize).observe(this.mainWrapper);\n    } else {\n      uiStore.logError(\"No canvas element.\");\n    }\n\n    if (this.iframeWrapper) {\n      new ResizeObserver(this.setIframeWrapperPosition).observe(\n        this.iframeWrapper\n      );\n    } else {\n      uiStore.logError(\"No iframe wrapper element.\");\n    }\n\n    this.setAvailableCanvasSize();\n  }\n\n  setAvailableCanvasSize() {\n    if (this.mainWrapper) {\n      const rect = this.mainWrapper.getBoundingClientRect();\n\n      const newPreviewWidth: CanvasPreviewWidth = {\n        ...this.iframePreviewWidth,\n        availableCanvasSize: {\n          width: rect.width - CANVAS_PADDING * 2,\n          height: rect.height - CANVAS_PADDING * 2\n        }\n      };\n\n      this.$emit(\"previewWidthChange\", newPreviewWidth);\n    }\n\n    // resizing the available canvas could move the iframe wrapper (for example, when the properties panel is toggled),\n    // so when the resize observer calls setAvailableCanvasSize, we want to also call setIframeWrapperPosition\n    this.setIframeWrapperPosition();\n  }\n\n  setIframeWrapperPosition() {\n    if (this.iframeWrapper) {\n      const rect = this.iframeWrapper.getBoundingClientRect();\n      this.iframeWrapperPosition = {\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height\n      };\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IframeWrapper.vue?vue&type=template&id=53315b28&\"\nimport script from \"./IframeWrapper.vue?vue&type=script&lang=ts&\"\nexport * from \"./IframeWrapper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./IframeWrapper.vue?vue&type=style&index=0&id=53315b28&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n/// <reference types=\"resize-observer-browser\" />\n// @ts-ignore\nimport iframeCss from \"./OverlaidUI/styles.iframecss\";\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport Canvas from \"./Canvas.vue\";\nimport store, {\n  configStore,\n  documentStore,\n  globalStore,\n  uiStore\n} from \"@/store/store\";\nimport { initializeOrReinitializeCombokeys } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport PreviewWidthAdjustmentHandle from \"../Reusable/Iframe/PreviewWidthAdjustmentHandle.vue\";\nimport { getMinimumWidth } from \"@/lib/breakpoints/breakpoints\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport vuetify from \"@/plugins/vuetify\";\nimport ForeignDocumentsOverlay from \"@/components/Canvas/ForeignDocumentsOverlay.vue\";\nimport { createStyleTagWithRawCssCodeInside } from \"@/util/dom\";\nimport {\n  getBuilderCanvasHead,\n  setWindowBreakdanceCanvasDocument\n} from \"@/lib/canvas/helpers\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport IframeWrapper from \"@/components/Reusable/Iframe/IframeWrapper.vue\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\n\n@Component({\n  components: {\n    IframeWrapper,\n    Loading,\n    Canvas,\n    ForeignDocumentsOverlay,\n    PreviewWidthAdjustmentHandle,\n    StandardButton\n  }\n})\nexport default class IframeCanvas extends Vue {\n  iframeExited = false;\n  foreignDocumentsOverlayVueApp: Vue | null = null;\n  canvasApp: Vue | null = null;\n\n  handlePreviewWidthChange(previewWidth: CanvasPreviewWidth) {\n    uiStore.changePreviewWidthMutation(previewWidth);\n  }\n\n  handlePreviewWidthChangeWithAdjustmentBar(previewWidthInPx: number) {\n    uiStore.changePreviewWidthWithAdjustmentBar(previewWidthInPx);\n  }\n\n  handleResetPreviewWidth() {\n    uiStore.selectBaseBreakpoint();\n  }\n\n  setIframeAsExited() {\n    if (configStore.leavingIframeOnPurpose) {\n      configStore.setLeavingIframeOnPurpose(false);\n    } else {\n      this.iframeExited = true;\n    }\n  }\n\n  reloadIframe() {\n    this.iframeExited = false;\n    // the reload needs to be timeouted to wait for the iframe block to be rendered\n    setTimeout(() => {\n      // @ts-ignore\n      window.frames[\"iframe\"].location.reload();\n    }, 0);\n  }\n\n  get iframeMinWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get canvasPreviewWidth() {\n    return uiStore.canvasPreviewWidth;\n  }\n\n  get previewWidth() {\n    return uiStore.canvasPreviewWidth.width;\n  }\n\n  get canvasState() {\n    return uiStore.canvasState;\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  get iframeURL() {\n    if (\n      configStore.documentSpecificNeededUrls &&\n      documentStore.document.documentMeta.id !== -1\n    ) {\n      const iframeUrl = new URL(\n        configStore.documentSpecificNeededUrls.iframeUrl\n      );\n      iframeUrl.searchParams.append(\"breakdance_iframe\", \"true\");\n      iframeUrl.searchParams.append(\n        \"breakdance_open_document\",\n        `${documentStore.document.documentMeta.id}`\n      );\n      return iframeUrl.toString();\n    }\n    return null;\n  }\n\n  protected mountForeignDocumentsOverlayVueAppInIframe(\n    iframeDocument: Document,\n    canvasEl: Element\n  ) {\n    const overlayMountpoint = iframeDocument.createElement(\"div\");\n    overlayMountpoint.classList.add(\n      \"breakdance-foreign-documents-overlay-mountpoint\"\n    );\n    iframeDocument.body.appendChild(overlayMountpoint);\n\n    this.foreignDocumentsOverlayVueApp = new Vue<{\n      fragment: DocumentFragment | null;\n      builderUrl: string | null;\n    }>({\n      el: overlayMountpoint,\n      store,\n      vuetify,\n      render(h) {\n        return h(ForeignDocumentsOverlay, {\n          props: {\n            elementsToWatch: iframeDocument.querySelectorAll(\n              \"[data-breakdance-foreign-document]\"\n            ),\n            canvasElement: canvasEl,\n            iframeDocument\n          },\n          on: {\n            openDocument: (docInfo: { builderUrl: string; title: string }) => {\n              if (confirm(`Edit ${docInfo.title}?`)) {\n                window.open(docInfo.builderUrl, \"_top\");\n              }\n            }\n          }\n        });\n      }\n    });\n  }\n\n  mountCanvasInIframe(loadedIframe: HTMLIFrameElement) {\n    if (!loadedIframe.contentDocument) {\n      throw \"Unable to mount canvas in iframe because its document is missing\";\n    }\n\n    setWindowBreakdanceCanvasDocument(loadedIframe.contentDocument);\n\n    initializeOrReinitializeCombokeys(\n      document,\n      window.Breakdance.canvas.document\n    );\n\n    breakdanceStoreActions.registerAllStoreActions();\n\n    const canvasVueInstanceMountpoint = window.Breakdance.canvas.document.querySelector(\n      \"#breakdance-canvas-wrapper\"\n    ) as Element;\n\n    this.canvasApp = new Vue({\n      store,\n      vuetify,\n      render: h => h(Canvas)\n    }).$mount(canvasVueInstanceMountpoint);\n\n    this.mountForeignDocumentsOverlayVueAppInIframe(\n      window.Breakdance.canvas.document,\n      this.canvasApp.$el\n    );\n\n    getBuilderCanvasHead().appendChild(\n      createStyleTagWithRawCssCodeInside(document, iframeCss, \"iframe-styles\")\n    );\n\n    this.unbindClickEventOnInnerIframeLinks();\n    this.$emit(\"loaded\");\n  }\n\n  unbindClickEventOnInnerIframeLinks() {\n    const allLinks = [\n      ...window.Breakdance.canvas.document.querySelectorAll(\n        \"a:not([force-allow-clicks])\"\n      )\n    ];\n    const linksInsideBreakdanceCanvas = [\n      ...window.Breakdance.canvas.document.querySelectorAll(\n        \"#breakdance_canvas a\"\n      )\n    ];\n\n    // We don't want to alter BuilderElement(s) behavior\n    const linksExcludingTheOnesInBreakdanceCanvas = allLinks.filter(\n      element => !linksInsideBreakdanceCanvas.includes(element)\n    );\n\n    linksExcludingTheOnesInBreakdanceCanvas.forEach(link => {\n      link.addEventListener(\"click\", (event: Event) => {\n        event.preventDefault();\n      });\n    });\n  }\n\n  destroyed() {\n    if (this.canvasApp) {\n      this.canvasApp.$destroy();\n    }\n\n    if (this.foreignDocumentsOverlayVueApp) {\n      this.foreignDocumentsOverlayVueApp.$destroy();\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IframeCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./IframeCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IframeCanvas.vue?vue&type=template&id=1bbf1b9f&\"\nimport script from \"./IframeCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./IframeCanvas.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('TopBar',[_c('AddButton',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]}),_c('TopBarSection',{attrs:{\"border-right\":true}},[_c('IconButton',{staticClass:\"open-properties-toolbar-button\",attrs:{\"active\":_vm.isElementPropertiesOpen,\"icon\":\"EditIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleElementProperties}})],1),_c('v-spacer',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]}),_c('DocumentChooser'),_c('PreviewContentChooserDialog'),_c('TopBarSection',{attrs:{\"borderRight\":true}},[_c('BreakpointsSelection',{model:{value:(_vm.currentBreakpoint),callback:function ($$v) {_vm.currentBreakpoint=$$v},expression:\"currentBreakpoint\"}})],1),_c('v-spacer'),_c('UndoRedo'),_c('TopBarSection',{staticClass:\"top-bar-settings-and-structure-section\",attrs:{\"border-left\":true}},[_c('IconButton',{staticClass:\"open-structure-toolbar-button\",attrs:{\"active\":_vm.isStructurePanelOpen,\"icon\":\"LayersIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleStructurePanel}}),_c('SettingsDropdown')],1),_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('Save')],1),_c('Exit')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('StandardButton',{staticStyle:{\"margin-left\":\"3px\",\"margin-right\":\"3px\"},attrs:{\"loading\":_vm.saveInProgress,\"minWidth\":\"80\",\"testId\":\"main-save-button\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"./ajax\";\nimport { documentStore, globalStore, uiStore } from \"@/store/store\";\nimport { exportTree } from \"../tree/tree\";\nimport * as t from \"io-ts\";\nimport { Either, fold, right, left } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"./data\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\n\nexport async function saveToWordPressWithErrorsLoggedToUiStore(): Promise<\n  Either<_Error[], unknown>\n> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      friendlyName: \"Saving to WordPress\",\n      action: \"breakdance_save\",\n      dataToPost: {\n        id: documentStore.document.documentMeta.id,\n        tree: fpJsonStringify(exportTree(documentStore.document.tree)),\n        globalSettings: fpJsonStringify(globalStore.globalSettings),\n        classes: fpJsonStringify(globalStore.cssSelectors)\n      },\n      decoder: t.unknown\n    }),\n    fold(\n      (errors: _Error[]) => {\n        logErrorsToUiStore(errors);\n        return left(errors);\n      },\n      r => {\n        uiStore.setUnsavedChangesPresent(false);\n        breakdanceUndo.ignore(() => {\n          globalStore.markCurrentGlobalSettingsAsUntouched();\n          globalStore.markCurrentSelectorsAsUntouched();\n        });\n        return right(r);\n      }\n    )\n  );\n}\n","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { saveToWordPressWithErrorsLoggedToUiStore } from \"@/lib/wordpress/save\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\n\n@Component({\n  components: {\n    StandardButton\n  }\n})\nexport default class Save extends Vue {\n  saveInProgress = false;\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  async save() {\n    document.dispatchEvent(new Event(\"breakdanceSaveButtonClicked\"));\n\n    this.saveInProgress = true;\n\n    await saveToWordPressWithErrorsLoggedToUiStore();\n\n    this.saveInProgress = false;\n  }\n\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  unsubscribe: null | (() => void) = null;\n\n  mounted() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_S, this.save);\n\n    this.unsubscribe = this.$store.subscribe(mutationPayload => {\n      if (!breakdanceUndo.shouldMutationBeIgnored(mutationPayload)) {\n        uiStore.setUnsavedChangesPresent(true);\n      }\n    });\n\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () => uiStore.unsavedChangesPresent\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n    this.unsubscribe && this.unsubscribe();\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Save.vue?vue&type=template&id=2328ce76&\"\nimport script from \"./Save.vue?vue&type=script&lang=ts&\"\nexport * from \"./Save.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('IconButton',_vm._g({staticStyle:{\"margin-right\":\"0\"},attrs:{\"active\":!_vm.isBase,\"icon\":_vm.getDeviceIcon(_vm.currentBreakpoint.id),\"rotate\":_vm.getDeviceIconRotation(_vm.currentBreakpoint.id),\"size\":\"18\"}},on))]}}])},[_c('v-list',_vm._l((_vm.breakpoints),function(breakpoint){return _c('v-list-item',{key:breakpoint.id,class:_vm.activeClass(breakpoint.id),attrs:{\"two-line\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.changeBreakpoint(breakpoint)}}},[_c('div',{staticClass:\"device-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":_vm.getDeviceIcon(breakpoint.id),\"rotate\":_vm.getDeviceIconRotation(breakpoint.id),\"size\":\"18\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(_vm._s(breakpoint.label))]),_c('v-list-item-subtitle',[(breakpoint.label === 'Desktop')?[_vm._v(\" All device widths \")]:_vm._e(),(breakpoint.maxWidth && !breakpoint.minWidth)?[_vm._v(\" \"+_vm._s(breakpoint.maxWidth)+\"px and below \")]:_vm._e(),(!breakpoint.maxWidth && breakpoint.minWidth)?[_vm._v(\" \"+_vm._s(breakpoint.minWidth)+\"px and above \")]:_vm._e(),(breakpoint.maxWidth && breakpoint.minWidth)?[_vm._v(\" Between \"+_vm._s(breakpoint.minWidth)+\"px and \"+_vm._s(breakpoint.maxWidth)+\"px \")]:_vm._e()],2)],1)],1)}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { uiStore, configStore } from \"@/store/store\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport {\n  BASE_BREAKPOINT_ID,\n  customBreakpointIcon,\n  DEVICE_ICONS\n} from \"@/lib/breakpoints/breakpoints\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    IconButton\n  }\n})\nexport default class BreakpointsSelection extends Vue {\n  @Prop()\n  value!: Breakpoint;\n\n  getDeviceIcon(breakpointId: string) {\n    return DEVICE_ICONS[breakpointId]?.icon || customBreakpointIcon;\n  }\n\n  getDeviceIconRotation(breakpointId: string) {\n    return DEVICE_ICONS[breakpointId]?.rotate;\n  }\n\n  get isBase() {\n    return this.currentBreakpoint.id === BASE_BREAKPOINT_ID;\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  get currentBreakpoint() {\n    return this.value;\n  }\n\n  activeClass(breakpointId: string) {\n    return this.currentBreakpoint.id === breakpointId\n      ? \"breakpoint-active\"\n      : false;\n  }\n\n  changeBreakpoint(breakpoint: Breakpoint) {\n    this.$emit(\"input\", breakpoint);\n  }\n\n  @Watch(\"breakpoints\", {\n    deep: true,\n    immediate: true\n  })\n  onBreakpointsChanged() {\n    if (!this.breakpoints.find(b => b.id === this.currentBreakpoint.id)) {\n      // select base breakpoint since the selected one before isn't present anymore\n      uiStore.selectBaseBreakpoint();\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BreakpointsSelection.vue?vue&type=template&id=25384aaa&\"\nimport script from \"./BreakpointsSelection.vue?vue&type=script&lang=ts&\"\nexport * from \"./BreakpointsSelection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BreakpointsSelection.vue?vue&type=style&index=0&id=25384aaa&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('TopBarSection',{staticClass:\"undo-redo-top-bar-section\",attrs:{\"border-left\":true}},[_c('IconButton',{attrs:{\"disabled\":!_vm.canUndo,\"icon\":\"UndoIcon\",\"size\":\"18\"},on:{\"click\":_vm.undo}}),_c('IconButton',{attrs:{\"disabled\":!_vm.canRedo,\"icon\":\"RedoIcon\",\"size\":\"18\"},on:{\"click\":_vm.redo}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:_vm.classList},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class TopBarSection extends Vue {\n  @Prop({\n    default: false\n  })\n  borderLeft!: boolean;\n\n  @Prop({\n    default: false\n  })\n  borderRight!: boolean;\n\n  get classList() {\n    const classList = [\"topbar-section\"];\n\n    if (this.borderLeft) classList.push(\"topbar-section-bl\");\n    if (this.borderRight) classList.push(\"topbar-section-br\");\n\n    return classList;\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopBarSection.vue?vue&type=template&id=690a5c7f&\"\nimport script from \"./TopBarSection.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopBarSection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TopBarSection.vue?vue&type=style&index=0&id=690a5c7f&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { snapshotStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\n\n@Component({\n  components: {\n    IconButton,\n    TopBarSection\n  }\n})\nexport default class UndoRedo extends Vue {\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_Z, this.undo);\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SHIFT_Z, this.redo);\n  }\n\n  get canUndo() {\n    return snapshotStore.canUndo;\n  }\n\n  get canRedo() {\n    return snapshotStore.canRedo;\n  }\n\n  undo() {\n    if (!this.canUndo) return;\n    breakdanceUndo.undo();\n  }\n\n  redo() {\n    if (!this.canRedo) return;\n    breakdanceUndo.redo();\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_Z);\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SHIFT_Z);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UndoRedo.vue?vue&type=template&id=6e646a08&\"\nimport script from \"./UndoRedo.vue?vue&type=script&lang=ts&\"\nexport * from \"./UndoRedo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UndoRedo.vue?vue&type=style&index=0&id=6e646a08&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.previews)?_c('div',[_c('TopBarSection',{attrs:{\"border-right\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('div',_vm._g({staticClass:\"document-chooser\",class:_vm.nothingToPreviewAndNoSearchQueryAndNotLoading\n              ? 'document-chooser-zero-case'\n              : ''},on),[_c('div',{staticClass:\"document-chooser-text\"},[(_vm.currentPreviewedItem)?[_c('h2',[_vm._v(\"Previewing \"+_vm._s(_vm.currentPreviewedItem.type))]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.currentPreviewedItem.label || `ID ${_vm.currentPreviewedItem.id}`)+\" \")])]:(_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?[_c('h2',[_vm._v(\"Nothing to Preview\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" No match found \")])]:[_c('h2',[_vm._v(\"Previewing\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" choose \")])]],2),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}],null,false,1209928268),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"450\",\"height\":_vm.nothingToPreviewAndNoSearchQueryAndNotLoading ? undefined : 350,\"loading\":_vm.isLoading}},[(!_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?_c('div',{staticClass:\"preview-content-chooser-dialog-search-form-wrapper\"},[_c('v-text-field',{staticClass:\"preview-content-chooser-dialog-search-box breakdance-dense-input\",attrs:{\"value\":_vm.search,\"label\":\"Search...\",\"clearable\":\"\",\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"autofocus\":\"\"},on:{\"input\":_vm.handleSearch}})],1):_vm._e(),_c('v-list',{staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.previews),function(item,i){return [_c('v-list-item',{key:i,class:{\n                'document-chooser-item-selected':\n                  item.url === _vm.currentPreviewedItem.url\n              },attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.setPreviewedItem(item)}}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(item.label || item.url)+\" \")]),_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(_vm._s(item.type))])])],1)]}),(_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?_c('div',{staticClass:\"previewable-items-zero-case previewable-items-zero-case-error\"},[_c('h4',[_vm._v(\" Nothing To Preview \")]),_c('p',[_vm._v(\" Your template settings don't match any content. You can: \")]),_c('ul',[_c('li',[_vm._v(\" Edit the template anyway - this is not an error. \")]),_c('li',[_vm._v(\" Update your template settings in the WP admin at \"),_c('b',[_vm._v(\"Breakdance > Templates > Edit Template\")])]),_c('li',[_vm._v(\" Add some content to your site that matches the template settings. \")])])]):(_vm.previews.length === 0)?_c('div',{staticClass:\"previewable-items-zero-case align-center text-center\"},[_c('h4',[_vm._v(\" No results apply to this template \")])]):_vm._e()],2)],1)],1)],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { TemplatePreviewableItemsV } from \"@/types/templates\";\n\nexport async function fetchTemplatePreviewableItems({\n  id,\n  search = \"\"\n}: {\n  id: number;\n  search?: string;\n  overrideAjaxUrl?: string;\n}) {\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_get_template_previewable_items_with_search\",\n    dataToPost: {\n      search,\n      id\n    },\n    decoder: TemplatePreviewableItemsV,\n    resultKey: \"data\"\n  });\n}\n","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { loadAllDynamicDataFromTreeIntoStore } from \"@/lib/dynamic-data/load\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport lodash from \"lodash\";\nimport { TemplatePreviewableItem } from \"@/types/templates\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { fetchTemplatePreviewableItems } from \"@/lib/dynamic-data/templates\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { saveLastPreviewedItemInWp } from \"@/lib/wordpress/load\";\n\n@Component({\n  components: { Icon, Dropdown, IconButton, TopBarSection }\n})\nexport default class PreviewContentChooserDialog extends Vue {\n  open = false;\n  search = \"\";\n  isLoading = false;\n\n  get previews() {\n    return (\n      configStore.templatePreview &&\n      configStore.templatePreview.previewableItems\n    );\n  }\n\n  get currentPreviewedItem() {\n    return configStore.previewedItem;\n  }\n\n  get nothingToPreviewAndNoSearchQueryAndNotLoading() {\n    return (\n      (!this.previews || !this.previews.length) &&\n      !this.search &&\n      !this.isLoading\n    );\n  }\n\n  async setPreviewedItem(newItem: TemplatePreviewableItem) {\n    this.open = false;\n\n    // All elements should SSR when changing preview\n    uiStore.setLastModifiedElementProperty({ elementId: null, path: null });\n    configStore.setPreviewedItem(newItem);\n    configStore.flushDynamicDataCache();\n    await loadAllDynamicDataFromTreeIntoStore();\n\n    saveLastPreviewedItemInWp(newItem);\n  }\n\n  async handleSearch(searchValue: string) {\n    this.search = searchValue;\n    this.isLoading = true;\n    this.debouncedSearchContentInWp();\n  }\n\n  debouncedSearchContentInWp = lodash.debounce(this.searchContentInWp, 300);\n\n  async searchContentInWp() {\n    this.isLoading = true;\n\n    pipe(\n      await fetchTemplatePreviewableItems({\n        search: this.search,\n        id: documentStore.document.documentMeta.id\n      }),\n      fold(\n        errors => {\n          this.isLoading = false;\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        templatePreviewableItems => {\n          configStore.setTemplatePreview({\n            ...configStore.templatePreview,\n            previewableItems: templatePreviewableItems\n          });\n\n          this.isLoading = false;\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewContentChooserDialog.vue?vue&type=template&id=0cbd8c56&\"\nimport script from \"./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreviewContentChooserDialog.vue?vue&type=style&index=0&id=0cbd8c56&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('TopBarSection',{staticClass:\"document-chooser-section\",attrs:{\"borderLeft\":true,\"borderRight\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('div',_vm._g({staticClass:\"document-chooser\"},on),[_c('div',{staticClass:\"document-chooser-text\"},[_c('h2',[_vm._v(\"Editing \"+_vm._s(_vm.currentDocument.documentMeta.typeLabel))]),(_vm.currentDocument.documentMeta.id !== -1)?_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.currentDocument.documentMeta.titleLabel || `ID: ${_vm.currentDocument.documentMeta.id}`)+\" \")]):_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" choose a document to edit \")])]),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}]),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"450\",\"height\":\"350\",\"loading\":_vm.isLoading}},[_c('div',{staticClass:\"preview-content-chooser-dialog-search-form-wrapper\"},[_c('v-text-field',{staticClass:\"preview-content-chooser-dialog-search-box breakdance-dense-input\",attrs:{\"value\":_vm.search,\"label\":\"Search...\",\"clearable\":\"\",\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"autofocus\":\"\"},on:{\"input\":_vm.handleSearch}})],1),_c('v-list',{staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.availableDocuments),function(item,i){return [_c('v-list-item',{key:i,class:{\n              'document-chooser-item-selected':\n                item.id === _vm.currentDocument.documentMeta.id\n            },attrs:{\"link\":\"\",\"href\":_vm.getDocumentUrlFromId(item.id)}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(item.titleLabel || `ID: ${item.id}`)+\" \")]),_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(_vm._s(item.typeLabel))])])],1)]}),(_vm.availableDocuments.length === 0)?_c('div',{staticClass:\"previewable-items-zero-case-search\"},[_c('svg',{staticClass:\"previewable-items-zero-case-icon\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('g',{attrs:{\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"1.5\"}},[_c('path',{attrs:{\"d\":\"M46.875 71.875a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.25 62.5 62.5 81.25M62.5 62.5l18.75 18.75\",\"stroke-width\":\"6.250005\"}}),_c('path',{attrs:{\"d\":\"M34.375 84.375h-25a6.25 6.25 0 0 1-6.25-6.25V9.375a6.25 6.25 0 0 1 6.25-6.25h44.288a6.25 6.25 0 0 1 4.416 1.83L70.046 16.92a6.25 6.25 0 0 1 1.829 4.417v13.037\",\"stroke-width\":\"6.250005\"}})])]),_c('h5',[_vm._v(\"No items found\")]),_c('p',[_vm._v(\"Try adjusting your search to find what you are looking for.\")])]):_vm._e()],2)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { DocumentMetasV } from \"@/types/document\";\n\nexport async function fetchAvailableDocuments({\n  search = \"\"\n}: {\n  search?: string;\n}) {\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_get_available_documents_with_search\",\n    dataToPost: {\n      search\n    },\n    decoder: DocumentMetasV,\n    resultKey: \"data\"\n  });\n}\n","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { getDocumentUrlFromId } from \"@/lib/wordpress/load\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { fetchAvailableDocuments } from \"@/lib/document-chooser/document-chooser\";\nimport lodash from \"lodash\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    TopBarSection\n  }\n})\nexport default class DocumentChooser extends Vue {\n  open = false;\n  search = \"\";\n\n  isLoading = false;\n\n  get currentDocument() {\n    return documentStore.document;\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  get currentlyEditingLabel() {\n    return `${documentStore.document.documentMeta.id.toString()}`;\n  }\n\n  get availableDocuments() {\n    return configStore.availableDocuments;\n  }\n\n  getDocumentUrlFromId(newDocumentId: number) {\n    return getDocumentUrlFromId(newDocumentId);\n  }\n\n  handleSearch(searchValue: string) {\n    this.search = searchValue;\n    this.debouncedSearchContentInWp();\n  }\n\n  // Average typing speed is a char every 300 ms\n  debouncedSearchContentInWp = lodash.debounce(this.searchContentInWp, 600); // this feels slow tho\n\n  async searchContentInWp() {\n    this.isLoading = true;\n\n    pipe(\n      await fetchAvailableDocuments({\n        search: this.search\n      }),\n      fold(\n        errors => {\n          this.isLoading = false;\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        availableDocuments => {\n          configStore.setAvailableDocuments(availableDocuments);\n          this.isLoading = false;\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DocumentChooser.vue?vue&type=template&id=6b2d9a97&\"\nimport script from \"./DocumentChooser.vue?vue&type=script&lang=ts&\"\nexport * from \"./DocumentChooser.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DocumentChooser.vue?vue&type=style&index=0&id=6b2d9a97&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dropdown',{staticClass:\"open-settings-toolbar-button\",attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('IconButton',_vm._g({attrs:{\"active\":_vm.anySettingsPanelsOpen,\"testId\":\"open-settings-menu\",\"size\":\"18\",\"icon\":\"EllipsisStrokeIcon\"}},on))]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openGlobalSettingsPanel}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"toggle-global-settings\"}},[_vm._v(\" Global Settings \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openSelectorsPanel}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"toggle-site-classes-selectors\"}},[_vm._v(\" Selectors \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openHistoryAndRevisionsPanel}},[_c('v-list-item-title',[_vm._v(\" History \")])],1),_c('v-list-item',{staticClass:\"breakdance-menu-open-preferences\",attrs:{\"dense\":\"\"},on:{\"click\":_vm.openPreferencesModal}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"breakdance-menu-open-preferences\"}},[_vm._v(\" Preferences \")])],1),_c('v-list-item',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],attrs:{\"data-test-id\":\"toggle-element-studio\",\"dense\":\"\",\"disabled\":_vm.elementsLoadingState !== 'success'},on:{\"click\":_vm.toggleElementStudio}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"breakdance-menu-open-element-studio\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Element Studio \")])])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { isUiPanelOpen, openUiPanel } from \"@/lib/panels/panels\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    StandardButton,\n    Dropdown,\n    IconButton\n  }\n})\nexport default class SettingsDropdown extends Vue {\n  openPreferencesModal() {\n    uiStore.setPreferencesModalOpen(true);\n  }\n\n  toggleElementStudio() {\n    uiStore.toggleElementStudio();\n  }\n\n  openGlobalSettingsPanel() {\n    openUiPanel(\"globalSettings\");\n  }\n\n  openSelectorsPanel() {\n    uiStore.setActiveSelectorName(null);\n    openUiPanel(\"selectors\");\n  }\n\n  get elementsLoadingState() {\n    return configStore.elementsLoadingState;\n  }\n\n  get anySettingsPanelsOpen() {\n    return (\n      isUiPanelOpen(\"selectors\") ||\n      isUiPanelOpen(\"history\") ||\n      isUiPanelOpen(\"globalSettings\") ||\n      uiStore.panelState.elementStudioOpen ||\n      uiStore.panelState.preferencesModalOpen\n    );\n  }\n\n  openHistoryAndRevisionsPanel() {\n    openUiPanel(\"history\");\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SettingsDropdown.vue?vue&type=template&id=05975ca4&\"\nimport script from \"./SettingsDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./SettingsDropdown.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SettingsDropdown.vue?vue&type=style&index=0&id=05975ca4&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.backToAdmin || _vm.backToFrontend)?_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('IconButton',_vm._g({attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"}},on))]}}],null,false,865007243)},[_c('v-list',[(_vm.backToFrontend)?_c('v-list-item',{attrs:{\"dense\":\"\",\"href\":_vm.backToFrontend}},[_c('div',{staticClass:\"breakdance-menu-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":\"BrowserIcon\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(\"Exit to Frontend\")])],1)],1):_vm._e(),_c('v-list-item',{attrs:{\"dense\":\"\",\"href\":_vm.backToAdmin}},[_c('div',{staticClass:\"breakdance-menu-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":\"WordPressIcon\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(\"Exit to WordPress\")])],1)],1)],1)],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { getFrontendUrl } from \"@/lib/document\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    IconButton,\n    TopBarSection\n  }\n})\nexport default class Exit extends Vue {\n  get backToAdmin() {\n    if (configStore.documentSpecificNeededUrls) {\n      return configStore.documentSpecificNeededUrls.backToWordPressUrl;\n    }\n\n    return \"\";\n  }\n\n  get backToFrontend() {\n    return getFrontendUrl();\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Exit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Exit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Exit.vue?vue&type=template&id=485b82ba&\"\nimport script from \"./Exit.vue?vue&type=script&lang=ts&\"\nexport * from \"./Exit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('TopBarSection',{attrs:{\"borderRight\":true}},[_c('StandardButton',{staticClass:\"open-elements-toolbar-button\",attrs:{\"active\":_vm.isAddSectionOpen,\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport { isUiPanelOpen, toggleUiPanel } from \"@/lib/panels/panels\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    StandardButton,\n    TopBarSection\n  }\n})\nexport default class AddButton extends Vue {\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_A, this.toggleAdd);\n  }\n\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n\n  get isAddSectionOpen() {\n    return isUiPanelOpen(\"add\");\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_A);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddButton.vue?vue&type=template&id=71002d56&\"\nimport script from \"./AddButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddButton.vue?vue&type=style&index=0&id=71002d56&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-app-bar',{staticClass:\"pa-0 breakdance-topbar d-flex flex-row\",attrs:{\"short\":\"\",\"color\":\"var(--white)\",\"height\":\"auto\",\"width\":\"100%\",\"flat\":\"\"}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component\nexport default class TopBar extends Vue {}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopBar.vue?vue&type=template&id=0eeb484e&\"\nimport script from \"./TopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TopBar.vue?vue&type=style&index=0&id=0eeb484e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Save from \"./Save.vue\";\nimport BreakpointsSelection from \"./BreakpointsSelection.vue\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport UndoRedo from \"./UndoRedo.vue\";\nimport PreviewContentChooserDialog from \"./PreviewContentChooserDialog.vue\";\nimport DocumentChooser from \"./DocumentChooser.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport SettingsDropdown from \"@/components/Builder/TopBar/SettingsDropdown.vue\";\nimport { isUiPanelOpen, toggleUiPanel } from \"@/lib/panels/panels\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { setScaleToFitAndGetSettings } from \"@/lib/ui-preference/ui-preference\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport Exit from \"@/components/Builder/TopBar/Exit.vue\";\nimport AddButton from \"@/components/Builder/TopBar/AddButton.vue\";\nimport TopBar from \"@/components/Reusable/AppLayout/TopBar/TopBar.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\n\n@Component({\n  components: {\n    TopBar,\n    Exit,\n    AddButton,\n    TopBarSection,\n    SettingsDropdown,\n    BreakpointsSelection,\n    Save,\n    UndoRedo,\n    PreviewContentChooserDialog,\n    DocumentChooser,\n    IconButton\n  }\n})\nexport default class BuilderTopBar extends Vue {\n  toggleElementProperties() {\n    toggleUiPanel(\"elementproperties\");\n  }\n\n  get isElementPropertiesOpen() {\n    return isUiPanelOpen(\"elementproperties\");\n  }\n\n  toggleStructurePanel() {\n    toggleUiPanel(\"structure\");\n  }\n\n  get isStructurePanelOpen() {\n    return isUiPanelOpen(\"structure\");\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  set currentBreakpoint(breakpoint: Breakpoint) {\n    uiStore.changeBreakpoint(breakpoint);\n  }\n\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SHIFT_S, () =>\n      setScaleToFitAndGetSettings(\n        uiStore.settings.scaleToFit !== \"SCALED_TO_FIT\"\n      )\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SHIFT_S);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BuilderTopBar.vue?vue&type=template&id=93853946&\"\nimport script from \"./BuilderTopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./BuilderTopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BuilderTopBar.vue?vue&type=style&index=0&id=93853946&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('v-dialog',{attrs:{\"content-class\":\"preferences-modal-dialog\",\"value\":_vm.open,\"max-width\":\"780\",\"persistent\":\"\"},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)},\"click:outside\":_vm.handleClickOutside}},[_c('v-card',{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"100%\"}},[(_vm.saveInProgress === true)?[_c('div',{staticClass:\"flex-grow-1 d-flex justify-center align-center mt-auto mb-auto\"},[_c('v-progress-circular',{attrs:{\"size\":100,\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1)]:[_c('div',{staticClass:\"flex-grow-1 d-flex flex-row\",staticStyle:{\"overflow\":\"auto\"}},[_c('div',{staticClass:\"preferences-tab-area\"},[_c('h2',{staticClass:\"preferences-modal-title-text\"},[_vm._v(\" Preferences \")]),_c('v-tabs',{staticClass:\"breakdance-tabs\",attrs:{\"vertical\":\"\"},on:{\"change\":_vm.handleChangeTab},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"icon\":\"SlidersIcon\",\"size\":\"16\"}}),_vm._v(\" UI Settings \")],1),_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"icon\":\"FontIcon\",\"size\":\"16\"}}),_vm._v(\" Custom Fonts \")],1),_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"size\":\"16\",\"icon\":\"BreakpointsIcon\"}}),_vm._v(\" Breakpoints \")],1)],1)],1),_c('button',{staticClass:\"preferences-close-button\",on:{\"click\":_vm.handleClickOutside}},[_c('Icon',{attrs:{\"size\":\"20\",\"icon\":\"CloseIcon\"}})],1),_c('div',{staticClass:\"flex-grow-1 preferences-content-area\"},[(_vm.currentTab === _vm.fontFamiliesTab)?_c('CustomFontFamilies',{ref:\"customFontFamiliesPanel\",attrs:{\"value\":_vm.customFontFamilies},on:{\"input\":_vm.updateCustomFontFamilies}}):_vm._e(),(_vm.currentTab === _vm.customBreakpointsTab)?_c('CustomBreakpointsPanel',{ref:\"customBreakpointsPanel\",attrs:{\"value\":_vm.customBreakpoints},on:{\"input\":_vm.updateBreakpoints}}):_vm._e(),(_vm.currentTab === _vm.uiSettingsTab)?_c('CustomUiSettings'):_vm._e()],1)])]],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('PreferencesPanel',{attrs:{\"save\":{\n    text: 'Save Breakpoints',\n    function: _vm.applyChanges,\n    inProgress: false,\n    disabled: !_vm.unsavedChangesPresent\n  }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Breakpoints\")]},proxy:true},{key:\"content\",fn:function(){return [_c('EditBreakpoints',{attrs:{\"value\":_vm.internalValue},on:{\"input\":_vm.breakpointsEdited}})]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._l((_vm.value),function(breakpoint){return _c('EditBreakpoint',{key:breakpoint.id,attrs:{\"value\":breakpoint,\"isEditing\":breakpoint.id === _vm.editingBreakpointId},on:{\"input\":_vm.updateOrAddBreakpoint,\"delete\":function($event){return _vm.deleteBreakpoint(breakpoint.id)},\"edit\":_vm.edit}})}),(!_vm.showAddForm && _vm.value.length > 0)?_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.openAddBreakpointForm}},[_vm._v(\" Add Breakpoint \")]):_vm._e(),_c('div',[(_vm.showAddForm)?[_c('div',{staticClass:\"add-breakpoint-form-content-wrapper\"},[_c('div',{staticClass:\"add-breakpoint-heading-box\"},[_c('h4',{staticClass:\"add-breakpoint-heading\"},[_vm._v(\"Add New Breakpoint\")]),_c('IconButton',{staticClass:\"add-breakpoint-close-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleAddBreakpointForm}})],1),_c('TextInput',{attrs:{\"placeholder\":\"Breakpoint name, ie. iPhone X or tablet\",\"size\":\"md\",\"validation-function-name\":\"validateNoQuotes\"},model:{value:(_vm.newBreakpointLabel),callback:function ($$v) {_vm.newBreakpointLabel=$$v},expression:\"newBreakpointLabel\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.newBreakpointLabel,\"text\":\"\"},on:{\"click\":_vm.addBreakpoint}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)]:_vm._e(),(!_vm.showAddForm && _vm.value.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\"Add your first breakpoint by clicking the button below.\")]),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.openAddBreakpointForm}},[_vm._v(\" Add Breakpoint \")])],1):_vm._e()],2)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{ref:\"form\",staticClass:\"mx-n2 pa-2 py-3 breakpoint-edit\"},[_c('h3',{staticClass:\"font-weight-medium breakpoint-title text-capitalize mb-2\"},[_vm._v(\" \"+_vm._s(_vm.value.label)+\" \")]),_c('div',{staticClass:\"d-flex align-center justify-space-between\"},[_c('div',{staticClass:\"media-query-box\"},[(!_vm.isEditing)?_c('div',{on:{\"click\":_vm.enableEditing}},[(this.mediaQueryString)?[_c('div',{staticClass:\"media-query-string\"},[_vm._v(_vm._s(this.mediaQueryString))])]:[_c('v-alert',{staticClass:\"mt-4\",attrs:{\"dense\":\"\",\"text\":\"\",\"color\":\"orange\"}},[_vm._v(\" Click to set min and max widths. \")])]],2):_c('div',{staticClass:\"media-query-box-items\"},[_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Maximum width (px)\")]),_c('NumberInput',{model:{value:(_vm.internalValue.maxWidth),callback:function ($$v) {_vm.$set(_vm.internalValue, \"maxWidth\", $$v)},expression:\"internalValue.maxWidth\"}})],1)]),_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Minimum width (px)\")]),_c('NumberInput',{model:{value:(_vm.internalValue.minWidth),callback:function ($$v) {_vm.$set(_vm.internalValue, \"minWidth\", $$v)},expression:\"internalValue.minWidth\"}})],1)]),_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{staticClass:\"media-query-box-label\"},[_vm._v(\"Default Preview Width\")]),_c('DropdownInput',{staticClass:\"breakdance-dense-select breakdance-dense-select--md\",attrs:{\"label\":\"Default Preview Width\",\"value\":_vm.internalValue.defaultPreviewWidth === '100%'\n                    ? '100%'\n                    : 'custom',\"items\":['100%', 'custom'],\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"filled\":\"\",\"clearable\":\"\"},on:{\"input\":_vm.setDefaultPreviewWidth}})],1)]),_c('div',{staticClass:\"media-query-input-wrapper\"},[(_vm.internalValue.defaultPreviewWidth !== '100%')?[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{staticClass:\"breakdance-text-input__label\"},[_vm._v(\"Custom width (px)\")]),_c('NumberInput',{model:{value:(_vm.internalValue.defaultPreviewWidth),callback:function ($$v) {_vm.$set(_vm.internalValue, \"defaultPreviewWidth\", $$v)},expression:\"internalValue.defaultPreviewWidth\"}})],1)]:_vm._e()],2),_c('div',{staticClass:\"d-flex justify-end align-center\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"text\":\"\",\"color\":\"red darken-1\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('NiceButton',{attrs:{\"disabled\":!_vm.internalValue.maxWidth && !_vm.internalValue.minWidth},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)])]),(!_vm.isEditing)?_c('div',{staticClass:\"breakpoint-edit__actions\"},[_c('IconButton',{staticClass:\"mr-1\",attrs:{\"icon\":\"EditIcon\",\"size\":\"18\"},on:{\"click\":_vm.enableEditing}}),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"18\"},on:{\"click\":function($event){$event.stopPropagation();_vm.deleteDialog = true}}})],1):_vm._e()])]),_c('ConfirmDialog',{attrs:{\"show\":_vm.deleteDialog,\"type\":\"error\",\"action-text\":\"Delete\",\"discard-text\":\"Cancel\",\"save-is-enabled\":true,\"discard-is-enabled\":true},on:{\"discard\":function($event){_vm.deleteDialog = false},\"save\":_vm.deleteBreakpoint},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Delete breakpoint?\")]},proxy:true},{key:\"text\",fn:function(){return [_vm._v(\"{If you delete the \"+_vm._s(_vm.value.label || `${_vm.value.defaultPreviewWidth}px`)+\" breakpoint, you will lose all design changes it applies.\")]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"value\":_vm.show,\"persistent\":\"\",\"width\":400},on:{\"click:outside\":function($event){return _vm.$emit('click:outside')}}},[_c('v-card',{staticClass:\"breakdance-dialog\"},[(_vm.type)?_c('div',{staticClass:\"card-alert\"},[_c('v-alert',{staticClass:\"card-alert__icon\",attrs:{\"type\":_vm.type}})],1):_vm._e(),_c('v-card-title',{staticClass:\"breakdance-dialog-title\"},[_vm._t(\"title\")],2),_c('v-card-text',{staticClass:\"breakdance-dialog-contents\"},[_vm._t(\"text\")],2),_c('v-card-actions',{staticClass:\"breakdance-dialog-actions\"},[(_vm.hasCancel)?_c('v-btn',{on:{\"click\":() => this.$emit('cancel')}},[_vm._v(_vm._s(_vm.cancelText)+\" \")]):_vm._e(),(_vm.hasDiscard)?_c('v-btn',{attrs:{\"disabled\":!_vm.discardIsEnabled,\"loading\":_vm.discardIsInProgress},on:{\"click\":() => this.$emit('discard')}},[_vm._v(_vm._s(_vm.discardText)+\" \")]):_vm._e(),_c('v-btn',{attrs:{\"color\":_vm.type,\"dark\":\"\",\"disabled\":!_vm.saveIsEnabled,\"loading\":_vm.saveIsInProgress},on:{\"click\":() => this.$emit('save')}},[_vm._v(_vm._s(_vm.actionText)+\" \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class ConfirmDialog extends Vue {\n  @Prop()\n  show!: boolean;\n\n  @Prop({ default: \"info\" })\n  type: \"success\" | \"warning\" | \"error\" | \"info\" | undefined;\n\n  @Prop({ default: false })\n  hasCancel!: boolean;\n\n  @Prop({ default: \"Cancel\" })\n  cancelText!: string | undefined;\n\n  @Prop()\n  saveIsEnabled!: boolean;\n\n  @Prop()\n  saveIsInProgress!: boolean;\n\n  @Prop({ default: true })\n  hasDiscard!: boolean;\n\n  @Prop()\n  discardIsEnabled!: boolean;\n\n  @Prop()\n  discardIsInProgress!: boolean;\n\n  @Prop({ default: \"Save\" })\n  actionText!: string | undefined;\n\n  @Prop({ default: \"Discard\" })\n  discardText!: string | undefined;\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=eb451678&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfirmDialog.vue?vue&type=style&index=0&id=eb451678&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { configStore } from \"@/store/store\";\nimport {\n  mediaQueryString,\n  validateBreakpoint\n} from \"@/lib/breakpoints/breakpoints\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport NumberInput from \"@/components/Reusable/CustomInputs/NumberInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\n\n@Component({\n  components: {\n    IconButton,\n    TextInput,\n    NumberInput,\n    DropdownInput,\n    NiceButton,\n    ConfirmDialog\n  },\n  directives: {\n    focus: {\n      // focus element on mount\n      inserted: function (el) {\n        el.focus();\n      }\n    }\n  }\n})\nexport default class EditBreakpoint extends Vue {\n  @Prop()\n  value!: Breakpoint;\n  @Prop()\n  isEditing!: boolean;\n\n  deleteDialog = false;\n\n  internalValue = defensiveCopy(this.value);\n\n  setDefaultPreviewWidth(width: \"100%\" | \"custom\") {\n    // the Breakpoint defaultPreviewWidth property must be a number or \"100%\",\n    // so we need to set a default value if width is \"custom\"\n    const defaultPreviewWidth =\n      this.internalValue.maxWidth ?? this.internalValue.minWidth ?? 250;\n    this.internalValue.defaultPreviewWidth =\n      width === \"100%\" ? \"100%\" : defaultPreviewWidth;\n  }\n\n  enableEditing() {\n    this.$emit(\"edit\", this.value.id);\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  get previewWidthUnit() {\n    return \"px\";\n  }\n\n  deleteBreakpoint() {\n    this.$emit(\"delete\");\n    this.deleteDialog = false;\n  }\n\n  get mediaQueryString() {\n    const minWidth = this.internalValue.minWidth || undefined;\n    const maxWidth = this.internalValue.maxWidth || undefined;\n\n    return mediaQueryString(minWidth, maxWidth);\n  }\n\n  cancel() {\n    this.internalValue = defensiveCopy(this.value);\n    this.$emit(\"edit\", \"\");\n  }\n\n  save() {\n    const newBreakpoint = defensiveCopy(this.internalValue);\n    pipe(\n      validateBreakpoint(newBreakpoint),\n      fold(\n        errors => {\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        breakpoint => {\n          this.$emit(\"input\", breakpoint);\n          this.$emit(\"edit\", \"\");\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditBreakpoint.vue?vue&type=template&id=5b1ec5b8&\"\nimport script from \"./EditBreakpoint.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditBreakpoint.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditBreakpoint.vue?vue&type=style&index=0&id=5b1ec5b8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"preferences-empty-state\"},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./EmptyStatePreferences.vue?vue&type=template&id=30c84385&\"\nvar script = {}\nimport style0 from \"./EmptyStatePreferences.vue?vue&type=style&index=0&id=30c84385&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport EditBreakpoint from \"./EditBreakpoint.vue\";\nimport { addOrUpdateBreakpoint } from \"@/lib/breakpoints/breakpoints\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport EmptyStatePreferences from \"@/components/Settings/Preferences/EmptyStatePreferences.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { validateNoQuotes } from \"@/util/input-text-validation-rules\";\n\n@Component({\n  components: {\n    Icon,\n    EditBreakpoint,\n    EmptyStatePreferences,\n    TextInput,\n    IconButton,\n  },\n})\nexport default class EditBreakpoints extends Vue {\n  @Prop()\n  value!: Breakpoint[];\n\n  editingBreakpointId = \"\";\n  showAddForm = false;\n\n  edit(breakpointId: string) {\n    this.editingBreakpointId = breakpointId;\n    this.showAddForm = false;\n  }\n\n  openAddBreakpointForm() {\n    this.showAddForm = true;\n    this.editingBreakpointId = \"\";\n  }\n\n  toggleAddBreakpointForm() {\n    this.showAddForm = !this.showAddForm;\n  }\n\n  newBreakpointLabel: string | undefined = \"\";\n\n  addBreakpoint() {\n    if (!this.newBreakpointLabel) {\n      return;\n    }\n\n    const normalizedBreakpointLabel = this.newBreakpointLabel\n      .toLowerCase()\n      .replace(/[- ]/g, \"_\");\n    const newBreakpointId = `custom_breakpoint_${normalizedBreakpointLabel}`;\n\n    this.updateOrAddBreakpoint({\n      id: newBreakpointId,\n      label: this.newBreakpointLabel,\n      minWidth: undefined,\n      maxWidth: undefined,\n      defaultPreviewWidth: \"100%\",\n    });\n  }\n\n  deleteBreakpoint(breakpointId: string) {\n    const newBreakpoints = defensiveCopy(this.value);\n    const index = newBreakpoints.findIndex((b) => b.id === breakpointId);\n    newBreakpoints.splice(index, 1);\n    this.$emit(\"input\", newBreakpoints);\n  }\n\n  updateOrAddBreakpoint(newBreakpoint: Breakpoint) {\n    const newBreakpoints = addOrUpdateBreakpoint(this.value, newBreakpoint);\n    this.$emit(\"input\", newBreakpoints);\n\n    if (this.showAddForm === true) this.showAddForm = false;\n    this.newBreakpointLabel = \"\";\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditBreakpoints.vue?vue&type=template&id=1af09ae0&\"\nimport script from \"./EditBreakpoints.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditBreakpoints.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditBreakpoints.vue?vue&type=style&index=0&id=1af09ae0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"preferences-panel-topbar\"},[_c('div',{staticClass:\"preferences-panel-heading\"},[_vm._t(\"title\")],2),_vm._t(\"aftertitle\"),_c('v-spacer')],2),_c('div',{staticClass:\"preferences-panel-content-area\"},[_vm._t(\"content\")],2),_c('div',{staticClass:\"preferences-bottom-panel\"},[(!_vm.hideSaveButton)?_c('v-btn',{attrs:{\"loading\":_vm.save.inProgress,\"disabled\":_vm.save.disabled,\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.save.function}},[_vm._v(_vm._s(_vm.save.text)+\" \")]):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class PreferencesPanel extends Vue {\n  @Prop()\n  save!: {\n    text: string;\n    function: () => void;\n    inProgress: boolean;\n    disabled: boolean;\n  };\n  @Prop({ default: false })\n  hideSaveButton!: boolean;\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreferencesPanel.vue?vue&type=template&id=4c6977b0&\"\nimport script from \"./PreferencesPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreferencesPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreferencesPanel.vue?vue&type=style&index=0&id=4c6977b0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport EditBreakpoints from \"./EditBreakpoints.vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport { isEqual } from \"lodash\";\n\n@Component({\n  components: {\n    EditBreakpoints,\n    PreferencesPanel\n  }\n})\nexport default class CustomBreakpointsPanel extends Vue {\n  @Prop()\n  value!: Breakpoint[];\n\n  internalValue = defensiveCopy(this.value);\n\n  get unsavedChangesPresent() {\n    return !isEqual(\n      defensiveCopy(this.internalValue),\n      defensiveCopy(this.value)\n    );\n  }\n\n  applyChanges() {\n    this.$emit(\"input\", this.internalValue);\n  }\n\n  breakpointsEdited(customBreakpoints: Breakpoint[]) {\n    this.internalValue = customBreakpoints;\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomBreakpointsPanel.vue?vue&type=template&id=fc54c074&\"\nimport script from \"./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('PreferencesPanel',{attrs:{\"save\":{\n    text: 'Save Fonts',\n    function: _vm.applyChanges,\n    inProgress: _vm.saveInProgress,\n    disabled: !_vm.unsavedChangesPresent || _vm.isFreeMode\n  }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Custom Fonts\")]},proxy:true},{key:\"content\",fn:function(){return [_c('ProOnlyAlertBox',{staticClass:\"mb-5\",attrs:{\"options\":{\n        content: 'Managing custom fonts is only available in Breakdance Pro',\n        feature: 'custom-fonts'\n      }}}),_vm._l((_vm.internalValue),function(fontFamily,index){return _c('FontFamily',{key:fontFamily.family,attrs:{\"value\":fontFamily,\"isOpen\":index === _vm.openedFontIndex},on:{\"open\":function($event){return _vm.openFont($event ? index : -1)},\"delete\":function($event){return _vm.deleteFontFamily(index)},\"input\":function($event){return _vm.updateFontFamily($event, index)}}})}),(_vm.internalValue.length)?[_c('div',{staticClass:\"mt-12\"})]:_vm._e(),_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Add Font\")]),(!_vm.showAddForm && _vm.internalValue.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\" Add a font family to Breakdance's font family dropdowns, and optionally upload associated .woff/.woff2 files. \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"disabled\":_vm.isFreeMode},on:{\"click\":_vm.toggleAddForm}},[_vm._v(\" Add Font \")])],1):_vm._e(),(_vm.showAddForm)?_c('div',[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveNewFontFamily.apply(null, arguments)}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('div',{staticClass:\"add-font-family-form-content-wrapper\"},[_c('div',{staticClass:\"add-font-heading-box\"},[_c('h4',{staticClass:\"add-font-heading\"},[_vm._v(\"Add New Font\")]),_c('IconButton',{staticClass:\"add-font-cloe-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleAddForm}})],1),_c('TextInput',{attrs:{\"placeholder\":\"Custom font name, ie. Helvetica\",\"outlined\":\"\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"single-line\":\"\",\"size\":\"md\",\"validation-function-name\":\"validateAlphanumericHyphenUnderscore\"},model:{value:(_vm.fontFamily),callback:function ($$v) {_vm.fontFamily=$$v},expression:\"fontFamily\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.fontFamily || _vm.validFontFamily !== true,\"type\":\"submit\",\"text\":\"\"}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)])],1):_vm._e(),(_vm.internalValue.length > 0 && !_vm.showAddForm)?_c('v-btn',{attrs:{\"outlined\":\"\",\"disabled\":_vm.isFreeMode},on:{\"click\":_vm.toggleAddForm}},[_vm._v(\" Add Font \")]):_vm._e(),_c('h4',{staticClass:\"my-4 font-weight-medium mt-12\"},[_vm._v(\" Use Fonts In External CSS \")]),(!_vm.showCssForm && _vm.internalValue.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\" Use hosted fonts from providers like Adobe Fonts. \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"disabled\":_vm.isFreeMode},on:{\"click\":_vm.toggleCssForm}},[_vm._v(\" Add External CSS \")])],1):_vm._e(),(_vm.showCssForm)?_c('div',[_c('v-form',{ref:\"cssForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveCssUrl.apply(null, arguments)}},model:{value:(_vm.validCssForm),callback:function ($$v) {_vm.validCssForm=$$v},expression:\"validCssForm\"}},[_c('div',{staticClass:\"add-font-family-form-content-wrapper mb-4\"},[_c('div',{staticClass:\"add-font-heading-box\"},[_c('h4',{staticClass:\"add-font-heading\"},[_vm._v(\"CSS URL\")]),_c('IconButton',{staticClass:\"add-font-cloe-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleCssForm}})],1),_c('TextInput',{attrs:{\"rules\":[\n              v => !!v || 'Please enter a value',\n              v => _vm.isValidUrl(v) || 'Please enter a valid URL'\n            ],\"placeholder\":\"URL to CSS file containing Font Face definitions\",\"outlined\":\"\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"single-line\":\"\",\"size\":\"md\"},model:{value:(_vm.cssUrl),callback:function ($$v) {_vm.cssUrl=$$v},expression:\"cssUrl\"}}),_c('v-btn',{attrs:{\"disabled\":_vm.saveInProgress,\"type\":\"submit\",\"text\":\"\"}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)])],1):_vm._e(),(_vm.internalValue.length > 0 && !_vm.showCssForm)?_c('v-btn',{attrs:{\"outlined\":\"\",\"disabled\":_vm.isFreeMode},on:{\"click\":_vm.toggleCssForm}},[_vm._v(\" Add CSS URL \")]):_vm._e()]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  CustomFontFamily,\n  FontFamiliesResponseV,\n  FontFileResponse,\n  FontFileResponseV,\n  FontFamiliesResponse\n} from \"@/types/custom-fonts\";\nimport { Either } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\n\nexport async function saveFontFile(\n  fontFile: File\n): Promise<Either<_Error[], FontFileResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_font_file\",\n    dataToPost: { file: fontFile },\n    decoder: FontFileResponseV\n  });\n}\n\nexport async function getFontFamiliesFromCssFile(\n  cssUrl: string\n): Promise<Either<_Error[], FontFamiliesResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_get_font_families_from_css_file\",\n    dataToPost: { cssUrl },\n    decoder: FontFamiliesResponseV\n  });\n}\n\nexport async function sendFontsToBackend(\n  customFontFamilies: CustomFontFamily[]\n): Promise<Either<_Error[], FontFamiliesResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_font_families\",\n    dataToPost: {\n      customFontFamilies: fpJsonStringify(customFontFamilies)\n    },\n    decoder: FontFamiliesResponseV\n  });\n}\n","import { Font } from \"@/types/fonts\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { configStore } from \"@/store/store-accessor\";\n\nexport const addOrUpdateFontInStore = (newFontData: Font) => {\n  const newFonts = defensiveCopy(configStore.fonts);\n  const index = newFonts.findIndex(font => font.slug === newFontData.slug);\n\n  // Add the new font if it it's new, otherwise replace the existing one\n  if (index === -1) {\n    newFonts.unshift(newFontData);\n  } else {\n    newFonts[index] = newFontData;\n  }\n\n  configStore.setFonts(newFonts);\n};\n\nexport const removeFontFromStore = (slug: string) => {\n  const newFonts = defensiveCopy(configStore.fonts);\n  const index = newFonts.findIndex(font => font.slug === slug);\n\n  if (index > -1) {\n    newFonts.splice(index, 1);\n  }\n\n  configStore.setFonts(newFonts);\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"custom-font-family\"},[_c('div',{staticClass:\"custom-font-family-titlebar\",on:{\"click\":_vm.toggleFaces}},[_c('div',{staticClass:\"custom-font-family-title\"},[_vm._v(\" \"+_vm._s(_vm.value.family)+\" \")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFontFamily.apply(null, arguments)}}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\"}})],1)],1),(_vm.isOpen)?_c('div',{staticClass:\"custom-font-family-edit\"},[(!_vm.value.hasExternalCssUrl)?_c('div',[_c('FontFaces',{attrs:{\"value\":_vm.value.faces},on:{\"input\":_vm.editFontFamily}}),_c('TextField',{attrs:{\"placeholder\":\"CSS Fallback String (separate font families with commas)\",\"value\":_vm.value.fallbackString,\"size\":\"md\"},on:{\"input\":_vm.editFallbackString}}),(_vm.fallbackStringHasBeenEdited)?[_c('v-alert',{staticClass:\"mt-4\",attrs:{\"dense\":\"\",\"border\":\"left\",\"text\":\"\",\"type\":\"warning\"}},[_vm._v(\" Changes to the CSS fallback string will take effect after \"),_c('strong',[_vm._v(\"saving and refreshing\")]),_vm._v(\". \")])]:_vm._e()],2):_vm._e(),(_vm.value.hasExternalCssUrl)?_c('div',[_c('span',{staticStyle:{\"font-size\":\"var(--text-sm)\",\"font-weight\":\"500\"}},[_vm._v(\"Sourced from \"+_vm._s(_vm.value.cssUrl))]),_c('TextField',{staticClass:\"mt-4\",attrs:{\"placeholder\":\"CSS Fallback String (separate font families with commas)\",\"value\":_vm.value.fallbackString,\"size\":\"md\"},on:{\"input\":_vm.editFallbackString}})],1):_vm._e()]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"custom-font-family-font-faces\"},[_vm._l((_vm.value),function(fontFace,fontFaceIndex){return _c('UpdateFontFace',{key:fontFace.id,attrs:{\"value\":fontFace,\"existingFontFaces\":_vm.existingFontFaces(fontFaceIndex)},on:{\"input\":function($event){return _vm.updateFontFace($event, fontFaceIndex)},\"delete\":function($event){return _vm.deleteFontFace(fontFaceIndex)}}})}),_c('FontFileUpload',{on:{\"save\":_vm.newFontFileSuccessfullyUploaded}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"custom-font-family-font-face\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.isFontFaceUnique),callback:function ($$v) {_vm.isFontFaceUnique=$$v},expression:\"isFontFaceUnique\"}},[_c('div',{staticClass:\"custom-font-family-font-face-titlebar\"},[_c('div',{staticClass:\"custom-font-family-font-face-titlebar-title\"},_vm._l((_vm.value.files),function(file){return _c('div',{key:file.fileUrl,staticClass:\"mr-3\"},[_vm._v(\" \"+_vm._s(file.fileName)+\" \")])}),0),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.deleteFontFace}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\"}})],1)],1),_c('div',{staticClass:\"custom-font-family-font-face-controls\"},[_c('div',{staticClass:\"custom-font-family-font-face-controls-control\"},[_c('v-select',{staticClass:\"mr-4\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"value\":_vm.value.weight,\"items\":_vm.weights,\"rules\":[_vm.validateWeight],\"label\":\"Font Weight\"},on:{\"input\":_vm.updateWeight}})],1),_c('div',{staticClass:\"custom-font-family-font-face-controls-control\"},[_c('v-radio-group',{staticClass:\"pt-0 mt-0 mr-4\",attrs:{\"value\":_vm.value.style,\"rules\":[_vm.validateStyle],\"row\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateStyle}},[_c('v-radio',{attrs:{\"label\":\"Normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"Italic\",\"value\":\"italic\"}})],1)],1)])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const CSS_WEIGHTS = [\n  {\n    text: \"100 (Thin)\",\n    value: 100\n  },\n  {\n    text: \"200 (Extra Light)\",\n    value: 200\n  },\n  {\n    text: \"300 (Light)\",\n    value: 300\n  },\n  {\n    text: \"400 (Normal)\",\n    value: 400\n  },\n  {\n    text: \"500 (Medium)\",\n    value: 500\n  },\n  {\n    text: \"600 (Semi Bold)\",\n    value: 600\n  },\n  {\n    text: \"700 (Bold)\",\n    value: 700\n  },\n  {\n    text: \"800 (Extra Bold)\",\n    value: 800\n  },\n  {\n    text: \"900 (Black)\",\n    value: 900\n  }\n];\n","\nimport Vue from \"vue\";\nimport { Component, Prop, Ref, Watch } from \"vue-property-decorator\";\nimport { FontFace } from \"@/types/custom-fonts\";\nimport { CSS_WEIGHTS } from \"@/lib/fonts/constants\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: { Icon }\n})\nexport default class UpdateFontFace extends Vue {\n  @Ref() readonly form!: HTMLFormElement;\n  @Prop()\n  value!: FontFace;\n\n  /* Form Validation */\n  @Prop({\n    default: []\n  })\n  existingFontFaces!: FontFace[];\n\n  isFontFaceUnique = true;\n\n  validateWeight(weight: number) {\n    if (!weight) {\n      return \"A weight is required\";\n    }\n\n    return (\n      !this.existingFontFaces\n        .find(\n          fontFace =>\n            fontFace.weight === weight && fontFace.style === this.value.style\n        )\n        ?.files.find(file => this.valueFormats.includes(file.format)) ||\n      \"This font weight already exists with this style, and format\"\n    );\n  }\n\n  validateStyle(style: \"normal\" | \"italic\") {\n    return (\n      !this.existingFontFaces\n        .find(\n          fontFace =>\n            fontFace.weight === this.value.weight && fontFace.style === style\n        )\n        ?.files.find(file => this.valueFormats.includes(file.format)) ||\n      \"This font style already exists with this weight, and format\"\n    );\n  }\n\n  get valueFormats() {\n    return this.value.files.map(file => file.format);\n  }\n\n  @Watch(\"value\")\n  revalidateOnValueChange() {\n    this.form.validate();\n  }\n  /* ------------ */\n\n  updateWeight(newWeight: number) {\n    const newValue = {\n      ...this.value,\n      weight: newWeight\n    };\n    this.$emit(\"input\", newValue);\n  }\n\n  updateStyle(newStyle: \"normal\" | \"italic\") {\n    const newValue = {\n      ...this.value,\n      style: newStyle\n    };\n    this.$emit(\"input\", newValue);\n  }\n\n  deleteFontFace() {\n    this.$emit(\"delete\");\n  }\n\n  get weights() {\n    return CSS_WEIGHTS;\n  }\n\n  get currentWeight() {\n    return CSS_WEIGHTS.find(w => w.value === this.value.weight);\n  }\n}\n","import mod from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UpdateFontFace.vue?vue&type=template&id=daa63ea4&\"\nimport script from \"./UpdateFontFace.vue?vue&type=script&lang=ts&\"\nexport * from \"./UpdateFontFace.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UpdateFontFace.vue?vue&type=style&index=0&id=daa63ea4&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-font-file-uploader\"},[_c('FileUpload',{attrs:{\"height\":\"150px\",\"accept\":\".woff,.woff2\",\"saveInProgress\":_vm.saveInProgress},on:{\"input\":_vm.handleFiles}},[_vm._v(\" drag .woff or .woff2 files or \"),_c('span',{staticClass:\"breakdance-font-file-uploader-choose-link\"},[_vm._v(\"browse...\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { saveFontFile } from \"@/lib/fonts/backend\";\nimport FileUpload from \"@/components/Reusable/CustomInputs/FileUpload.vue\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\n@Component({\n  components: { FileUpload }\n})\nexport default class FontFileUpload extends Vue {\n  saveInProgress = false;\n\n  handleFiles(files: FileList) {\n    Array.from(files).forEach((file: File) => {\n      const fileReader = new FileReader();\n      fileReader.onloadend = async e => {\n        if (!e?.target) return;\n\n        // Get the file's MIME type to validate the file type\n        // This is reliable in contrast to checking the extension\n        // https://stackoverflow.com/questions/18299806/how-to-check-file-mime-type-with-javascript-before-upload\n\n        const arr = new Uint8Array(\n          e.target.result as Iterable<number>\n        ).subarray(0, 4);\n        let header = \"\";\n        arr.forEach(value => (header += value.toString(16)));\n\n        const extension = file.name.split(\".\").pop();\n        // https://en.wikipedia.org/wiki/List_of_file_signatures\n        const isWoff = header === \"774f4646\" && extension === \"woff\";\n        const isWoff2 = header === \"774f4632\" && extension === \"woff2\";\n\n        if (!(isWoff || isWoff2)) {\n          NotificationLogger.log.message(\n            'Only  \".woff\" and \".woff2\" files are supported'\n          );\n\n          return;\n        }\n\n        this.saveInProgress = true;\n\n        pipe(\n          await saveFontFile(file),\n          fold(\n            (errors: _Error[]) => {\n              logErrorsToUiStore(errors);\n            },\n            r => {\n              this.$emit(\"save\", {\n                fileUrl: r.fileUrl,\n                format: isWoff ? \"woff\" : \"woff2\",\n                fileName: r.fileName\n              });\n            }\n          )\n        );\n\n        this.saveInProgress = false;\n      };\n\n      fileReader.readAsArrayBuffer(file);\n    });\n  }\n}\n","import mod from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFileUpload.vue?vue&type=template&id=3a285e30&\"\nimport script from \"./FontFileUpload.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFileUpload.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFileUpload.vue?vue&type=style&index=0&id=3a285e30&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport UpdateFontFace from \"@/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue\";\nimport { FontFace, FontFile } from \"@/types/custom-fonts\";\nimport FontFileUpload from \"@/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n@Component({\n  components: {\n    FontFileUpload,\n    UpdateFontFace\n  }\n})\nexport default class FontFaces extends Vue {\n  @Prop()\n  value!: FontFace[];\n\n  newFontFileSuccessfullyUploaded(fontFile: FontFile) {\n    const newFontFace = fontFileToBlankFontFace(fontFile);\n    const newFontFaces = [...this.value, newFontFace];\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  updateFontFace(newFontFace: FontFace, fontFaceIndex: number) {\n    const newFontFaces = [...this.value];\n    const newFontFaceFormats = newFontFace.files.map(file => file.format);\n\n    // If the weight and style are the same but the format is different\n    // Merge the newFontFace's files into an existing font face\n    const indexOfMatchingFontFace = newFontFaces.findIndex(\n      fontFace =>\n        fontFace.weight === newFontFace.weight &&\n        fontFace.style === newFontFace.style &&\n        // Doesn't match the file formats\n        !fontFace.files.find(file => newFontFaceFormats.includes(file.format))\n    );\n\n    if (indexOfMatchingFontFace === -1) {\n      newFontFaces[fontFaceIndex] = newFontFace;\n    } else {\n      // Merge the files\n      newFontFaces[indexOfMatchingFontFace].files = [\n        ...newFontFaces[indexOfMatchingFontFace].files,\n        ...newFontFace.files\n      ];\n\n      // And remove the merged font face from the list\n      newFontFaces.splice(fontFaceIndex, 1);\n    }\n\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  deleteFontFace(fontFaceIndex: number) {\n    const newFontFaces = [...this.value];\n    newFontFaces.splice(fontFaceIndex, 1);\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  existingFontFaces(fontFaceIndex: number) {\n    return this.value.filter((_, i) => i !== fontFaceIndex);\n  }\n}\n\nfunction fontFileToBlankFontFace(fontFile: FontFile): FontFace {\n  return {\n    id: uuidv4(),\n    files: [fontFile],\n    style: \"normal\",\n    weight: 0\n  };\n}\n","import mod from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFaces.vue?vue&type=template&id=30bcaa75&\"\nimport script from \"./FontFaces.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFaces.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFaces.vue?vue&type=style&index=0&id=30bcaa75&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport { CustomFontFamily, FontFace } from \"@/types/custom-fonts\";\nimport FontFaces from \"@/components/Settings/Preferences/CustomFonts/components/FontFaces.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextField from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\n@Component({\n  components: { Icon, FontFaces, TextField }\n})\nexport default class FontFamily extends Vue {\n  @Prop()\n  value!: CustomFontFamily;\n\n  @Prop()\n  isOpen!: boolean;\n\n  toggleFaces() {\n    this.$emit(\"open\", !this.isOpen);\n  }\n\n  deleteFontFamily() {\n    this.$emit(\"delete\");\n  }\n\n  fallbackStringHasBeenEdited = false;\n\n  editFallbackString(newFallbackString: string | undefined) {\n    this.fallbackStringHasBeenEdited = true;\n    this.$emit(\"input\", {\n      ...this.value,\n      fallbackString: newFallbackString\n    });\n  }\n\n  editFontFamily(newFontFaces: FontFace[]) {\n    this.$emit(\"input\", {\n      ...this.value,\n      faces: newFontFaces\n    });\n  }\n\n  editCssUrl(newCssUrl: string | undefined) {\n    this.$emit(\"input\", {\n      ...this.value,\n      cssUrl: newCssUrl\n    });\n  }\n}\n","import mod from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFamily.vue?vue&type=template&id=cf36cfe0&\"\nimport script from \"./FontFamily.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFamily.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFamily.vue?vue&type=style&index=0&id=cf36cfe0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { CustomFontFamily } from \"@/types/custom-fonts\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport {\n  getFontFamiliesFromCssFile,\n  sendFontsToBackend\n} from \"@/lib/fonts/backend\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { addOrUpdateFontInStore, removeFontFromStore } from \"@/lib/fonts/utils\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport FontFamily from \"@/components/Settings/Preferences/CustomFonts/components/FontFamily.vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport EmptyStatePreferences from \"@/components/Settings/Preferences/EmptyStatePreferences.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { isEqual } from \"lodash\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { validateAlphanumericHyphenUnderscore } from \"@/util/input-text-validation-rules\";\nimport { configStore } from \"@/store/store-accessor\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\nimport ProOnlyAlertBox from \"@/components/Subscription/ProOnlyAlertBox.vue\";\n\n@Component({\n  components: {\n    ProOnlyAlertBox,\n    AlertBox,\n    FontFamily,\n    PreferencesPanel,\n    EmptyStatePreferences,\n    Icon,\n    TextInput,\n    IconButton\n  }\n})\nexport default class CustomFontFamilies extends Vue {\n  @Ref() readonly form!: HTMLFormElement;\n  @Ref() readonly cssForm!: HTMLFormElement;\n\n  @Prop()\n  readonly value!: CustomFontFamily[];\n\n  get unsavedChangesPresent() {\n    return !isEqual(\n      defensiveCopy(this.internalValue),\n      defensiveCopy(this.value)\n    );\n  }\n\n  get validFontFamily() {\n    return validateAlphanumericHyphenUnderscore(this.fontFamily);\n  }\n\n  internalValue = defensiveCopy(this.value);\n  fontFamily: string | undefined = \"\";\n  cssUrl: string | undefined = \"\";\n  validForm = true;\n  validCssForm = true;\n  saveInProgress = false;\n  openedFontIndex = -1;\n\n  showAddForm = false;\n  toggleAddForm() {\n    this.showAddForm = !this.showAddForm;\n  }\n\n  showCssForm = false;\n  toggleCssForm() {\n    this.showCssForm = !this.showCssForm;\n  }\n\n  async applyChanges() {\n    this.saveInProgress = true;\n\n    pipe(\n      await sendFontsToBackend(this.internalValue),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        fontFamiliesResponse => {\n          fontFamiliesResponse.forEach(fontFamilyResponse => {\n            // Replace the cssUrl with the new cssUrl.\n            // Don't rely on indexes being the same since there's no guarantee that's the case\n            const indexOfFontFamilyMatchingIds = this.internalValue.findIndex(\n              fontFamily => fontFamily.id === fontFamilyResponse.fontId\n            );\n            this.internalValue[indexOfFontFamilyMatchingIds].cssUrl =\n              fontFamilyResponse.cssUrl;\n            this.internalValue[indexOfFontFamilyMatchingIds].cssName =\n              fontFamilyResponse.fontRegistrationData.cssName;\n\n            addOrUpdateFontInStore(fontFamilyResponse.fontRegistrationData);\n          });\n          this.$emit(\"input\", this.internalValue);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n\n  openFont(newOpenFontIndex: number) {\n    if (this.isFreeMode) return;\n\n    this.openedFontIndex = newOpenFontIndex;\n  }\n\n  updateFontFamily(newFontFamily: CustomFontFamily, fontIndex: number) {\n    // defensiveCopy is needed here because Vue is not making internalValue deeply reactive\n    // So we need to update the reference for it to work\n    const newValue = defensiveCopy(this.internalValue);\n    newValue[fontIndex] = newFontFamily;\n    this.internalValue = newValue;\n  }\n\n  deleteFontFamily(fontIndex: number) {\n    if (this.isFreeMode) return;\n\n    const newValue = defensiveCopy(this.internalValue);\n    newValue.splice(fontIndex, 1);\n    removeFontFromStore(this.internalValue[fontIndex].id);\n    this.internalValue = newValue;\n  }\n\n  saveNewFontFamily() {\n    if (!this.form.validate() || !this.fontFamily) {\n      return;\n    }\n\n    this.internalValue.push({\n      id: \"custom_font_\" + this.fontFamily.toLowerCase().replace(/ /g, \"_\"),\n      family: this.fontFamily,\n      fallbackString: \"\",\n      cssUrl: \"\",\n      hasExternalCssUrl: false,\n      cssName: this.fontFamily,\n      faces: []\n    });\n\n    this.openedFontIndex = this.internalValue.length - 1;\n    this.fontFamily = \"\";\n    this.form.reset();\n    this.showAddForm = false;\n  }\n\n  async saveCssUrl() {\n    if (!this.cssForm.validate() || !this.cssUrl) {\n      return;\n    }\n\n    this.saveInProgress = true;\n\n    pipe(\n      await getFontFamiliesFromCssFile(this.cssUrl),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        fontFamiliesResponse => {\n          fontFamiliesResponse.forEach(fontFamilyResponse => {\n            // lets only add it if it's not already there\n            const fontIDAlreadyPresent =\n              this.internalValue.findIndex(\n                font => font.id === fontFamilyResponse.fontId\n              ) > -1;\n            if (!fontIDAlreadyPresent) {\n              this.internalValue.unshift({\n                id: fontFamilyResponse.fontId,\n                family: fontFamilyResponse.fontRegistrationData.label,\n                fallbackString:\n                  fontFamilyResponse.fontRegistrationData.fallbackString,\n                cssUrl: fontFamilyResponse.cssUrl,\n                hasExternalCssUrl: true,\n                cssName: fontFamilyResponse.fontRegistrationData.cssName,\n                faces: []\n              });\n            }\n          });\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n\n    this.cssUrl = \"\";\n    this.showCssForm = false;\n  }\n\n  isValidUrl(value: string) {\n    let parsedUrl;\n\n    try {\n      parsedUrl = new URL(value);\n    } catch (error) {\n      return false;\n    }\n\n    return parsedUrl.protocol === \"http:\" || parsedUrl.protocol === \"https:\";\n  }\n\n  get isFreeMode() {\n    return configStore.subscriptionMode === \"free\";\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomFontFamilies.vue?vue&type=template&id=1979fe0b&\"\nimport script from \"./CustomFontFamilies.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomFontFamilies.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CustomFontFamilies.vue?vue&type=style&index=0&id=1979fe0b&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('PreferencesPanel',{attrs:{\"hide-save-button\":true},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"UI Settings\")]},proxy:true},{key:\"content\",fn:function(){return [_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Settings\")]),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.autoScrollEnabled,\"inset\":\"\",\"label\":\"Auto-scroll to active element\"},on:{\"change\":_vm.setAutoScrollEnabled}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isScaledToFit,\"label\":\"Scale content to fit the screen (zoom)\",\"inset\":\"\"},on:{\"change\":_vm.setScaleToFit}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isDarkMode,\"label\":\"Dark Mode\",\"inset\":\"\"},on:{\"change\":_vm.toggleTheme}})],1),(_vm.displayShowExperimentalElementsSetting)?_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.showExperimentalElements,\"label\":\"Show Experimental Elements\",\"inset\":\"\"},on:{\"change\":_vm.setShowExperimentalElements}})],1):_vm._e(),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.disableNoticeForEmptySSRElements,\"label\":\"Disable Message For Empty SSR Elements\",\"inset\":\"\"},on:{\"change\":_vm.setDisableNoticeForEmptySSRElements}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isShowingIdsInStructurePanel,\"label\":\"Show elements ID in the Structure Panel\",\"inset\":\"\"},on:{\"change\":_vm.setIsShowingIdsInStructurePanel}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.disableCodeMirrorLineWrapping,\"label\":\"Disable Code Editor Line Wrapping\",\"inset\":\"\"},on:{\"change\":_vm.setDisableCodeMirrorLineWrapping}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isTinyMcePreferredForRichText,\"label\":\"Prefer TinyMCE For Rich Text\",\"inset\":\"\"},on:{\"change\":_vm.setIsTinyMcePreferredForRichText}})],1),_c('div',{staticClass:\"mt-4\"},[_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Panel Positions\")]),_vm._l((_vm.panelsState),function(panel,i){return [_c('div',{key:i,staticClass:\"d-flex align-center justify-space-between mb-3 panel-positions\"},[_c('div',{staticClass:\"ui-panel-title\"},[_vm._v(_vm._s(panel.label))]),_c('ButtonBarInput',{attrs:{\"value\":panel.value,\"items\":_vm.panelPositionsAsItems,\"options\":{ mandatory: true }},on:{\"input\":function($event){return _vm.setPanelPosition(panel.id, $event)}}})],1)]}),_c('div',{staticClass:\"d-flex align-center justify-space-between mb-3 panel-positions\"},[_c('div',{staticClass:\"ui-panel-title\"},[_vm._v(\"Popout Position\")]),_c('ButtonBarInput',{attrs:{\"value\":_vm.popoutPosition,\"items\":_vm.popoutPositionItems,\"options\":{ mandatory: true }},on:{\"input\":_vm.setPopoutPosition}})],1),_c('div',{staticClass:\"d-flex justify-end mt-4\"},[_c('NiceButton',{attrs:{\"disabled\":_vm.arePanelPositionsDefault},on:{\"click\":_vm.resetUiPanelPositionsToDefault}},[_vm._v(\"Reset to defaults\")])],1)],2)]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport { Component } from \"vue-property-decorator\";\nimport {\n  closeAllUiPanels,\n  getPanelPositionPreferenceFromLocalStorage,\n  openUiPanel,\n  resetUiPanelPositionsToDefault,\n  savePanelPositionPreferenceToLocalStorage,\n  uiPanelDefaultPositions\n} from \"@/lib/panels/panels\";\nimport ButtonBarInput from \"@/components/Reusable/CustomInputs/ButtonBarInput/ButtonBarInput.vue\";\nimport { PanelPosition, UIPanel, UISettings } from \"@/types/ui\";\nimport {\n  setScaleToFitAndGetSettings,\n  UI_SETTINGS_LOCAL_STORAGE_KEY,\n  uiSettingsDefaults\n} from \"@/lib/ui-preference/ui-preference\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\nimport { writeToLocalStorage } from \"@/util/localstorage\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport isEqual from \"lodash/isEqual\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\n\n@Component({\n  components: { NiceButton, PreferencesPanel, ButtonBarInput, ToggleInput }\n})\nexport default class CustomUiSettings extends Vue {\n  panelsState = this.getPanelsInitialState();\n\n  getPanelsInitialState() {\n    const panels: { id: UIPanel; label: string }[] = [\n      {\n        id: \"add\",\n        label: \"Add\"\n      },\n      {\n        id: \"elementproperties\",\n        label: \"Element Properties\"\n      },\n      {\n        id: \"selectors\",\n        label: \"Selectors\"\n      },\n      {\n        id: \"globalSettings\",\n        label: \"Global Settings\"\n      },\n      {\n        id: \"structure\",\n        label: \"Structure\"\n      },\n      {\n        id: \"history\",\n        label: \"History & Revisions\"\n      }\n    ];\n\n    return panels.map(panel => ({\n      ...panel,\n      value: getPanelPositionPreferenceFromLocalStorage(panel.id)\n    }));\n  }\n\n  setPanelPosition(panel: UIPanel, position: PanelPosition) {\n    const index = this.panelsState.findIndex(\n      panelState => panelState.id === panel\n    );\n\n    this.panelsState[index].value = position;\n\n    savePanelPositionPreferenceToLocalStorage(panel, position);\n    closeAllUiPanels();\n    openUiPanel(panel);\n  }\n\n  resetUiPanelPositionsToDefault() {\n    resetUiPanelPositionsToDefault();\n\n    this.panelsState = this.getPanelsInitialState();\n  }\n\n  get arePanelPositionsDefault() {\n    return isEqual(\n      uiPanelDefaultPositions,\n      this.panelsState.reduce((acc: Record<string, PanelPosition>, panel) => {\n        acc[panel.id] = panel.value;\n        return acc;\n      }, {})\n    );\n  }\n\n  get panelPositionsAsItems() {\n    return [\"left\", \"right\"].map(x => {\n      return {\n        text: x,\n        value: x\n      };\n    });\n  }\n\n  get popoutPositionItems() {\n    return [\n      {\n        text: \"Stacked\",\n        value: \"STACKED\"\n      },\n      {\n        text: \"Stacked (First Visible)\",\n        value: \"STACKED_FIRST_VISIBLE\"\n      },\n      {\n        text: \"Side By Side\",\n        value: \"SIDE_BY_SIDE\"\n      }\n    ];\n  }\n\n  get displayShowExperimentalElementsSetting() {\n    return isBreakdanceDevelopmentEnvironment();\n  }\n\n  get isDarkMode() {\n    return uiStore.settings.theme === \"dark\";\n  }\n\n  get isScaledToFit() {\n    return uiStore.settings.scaleToFit === \"SCALED_TO_FIT\";\n  }\n\n  get isShowingIdsInStructurePanel() {\n    return uiStore.settings.showElementIdInStructurePanel;\n  }\n\n  get isTinyMcePreferredForRichText() {\n    return uiStore.settings.isTinyMcePreferredForRichText;\n  }\n\n  setScaleToFit(scaleToFit: boolean) {\n    this.setUiSettings(setScaleToFitAndGetSettings(scaleToFit));\n  }\n\n  toggleTheme() {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.theme = this.isDarkMode ? \"light\" : \"dark\";\n\n    this.setUiSettings(settings);\n  }\n\n  setDisableNoticeForEmptySSRElements(disable: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.disableNoticeForEmptySSRElements = disable;\n\n    this.setUiSettings(settings);\n  }\n\n  get disableNoticeForEmptySSRElements() {\n    return uiStore.settings.disableNoticeForEmptySSRElements;\n  }\n\n  get showExperimentalElements() {\n    return uiStore.settings.showExperimentalElements;\n  }\n\n  setShowExperimentalElements(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.showExperimentalElements = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setIsShowingIdsInStructurePanel(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.showElementIdInStructurePanel = value;\n\n    this.setUiSettings(settings);\n  }\n\n  get disableCodeMirrorLineWrapping() {\n    return uiStore.settings.disableCodeMirrorLineWrapping;\n  }\n\n  setDisableCodeMirrorLineWrapping(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.disableCodeMirrorLineWrapping = value;\n    this.setUiSettings(settings);\n  }\n\n  setIsTinyMcePreferredForRichText(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.isTinyMcePreferredForRichText = value;\n    this.setUiSettings(settings);\n  }\n\n  get autoScrollEnabled() {\n    return uiStore.settings.autoScrollEnabled;\n  }\n\n  get popoutPosition() {\n    return uiStore.settings.popoutPosition;\n  }\n\n  setAutoScrollEnabled(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.autoScrollEnabled = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setPopoutPosition(value: string) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.popoutPosition = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setUiSettings(settings: UISettings) {\n    const maybeSettingsAsJsonString = jsonStringifyOrUndefined({\n      ...uiSettingsDefaults,\n      ...settings\n    });\n    if (maybeSettingsAsJsonString) {\n      writeToLocalStorage(\n        UI_SETTINGS_LOCAL_STORAGE_KEY,\n        maybeSettingsAsJsonString\n      );\n    }\n\n    uiStore.setSettings(settings);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomUiSettings.vue?vue&type=template&id=11e08974&\"\nimport script from \"./CustomUiSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomUiSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CustomUiSettings.vue?vue&type=style&index=0&id=11e08974&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { Preferences } from \"@/types/preferences\";\nimport * as data from \"@/lib/wordpress/data\";\nimport CustomBreakpointsPanel from \"./Breakpoints/CustomBreakpointsPanel.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { CustomFontFamily } from \"@/types/custom-fonts\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport CustomFontFamilies from \"@/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport CustomUiSettings from \"@/components/Settings/Preferences/CustomUiSettings.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    CustomUiSettings,\n    CustomFontFamilies,\n    CustomBreakpointsPanel,\n    Loading\n  }\n})\nexport default class PreferencesModal extends Vue {\n  @Prop()\n  open!: boolean;\n\n  @Ref() readonly customFontFamiliesPanel!: CustomFontFamilies;\n  @Ref() readonly customBreakpointsPanel!: CustomBreakpointsPanel;\n\n  tab = 0;\n  currentTab = 0;\n\n  uiSettingsTab = 0;\n  fontFamiliesTab = 1;\n  customBreakpointsTab = 2;\n\n  get preferences() {\n    return configStore.preferences;\n  }\n\n  get customBreakpoints() {\n    return this.preferences.customBreakpoints;\n  }\n\n  get customFontFamilies() {\n    return configStore.preferences.customFonts;\n  }\n\n  updateBreakpoints(newBreakpoints: Breakpoint[]) {\n    const newPrefs = defensiveCopy(this.preferences);\n    newPrefs.customBreakpoints = newBreakpoints;\n    this.save(newPrefs);\n  }\n\n  updateCustomFontFamilies(newCustomFontFamilies: CustomFontFamily[]) {\n    const newPrefs = defensiveCopy(this.preferences);\n    newPrefs.customFonts = newCustomFontFamilies;\n    this.save(newPrefs);\n  }\n\n  handleClickOutside() {\n    this.checkForUnsavedChanges();\n    if (!this.hasUnsavedChanges) {\n      return this.$emit(\"update:dialog\", false);\n    }\n    const exit = confirm(\"Exit without saving?\");\n    if (exit) {\n      return this.$emit(\"update:dialog\", false);\n    }\n    return this;\n  }\n\n  async handleChangeTab() {\n    this.checkForUnsavedChanges();\n    if (this.hasUnsavedChanges) {\n      const exit = confirm(\"Exit without saving?\");\n      if (!exit) {\n        await this.$nextTick();\n        this.tab = this.currentTab;\n        return true;\n      }\n    }\n    this.currentTab = this.tab;\n    return false;\n  }\n\n  saveInProgress = false;\n\n  async save(newPrefs: Preferences) {\n    this.saveInProgress = true;\n\n    pipe(\n      await data.saveToWP(\"preferences\", newPrefs),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        () => {\n          configStore.setPreferences(newPrefs);\n        }\n      )\n    );\n    this.saveInProgress = false;\n    this.checkForUnsavedChanges();\n  }\n\n  hasUnsavedChanges = false;\n  checkForUnsavedChanges() {\n    if (this.currentTab === this.fontFamiliesTab) {\n      this.hasUnsavedChanges = this.customFontFamiliesPanel.unsavedChangesPresent;\n      return this.hasUnsavedChanges;\n    }\n\n    if (this.currentTab === this.customBreakpointsTab) {\n      this.hasUnsavedChanges = this.customBreakpointsPanel.unsavedChangesPresent;\n      return this.hasUnsavedChanges;\n    }\n\n    return (this.hasUnsavedChanges = false);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreferencesModal.vue?vue&type=template&id=b306510c&\"\nimport script from \"./PreferencesModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreferencesModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreferencesModal.vue?vue&type=style&index=0&id=b306510c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('v-dialog',{attrs:{\"content-class\":\"keyboard-shortcuts-help-modal\",\"value\":_vm.open,\"max-width\":\"850\"},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)}}},[_c('v-card',{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"100%\"}},[_c('v-card-text',[_c('table',{staticClass:\"styled-table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Shortcut\")]),_c('th',[_vm._v(\"Description\")])])]),_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_A)))]),_c('td',[_vm._v(\"Open add elements panel\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_B)))]),_c('td',[_vm._v(\"Open design sets modal\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_S)))]),_c('td',[_vm._v(\"Save\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_Z)))]),_c('td',[_vm._v(\"Undo\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_Z))+\" \")]),_c('td',[_vm._v(\"Redo\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_C)))]),_c('td',[_vm._v(\"Copy the active element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_V)))]),_c('td',[_vm._v(\"Paste copied element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_D)))]),_c('td',[_vm._v(\"Duplicate the active element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.ESC)))]),_c('td',[_vm._v(\"de-activate the active element \"),_c('b',[_vm._v(\"or\")]),_vm._v(\" close modal\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.BACKSPACE))),_c('br'),_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.DELETE))+\" \")]),_c('td',[_vm._v(\"Delete active element\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_OPTION_R))+\" \")]),_c('td',[_vm._v(\"Cycle to the next breakpoint\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_SLASH))),_c('br'),_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_QUESTION))+\" \")]),_c('td',[_vm._v(\"Show keyboard shortcuts help modal\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_S))+\" \")]),_c('td',[_vm._v(\"Switch between \\\"scale to fit\\\" and \\\"actual size\\\" content\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_E))+\" \")]),_c('td',[_vm._v(\" Open the rich text editor modal. Only when the Rich Text element is selected \")])])])])])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\n\n@Component({\n  components: {}\n})\nexport default class KeyboardShortcutsHelpModal extends Vue {\n  @Prop()\n  open!: boolean;\n\n  get keyboardShortcuts() {\n    return KEYBOARD_SHORTCUTS;\n  }\n\n  getKeyboardShortcutValue(keys: string[]) {\n    const isMacLike = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n    let keyCombo = keys ? keys[0] : \"\";\n    if (!isMacLike && keys.length == 2) {\n      keyCombo = keys[1];\n    }\n\n    return keyCombo.toUpperCase().split(\"+\").join(\" + \");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./KeyboardShortcutsHelpModal.vue?vue&type=template&id=1c9267f4&\"\nimport script from \"./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./KeyboardShortcutsHelpModal.vue?vue&type=style&index=0&id=1c9267f4&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio\",style:(_vm.styles)},[_c('ElementStudioWidthAdjustmentBar',{on:{\"change\":_vm.adjustWidth}}),_c('div',{staticClass:\"element-studio-wrapper\",attrs:{\"data-test-id\":\"element-studio-wrapper\"}},[(!_vm.activeItemType || _vm.activeItemType === 'element')?_c('ElementStudioElements',{attrs:{\"value\":_vm.data,\"width\":_vm.width},on:{\"input\":_vm.updateData,\"width\":_vm.updateWidth,\"active\":_vm.updateActiveItemType}}):_vm._e(),(!_vm.activeItemType || _vm.activeItemType === 'macro')?_c('ElementStudioMacros',{attrs:{\"value\":_vm.data},on:{\"input\":_vm.updateData,\"active\":_vm.updateActiveItemType}}):_vm._e(),(!_vm.activeItemType || _vm.activeItemType === 'preset')?_c('ElementStudioPresets',{attrs:{\"value\":_vm.data},on:{\"input\":_vm.updateData,\"active\":_vm.updateActiveItemType}}):_vm._e(),(!_vm.activeItemType)?_c('div',{staticClass:\"d-flex flex-column align-center justify-center pa-6\"},[_c('h4',[_vm._v(\"Element Studio is for developers and is provided as-is.\")]),_vm._m(0)]):_vm._e()],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('p',[_c('small',[_vm._v(\" No support is provided. Please read the \"),_c('a',{attrs:{\"href\":\"https://breakdance.com/documentation/developers/element-studio/\",\"target\":\"_blank\"}},[_vm._v(\"documentation\")]),_vm._v(\" before use. \")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('ElementStudioWidthAdjustmentBarAdjustmentHandle',{staticClass:\"element-studio-width-adjustment-bar\",attrs:{\"on-dragging\":_vm.dragging}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',_vm._g(_vm._b({staticClass:\"breakdance-element-studio-adjustment-handle\",on:{\"mousedown\":_vm.dragStart}},'div',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class ElementStudioWidthAdjustmentBarAdjustmentHandle extends Vue {\n  @Prop()\n  onDragging!: (e: MouseEvent, lastMouseX?: number) => void;\n\n  lastMouseX = 0;\n\n  draggingFunc(e: MouseEvent) {\n    e.preventDefault();\n\n    this.onDragging(e, this.lastMouseX);\n    this.lastMouseX = e.clientX;\n  }\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    document.addEventListener(\"mousemove\", this.draggingFunc);\n\n    document.addEventListener(\"mouseup\", this.dragEnd);\n    this.lastMouseX = e.clientX;\n\n    /* Without this, once the mouse goes over the iframe, the mousemove event stops firing\n     * Because the cursor would be inside the iframe */\n    // @ts-ignore\n    document.getElementById(\"iframe\").style.pointerEvents = \"none\";\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n\n    document.removeEventListener(\"mousemove\", this.draggingFunc);\n    document.removeEventListener(\"mouseup\", this.dragEnd);\n\n    // @ts-ignore\n    document.getElementById(\"iframe\").style.pointerEvents = \"auto\";\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=template&id=8dd64aaa&\"\nimport script from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=style&index=0&id=8dd64aaa&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBarAdjustmentHandle from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue\";\n\n@Component({\n  components: { ElementStudioWidthAdjustmentBarAdjustmentHandle }\n})\nexport default class ElementStudioWidthAdjustmentBar extends Vue {\n  dragging(e: MouseEvent, lastMouseX: number) {\n    // -1 to move to the opposite side (it does make sense)\n    this.$emit(\"change\", -1 * (e.clientX - lastMouseX));\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=template&id=6e0cbd07&\"\nimport script from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=style&index=0&id=6e0cbd07&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingElement\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.elementsSlug,\"value\":_vm.currentlyEditingElement,\"itemType\":\"element\",\"item-name\":_vm.currentlyEditingElement ? _vm.currentlyEditingElement.element.name : '',\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openElement,\"switchMode\":_vm.switchMode,\"delete\":_vm.deleteElement,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingElement}}),(_vm.currentlyEditingElement)?_c('div',{staticClass:\"element-studio-content\"},[(_vm.mode === 'split-vertical')?[_c('div',{staticClass:\"panel-50 panel-50-top-panel vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1),_c('div',{staticClass:\"panel-50 vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element,\"type\":\"secondary\"},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)]:(_vm.mode === 'split-horizontal')?[_c('div',{staticClass:\"d-flex flex-row\",staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"panel-50-h panel-50-h-first-panel vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1),_c('div',{staticClass:\"panel-50-h vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element,\"type\":\"secondary\"},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)])]:[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)]],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-top-bar d-flex\"},[(_vm.showNewItemDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"save-locations\":_vm.saveLocations,\"item-type\":_vm.itemType},on:{\"input\":_vm.saveNewItem,\"close\":function($event){_vm.showNewItemDialog = false}}}):_vm._e(),_c('div',{staticClass:\"d-flex ml-4\"},[(!_vm.value)?[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\",\"disabled\":_vm.itemsSlug.length === 0,\"data-test-id\":\"element-studio-open-element\"}},'v-btn',attrs,false),on),[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"OpenFolderIcon\",\"size\":\"18\"}}),_vm._v(\" Open \"+_vm._s(_vm.itemType)+\" \")],1)]}}],null,false,4260211493)},[_c('v-list',{staticStyle:{\"max-height\":\"500px\",\"overflow\":\"auto\"}},[_c('v-text-field',{staticClass:\"breakdance-element-studio-searchbar\",staticStyle:{\"padding\":\"12px 16px\",\"margin-bottom\":\"24px\"},attrs:{\"label\":`Search ${_vm.itemType}s`,\"flat\":\"\",\"autofocus\":\"\"},model:{value:(_vm.availableItemsSearch),callback:function ($$v) {_vm.availableItemsSearch=$$v},expression:\"availableItemsSearch\"}}),_vm._l((_vm.availableItemsBySearch),function(slug,i){return _c('v-list-item',{key:i,attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.openItem(slug)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(slug)+\" \")])],1)})],2)],1),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"text\":\"\",\"data-test-id\":\"element-studio-new-element-button\"},on:{\"click\":_vm.handleNewItem}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"AddFileIcon\"}}),_vm._v(\" New \"+_vm._s(_vm.itemType)+\" \")],1)]:_vm._e(),(_vm.value)?[_c('div',{staticClass:\"d-flex align-center flex-wrap\"},[_c('div',{staticClass:\"mr-2 element-studio-element-name\"},[_vm._v(\" \"+_vm._s(_vm.itemName)+\" \")]),_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('div',[(_vm.value.directoryPath && _vm.canSaveOrIsAdvancedUser)?_c('NiceButton',_vm._b({staticClass:\"ma-2\",attrs:{\"loading\":_vm.saveInProgress,\"data-test-id\":\"element-studio-save-button\",\"title\":\"Save element\",\"left-icon\":\"SaveIcon\"},on:{\"contextmenu\":function($event){$event.preventDefault();return on.click.apply(null, arguments)},\"click\":function($event){// https://github.com/vuetifyjs/vuetify/issues/9235#issuecomment-538504795\n                  // Use right click instead of left click to open the menu by @contextmenu.prevent\n                  // Adding comment here cuz I can't above\n                  _vm.saveOverwrite(false)}}},'NiceButton',attrs,false),[_vm._v(\" Save \")]):(!_vm.value.directoryPath || _vm.value.onlyForAdvancedUsers)?_c('NiceButton',_vm._g(_vm._b({staticClass:\"ma-2\",attrs:{\"loading\":_vm.saveInProgress,\"data-test-id\":\"element-studio-save-button\",\"title\":\"Save element\",\"left-icon\":\"SaveIcon\"},on:{\"contextmenu\":function($event){$event.preventDefault();return on.click.apply(null, arguments)}}},'NiceButton',attrs,false),on),[_vm._v(\" Save \")]):_vm._e()],1)]}}],null,false,3543840629)},[_c('v-list',[(_vm.value.directoryPath)?[(_vm.showAdvancedFeatures)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveOverwrite(true)}}},[_c('v-list-item-title',[_c('h3',[_vm._v(\"Save & Bypass Psalm...\")])])],1):(_vm.canSaveOrIsAdvancedUser)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveOverwrite(true)}}},[_c('v-list-item-title',[_c('h3',[_vm._v(\"Save\")])])],1):_vm._e()]:_vm._e(),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-title',[(_vm.availableSaveLocations.length)?_c('h3',[_vm._v(\"Save A Copy In:\")]):_c('div',[_vm._v(\" Enable saving elements by \"),_c('a',{attrs:{\"href\":\"https://github.com/soflyy/breakdance-custom-elements/\",\"target\":\"_blank\"}},[_vm._v(\"adding a save location.\")])])])],1),_vm._l((_vm.availableSaveLocations),function(saveLocation,i){return [_c('v-list-item',{key:i,attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveAs(saveLocation)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(saveLocation.label)+\" » \")])],1)]})],2)],1),(_vm.canDeleteElement)?_c('v-dialog',{attrs:{\"max-width\":\"360\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('NiceButton',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"elevation\":\"0\",\"data-test-id\":\"element-studio-delete-button\",\"title\":\"Delete element\",\"left-icon\":\"TrashIcon\"}},'NiceButton',attrs,false),on),[_vm._v(\" Delete \")])]}}],null,false,2278590123),model:{value:(_vm.deleteDialog),callback:function ($$v) {_vm.deleteDialog=$$v},expression:\"deleteDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-1\"},[_vm._v(\" Delete \\\"\"+_vm._s(_vm.itemName)+\"\\\" \"+_vm._s(_vm.itemType)+\"? \")]),_c('v-card-text',[_vm._v(\"This action cannot be undone.\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.deleteDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\" Delete \")])],1)],1)],1):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\",\"data-test-id\":\"element-studio-close-element\",\"title\":`Close ${_vm.itemType}`},on:{\"click\":_vm.closeItem}},[_c('Icon',{attrs:{\"icon\":\"CloseSquareIcon\"}})],1)],1)]:_vm._e()],2),_c('v-spacer'),(_vm.value)?_c('v-btn',{staticClass:\"mr-1 element-studio-switch-mode\",attrs:{\"icon\":\"\",\"title\":\"Switch mode\",\"data-test-id\":\"element-studio-topbar-switch-mode\"},on:{\"click\":_vm.switchMode}},[_c('Icon',{attrs:{\"icon\":\"TableColumnIcon\",\"size\":\"18\"}})],1):_vm._e(),_c('v-btn',{staticClass:\"mr-4 element-studio-close-panel\",attrs:{\"icon\":\"\",\"title\":\"Close Element Studio Panel\"},on:{\"click\":_vm.closePanel}},[_c('Icon',{attrs:{\"icon\":\"CloseCircleIcon\",\"size\":\"18\"}})],1),_c('v-dialog',{attrs:{\"value\":_vm.closeItemOrPanelDialog,\"persistent\":\"\",\"max-width\":\"400\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" You have unsaved changes \")]),_c('v-card-text',[_vm._v(\" Please save your changes before closing this \"+_vm._s(_vm.itemType)+\", or discard your changes. \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.discardChanges}},[_vm._v(\" Discard my changes \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.closeItemOrPanelDialog = false}}},[_vm._v(\" I'll save them \")])],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"value\":true,\"max-width\":\"400\",\"persistent\":\"\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Create new \"+_vm._s(_vm.itemType)+\" \")]),_c('v-card-text',{staticClass:\"pb-1\"},[_c('div',[_vm._v(\"Please enter the \"+_vm._s(_vm.itemType)+\"'s name.\")])]),_c('v-card-text',[_c('v-text-field',{attrs:{\"rules\":[_vm.nameIsValid],\"label\":\"Name\"},model:{value:(_vm.newItemName),callback:function ($$v) {_vm.newItemName=$$v},expression:\"newItemName\"}}),(!_vm.saveLocations.length)?[_c('b',[_vm._v(\"Error: no registered saving locations. Using the \"),_c('a',{attrs:{\"href\":\"https://github.com/soflyy/breakdance-custom-elements\"}},[_vm._v(\"Breakdance Custom Elements\")]),_vm._v(\" plugin will automatically register a saving location.\")])]:_c('v-radio-group',{attrs:{\"mandatory\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" Select a saving location \")]},proxy:true}]),model:{value:(_vm.newItemSaveLocation),callback:function ($$v) {_vm.newItemSaveLocation=$$v},expression:\"newItemSaveLocation\"}},[_vm._l((_vm.saveLocations),function(saveLocation){return [(_vm.showSaveLocation(saveLocation))?_c('v-radio',{key:saveLocation.directoryPath,attrs:{\"label\":saveLocation.label,\"value\":saveLocation}}):_vm._e()]})],2)],2),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeNewItemDialog}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.nameIsValid(_vm.newItemName) !== true || !_vm.newItemSaveLocation},on:{\"click\":_vm.saveNewItem}},[_vm._v(\" Create \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  ElementStudioExpectedDataToLoad,\n  ElementStudioSaveLocation,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { isValidItemName } from \"@/lib/elements/studio/misc\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Icon from \"@/components/UI/Icon.vue\";\n@Component({\n  components: { Icon }\n})\nexport default class ElementStudioSaveNewDialog extends Vue {\n  @Prop()\n  saveLocations!: ElementStudioExpectedDataToLoad[\"saveLocations\"];\n\n  @Prop()\n  itemType!: SaveLocationType;\n\n  newItemDialog = false;\n  newItemName = \"\";\n  newItemSaveLocation: ElementStudioSaveLocation | false = false;\n\n  nameIsValid(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  showSaveLocation(saveLocation: ElementStudioSaveLocation) {\n    if (saveLocation.type !== this.itemType) return false;\n\n    if (!saveLocation.onlyForAdvancedUsers) return true;\n\n    return this.showAdvancedFeatures;\n  }\n\n  saveNewItem() {\n    this.$emit(\"input\", {\n      ...this.newItemSaveLocation,\n      name: this.newItemName\n    });\n\n    this.closeNewItemDialog();\n  }\n\n  closeNewItemDialog() {\n    this.newItemDialog = false;\n    this.newItemName = \"\";\n    this.newItemSaveLocation = false;\n\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSaveNewDialog.vue?vue&type=template&id=fcdec402&\"\nimport script from \"./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  CurrentlyEditingItem,\n  ElementStudioExpectedDataToLoad,\n  ElementStudioSaveLocation,\n  ElementStudioSaveLocationWithName,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\n\n@Component({\n  components: { ElementStudioSaveNewDialog, NiceButton, Icon, Dropdown }\n})\nexport default class ElementStudioTopBar extends Vue {\n  @Prop()\n  value!: CurrentlyEditingItem | false;\n\n  @Prop()\n  saveLocations!: ElementStudioExpectedDataToLoad[\"saveLocations\"];\n\n  @Prop()\n  hasUnsavedChanges!: boolean;\n\n  @Prop()\n  itemType!: SaveLocationType;\n\n  @Prop()\n  itemName!: string;\n\n  @Prop()\n  saveInProgress!: boolean;\n\n  @Prop()\n  itemsSlug!: string[];\n\n  deleteDialog = false;\n  availableItemsSearch = \"\";\n  closeItemOrPanelDialog: false | \"panel\" | \"item\" = false;\n  showNewItemDialog = false;\n\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  mounted() {\n    document.addEventListener(\n      \"breakdanceSaveButtonClicked\",\n      this.mainAppSaveButtonClicked\n    );\n\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () => this.hasUnsavedChanges\n    );\n  }\n\n  destroyed() {\n    document.removeEventListener(\n      \"breakdanceSaveButtonClicked\",\n      this.mainAppSaveButtonClicked\n    );\n  }\n\n  beforeDestroy() {\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n  }\n\n  handleNewItem() {\n    this.showNewItemDialog = true;\n  }\n\n  get availableSaveLocations() {\n    return this.saveLocations.filter(saveLocation =>\n      this.showSaveLocation(saveLocation)\n    );\n  }\n\n  get availableItemsBySearch() {\n    return this.itemsSlug.filter(slug =>\n      slug\n        .toLowerCase()\n        .includes(this.availableItemsSearch.toLowerCase().replace(/ /g, \"\"))\n    );\n  }\n\n  get canDeleteElement() {\n    if (!this.value) return false;\n\n    return this.availableSaveLocations.find(\n      saveLocation =>\n        this.value &&\n        this.value.directoryPath &&\n        this.value.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n  }\n\n  discardChanges() {\n    if (this.closeItemOrPanelDialog === \"panel\") {\n      uiStore.toggleElementStudio();\n    }\n\n    this.closeItemOrPanelDialog = false;\n\n    this.$emit(\"discardChanges\");\n  }\n\n  mainAppSaveButtonClicked() {\n    if (this.hasUnsavedChanges) {\n      if (confirm(`Also save your Element Studio ${this.itemType}?`)) {\n        this.saveOverwrite(false);\n      }\n    }\n  }\n\n  openItem(itemSlug: string) {\n    this.availableItemsSearch = \"\";\n    this.$emit(\"open\", itemSlug);\n  }\n\n  closeItem() {\n    if (this.hasUnsavedChanges) {\n      this.closeItemOrPanelDialog = \"item\";\n    } else {\n      this.$emit(\"reset\");\n    }\n  }\n\n  closePanel() {\n    if (this.hasUnsavedChanges) {\n      this.closeItemOrPanelDialog = \"panel\";\n    } else {\n      uiStore.toggleElementStudio();\n    }\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocationWithName) {\n    this.$emit(\"saveNew\", newItem);\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    this.$emit(\"saveAs\", saveLocation);\n  }\n\n  saveOverwrite(bypassPsalm: boolean) {\n    if (\n      !this.value ||\n      !this.value.directoryPath ||\n      !this.canSaveOrIsAdvancedUser\n    ) {\n      return;\n    }\n\n    this.$emit(\"saveOverride\", bypassPsalm);\n  }\n\n  showSaveLocation(saveLocation: ElementStudioSaveLocation) {\n    if (saveLocation.type !== this.itemType) return false;\n\n    if (!saveLocation.onlyForAdvancedUsers) return true;\n\n    return this.showAdvancedFeatures;\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  get canSaveOrIsAdvancedUser() {\n    return (\n      this.value &&\n      (!this.value.onlyForAdvancedUsers || this.showAdvancedFeatures)\n    );\n  }\n\n  deleteItem() {\n    this.deleteDialog = false;\n    this.$emit(\"delete\");\n  }\n\n  switchMode() {\n    this.$emit(\"switchMode\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioTopBar.vue?vue&type=template&id=3e083ac0&\"\nimport script from \"./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioTopBar.vue?vue&type=style&index=0&id=3e083ac0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\",staticStyle:{\"height\":\"100%\"}},[(_vm.showNewMacroDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"save-locations\":_vm.available.saveLocations,\"item-type\":'macro'},on:{\"input\":_vm.saveNewMacro,\"close\":function($event){_vm.showNewMacroDialog = false}}}):_vm._e(),_c('Dropdown',{attrs:{\"value\":!!_vm.contextMenu,\"absolute\":true,\"position-x\":_vm.contextMenu.x,\"position-y\":_vm.contextMenu.y,\"transition\":false},on:{\"input\":function($event){_vm.contextMenu = false}},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_vm._t(\"default\")]},proxy:true}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":true},nativeOn:{\"click\":function($event){return _vm.handleCreateMacro.apply(null, arguments)}}},[_c('v-list-item-title',[_vm._v(\"Make into a macro\")])],1)],1)],1),_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.tab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#content\",\"title\":\"Content\",\"data-test-id\":\"element-studio-content-tab\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#design\",\"title\":\"Design\",\"data-test-id\":\"element-studio-design-tab\"}},[_c('Icon',{attrs:{\"icon\":\"PaletteIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#html\",\"title\":\"HTML\",\"data-test-id\":\"element-studio-html-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CodeIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#css\",\"title\":\"CSS\",\"data-test-id\":\"element-studio-css-tab\"}},[_c('Icon',{attrs:{\"icon\":\"Css3Icon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#defaultCss\",\"title\":\"Default CSS\",\"data-test-id\":\"element-studio-default-css-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CssIcon\",\"size\":\"16\"}})],1),(_vm.nestingRuleTypeIsContainer)?_c('v-tab',{attrs:{\"href\":\"#default-elements\",\"title\":\"Default Elements\",\"data-test-id\":\"element-studio-default-elements\"}},[_c('Icon',{attrs:{\"icon\":\"BoxIcon\",\"size\":\"16\"}})],1):_vm._e(),_c('v-tab',{attrs:{\"href\":\"#attributes\",\"title\":\"HTML Attributes\",\"data-test-id\":\"element-studio-attributes\"}},[_c('Icon',{attrs:{\"icon\":\"AttributesIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#prop-paths\",\"title\":\"Property Paths\",\"data-test-id\":\"element-studio-property-paths\"}},[_c('Icon',{attrs:{\"icon\":\"SlidersSimpleIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#dependencies\",\"title\":\"Dependencies\",\"data-test-id\":\"element-studio-dependencies-tab\"}},[_c('Icon',{attrs:{\"icon\":\"DownloadFileIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#actions\",\"title\":\"Actions\",\"data-test-id\":\"element-studio-actions-tab\"}},[_c('Icon',{attrs:{\"icon\":\"ActionsIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\",\"data-test-id\":\"element-studio-settings-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CogsIcon\",\"size\":\"16\"}})],1)],1)],1),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[(_vm.tab === 'settings')?_c('div',[_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"font-weight-bold\"},[_vm._v(\"Slug\")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.element.slug))])],1)],1),_c('div',{staticClass:\"px-4 pt-2\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"value\":_vm.element.name,\"data-test-id\":\"element-studio-name-input\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updateElementName}}),(_vm.nameHasChanged)?_c('v-btn',{staticClass:\"ml-3\",attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.updateSlug}},[_vm._v(\" Update slug \")]):_vm._e()],1),_c('v-text-field',{staticClass:\"mb-4\",attrs:{\"label\":\"Class Name\",\"placeholder\":\"the_best_class\",\"value\":_vm.element.className || '',\"data-test-id\":\"element-studio-classname-input\",\"persistent-hint\":\"\",\"hint\":\"Updating the Class Name will make the previous class obsolete. You'll need to update your CSS\",\"rules\":[_vm.htmlClassNameRule]},on:{\"input\":_vm.updateClassName}}),_c('v-select',{attrs:{\"items\":_vm.elementCategories,\"label\":\"Category\",\"value\":_vm.cleanElement.category},on:{\"input\":function($event){return _vm.updateElementValue('category', $event)}}}),_c('div',{staticClass:\"breakdance-element-studio-element-badges\"},[_c('v-autocomplete',{attrs:{\"clearable\":\"\",\"items\":_vm.badgeColors,\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.backgroundColor : false,\"label\":\"Badge Background\"},on:{\"input\":function($event){return _vm.updateElementValue('badge.backgroundColor', $event)}}}),_c('v-autocomplete',{attrs:{\"clearable\":\"\",\"items\":_vm.badgeColors,\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.textColor : false,\"label\":\"Badge Text\"},on:{\"input\":function($event){return _vm.updateElementValue('badge.textColor', $event)}}}),_c('v-text-field',{attrs:{\"label\":\"Badge Label\",\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.label : false},on:{\"input\":function($event){return _vm.updateElementValue('badge.label', $event)}}}),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.updateElementValue('badge', false)}}},[_vm._v(\"clear badge\")])],1),_c('h3',[_vm._v(\"HTML Tag options\")]),_c('div',{staticClass:\"breakdance-element-studio__html-tags\"},[_c('v-autocomplete',{attrs:{\"label\":\"Default Tag\",\"value\":_vm.cleanElement.htmlTag.default,\"hint\":\"Tag of the root element\",\"clearable\":\"\",\"items\":_vm.defaultTag},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.default', $event)}}}),_c('v-autocomplete',{attrs:{\"label\":\"Tag Options\",\"value\":_vm.cleanElement.htmlTag.options,\"items\":_vm.htmlTags,\"multiple\":true,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.options', $event)}}}),_c('v-autocomplete',{attrs:{\"label\":\"Get the Tag from a Control's path\",\"value\":_vm.cleanElement.htmlTag.pathToControl || '',\"items\":_vm.pathsToAllControls,\"hint\":\"This will disable the 'Settings -> Html -> Tag' control\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.pathToControl', $event)}}})],1),_c('h3',[_vm._v(\"UI Icon\")]),_c('div',{staticClass:\"mb-5 d-flex align-center\"},[(_vm.showAdvancedFeatures)?[_c('ToggleInput',{attrs:{\"value\":_vm.useLocalIcon},on:{\"input\":_vm.updateUseLocalIcon}}),_c('span',{staticClass:\"mr-4\"},[_vm._v(\"Local\")])]:_vm._e(),_c('div',{staticClass:\"d-flex align-center\"},[_c('ElementIcon',{staticClass:\"mr-2\",attrs:{\"icon\":_vm.cleanElement.uiIcon || 'SquareIcon',\"size\":\"16\"}}),(_vm.useLocalIcon && _vm.showAdvancedFeatures)?_c('ElementStudioIconsAutocomplete',{attrs:{\"value\":_vm.cleanElement.uiIcon || 'SquareIcon'},on:{\"input\":_vm.updateUiIcon}}):_c('v-text-field',{attrs:{\"label\":\"SVG code for icon\",\"value\":_vm.cleanElement.uiIcon,\"data-test-id\":\"element-studio-ui-icon-input\"},on:{\"input\":_vm.updateUiIcon}})],1)],2),_c('v-text-field',{attrs:{\"label\":\"UI Order (number)\",\"value\":_vm.cleanElement.order},on:{\"input\":_vm.updateUiOrder}}),_c('h3',[_vm._v(\"Nesting rules\")]),_c('v-autocomplete',{attrs:{\"items\":_vm.containerRestrictedElements,\"label\":\"Element to be a direct child of\",\"hint\":\"This element will only be allowed as a direct child of the selected elements\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.restrictedToBeADirectChildOf,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.restrictedToBeADirectChildOf',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('v-autocomplete',{staticClass:\"mt-4\",attrs:{\"items\":_vm.elementsThisElementIsAllowedToBeInsideOf,\"label\":\"Element to be a descendant of\",\"hint\":\"This element will only be allowed inside the selected elements\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.restrictedToBeADescendantOf,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.restrictedToBeADescendantOf',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('v-autocomplete',{staticClass:\"mt-4\",attrs:{\"items\":_vm.allElementSlugs,\"label\":\"Disallow if others are present\",\"hint\":\"This element will not be allowed on a page if one of the following elements is already present on the page\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.notAllowedWhenNodeTypeIsPresentInTree,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.notAllowedWhenNodeTypeIsPresentInTree',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('h3',[_vm._v(\"Misc options\")]),_c('v-select',{attrs:{\"items\":_vm.elementType,\"label\":\"Element Type\",\"value\":_vm.cleanElement.nestingRule.type,\"hint\":\"Only change to create complex elements\",\"persistent-hint\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('nestingRule.type', $event)}}}),_c('v-combobox',{staticClass:\"mt-3\",attrs:{\"label\":\"Required plugins\",\"items\":_vm.requiredPluginItems,\"hide-details\":\"\",\"value\":_vm.cleanElement.settings ? _vm.cleanElement.settings.requiredPlugins : [],\"multiple\":true},on:{\"input\":function($event){return _vm.updateElementValue(\n              'settings.requiredPlugins',\n              $event && $event.length ? $event : undefined\n            )}}}),_c('v-checkbox',{attrs:{\"label\":\"Is Pro Only\",\"input-value\":_vm.cleanElement.settings && _vm.cleanElement.settings.proOnly,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('settings.proOnly', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Element depends on global scripts to work\",\"input-value\":_vm.cleanElement.settings &&\n              _vm.cleanElement.settings.dependsOnGlobalScripts,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('settings.dependsOnGlobalScripts', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Experimental Element?\",\"input-value\":_vm.cleanElement.experimental,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('experimental', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Bypass Pointer Events\",\"hint\":\"Use this if clicking on the element doesn't active it, but instead clicks something inside of it\",\"persistent-hint\":\"\",\"input-value\":_vm.cleanElement.settings && _vm.cleanElement.settings.bypassPointerEvents},on:{\"change\":function($event){return _vm.updateElementValue('settings.bypassPointerEvents', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Share props with SSR children\",\"hint\":\"Use this if you need to access the properties data from this element in a child SSR element.\",\"persistent-hint\":\"\",\"input-value\":_vm.cleanElement.settings &&\n              _vm.cleanElement.settings.sharePropsWithSSRChildren},on:{\"change\":function($event){return _vm.updateElementValue('settings.shareStateWithChildSSR', !!$event)}}}),_c('div',{staticClass:\"pt-4\"},[_c('h3',[_vm._v(\"Add panel rules\")]),_c('v-checkbox',{attrs:{\"label\":\"Always hide element from the Add Panel\",\"input-value\":_vm.cleanElement.addPanelRules &&\n                _vm.cleanElement.addPanelRules.alwaysHide,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('addPanelRules.alwaysHide', !!$event)}}}),(\n              !_vm.cleanElement.addPanelRules ||\n                !_vm.cleanElement.addPanelRules.alwaysHide\n            )?[_c('v-combobox',{attrs:{\"label\":\"Allowed post type\",\"items\":['breakdance_template'],\"hide-details\":\"\",\"value\":_vm.cleanElement.addPanelRules\n                  ? _vm.cleanElement.addPanelRules.allowedPostTypes\n                  : [],\"multiple\":true},on:{\"input\":function($event){return _vm.updateElementValue(\n                  'addPanelRules.allowedPostTypes',\n                  $event && $event.length ? $event : undefined\n                )}}})]:_vm._e()],2),_c('ElementStudioDefaultProperties',{staticClass:\"my-8\",attrs:{\"elementSlug\":_vm.cleanElement.slug,\"value\":_vm.cleanElement.defaultProperties},on:{\"input\":function($event){return _vm.updateElementValue('defaultProperties', $event)}}})],1)],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'design'),expression:\"tab === 'design'\"}]},[_c('ElementStudioControls',{attrs:{\"value\":_vm.cleanElement.controls,\"section\":\"design\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'content'),expression:\"tab === 'content'\"}]},[_c('ElementStudioControls',{attrs:{\"value\":_vm.cleanElement.controls,\"section\":\"content\"}})],1),(_vm.tab === 'html')?_c('div',[_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.template,\"tags\":_vm.tags,\"twig-variables\":_vm.pathsToAllControls,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateElementValue('template', $event || '')}}})],1):_vm._e(),(_vm.tab === 'css')?_c('div',[_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.cssTemplate,\"tags\":_vm.tags,\"twig-variables\":_vm.pathsToAllControls,\"language\":\"css\"},on:{\"input\":function($event){return _vm.updateElementValue('cssTemplate', $event || '')}}})],1):_vm._e(),(_vm.tab === 'defaultCss')?_c('div',[_c('div',{staticClass:\"px-4 py-2\"},[_vm._v(\" Element's class: \"),_c('span',{staticClass:\"font-weight-bold mr-2\"},[_vm._v(_vm._s(_vm.elementClass))]),_c('CopyButton',{attrs:{\"value-to-copy\":'.breakdance ' + _vm.elementClass}})],1),_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.defaultCss,\"language\":\"css\"},on:{\"input\":function($event){return _vm.updateElementValue('defaultCss', $event || '')}}})],1):_vm._e(),(_vm.nestingRuleTypeIsContainer)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'default-elements'),expression:\"tab === 'default-elements'\"}],staticClass:\"studio-default-elements-panel\"},[_c('ElementStudioDefaultElements',{attrs:{\"value\":_vm.cleanElement.defaultChildren,\"parent-element-slug\":_vm.cleanElement.slug},on:{\"input\":function($event){return _vm.updateElementValue('defaultChildren', $event ? $event : '')}}})],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'attributes'),expression:\"tab === 'attributes'\"}],staticClass:\"studio-dependencies-panel\"},[_vm._v(\" Attributes are added to the container of the element \"),_c('ElementStudioAttributes',{attrs:{\"value\":_vm.cleanElement.attributes},on:{\"input\":function($event){return _vm.updateElementValue('attributes', $event)}}}),_c('br'),_vm._v(\" Classes are added to the container of the element \"),_c('ElementStudioAdditionalClasses',{attrs:{\"value\":_vm.cleanElement.additionalClasses || []},on:{\"input\":function($event){return _vm.updateElementValue('additionalClasses', $event)}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'prop-paths'),expression:\"tab === 'prop-paths'\"}]},[_c('ElementStudioManagePropertyPaths',{attrs:{\"value\":_vm.cleanElement}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'dependencies'),expression:\"tab === 'dependencies'\"}],staticClass:\"studio-dependencies-panel\"},[_c('ElementStudioDependencies',{attrs:{\"value\":_vm.cleanElement.dependencies}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'actions'),expression:\"tab === 'actions'\"}]},[_c('ElementStudioAction',{attrs:{\"action-key\":\"onPropertyChange\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after one of this element's property changes (a value in a control) \")]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"control's path\")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"design.background.color\")]),_vm._v(\": action will only run for that path. \"),_c('code',[_vm._v(\"design.background.*\")]),_vm._v(\": action will run for any control below 'background' \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onMovedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after this element is moved in the canvas \")]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"element's and moved-on element's type \")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"EssentialElements\\\\Text\")]),_vm._v(\": action will only run if element being moved is of that type, \"),_c('b',[_vm._v(\"OR\")]),_vm._v(\" if the element was moved onto an element with that type. \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onAfterDeletedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs AFTER this element was deleted \"),_c('br')]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"deleted element's parent type\")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"EssentialElements\\\\Section\")]),_vm._v(\": action will only run if the deleted element was inside a Section element. \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onBeforeDeletingElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs BEFORE this element is deleted \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onMountedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after this element renders in the canvas \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onCreatedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after adding this element to the canvas for the first time \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onActivatedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after the element is activated (selected) \")]},proxy:true}])})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('draggable',{attrs:{\"value\":_vm.value[this.sectionName]},on:{\"input\":_vm.handleDrag}},_vm._l((_vm.value[this.sectionName]),function(control,i){return _c('ControlSectionOrControl',{key:control.slug,attrs:{\"value\":control,\"index\":i,\"path\":`${_vm.sectionName}[${i}]`,\"parentPath\":_vm.sectionName,\"twigParentPath\":_vm.section}})}),1),_c('div',{staticClass:\"text-center py-4\"},[_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-control-section\"},on:{\"click\":_vm.addSection}},[_vm._v(\" Add Control Section \")]),_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\"},on:{\"click\":_vm.addPreset}},[_vm._v(\" Add Preset \")]),(_vm.canPaste)?_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\"},on:{\"click\":_vm.handlePaste}},[_vm._v(\" Paste \")]):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[(_vm.showNewPresetDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"item-type\":'preset',\"save-locations\":_vm.elementStudioData.saveLocations},on:{\"input\":_vm.saveNewPreset,\"close\":function($event){_vm.showNewPresetDialog = false}}}):_vm._e(),_c('div',{class:_vm.classList},[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState[_vm.index],\"disableToggle\":_vm.isPresetSection},on:{\"toggle\":function($event){return _vm.toggleAccordion(_vm.index)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-row justify-space-between align-center\",attrs:{\"data-test-id\":\"element-studio-control-accordion\"}},[(_vm.value.options.type !== 'section' || _vm.isPresetSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open Twig Code Helper\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"BracketsIcon\"}})],1)]}}],null,false,1714806599),model:{value:(_vm.codeHelpOpen),callback:function ($$v) {_vm.codeHelpOpen=$$v},expression:\"codeHelpOpen\"}},[_c('v-card',{staticClass:\"element-studio-poppy-card\",staticStyle:{\"width\":\"400px\",\"height\":\"300px\"}},[_c('TwigCodeHelper',{key:_vm.keyToRerenderCodeHelp,attrs:{\"control\":_vm.value,\"twigParentPath\":_vm.twigParentPath,\"inRepeater\":_vm.isParentARepeater},on:{\"close\":function($event){_vm.codeHelpOpen = false}}})],1)],1):_vm._e(),_c('input',{staticClass:\"element-studio-control-label-input\",attrs:{\"placeholder\":\"Label\"},domProps:{\"value\":_vm.value.label},on:{\"click\":function($event){$event.stopPropagation();},\"focusout\":_vm.updateLabelAndSlugOnFocusOut}}),(_vm.isPresetSection)?_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-2\",attrs:{\"value\":_vm.presetSectionSlug,\"items\":_vm.availablePresetSections,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\"},on:{\"input\":_vm.updatePresetSectionSlug}}):_vm._e(),(_vm.value.options.type !== 'section')?_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-2\",attrs:{\"value\":_vm.value.options.type,\"items\":_vm.controlTypes,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\"},on:{\"input\":_vm.updateControlType}}):_vm._e(),(!_vm.isSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open options\",\"data-test-id\":\"element-studio-control-open-options\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"SlidersIcon\",\"size\":\"12\"}})],1)]}}],null,false,1074570844)},[_c('v-card',{staticClass:\"element-studio-poppy-card\",attrs:{\"data-test-id\":\"element-studio-control-options-card\"}},[_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make this control's value available in all breakpoints\",\"input-value\":!!_vm.shouldControlValueBeAddedInAllBreakpoints,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToWhitelistInFlatProps}}),(_vm.autofocusSupported)?_c('v-switch',{attrs:{\"label\":\"Autofocus\",\"value\":_vm.value.options.autofocus},on:{\"change\":function($event){return _vm.updateOptions($event, 'autofocus')}}}):_vm._e(),(_vm.hasSsr)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make the element SSR when this control's value changes\",\"input-value\":!!_vm.shouldControlValueCauseSsr,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToSsrElementWhenValueChanges}}):_vm._e(),(\n                  _vm.value.options.type === 'alert_box' ||\n                    _vm.value.options.type === 'pro_only_alert_box'\n                )?[_c('ElementStudioAlertBoxOptions',{attrs:{\"value\":_vm.value.options.alertBoxOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'alertBoxOptions')}}})]:_vm._e(),(_vm.value.options.type === 'date_picker')?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Date picker options\")]),_c('DropdownInput',{attrs:{\"value\":_vm.value.options.datePickerOptions\n                      ? Object.keys(_vm.value.options.datePickerOptions)[0]\n                      : '',\"items\":_vm.datePickerOptions,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateOptions(\n                      {\n                        [$event]: $event\n                      },\n                      'datePickerOptions'\n                    )}}})]:_vm._e(),(\n                  _vm.value.options.type === 'multiselect' ||\n                    _vm.value.options.type === 'dropdown' ||\n                    _vm.value.options.type === 'button_bar'\n                )?[_c('ElementStudioDropdownOptions',{attrs:{\"path\":_vm.path,\"control\":_vm.value,\"value\":_vm.value.options.dropdownOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'dropdownOptions')},\"updateDropdownItems\":_vm.updateDropdownItems,\"updateDropdownItem\":_vm.updateDropdownItem}})]:_vm._e(),(_vm.value.options.type === 'button_bar')?[_c('v-switch',{attrs:{\"label\":\"Big Button Bar\",\"value\":_vm.value.options.buttonBarOptions &&\n                      _vm.value.options.buttonBarOptions.size === 'big' &&\n                      _vm.value.options.buttonBarOptions.layout === 'default',\"hide-details\":\"\"},on:{\"change\":_vm.updateButtonBarOptionsSize}}),_c('v-switch',{attrs:{\"label\":\"Multiline Bar\",\"value\":_vm.value.options.buttonBarOptions &&\n                      _vm.value.options.buttonBarOptions.layout === 'multiline' &&\n                      _vm.value.options.buttonBarOptions.size === 'small',\"hide-details\":\"\"},on:{\"change\":_vm.updateButtonBarOptionsLayout}})]:_vm._e(),(_vm.value.options.type === 'trigger_action_button')?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Trigger action button options\")]),_c('TextInput',{staticClass:\"mr-3 d-inline-block\",attrs:{\"label\":\"Button Text\",\"value\":_vm.value.options.triggerActionsButtonOptions &&\n                      _vm.value.options.triggerActionsButtonOptions.text},on:{\"input\":function($event){return _vm.updateOptions(\n                      {\n                        ..._vm.value.options.triggerActionsButtonOptions,\n                        text: $event || ''\n                      },\n                      'triggerActionsButtonOptions'\n                    )}}}),_c('ElementStudioIconsAutocomplete',{staticClass:\"d-inline-block\",attrs:{\"value\":_vm.value.options.triggerActionsButtonOptions &&\n                      _vm.value.options.triggerActionsButtonOptions.icon},on:{\"input\":function($event){return _vm.updateOptions(\n                      {\n                        ..._vm.value.options.triggerActionsButtonOptions,\n                        icon: $event\n                      },\n                      'triggerActionsButtonOptions'\n                    )}}})]:_vm._e(),(_vm.isRepeater)?[_c('ElementStudioRepeaterOptions',{attrs:{\"control\":_vm.value,\"value\":_vm.value.options.repeaterOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'repeaterOptions')}}})]:_vm._e(),(_vm.value.options.type === 'unit')?[_c('ElementStudioUnitOptions',{attrs:{\"value\":_vm.value.options.unitOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'unitOptions')}}})]:_vm._e(),(_vm.value.options.type === 'wpmedia')?[_c('ElementStudioMediaOptions',{attrs:{\"value\":_vm.value.options.mediaOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'mediaOptions')}}})]:_vm._e(),(_vm.value.options.type === 'video')?[_c('ElementStudioVideoOptions',{attrs:{\"value\":_vm.value.options.videoOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'videoOptions')}}})]:_vm._e(),(\n                  _vm.value.options.type === 'unit' ||\n                    _vm.value.options.type === 'number' ||\n                    _vm.value.options.type === 'slider'\n                )?[_c('ElementStudioRangeOptions',{attrs:{\"value\":_vm.value.options.rangeOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'rangeOptions')}}})]:_vm._e(),(_vm.value.options.type === 'shadow')?[_vm._v(\" Shadow Type \"),_c('v-select',{staticClass:\"pt-3\",attrs:{\"dense\":\"\",\"items\":_vm.shadowTypes,\"value\":(_vm.value.options.shadowOptions &&\n                      _vm.value.options.shadowOptions.type) ||\n                      'box'},on:{\"input\":_vm.updateShadowType}})]:_vm._e(),(_vm.value.options.type === 'breakpoint_dropdown')?[_c('ElementStudioBreakpointOptions',{attrs:{\"value\":_vm.value.options.breakpointOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'breakpointOptions')}}})]:_vm._e(),(_vm.value.options.type === 'text')?[_c('v-switch',{attrs:{\"label\":\"Multiline\",\"value\":_vm.value.options.textOptions &&\n                      _vm.value.options.textOptions.multiline,\"hide-details\":\"\"},on:{\"change\":_vm.updateTextOptionsMultiline}})]:_vm._e(),(_vm.value.options.type === 'focus_point')?[_c('ElementStudioFocusPointOptions',{attrs:{\"value\":_vm.value.options.focusPointOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'focusPointOptions')}}})]:_vm._e(),(_vm.value.options.type === 'media_size_dropdown')?[_c('ElementStudioMediaSizeOptions',{attrs:{\"value\":_vm.value.options.mediaSizeOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'mediaSizeOptions')}}})]:_vm._e(),(_vm.value.options.type === 'post_chooser')?[_c('ElementStudioPostChooserOptions',{attrs:{\"value\":_vm.value.options.postChooserOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'postChooserOptions')}}})]:_vm._e(),(_vm.value.options.type === 'icon')?[_c('ElementStudioIconOptions',{attrs:{\"value\":_vm.value.options.iconOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'iconOptions')}}})]:_vm._e(),(_vm.value.options.type === 'color')?[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Color Type\")]),_c('DropdownInput',{attrs:{\"value\":(_vm.value.options.colorOptions &&\n                      _vm.value.options.colorOptions.type) ||\n                      'solidOnly',\"items\":[\n                    { text: 'Solid Only', value: 'solidOnly' },\n                    { text: 'Solid and Gradient', value: 'solidAndGradient' },\n                    { text: 'Gradient Only', value: 'gradientOnly' }\n                  ]},on:{\"input\":_vm.updateColorType}})]:_vm._e(),(!_vm.isSection)?[_c('h3',[_vm._v(\"Dynamic Property\")]),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable dynamic property\",\"input-value\":!!_vm.dynamicPropertyPath,\"hide-details\":\"\"},on:{\"change\":_vm.updateDynamicPropertyPaths}}),(!!_vm.dynamicPropertyPath)?[_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make dynamic data Pro only\",\"input-value\":_vm.dynamicPropertyPath && _vm.dynamicPropertyPath.proOnly,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateDynamicPropertyPaths(\n                        true,\n                        _vm.dynamicPropertyPath\n                          ? _vm.dynamicPropertyPath.accepts\n                          : undefined,\n                        $event\n                      )}}}),_c('h4',{staticClass:\"mb-1\"},[_vm._v(\"Dynamic Property Type\")]),_c('DropdownInput',{attrs:{\"items\":_vm.dynamicPathAcceptsItems,\"value\":_vm.dynamicPropertyPath.accepts},on:{\"input\":function($event){return _vm.updateDynamicPropertyPaths(true, $event)}}})]:_vm._e()]:_vm._e(),(_vm.value.options.type === 'add_registered_children')?[_c('h3',[_vm._v(\"Registered Children options: add extra elements\")]),(!_vm.availableDescendantElements.length)?_c('div',[_vm._v(\" No available extra elements. \")]):_c('div',{staticClass:\"d-flex align-center\"},[_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-4 mt-2\",attrs:{\"items\":_vm.availableDescendantElements,\"value\":_vm.value.options.addRegisteredChildrenOptions &&\n                        _vm.value.options.addRegisteredChildrenOptions\n                          .addExtraElementsBySlug,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\",\"multiple\":\"\"},on:{\"input\":_vm.updateAddExtraElementsBySlug}}),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\"},on:{\"click\":function($event){return _vm.updateAddExtraElementsBySlug([])}}})],1)]:_vm._e(),(_vm.value.options.type === 'code')?[_c('h3',[_vm._v(\"Code input options\")]),_c('DropdownInput',{staticClass:\"pt-3\",attrs:{\"items\":_vm.codeTypes,\"value\":_vm.value.options.codeOptions &&\n                      _vm.value.options.codeOptions.language},on:{\"input\":_vm.updateCodeType}})]:_vm._e(),(\n                  _vm.value.options.type === 'text' ||\n                    _vm.value.options.type === 'richtext'\n                )?[_c('ElementStudioVariableOptions',{attrs:{\"path\":_vm.path,\"control\":_vm.value,\"value\":_vm.value.options.variableOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'variableOptions')},\"updateVariableItems\":_vm.updateVariableItems,\"updateVariableItem\":_vm.updateVariableItem}})]:_vm._e(),_c('h3',[_vm._v(\"Misc Options\")]),(_vm.isInContentTab)?[_c('v-checkbox',{attrs:{\"label\":\"See content editable code\",\"hide-details\":\"\"},model:{value:(_vm.showContentEditableCode),callback:function ($$v) {_vm.showContentEditableCode=$$v},expression:\"showContentEditableCode\"}}),(_vm.showContentEditableCode)?[_c('Copyable',{staticClass:\"element-studio-inline-helper-code\",attrs:{\"shouldCopy\":false}},[_vm._v(\" \"+_vm._s(_vm.contentEditableHelperCode)+\" \")])]:_vm._e()]:_vm._e(),_c('div',[(!_vm.isInContentTab)?[_c('div',{staticClass:\"d-flex flex-row\"},[_c('v-checkbox',{attrs:{\"disabled\":_vm.canHaveMediaQueries,\"label\":\"Enable Media Queries\",\"input-value\":_vm.value.enableMediaQueries,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateControlBoolean($event, 'enableMediaQueries')}}})],1)]:_vm._e(),_c('div',{staticClass:\"d-flex flex-row\"},[_c('v-checkbox',{attrs:{\"label\":\"Enable Hover\",\"input-value\":_vm.value.enableHover,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateControlBoolean($event, 'enableHover')}}})],1),_c('h3',[_vm._v(\"Layout\")]),_c('DropdownInput',{staticClass:\"pt-3\",attrs:{\"items\":_vm.controlLayouts,\"value\":_vm.value.options.layout},on:{\"input\":_vm.updateControlLayout}}),(\n                    _vm.value.options.type === 'text' ||\n                      _vm.value.options.type === 'dropdown' ||\n                      _vm.value.options.type === 'multiselect'\n                  )?[_c('h3',[_vm._v(\"Placeholder\")]),_c('TextInput',{attrs:{\"value\":_vm.value.options.placeholder},on:{\"input\":_vm.updatePlaceholder}})]:_vm._e(),_c('h3',[_vm._v(\"Keywords\")]),_c('TextInput',{attrs:{\"value\":_vm.keywordsValue},on:{\"input\":_vm.updateKeywords}}),_c('ElementStudioConditionInput',{attrs:{\"value\":_vm.value.options.condition},on:{\"input\":_vm.updateConditions}}),_c('ElementStudioHideControlInput',{attrs:{\"value\":_vm.value.options.hideForElements},on:{\"input\":_vm.updateHideForElements,\"remove\":_vm.deleteHideForElements}})],2)],2)],1):_vm._e(),(_vm.isSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open options\",\"data-test-id\":\"element-studio-control-open-options\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"SlidersIcon\",\"size\":\"12\"}})],1)]}}],null,false,1074570844)},[_c('v-card',{staticClass:\"element-studio-poppy-card\",attrs:{\"data-test-id\":\"element-studio-control-options-card\"}},[(!_vm.isPresetSection)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make all control values in this section available in all breakpoints\",\"input-value\":!!_vm.shouldControlValueBeAddedInAllBreakpoints,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToWhitelistInFlatProps}}):_vm._e(),(_vm.hasSsr)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make the element SSR when any child control value changes\",\"input-value\":!!_vm.shouldControlValueCauseSsr,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToSsrElementWhenValueChanges}}):_vm._e(),_c('h3',[_vm._v(\"Section Layout\")]),_c('v-select',{staticClass:\"pt-3\",attrs:{\"dense\":\"\",\"items\":_vm.sectionLayouts,\"value\":_vm.value.options.sectionOptions &&\n                    _vm.value.options.sectionOptions.type},on:{\"input\":_vm.updateSectionLayoutType}}),_c('ElementStudioConditionInput',{attrs:{\"value\":_vm.value.options.condition},on:{\"input\":_vm.updateConditions}}),_c('ElementStudioHideControlInput',{attrs:{\"value\":_vm.value.options.hideForElements},on:{\"input\":_vm.updateHideForElements,\"remove\":_vm.deleteHideForElements}}),(_vm.spacingBarPresetSlug)?[_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable spacing bars\",\"input-value\":_vm.isSpacingBarEnabled(),\"hide-details\":\"\"},on:{\"change\":_vm.updateSpacingBar}})]:_vm._e()],2)],1):_vm._e(),_c('v-spacer'),_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"mr-1\",attrs:{\"color\":\"black\",\"icon\":\"\",\"small\":\"\"}},on),[_c('Icon',{attrs:{\"icon\":\"EllipsisIcon\",\"size\":\"18\"}})],1)]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.copy}},[_c('v-list-item-title',[_vm._v(\"Copy\")])],1),(_vm.canPaste)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handlePaste}},[_c('v-list-item-title',[_vm._v(\"Paste As Child\")])],1):_vm._e(),(_vm.canReplace)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handleReplace}},[_c('v-list-item-title',[_vm._v(\"Replace\")])],1):_vm._e(),(_vm.isSection)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handleMakePreset}},[_c('v-list-item-title',[_vm._v(\"Make into a Preset\")])],1):_vm._e()],1)],1),_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"black\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteControl.apply(null, arguments)}}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"12\"}})],1)],1)]},proxy:true},{key:\"content\",fn:function(){return [_c('draggable',{attrs:{\"value\":_vm.value.children},on:{\"input\":_vm.handleDrag}},_vm._l((_vm.value.children),function(control,i){return _c('ControlSectionOrControl',{key:control.slug,attrs:{\"value\":control,\"path\":`${_vm.path}.children[${i}]`,\"index\":i,\"parentPath\":_vm.path,\"twigParentPath\":`${_vm.twigParentPath}${_vm.isParentARepeater ? `[${i}]` : ''}.${\n                _vm.value.slug\n              }`,\"parentControl\":_vm.value}})}),1),(_vm.controlAcceptsChildren)?_c('v-btn',{staticClass:\"mt-2\",attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-control\"},on:{\"click\":_vm.addControl}},[_vm._v(\" Add Control \")]):_vm._e(),(_vm.controlAcceptsChildren)?_c('v-btn',{staticClass:\"mt-2\",attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-preset\"},on:{\"click\":_vm.addPreset}},[_vm._v(\" Add Preset \")]):_vm._e()]},proxy:true}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"d-flex\"},[_c('v-text-field',_vm._b({staticClass:\"breakdance-dense-input\",attrs:{\"value\":_vm.value,\"rules\":_vm.rules,\"clearable\":_vm.clearable,\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"data-test-id\":_vm.testId},on:{\"input\":_vm.edit,\"blur\":function($event){return _vm.$emit('blur', $event)}}},'v-text-field',_vm.inputOptions,false))],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class TextInput extends Vue {\n  @Prop()\n  value: unknown;\n  @Prop()\n  inputOptions!: HTMLInputElement; // we should get rid of the input options... they're never used\n\n  @Prop()\n  rules!: ((v: string) => string)[];\n  @Prop()\n  testId!: string;\n  @Prop({ default: true })\n  clearable!: boolean;\n\n  get isNumber() {\n    return this.inputOptions?.type === \"number\";\n  }\n  edit(newVal: unknown) {\n    if (this.isNumber && newVal) {\n      this.$emit(\"input\", parseFloat(newVal as string));\n    } else {\n      this.$emit(\"input\", newVal);\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ShittyTextInput.vue?vue&type=template&id=cdfb68de&\"\nimport script from \"./ShittyTextInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShittyTextInput.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ShittyTextInput.vue?vue&type=style&index=0&id=cdfb68de&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-element-studio-twig-code-helper\"},[(_vm.codeForControl)?_c('Copyable',{on:{\"onCopy\":_vm.close}},[_vm._v(_vm._s(_vm.codeForControl))]):[_vm._v(\"No code help available for \"),_c('code',[_vm._v(_vm._s(_vm.control.options.type))]),_vm._v(\" control type\")]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-element-studio-copyable\"},[_c('textarea',{ref:\"input\",attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.textToCopy}}),(_vm.shouldCopy)?_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":_vm.copy}},[_vm._v(\"Copy\")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class Copyable extends Vue {\n  @Prop({ default: true })\n  shouldCopy!: boolean;\n\n  mounted() {\n    if (!this.shouldCopy) return;\n\n    forceNextTick(() => {\n      // @ts-ignore\n      this.$refs.input.select();\n      document.execCommand(\"copy\");\n    });\n  }\n  get textToCopy() {\n    // @ts-ignore\n    return this.$slots?.default[0]?.text || \"\";\n  }\n\n  copy() {\n    // @ts-ignore\n    this.$refs.input.select();\n    document.execCommand(\"copy\");\n    this.$emit(\"onCopy\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Copyable.vue?vue&type=template&id=0c6b2256&\"\nimport script from \"./Copyable.vue?vue&type=script&lang=ts&\"\nexport * from \"./Copyable.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Copyable.vue?vue&type=style&index=0&id=0c6b2256&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable @typescript-eslint/naming-convention */\nimport { Control, ControlConditions, ControlType } from \"@/types/controls\";\nimport { spacingBarsPresetSlug } from \"@/lib/elements/constants\";\n\ntype CodeHelperParams = { control: Control; twigPath: string };\n\nconst wrapPathWithMustaches = ({ twigPath }: CodeHelperParams) => {\n  return \"{{ \" + twigPath + \" }}\";\n};\n\nconst toggleCode = ({ twigPath }: CodeHelperParams) => {\n  return `{% if ${twigPath} %}\ntoggle is on\n{% else %}\ntoggle is off\n{% endif %}`;\n};\n\nconst dropdownOrButtonBarCode = ({ control, twigPath }: CodeHelperParams) => {\n  // TODO: use strict equality? Is this shit always a string? Couldnt it values be a number or some shit? Or is it a string by the time it gets to Twig?\n  // or since we dont know, dont use strict equality? lol this sounds like it could waste an unlucky element developer's time\n  return control.options.items\n    ? control.options.items\n        .map((item, index) => {\n          const ifOrElseIf = index ? \"elseif\" : \"if\";\n          return (\n            `{% ${ifOrElseIf} ${twigPath} == '${item.value}' %}` +\n            `\\n  CSS or HTML here` +\n            `\\n`\n          );\n        })\n        .join(\"\") + \"\\n{% endif %}\"\n    : \"no items yo\";\n};\n\nconst multiselectCode = ({ control, twigPath }: CodeHelperParams) => {\n  return control.options.items\n    ? control.options.items\n        .map((item, index) => {\n          const ifOrElseIf = index ? \"elseif\" : \"if\";\n          return (\n            `{% ${ifOrElseIf} '${item.value}' in ${twigPath} %}` +\n            `\\n  CSS or HTML here` +\n            `\\n`\n          );\n        })\n        .join(\"\") + \"\\n{% endif %}\"\n    : \"no items yo\";\n};\n\nconst shadowCode = ({ control, twigPath }: CodeHelperParams) => {\n  const isText = control?.options?.shadowOptions?.type === \"text\";\n  const property = isText ? \"text-shadow\" : \"box-shadow\";\n\n  return `${property}: {{ ${twigPath}.style }};`;\n};\n\nconst iconCode = ({ twigPath }: CodeHelperParams) => `\n<style>\n/* put this in your default CSS */\n.some-class-to-wrap-the-icon-svg { /* prefix with element classname, i.e. .element-classname .some-class-to-wrap-the-icon */\n    display: flex;\n    font-size: 24px;\n}\n\n.some-class-to-wrap-the-icon-svg > svg { /* also, prefix with element classname */\n    font-size: inherit;\n    width: 1em;\n    height: 1em;\n    stroke-width: 0;\n    stroke: currentColor;\n    fill: currentColor;\n}\n\n/* put this in your twig CSS */\n%%SELECTOR%% .some-class-to-wrap-the-icon-svg {\n    color: #ff0000;\n    font-size: 30px;\n}\n</style>\n<div class=\"some-class-to-wrap-the-icon-svg\">\n{{ ${twigPath}.svgCode }}\n</div>\n`;\n\nconst repeaterCode = ({ twigPath }: CodeHelperParams) => {\n  return `\n    {% for item in ${twigPath} %}\n        <div>\n            repeated\n        </div>\n    {% endfor %}\n    `;\n};\n\nconst focusPointCode = ({ twigPath }: CodeHelperParams) => {\n  return `\n  /* could be used for transforms */\n  transform-origin: {{ ${twigPath}.x }}% {{ ${twigPath}.y }}%;\n\n  /* or positioning a background */\n  background-position: {{ ${twigPath}.x }}% {{ ${twigPath}.y }}%;\n  `;\n};\n\nconst presetsWithMacroOfTheSameNameAndBasicCodeHelp = [\n  \"layout_basic_flex\",\n  \"layout\",\n  \"borders\",\n  \"background\",\n  \"css\",\n  \"size\",\n  \"grid\",\n  ...spacingBarsPresetSlug\n];\n\nconst presetSectionCode = ({ control, twigPath }: CodeHelperParams) => {\n  const presetType = control.options.sectionOptions?.preset?.slug?.replace(\n    \"EssentialElements\\\\\",\n    \"\"\n  );\n\n  if (!presetType) return \"undefined preset type\";\n\n  if (presetsWithMacroOfTheSameNameAndBasicCodeHelp.includes(presetType)) {\n    return `{{ macros.${presetType}(${twigPath}) }}`;\n  }\n\n  if (presetType === \"effects\") {\n    return `\n    {{ macros.effects(${twigPath}, '%%SELECTOR%%') }}\n    {{ macros.effectsHover(${twigPath}, '%%SELECTOR%%:hover') }}\n    `;\n  }\n\n  if (presetType === \"effects_no_hover\") {\n    return `{{ macros.effects(${twigPath}, '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"filter\") {\n    return `{{ macros.filters(${twigPath}) }}`;\n  }\n\n  if (\n    presetType === \"typography\" ||\n    presetType === \"typography_with_nothing\" ||\n    presetType === \"typography_with_align\" ||\n    presetType === \"typography_with_effects\" ||\n    presetType === \"typography_with_effects_and_align\"\n  ) {\n    return `{{ macros.typography(${twigPath}, globalSettings) }}`;\n  }\n\n  if (presetType === \"simpleLayout\") {\n    return `{{ macros.simpleLayout(${twigPath}, breakpoint) }}`;\n  }\n\n  if (presetType === \"fancy_background\") {\n    return `\n      {{ macros.fancyBackgroundHtml(${twigPath}) }}\n      {{ macros.fancyBackgroundCss('%%SELECTOR%%', ${twigPath}, breakpoint) }}\n    `;\n  }\n\n  if (\n    presetType === \"typography_with_hoverable_color\" ||\n    presetType === \"typography_with_align_with_hoverable_color\" ||\n    presetType === \"typography_with_effects_with_hoverable_color_and_effects\" ||\n    presetType ===\n      \"typography_with_effects_and_align_with_hoverable_color_and_effects\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.typography(${twigPath}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableColorAndEffects(${twigPath}) }}\n    }\n    `;\n  }\n\n  if (\n    presetType === \"typography_with_hoverable_everything\" ||\n    presetType === \"typography_with_align_with_hoverable_everything\" ||\n    presetType === \"typography_with_effects_with_hoverable_everything\" ||\n    presetType === \"typography_with_effects_and_align_with_hoverable_everything\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.typography(${twigPath}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableEverything(${twigPath}) }}\n    }\n    `;\n  }\n\n  if (presetType === \"AtomV1ButtonContent\") {\n    return `\n    <!-- In order to set default styles for your buttons, use the following macros: -->\n    <!-- You can overwrite these settings using design options  -->\n\n    <!-- Button (Primary) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, '${twigPath}.text') }}\n\n    <!-- Button (Secondary) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'secondary', '${twigPath}.text') }}\n\n    <!-- Button (Custom) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'custom', '${twigPath}.text') }}\n\n    <!-- Button (Text) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'text', '${twigPath}.text') }}\n\n    <!-- Form Button (Submit) -->\n    {{ macros.atomV1ButtonHtmlManual('Submit', false, '%%SELECTOR%% .my-button-custom-class', path.to.button_design_preset_section, 'primary/secondary/custom/text', 'custom-button-id', true, '${twigPath}.text') }}\n\n    <!-- SSR Button -->\n    echo /Breakdance/Elements/AtomV1Button/render($propertiesData['content']['button'], 'my-button-custom-class', $propertiesData['design']['button'], 'primary/secondary/custom/text');\n\n    <!-- SSR Form Button -->\n    echo /Breakdance/Elements/AtomV1Button/renderFormButton($propertiesData['content']['submit_button']['text'], 'my-button-custom-class', $propertiesData['design']['form_button'], 'primary/secondary/custom/text', 'custom-button-id');\n\n\n`;\n  }\n\n  if (presetType === \"AtomV1ButtonDesign\") {\n    return `\n      {{ macros.atomV1ButtonCss(${twigPath}, 'my-button-custom-class', '%%SELECTOR%%', breakpoint, globalSettings) }}\n    `;\n  }\n\n  if (presetType === \"AtomV1CustomButtonDesign\") {\n    return `\n\n      {{ macros.atomV1ButtonButton(${twigPath}, '%%SELECTOR%% .my-button-custom-class', 'primary/secondary/custom', breakpoint, globalSettings) }}\n\n\n    `;\n  }\n\n  if (presetType === \"AtomV1IconDesignWithHover\") {\n    return `\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${twigPath}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${twigPath}, 'my-icon-class', '%%SELECTOR%%', true) }}`;\n  }\n\n  if (presetType === \"AtomV1IconDesign\") {\n    return `\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${twigPath}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${twigPath}, 'my-icon-class', '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"AtomV1FormDesign\") {\n    return `{{ macros.atomV1FormCss(${twigPath}, '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"tabs_design\") {\n    return `{{ macros.atomV1TabsCss('%%SELECTOR%%', ${twigPath}, breakpoint, globalSettings) }}`;\n  }\n\n  if (presetType === \"WooGlobalStylerOverride\") {\n    return `{{ macros.wooGlobalStyler(${twigPath}, '%%SELECTOR%%', breakpoint, globalSettings) }}`;\n  }\n\n  if (presetType === \"pagination\") {\n    return `{{ macros.pagination(${twigPath}, '%%SELECTOR%%', listSelector, activeSelector, dotsSelector) }}`;\n  }\n\n  if (\n    presetType === \"wooPresetInputsDesign\" ||\n    presetType === \"wooPresetInputsDesignNoSelect2\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.wooPresetInputsDesign(${twigPath}) }}\n    }`;\n  }\n\n  if (presetType === \"wooProductsListElements\") {\n    return `\n    {{ macros.wooPresetProductsListElementsDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if (presetType === \"wooProductsListLayout\") {\n    return `\n    {{ macros.wooPresetProductsListLayoutDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if (presetType === \"wooProductWrapperDesign\") {\n    return `\n    {{ macros.wooPresetProductWrapperDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if ([\"lightbox_design\", \"lightbox_single_design\"].includes(presetType)) {\n    return `{{ macros.atomV1LightboxCss(${twigPath}) }}`;\n  }\n\n  if (presetType === \"AtomV1SwiperSettings\") {\n    return `\nHTML:\n\n<div class=\"breakdance-swiper-wrapper\" data-swiper-id=\"%%ID%%\">\n  <div class=\"swiper\">\n    <div class=\"swiper-wrapper\">\n      %%CHILDREN%%\n    </div>\n  </div>\n  \n  {{ macros.AtomV1SwiperPaginationAndArrowsHtml(design.slider) }}\n</div>\n\n----\n\nCSS:\n{{ macros.AtomV1SwiperCss(${twigPath}, '%%SELECTOR%%', globalSettings, isBaseBreakpoint) }}\n`;\n  }\n\n  if (presetType === \"borders_without_shadows\") {\n    return `\n    {{ macros.borders_without_shadows(${twigPath}) }}\n    `;\n  }\n\n  return `no code help for preset section type of ${presetType}`;\n};\n\nexport const codeForControls: {\n  [key in ControlType]: undefined | ((args: CodeHelperParams) => string);\n} = {\n  trigger_action_button: undefined,\n  border_complex: ({ twigPath }) => `{{ macros.border_complex(${twigPath}) }}`,\n  border_radius: ({ twigPath }) => `{{ macros.border_radius(${twigPath}) }}`,\n  breakpoint_dropdown: ({ twigPath }) =>\n    `\n    {% if breakpoint == ${twigPath} %}\n    %%SELECTOR%% {\n        /** some css that will apply to the selected breakpoint */\n    }\n    {% endif %}\n    `,\n  button_bar: dropdownOrButtonBarCode,\n  dropdown: dropdownOrButtonBarCode,\n  code: wrapPathWithMustaches,\n  color: ({ control, twigPath }) => {\n    if (control.options.colorOptions?.type === \"solidAndGradient\") {\n      return `\n        /* Background Color */\n        {{ macros.backgroundColor(${twigPath}) }}\n        \n        /* Or */\n        \n        /* Text Color */\n        {{ macros.textColor(${twigPath}) }}\n        \n        /* Or */\n        \n        /* Border Color */\n        {{ macros.borderColor(${twigPath}) }}\n      `;\n    }\n\n    return `background-color: {{ ${twigPath} }}`;\n  },\n  gradient: ({ twigPath }) => `background-image: {{ ${twigPath}.style }}`,\n  shadow: shadowCode,\n  icon: iconCode,\n  number: wrapPathWithMustaches,\n  repeater: repeaterCode,\n  inline_repeater: repeaterCode,\n  richtext: wrapPathWithMustaches,\n  toggle: toggleCode,\n  spacing_complex: ({ twigPath }) =>\n    `{{ macros.spacing_complex(${twigPath}, 'margin') }}`,\n  text: wrapPathWithMustaches,\n  url: wrapPathWithMustaches,\n  unit: ({ twigPath }) => `font-size: {{ ${twigPath}.style }};`,\n  wpmedia: ({ control, twigPath }) => {\n    if (control.options?.mediaOptions?.multiple) {\n      return `\n      {% for item in ${twigPath} %}\n        {{ macros.getMedia(item, content.content.size, content.content.lazyLoad) }}\n      {% endfor %}\n      `;\n    }\n\n    return `\n      This macro might return an img, video, or iframe tag, depending on the media type.\n      {{ macros.getMedia(${twigPath}, content.content.size, content.content.lazyLoad) }}\n      \n      Or you can render only images\n      {{ macros.image(${twigPath}, content.content.size, alt, lazyLoad) }}\n    `;\n  },\n  video: ({ twigPath }) => {\n    return `\n      {{ macros.video(${twigPath}) }}\n    `;\n  },\n  focus_point: focusPointCode,\n  section: presetSectionCode,\n  multiselect: multiselectCode,\n  condition: undefined,\n  font_family: undefined,\n  class: undefined,\n  global_colors: undefined,\n  global_block_chooser: undefined,\n  typography: undefined,\n  custom_typography: undefined,\n  typography_preset: undefined,\n  message: undefined,\n  post_chooser: undefined,\n  element_screenshot: undefined,\n  slider: undefined,\n  add_registered_children: undefined,\n  builder_behavior: undefined,\n  alert_box: undefined,\n  pro_only_alert_box: undefined,\n  date_picker: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  time_picker: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  api_key_input: undefined,\n  link: ({ twigPath }) => {\n    return `\n     {{ macros.linkStart(${twigPath}) }}\n         Link Text\n     {{ macros.linkEnd() }}\n    `;\n  },\n  media_size_dropdown: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  wp_query: () =>\n    `Use this control in your SSR.php file. For example:\n    \\\\Breakdance\\\\WpQueryControl\\\\getWpQueryArgumentsFromWpQueryControlProperties($propertiesData['content']['wp_query']['query']);`,\n  conditional_form_field: undefined\n};\n\nexport const wrapWithCondition = (\n  controlConditions: ControlConditions,\n  code: string\n) => {\n  let ifCondition = \"\";\n\n  if (Array.isArray(controlConditions)) {\n    ifCondition = controlConditions.reduce((conditionsAcc, conditions) => {\n      const andCondition = conditions.reduce((acc, { path, value }) => {\n        if (acc) {\n          return `${acc} and ${path} == \"${value}\"`;\n        }\n\n        return `${path} == \"${value}\"`;\n      }, \"\");\n\n      if (conditionsAcc) {\n        return `${conditionsAcc} or (${andCondition})`;\n      }\n\n      return `(${andCondition})`;\n    }, \"\");\n  } else {\n    const { path, value } = controlConditions; // TODO: what about operand\n    // TODO - this is garbage for controls conditionally displayed by a toggle\n    ifCondition = `${path} == \"${value}\"`;\n  }\n\n  return `\n      {% if ${ifCondition} %}\n      ${code}\n      TODO - examples of not equals, is one of, is set, is not set\n      {% elseif %}\n      ...\n      {% else %}\n      ...\n      {% endif %}\n      `;\n};\n","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { Control } from \"@/types/controls\";\nimport Copyable from \"./Copyable.vue\";\nimport {\n  codeForControls,\n  wrapWithCondition\n} from \"@/lib/element-studio/twig-code-helper\";\nimport { addHoverToPath } from \"@/lib/controls/utils\";\n\n@Component({\n  components: {\n    Copyable\n  }\n})\nexport default class TwigCodeHelper extends Vue {\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  twigParentPath!: string;\n\n  @Prop()\n  inRepeater!: boolean;\n\n  get twigPath() {\n    return this.inRepeater\n      ? `item.${this.control.slug}`\n      : `${this.twigParentPath}.${this.control.slug}`;\n  }\n\n  get codeForControl() {\n    const getHelperCodeForControl = codeForControls[this.control.options.type];\n\n    // TODO eventually we should have all presets in element studio\n    // so we can get rid of the \"section\" part of codeForControls\n    const codeHelpFromPreset = this.control.options.sectionOptions?.preset?.codeHelp?.replace(\n      \"%%TWIG_PATH%%\",\n      this.twigPath\n    );\n\n    let helperCode =\n      codeHelpFromPreset ||\n      (getHelperCodeForControl &&\n        getHelperCodeForControl({\n          control: this.control,\n          twigPath: this.twigPath\n        }));\n\n    if (!helperCode) return false;\n\n    if (this.control.options.condition) {\n      helperCode = wrapWithCondition(\n        this.control.options.condition,\n        helperCode\n      );\n    }\n\n    if (this.control.enableHover) {\n      const hoverCode = helperCode.replace(\n        new RegExp(this.twigPath, \"g\"),\n        addHoverToPath(this.twigPath)\n      );\n\n      helperCode += \"\\n\\n.some-selector:hover {\\n\" + hoverCode + \"\\n}\\n\";\n    }\n\n    return helperCode;\n  }\n\n  close() {\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TwigCodeHelper.vue?vue&type=template&id=4f6fa6d0&\"\nimport script from \"./TwigCodeHelper.vue?vue&type=script&lang=ts&\"\nexport * from \"./TwigCodeHelper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TwigCodeHelper.vue?vue&type=style&index=0&id=4f6fa6d0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('h3',[_vm._v(_vm._s(_vm.label))]),_c('Repeater',{attrs:{\"value\":this.internalValue,\"control\":{\n      options: {\n        repeaterOptions: {\n          defaultNewValue: [_vm.getBlankCondition()],\n          titleTemplate: `OR`,\n          buttonName: `Add new OR condition`,\n          forceDontProcessDefaultNewValueWhenAddingItemsHack: true\n        }\n      }\n    }},on:{\"input\":_vm.emit},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: orRepeaterIndex }){return [_c('Repeater',{attrs:{\"value\":_vm.internalValue[orRepeaterIndex],\"control\":{\n          options: {\n            repeaterOptions: {\n              defaultNewValue: _vm.getBlankCondition(),\n              forceDontProcessDefaultNewValueWhenAddingItemsHack: true,\n              titleTemplate: `(AND) ${_vm.title} for '{path}'`,\n              buttonName: `Add new (AND) ${_vm.title}`\n            }\n          }\n        }},on:{\"input\":function($event){return _vm.updateOrCondition($event, orRepeaterIndex)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('div',{staticClass:\"element-studio-condition-input\"},[(!!value)?_c('div',{staticClass:\"element-studio-condition-input-row\"},[(value.external)?_c('span',[_vm._v(\" External conditions can't be edited \")]):_vm._e(),_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.paths,\"value\":value.path,\"disabled\":value.external},on:{\"input\":function($event){return _vm.updatePath($event, orRepeaterIndex, repeaterIndex)}}}),_c('v-select',{attrs:{\"label\":\"Operand\",\"no-data-text\":\"No data. Select a path first\",\"value\":value.operand,\"items\":_vm.getOperands(value),\"disabled\":value.external},on:{\"input\":function($event){return _vm.updateOperand($event, orRepeaterIndex, repeaterIndex)}}}),(\n                  value.operand !== 'is set' && value.operand !== 'is not set'\n                )?[(\n                    value.operand !== 'is one of' &&\n                    value.operand !== 'is none of'\n                  )?[_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.getPossibleValues(value),\"value\":value.value,\"disabled\":value.external},on:{\"input\":function($event){return _vm.updateValue($event, orRepeaterIndex, repeaterIndex)}}})]:[_c('v-combobox',{attrs:{\"multiple\":\"\",\"label\":\"Values\",\"items\":_vm.getPossibleValues(value),\"value\":_vm.hasMultipleValues(value),\"disabled\":value.external},on:{\"input\":function($event){return _vm.updateValue($event, orRepeaterIndex, repeaterIndex)}}})]]:_vm._e()],2):_vm._e()])]}}],null,true)})]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { ControlConditions, ControlConditionSingle } from \"@/types/controls\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: { Repeater }\n})\nexport default class ElementStudioConditionInput extends Vue {\n  @Prop()\n  value!: ControlConditions | undefined;\n\n  @Prop({ default: \"Condition\" })\n  title!: string;\n\n  @Prop({ default: \"Only Show Control When Condition Is Met\" })\n  label!: string;\n\n  @Prop()\n  pathStartsWith!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  mounted() {\n    // we want to transition away from single-conditions\n    if (this.value && !Array.isArray(this.value)) {\n      this.emit([[this.value]]);\n    }\n  }\n\n  getBlankCondition() {\n    return {\n      path: \"\",\n      operand: \"equals\" as const,\n      value: \"\"\n    };\n  }\n\n  getOperands(condition: ControlConditionSingle) {\n    const path = condition.path;\n\n    if (!path) {\n      return [];\n    }\n\n    const control = this.getControl(path);\n\n    let operands = [\n      \"equals\",\n      \"not equals\",\n      \"is one of\",\n      \"is none of\",\n      \"is set\",\n      \"is not set\",\n      \"contains\",\n      \"does not contain\"\n    ];\n\n    if (control?.options.type === \"multiselect\") {\n      operands = [\"includes\"];\n    }\n\n    if (control?.options.type === \"toggle\") {\n      operands = [\"is set\", \"is not set\"];\n    }\n\n    return operands.map(x => {\n      return { text: x, value: x };\n    });\n  }\n\n  hasMultipleValues(condition: ControlConditionSingle) {\n    return Array.isArray(condition.value) ? condition.value : [];\n  }\n\n  get internalValue() {\n    if (!this.value) return [];\n\n    // We update the value when mounted to transition away from single conditions\n    // But still need to add safety here for types and to avoid any potential bug\n    if (!Array.isArray(this.value)) return [[this.value]];\n\n    return this.value;\n  }\n\n  get paths() {\n    const paths = this.context\n      .getPathsToAllControls()\n      .filter(path => !path.includes(\"settings.animations\"));\n\n    if (this.pathStartsWith) {\n      return paths\n        .filter(path => path.startsWith(this.pathStartsWith))\n        .map(path => path.replace(this.pathStartsWith, \"\"));\n    }\n\n    return paths;\n  }\n\n  getPossibleValues(condition: ControlConditionSingle) {\n    const path = condition.path;\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.options.items?.map(x => String(x.value));\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(\n      this.context.element(),\n      path\n    );\n  }\n\n  updatePath(path: string, index1: number, index2: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].path = path;\n\n    this.emit(internalValue);\n  }\n\n  updateOperand(\n    operand:\n      | \"equals\"\n      | \"not equals\"\n      | \"is one of\"\n      | \"is set\"\n      | \"contains\"\n      | \"does not contain\",\n    index1: number,\n    index2: number\n  ) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].operand = operand;\n\n    this.emit(internalValue);\n  }\n\n  updateValue(newValue: string, index1: number, index2: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].value = newValue;\n\n    this.emit(internalValue);\n  }\n\n  updateOrCondition(conditions: ControlConditionSingle[], index: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index] = conditions;\n\n    this.emit(internalValue);\n  }\n\n  emit(condition: ControlConditions) {\n    this.$emit(\"input\", condition);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioConditionInput.vue?vue&type=template&id=50c1b920&\"\nimport script from \"./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-unit-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Unit Options\")]),_c('h3',[_vm._v(\"Allowed types\")]),_c('v-autocomplete',{attrs:{\"label\":\"Types\",\"value\":_vm.value && _vm.value.types,\"items\":_vm.availableTypes,\"multiple\":true,\"hide-details\":\"\"},on:{\"input\":_vm.updateTypes}}),_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"Default Type\")]),_c('DropdownInput',{attrs:{\"label\":\"Default Type\",\"items\":(_vm.value && _vm.value.types) || [],\"value\":_vm.value && _vm.value.defaultType},on:{\"input\":_vm.updateDefaultType}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { UNIT_TYPES, UnitOptions, UnitType } from \"@/types/unit\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\n@Component({\n  components: {\n    Repeater,\n    DropdownInput\n  }\n})\nexport default class ElementStudioUnitOptions extends Vue {\n  @Prop()\n  value!: UnitOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get availableTypes() {\n    return UNIT_TYPES;\n  }\n\n  control = {\n    options: {\n      repeaterOptions: {\n        titleTemplate: \"Type\",\n        buttonName: \"Add type\"\n      }\n    }\n  };\n\n  updateTypes(types: UnitType[]) {\n    const newOptions = defensiveCopy(this.internalValue);\n\n    this.emit({\n      ...newOptions,\n      types\n    });\n  }\n\n  updateDefaultType(defaultType: UnitType) {\n    const newOptions = defensiveCopy(this.internalValue);\n\n    this.emit({\n      ...newOptions,\n      defaultType\n    });\n  }\n\n  emit(unitOptions: UnitOptions) {\n    this.$emit(\"input\", unitOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioUnitOptions.vue?vue&type=template&id=051b5d3a&\"\nimport script from \"./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-range-options\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Range Options\")]),_c('div',{staticClass:\"d-flex align-end\"},[_c('div',{staticClass:\"flex-grow-1 flex-column\"},[_vm._v(\" Step (fixed to 2 decimals) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.step},on:{\"input\":function($event){return _vm.updateStep($event.target.value)}}})]),_c('div',{staticClass:\"flex-grow-1 mx-1 flex-column\"},[_vm._v(\" Min (Integer) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.min},on:{\"input\":function($event){return _vm.updateMin($event.target.value)}}})]),_c('div',{staticClass:\"flex-grow-1 flex-column\"},[_vm._v(\" Max (Integer) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.max},on:{\"input\":function($event){return _vm.updateMax($event.target.value)}}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { RangeOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\n@Component({\n  components: { TextInput }\n})\nexport default class ElementStudioUnitOptions extends Vue {\n  @Prop()\n  value!: RangeOptions | null;\n\n  get internalValue() {\n    return this.value || { min: undefined, max: undefined, step: undefined };\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get inputClass() {\n    // same classes as TextInput\n    return \"d-flex breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base\";\n  }\n\n  updateStep(step: string) {\n    this.emit({\n      ...this.internalValue,\n      step: step ? parseFloatAndFixTo2Digits(step) : undefined\n    });\n  }\n\n  updateMin(min: string) {\n    this.emit({\n      ...this.internalValue,\n      min: min ? parseInt(min) : undefined\n    });\n  }\n\n  updateMax(max: string) {\n    this.emit({\n      ...this.internalValue,\n      max: max ? parseInt(max) : undefined\n    });\n  }\n\n  emit(rangeOptions: RangeOptions) {\n    this.$emit(\"input\", rangeOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioRangeOptions.vue?vue&type=template&id=04a8f67a&\"\nimport script from \"./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-repeater-options\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Repeater Options\")]),_c('div',[_vm._v(\" Title Template \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.titleTemplate},on:{\"input\":function($event){return _vm.update($event, 'titleTemplate')}}}),(_vm.controlSlugs.length)?_c('div',{staticClass:\"element-studio-repeater-options-variables\"},[_vm._v(\" Available variables: \"),_vm._l((_vm.controlSlugs),function(variable){return _c('span',{staticClass:\"element-studio-repeater-options-variable\",on:{\"click\":function($event){return _vm.appendVariableToTitle(variable)}}},[_c('span',[_vm._v(\"{\")]),_vm._v(_vm._s(variable)),_c('span',[_vm._v(\"}\")])])})],2):_vm._e()],1),_c('div',{staticClass:\"my-2\"},[_vm._v(\" Default Title \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.defaultTitle},on:{\"input\":function($event){return _vm.update($event, 'defaultTitle')}}}),_vm._v(\" Used as a fallback when the title template is blank. \")],1),_c('div',[_vm._v(\" Button Name \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.buttonName},on:{\"input\":function($event){return _vm.update($event, 'buttonName')}}}),_vm._v(\" Defaults to \\\"Add Item\\\". \")],1),_c('div',[_c('v-checkbox',{staticClass:\"mb-3\",attrs:{\"label\":\"Enable gallery mode\",\"hide-details\":\"\",\"input-value\":_vm.internalValue.galleryMode},on:{\"change\":_vm.updateGalleryMode}}),(_vm.internalValue.galleryMode)?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Gallery Media Path\")]),_c('DropdownInput',{attrs:{\"value\":_vm.internalValue.galleryMediaPath,\"items\":_vm.mediaControlSlugs},on:{\"input\":function($event){return _vm.update($event, 'galleryMediaPath')}}})]:_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { Control, RepeaterOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\nconst DEFAULT_REPEATER_VALUE = {\n  titleTemplate: \"\",\n  defaultTitle: \"\",\n  buttonName: \"\"\n};\n\n@Component({\n  components: { DropdownInput, TextInput }\n})\nexport default class ElementStudioRepeaterOptions extends Vue {\n  @Prop()\n  value!: RepeaterOptions;\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  control!: Control;\n\n  get internalValue() {\n    return this.value || DEFAULT_REPEATER_VALUE;\n  }\n\n  get controlSlugs() {\n    return this.control.children.map(c => c.slug);\n  }\n\n  get mediaControlSlugs() {\n    return this.control.children\n      .filter(c => c.options.type === \"wpmedia\")\n      .map(c => c.slug);\n  }\n\n  appendVariableToTitle(variable: string) {\n    const title = this.internalValue.titleTemplate;\n    const duplicated = title.includes(`{${variable}}`);\n\n    if (duplicated) return;\n\n    const newTitleTemplate = `${title} {${variable}}`.trim();\n    this.update(newTitleTemplate, \"titleTemplate\");\n  }\n\n  update(text: string | null, field: string) {\n    this.emit({\n      ...this.internalValue,\n      [field]: text ?? \"\"\n    });\n  }\n\n  updateGalleryMode(galleryMode: boolean) {\n    this.emit({\n      ...this.internalValue,\n      galleryMode\n    });\n  }\n\n  emit(repeaterOptions: RepeaterOptions) {\n    this.$emit(\"input\", repeaterOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioRepeaterOptions.vue?vue&type=template&id=01ec0e22&\"\nimport script from \"./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioRepeaterOptions.vue?vue&type=style&index=0&id=01ec0e22&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-dropdown-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Dropdown options\")]),(_vm.control.options.type === 'dropdown')?[(this.element.htmlTag.options.length > 0)?_c('NiceButton',{on:{\"click\":_vm.populateWithHtmlTagOptions}},[_vm._v(\"Populate with HTML Tag Options\")]):_vm._e(),_c('v-checkbox',{attrs:{\"input-value\":!!_vm.internalValue.populate,\"label\":\"Populate dropdown dynamically\",\"hide-details\":\"\"},on:{\"change\":_vm.updateEnablePopulate}}),(_vm.internalValue.populate)?[_c('v-divider',{staticClass:\"my-3\"}),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Populate from a Repeater's Input\")]),(_vm.internalValue.populate.fetchDataAction)?_c('div',[_vm._v(\" Populating from server data. To use items instead, clear those fields below. \")]):(_vm.repeaterPaths.length)?_c('div',[_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.repeaterPaths,\"value\":_vm.internalValue.populate.path,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('path', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Label\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.text,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('text', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.value,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('value', $event)}}})],1):_c('div',[_c('h4',[_vm._v(\"No repeaters presenta\")])]),_c('v-divider',{staticClass:\"my-3\"}),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Populate from server data\")]),_c('v-text-field',{attrs:{\"label\":\"Fetch data action route name\",\"value\":_vm.internalValue.populate.fetchDataAction,\"clearable\":\"\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('fetchDataAction', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Fetch context path\",\"items\":_vm.controlPaths,\"value\":_vm.internalValue.populate.fetchContextPath,\"clearable\":\"\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('fetchContextPath', $event)}}}),_c('h3',[_vm._v(\"Refetch data if a control's value changes (specify path)\")]),_c('Repeater',{attrs:{\"value\":_vm.internalValue.populate.refetchPaths},on:{\"input\":_vm.updateRefetchPaths},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex }){return [_c('v-combobox',{staticClass:\"mb-2\",attrs:{\"items\":_vm.controlPaths,\"value\":_vm.internalValue.populate.refetchPaths[repeaterIndex],\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updateRefetchPath(repeaterIndex, $event)}}})]}}],null,false,3001308231)}),_c('v-divider',{staticClass:\"my-3\"}),_c('ElementStudioConditionInput',{attrs:{\"title\":\"Filtering\",\"label\":\"Show items in the dropdown only if a condition is met\",\"path-starts-with\":`${_vm.internalValue.populate.path}.`,\"value\":_vm.internalValue.populate.condition},on:{\"input\":_vm.updateCondition}})]:_vm._e()]:_vm._e(),(!_vm.internalValue.populate)?[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Dropdown items\")]),_c('Repeater',{attrs:{\"path\":_vm.path,\"value\":_vm.dropdownItems,\"control\":_vm.control},on:{\"input\":_vm.updateDropdownItems},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeatedIndex }){return [_vm._v(\" Label \"),_c('TextInput',{staticClass:\"mb-2\",attrs:{\"value\":_vm.dropdownItems[repeatedIndex].text,\"testId\":\"element-studio-control-dropdown-label-input\"},on:{\"input\":function($event){return _vm.updateDropdownItem(\n              {\n                ..._vm.dropdownItems[repeatedIndex],\n                text: $event || ''\n              },\n              repeatedIndex\n            )}}}),_vm._v(\" Value \"),_c('TextInput',{attrs:{\"value\":_vm.dropdownItems[repeatedIndex].value,\"testId\":\"element-studio-control-dropdown-value-input\"},on:{\"input\":function($event){return _vm.updateDropdownItem(\n              {\n                ..._vm.dropdownItems[repeatedIndex],\n                value: $event || ''\n              },\n              repeatedIndex\n            )}}}),(_vm.control.options.type === 'button_bar')?_c('div',{staticClass:\"breakdance-dropdown-input d-flex mt-2\"},[(_vm.dropdownItems[repeatedIndex].icon)?_c('div',{staticClass:\"mr-2 d-flex align-center\"},[_c('Icon',{attrs:{\"icon\":_vm.dropdownItems[repeatedIndex].icon,\"size\":\"18\"}})],1):_vm._e(),_c('ElementStudioIconsAutocomplete',{attrs:{\"value\":_vm.dropdownItems[repeatedIndex].icon},on:{\"input\":function($event){return _vm.updateDropdownItem(\n                {\n                  ..._vm.dropdownItems[repeatedIndex],\n                  icon: $event\n                },\n                repeatedIndex\n              )}}})],1):_vm._e()]}}],null,false,280151685)})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-autocomplete',{staticClass:\"breakdance-dense-select breakdance-white-gray-outlined-input\",attrs:{\"label\":\"Icon\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"filled\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"placeholder\":\"CloseIcon\",\"items\":_vm.iconNames,\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event)}}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { IconName, iconNames } from \"@/lib/icons/icons\";\n@Component({})\nexport default class ElementStudioIconsAutocomplete extends Vue {\n  @Prop()\n  value!: IconName | string;\n\n  get iconNames() {\n    return iconNames;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioIconsAutocomplete.vue?vue&type=template&id=5d00ae73&\"\nimport script from \"./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  ButtonBarOrDropdownItem,\n  Control,\n  ControlConditions,\n  DropdownOptions,\n  PopulateOptions,\n  PopulateWithFetch\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ElementStudioConditionInput from \"@/components/ElementStudio/ElementStudioConditionInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\nconst DEFAULT_POPULATE = {\n  path: \"\",\n  text: \"\",\n  value: \"\",\n  condition: undefined,\n  fetchDataAction: \"\",\n  fetchContextPath: \"\",\n  refetchPaths: []\n};\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioIconsAutocomplete,\n    Icon,\n    DropdownInput,\n    Dropdown,\n    ElementStudioConditionInput,\n    Repeater,\n    TextInput\n  }\n})\nexport default class ElementStudioDropdownOptions extends Vue {\n  @Prop()\n  value!: DropdownOptions;\n\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  path!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get repeaterPaths() {\n    return this.context.getPathsToAllControls([\"repeater\"]);\n  }\n\n  get controlPaths() {\n    return this.context.getPathsToAllControls();\n  }\n\n  get possibleValues() {\n    const path = this.internalValue?.populate?.path;\n\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.children.map(c => c.slug);\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(this.element, path);\n  }\n\n  get populate() {\n    return this.internalValue.populate || DEFAULT_POPULATE;\n  }\n\n  get dropdownItems() {\n    // @ts-ignore\n    return this.control.options.items || [{ value: \"value\", text: \"Label\" }];\n  }\n\n  get element() {\n    return this.context.element();\n  }\n\n  updateDropdownItems(newItems: ButtonBarOrDropdownItem[]) {\n    this.$emit(\"updateDropdownItems\", newItems);\n  }\n\n  updateDropdownItem(newItem: ButtonBarOrDropdownItem, index: number) {\n    this.$emit(\"updateDropdownItem\", { newItem, index });\n  }\n\n  updateEnablePopulate(enabled: boolean) {\n    if (enabled) {\n      this.emit({\n        populate: DEFAULT_POPULATE\n      });\n    } else {\n      this.emit(undefined);\n    }\n  }\n\n  updateCondition(newCondition: ControlConditions) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    if (Array.isArray(newCondition) && !newCondition.length) {\n      delete newPopulate.condition;\n    } else {\n      newPopulate.condition = newCondition;\n    }\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updatePopulateValue(\n    key:\n      | keyof Omit<PopulateOptions, \"condition\">\n      | keyof Omit<PopulateWithFetch, \"refetchPaths\">,\n    value: string\n  ) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    newPopulate[key] = value;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updateRefetchPaths(newRefetchPaths: ({} | string)[]) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    // Turn objects into string. It happens when Repeater adds a new item\n    newPopulate.refetchPaths = newRefetchPaths.map(dependency =>\n      typeof dependency === \"string\" ? dependency : \"\"\n    );\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updateRefetchPath(index: number, newValue: string) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    if (!newPopulate.refetchPaths) {\n      return;\n    }\n\n    newPopulate.refetchPaths[index] = newValue;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  populateWithHtmlTagOptions() {\n    if (!this.element.htmlTag.options) {\n      return;\n    }\n\n    const items = this.element.htmlTag.options.map(option => ({\n      text: option,\n      value: option\n    }));\n\n    this.updateDropdownItems(items);\n  }\n\n  emit(dropdownOptions: DropdownOptions | undefined) {\n    this.$emit(\"input\", dropdownOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDropdownOptions.vue?vue&type=template&id=4bf88290&\"\nimport script from \"./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDropdownOptions.vue?vue&type=style&index=0&id=4bf88290&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-dropdown-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Breakpoint options\")]),_vm._v(\" Support Multiple \"),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Support Multiple\",\"input-value\":_vm.value && !!_vm.value.multiple,\"hide-details\":\"\"},on:{\"change\":_vm.updateMultiple}}),_vm._v(\" Enable Never \"),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable Never\",\"input-value\":_vm.value && !!_vm.value.enableNever,\"hide-details\":\"\"},on:{\"change\":_vm.updateEnableNever}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { BreakpointOptions } from \"@/types/controls\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: {}\n})\nexport default class ElementStudioBreakpointOptions extends Vue {\n  @Prop()\n  value!: BreakpointOptions;\n\n  updateMultiple(multiple: boolean) {\n    const newBreakpointOptions = {\n      ...this.value,\n      multiple\n    };\n    this.emit(newBreakpointOptions);\n  }\n\n  updateEnableNever(enableNever: boolean) {\n    const newBreakpointOptions = {\n      ...this.value,\n      enableNever\n    };\n    this.emit(newBreakpointOptions);\n  }\n\n  emit(breakpointOptions: BreakpointOptions | undefined) {\n    this.$emit(\"input\", breakpointOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioBreakpointOptions.vue?vue&type=template&id=19374bc6&\"\nimport script from \"./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-variable-options\"},[_c('h3',[_vm._v(\"Variables\")]),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable variables\",\"input-value\":_vm.internalValue.enabled,\"hide-details\":\"\"},on:{\"change\":_vm.toggleEnabled}}),(_vm.internalValue.enabled)?[_c('Repeater',{attrs:{\"path\":_vm.path,\"value\":_vm.variables,\"control\":_vm.control},on:{\"input\":_vm.updateVariableItems},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeatedIndex }){return [_vm._v(\" Label \"),_c('TextInput',{staticClass:\"mb-2\",attrs:{\"value\":_vm.variables[repeatedIndex].label,\"testId\":\"element-studio-control-variable-label-input\"},on:{\"input\":function($event){return _vm.updateVariableItem(\n              {\n                ..._vm.variables[repeatedIndex],\n                label: $event\n              },\n              repeatedIndex\n            )}}}),_vm._v(\" Value \"),_c('TextInput',{attrs:{\"value\":_vm.variables[repeatedIndex].value,\"testId\":\"element-studio-control-variable-value-input\"},on:{\"input\":function($event){return _vm.updateVariableItem(\n              {\n                ..._vm.variables[repeatedIndex],\n                value: $event\n              },\n              repeatedIndex\n            )}}})]}}],null,false,98037988)}),_c('v-checkbox',{attrs:{\"input-value\":!!_vm.internalValue.populate,\"label\":\"Populate variables based on a Repeater Input\"},on:{\"change\":_vm.updateEnablePopulate}}),(_vm.internalValue.populate)?_c('div',[_c('div',[_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.paths,\"value\":_vm.internalValue.populate.path},on:{\"input\":function($event){return _vm.updatePopulateValue('path', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Label\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.text},on:{\"input\":function($event){return _vm.updatePopulateValue('text', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.value},on:{\"input\":function($event){return _vm.updatePopulateValue('value', $event)}}})],1),_c('ElementStudioConditionInput',{attrs:{\"title\":\"Filtering\",\"label\":\"Show items in the variable only if a condition is met\",\"path-starts-with\":`${_vm.internalValue.populate.path}.`,\"value\":_vm.internalValue.populate.condition},on:{\"input\":_vm.updateCondition}}),_c('v-divider')],1):_vm._e()]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  textAndRichTextVariableItem,\n  Control,\n  ControlConditions,\n  textAndRichTextVariableOptions\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ElementStudioConditionInput from \"@/components/ElementStudio/ElementStudioConditionInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\nconst DEFAULT_POPULATE = {\n  path: \"\",\n  text: \"\",\n  value: \"\",\n  condition: undefined\n};\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioIconsAutocomplete,\n    Icon,\n    ElementStudioConditionInput,\n    Repeater,\n    TextInput\n  }\n})\nexport default class ElementStudioVariableOptions extends Vue {\n  @Prop()\n  value!: textAndRichTextVariableOptions;\n\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  path!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  enabled = false;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"repeater\"]);\n  }\n\n  get possibleValues() {\n    const path = this.internalValue?.populate?.path;\n\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.children.map(c => c.slug);\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(this.element, path);\n  }\n\n  get populate() {\n    return this.internalValue.populate || DEFAULT_POPULATE;\n  }\n\n  get variables() {\n    return (\n      this.control.options.variableItems || [{ value: \"value\", text: \"Label\" }]\n    );\n  }\n\n  get element() {\n    return this.context.element();\n  }\n\n  updateVariableItems(newItems: textAndRichTextVariableItem[]) {\n    this.$emit(\"updateVariableItems\", newItems);\n  }\n\n  updateVariableItem(newItem: textAndRichTextVariableItem, index: number) {\n    this.$emit(\"updateVariableItem\", { newItem, index });\n  }\n\n  updateEnablePopulate(enabled: boolean) {\n    if (enabled) {\n      this.emit({\n        populate: DEFAULT_POPULATE\n      });\n    } else {\n      this.emit({\n        populate: undefined\n      });\n    }\n  }\n\n  updateCondition(newCondition: ControlConditions) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    if (Array.isArray(newCondition) && !newCondition.length) {\n      delete newPopulate.condition;\n    } else {\n      newPopulate.condition = newCondition;\n    }\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updatePopulateValue(key: \"path\" | \"text\" | \"value\", value: string) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    newPopulate[key] = value;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  toggleEnabled(value: boolean) {\n    this.emit({\n      enabled: value\n    });\n  }\n\n  emit(variableOptions: textAndRichTextVariableOptions | undefined) {\n    this.$emit(\"input\", {\n      ...this.internalValue,\n      ...variableOptions\n    });\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioVariableOptions.vue?vue&type=template&id=b0525812&\"\nimport script from \"./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioVariableOptions.vue?vue&type=style&index=0&id=b0525812&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-media-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"WP Media Options\")]),_c('v-checkbox',{attrs:{\"label\":\"Enable gallery mode\",\"input-value\":_vm.internalValue.multiple,\"hide-details\":\"\"},on:{\"change\":_vm.updateMultiple}})],1),_c('v-checkbox',{attrs:{\"label\":\"Allow only certain file types\",\"input-value\":_vm.fileTypesEnabled,\"hide-details\":\"\"},on:{\"change\":_vm.updateEnableFileTypes}}),(_vm.fileTypesEnabled)?_c('v-autocomplete',{staticClass:\"mt-2\",attrs:{\"label\":\"Accepted File Types\",\"value\":_vm.internalValue.acceptedFileTypes,\"items\":_vm.types,\"multiple\":true,\"hint\":\"All file types are allowed by default.\"},on:{\"input\":_vm.updateType}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport {\n  MediaOptions,\n  MediaOptionsType,\n  MediaOptionsTypeV\n} from \"@/types/media\";\n\nconst DEFAULT_MEDIA_OPTIONS = {\n  acceptedFileTypes: undefined,\n  multiple: false\n};\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaOptions extends Vue {\n  @Prop()\n  value!: MediaOptions | null;\n\n  get fileTypesEnabled() {\n    return Array.isArray(this.internalValue.acceptedFileTypes);\n  }\n\n  get types() {\n    return MediaOptionsTypeV.types.map(type => type.value);\n  }\n\n  get internalValue() {\n    return this.value || DEFAULT_MEDIA_OPTIONS;\n  }\n\n  updateType(acceptedFileTypes: MediaOptionsType[] | undefined) {\n    this.emit({\n      ...this.internalValue,\n      acceptedFileTypes\n    });\n  }\n\n  updateMultiple(multiple: boolean) {\n    this.emit({\n      ...this.internalValue,\n      multiple\n    });\n  }\n\n  updateEnableFileTypes(enabled: boolean) {\n    if (enabled) {\n      this.updateType([]);\n    } else {\n      this.updateType(undefined);\n    }\n  }\n\n  emit(mediaOptions: MediaOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMediaOptions.vue?vue&type=template&id=04e51593&\"\nimport script from \"./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-media-size-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Media Size Options\")]),_c('v-combobox',{attrs:{\"label\":\"Image Path\",\"value\":_vm.internalValue.imagePropertyPath,\"items\":_vm.paths,\"hint\":\"Will only show an image's available sizes. Use [] when inside a repeater.\",\"persistent-hint\":\"\",\"clearable\":\"\"},on:{\"input\":_vm.updatePath}}),(_vm.internalValue.imagePropertyPath)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"input-value\":_vm.internalValue.disableSrcset,\"label\":\"Don't add srcset attribute to the Image object\",\"persistent-hint\":\"\",\"hide-details\":\"\"},on:{\"change\":_vm.toggleSrcset}}):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { MediaSizeOptions } from \"@/types/media\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaSizeOptions extends Vue {\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  value?: MediaSizeOptions;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"wpmedia\"]);\n  }\n\n  updatePath(path: string) {\n    this.emit({\n      ...this.internalValue,\n      imagePropertyPath: path || \"\"\n    });\n  }\n\n  toggleSrcset(disableSrcset: boolean) {\n    this.emit({\n      ...this.internalValue,\n      disableSrcset\n    });\n  }\n\n  emit(mediaOptions: MediaSizeOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMediaSizeOptions.vue?vue&type=template&id=1e278c3b&\"\nimport script from \"./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-icon-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Icon Options\")]),_c('v-combobox',{attrs:{\"clearable\":\"\",\"multiple\":\"\",\"value\":_vm.internalValue.suggestions,\"label\":\"Suggestions\"},on:{\"input\":_vm.updateSuggestions}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { IconOptions } from \"@/types/controls\";\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioIconOptions extends Vue {\n  @Prop()\n  value!: IconOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  updateSuggestions(newSuggestions: string[]) {\n    this.emit({\n      ...this.internalValue,\n      suggestions: newSuggestions\n    });\n  }\n\n  emit(mediaOptions: IconOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioIconOptions.vue?vue&type=template&id=1dd963c8&\"\nimport script from \"./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { SpacingBarSlugs } from \"@/lib/elements/constants\";\nimport { SpacingBarDescription } from \"@/types/elements\";\n\nexport function getSpacingBarsFromPresetSlug(\n  slug: SpacingBarSlugs,\n  twigPath: string\n): SpacingBarDescription[] {\n  function getSpaceBar(\n    position: \"outside\" | \"inside\",\n    property: \"margin\" | \"padding\",\n    direction: \"top\" | \"right\" | \"bottom\" | \"left\",\n    controlType: \"control\" | \"complex\" | \"not_responsive\"\n  ) {\n    let affectedPropertyPath = \"\";\n\n    if (controlType === \"control\") {\n      affectedPropertyPath = `${twigPath}.${property}_${direction}.%%BREAKPOINT%%`;\n    } else if (controlType === \"complex\") {\n      affectedPropertyPath = `${twigPath}.${property}.%%BREAKPOINT%%.${direction}`;\n    } else {\n      affectedPropertyPath = `${twigPath}.${property}.${direction}`;\n    }\n\n    return {\n      location: `${position}-${direction}`,\n      cssProperty: `${property}-${direction}`,\n      affectedPropertyPath\n    } as SpacingBarDescription;\n  }\n\n  const marginAll = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"complex\")\n  ];\n\n  const paddingAll = [\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"complex\")\n  ];\n\n  const marginY = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"control\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"control\")\n  ];\n\n  const marginX = [\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"control\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"control\")\n  ];\n\n  const paddingY = [\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"control\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"control\")\n  ];\n\n  const paddingX = [\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"control\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"control\")\n  ];\n\n  const allNotResponsive = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"not_responsive\"),\n\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"not_responsive\")\n  ];\n\n  switch (slug) {\n    case \"spacing_all\":\n      return [...marginAll, ...paddingAll];\n    case \"spacing_all_y\":\n      return [...marginY, ...paddingY];\n    case \"spacing_all_x\":\n      return [...marginX, ...paddingX];\n    case \"spacing_margin_all\":\n      return marginAll;\n    case \"spacing_margin_y\":\n      return marginY;\n    case \"spacing_margin_x\":\n      return marginX;\n    case \"spacing_padding_all\":\n      return paddingAll;\n    case \"spacing_padding_y\":\n      return paddingY;\n    case \"spacing_padding_x\":\n      return paddingX;\n    case \"spacing_all_not_responsive\":\n      return allNotResponsive;\n  }\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-post-chooser-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Post Chooser Options\")]),_c('div',{staticClass:\"mt-2\"},[_c('h4',{staticClass:\"mb-1\"},[_vm._v(\"Post Type\")]),_c('TextInput',{attrs:{\"value\":_vm.internalValue.postType},on:{\"input\":function($event){return _vm.update('postType', $event)}}})],1),_c('v-checkbox',{attrs:{\"label\":\"Multiple\",\"input-value\":_vm.internalValue.multiple,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.update('multiple', $event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Show Thumbnails\",\"input-value\":_vm.internalValue.showThumbnails,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.update('showThumbnails', $event)}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { PostChooserOptions } from \"@/types/post-chooser\";\n\nconst DEFAULT_CHOOSER_OPTIONS = {\n  multiple: false,\n  showThumbnails: false,\n  postType: \"post\"\n};\n\n@Component({\n  components: { TextInput, DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaOptions extends Vue {\n  @Prop()\n  value!: PostChooserOptions;\n\n  get internalValue() {\n    return this.value || DEFAULT_CHOOSER_OPTIONS;\n  }\n\n  updateMultiple(multiple: boolean) {\n    this.emit({\n      ...this.internalValue,\n      multiple\n    });\n  }\n\n  update(field: string, value: string | null) {\n    this.emit({\n      ...this.internalValue,\n      [field]: value ?? \"\"\n    });\n  }\n\n  emit(options: PostChooserOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPostChooserOptions.vue?vue&type=template&id=bc36e576&\"\nimport script from \"./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-media-options mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Video Options\")]),_c('v-autocomplete',{attrs:{\"label\":\"Providers\",\"value\":_vm.internalValue.providers,\"items\":_vm.types,\"multiple\":true,\"hint\":\"All providers are allowed by default.\"},on:{\"input\":_vm.updateProviders}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport {\n  OEmbedProvider,\n  OEmbedProviderV,\n  VideoOptions\n} from \"@/types/controls\";\n\nconst DEFAULT_VIDEO_OPTIONS = {\n  providers: []\n};\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioVideoOptions extends Vue {\n  @Prop()\n  value!: VideoOptions | null;\n\n  get types() {\n    return OEmbedProviderV.types.map(type => type.value);\n  }\n\n  get internalValue() {\n    return this.value || DEFAULT_VIDEO_OPTIONS;\n  }\n\n  updateProviders(providers: OEmbedProvider[] | undefined) {\n    this.emit({\n      ...this.internalValue,\n      providers\n    });\n  }\n\n  emit(options: VideoOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioVideoOptions.vue?vue&type=template&id=563fd947&\"\nimport script from \"./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-media-options mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Alert Box Options\")]),_c('DropdownInput',{staticClass:\"mb-4\",attrs:{\"placeholder\":\"Style\",\"items\":_vm.styles,\"value\":_vm.internalValue.style},on:{\"input\":_vm.updateStyle}}),_c('TipTapWrapper',{attrs:{\"value\":_vm.internalValue.content},on:{\"input\":_vm.updateContent}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  AlertBoxOptions,\n  AlertBoxStyleV,\n  AlertBoxStyle\n} from \"@/types/controls\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TipTapWrapper from \"@/components/Reusable/CustomInputs/3rdPartyWrappers/TipTapWrapper.vue\";\n\nconst DEFAULT_OPTIONS: AlertBoxOptions = {\n  style: \"default\",\n  content: \"\"\n};\n\n@Component({\n  components: { DropdownInput, TipTapWrapper }\n})\nexport default class ElementStudioAlertBoxOptions extends Vue {\n  @Prop()\n  value!: AlertBoxOptions;\n\n  get internalValue() {\n    return this.value || DEFAULT_OPTIONS;\n  }\n\n  get styles() {\n    return AlertBoxStyleV.types.map(type => type.value);\n  }\n\n  updateStyle(style: AlertBoxStyle) {\n    this.emit({\n      ...this.internalValue,\n      style\n    });\n  }\n\n  updateContent(content: string | null) {\n    this.emit({\n      ...this.internalValue,\n      content: content ?? \"\"\n    });\n  }\n\n  emit(alertBoxOptions: AlertBoxOptions) {\n    this.$emit(\"input\", alertBoxOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAlertBoxOptions.vue?vue&type=template&id=b89503c4&\"\nimport script from \"./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-focus-point-options mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Focus Point Options\")]),_c('v-checkbox',{staticClass:\"mb-3\",attrs:{\"label\":\"Enable Grid Mode\",\"hide-details\":\"\",\"input-value\":_vm.internalValue.gridMode},on:{\"change\":_vm.updateGridMode}}),_c('v-autocomplete',{staticClass:\"mb-2\",attrs:{\"label\":\"Image Path\",\"value\":_vm.internalValue.imagePropertyPath,\"items\":_vm.paths,\"persistent-hint\":\"\",\"hint\":\"Shows an image as background of this input\",\"clearable\":\"\",\"disabled\":_vm.internalValue.gridMode},on:{\"input\":_vm.updatePath}}),(_vm.internalValue.gridMode)?_c('AlertBox',{attrs:{\"options\":{\n      type: 'info',\n      content: 'Not available when grid mode is enabled.'\n    }}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { FocusPointOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\n\n@Component({\n  components: { AlertBox, DropdownInput, Repeater }\n})\nexport default class ElementStudioVideoOptions extends Vue {\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  value!: FocusPointOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"wpmedia\"]);\n  }\n\n  updatePath(path: string) {\n    this.emit({\n      ...this.internalValue,\n      imagePropertyPath: path || \"\"\n    });\n  }\n\n  updateGridMode(gridMode: boolean) {\n    this.emit({\n      ...this.internalValue,\n      gridMode\n    });\n  }\n\n  emit(options: FocusPointOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioFocusPointOptions.vue?vue&type=template&id=748eb54a&\"\nimport script from \"./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { PresetSection } from \"@/types/element-studio\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  presetToPhp,\n  slugToPhpSlug\n} from \"@/lib/elements/studio/element-to-php\";\nimport * as t from \"io-ts\";\nimport slugify from \"slugify\";\nimport { getItemNamespaceFromSlug } from \"@/lib/elements/studio/misc\";\n\nexport async function savePresetToServer(\n  preset: PresetSection,\n  directoryPath: string,\n  filename: string,\n  slug: string\n) {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_preset\",\n    dataToPost: {\n      directoryPath,\n      filename,\n      preset: presetToPhp(\n        slugToPhpSlug(slug),\n        preset.section,\n        getItemNamespaceFromSlug(slug)\n      )\n    },\n    decoder: t.unknown\n  });\n}\n\nexport function getSlugFromNamespaceAndFilename(\n  namespace: string,\n  filename: string\n) {\n  return `${namespace}\\\\${slugify(filename)}`;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio-hide-control-input\"},[_c('v-checkbox',{attrs:{\"input-value\":!!_vm.value,\"label\":\"Hide Control From Specific Elements\",\"hide-details\":\"\"},on:{\"change\":_vm.toggleControl}}),(!!_vm.value)?_c('v-combobox',{attrs:{\"label\":\"Elements\",\"items\":_vm.items,\"value\":_vm.value,\"multiple\":\"\"},on:{\"input\":_vm.updateValue}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport { configStore } from \"@/store/store-accessor\";\n\n@Component({})\nexport default class ElementStudioHideControlInput extends Vue {\n  @Prop()\n  value!: string[] | undefined;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get items() {\n    return Object.keys(configStore.elements);\n  }\n\n  toggleControl(enabled: boolean) {\n    if (enabled) {\n      this.$emit(\"input\", []);\n    } else {\n      this.$emit(\"remove\");\n    }\n  }\n\n  updateValue(value: string[]) {\n    this.$emit(\"input\", value);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioHideControlInput.vue?vue&type=template&id=7faf1f3e&\"\nimport script from \"./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  Control,\n  ControlConditions,\n  ControlType,\n  CONTROL_TYPES,\n  RangeOptions,\n  DropdownOptions,\n  ButtonBarOrDropdownItem,\n  CodeOptionsV,\n  ShadowOptionsV,\n  ShadowOptions,\n  CodeOptions,\n  DatePickerOptionsV,\n  textAndRichTextVariableItem,\n  ControlOptions,\n  BreakpointOptions,\n  LayoutType,\n  controlLayoutTypes\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport CopyButton from \"@/components/Reusable/CopyButton.vue\";\nimport TwigCodeHelper from \"./TwigCodeHelper.vue\";\nimport ElementStudioConditionInput from \"./ElementStudioConditionInput.vue\";\nimport ElementStudioUnitOptions from \"./ElementStudioUnitOptions.vue\";\n\nimport lodash from \"lodash\";\nimport { getHash } from \"@/util/hash\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { UnitOptions } from \"@/types/unit\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport ElementStudioRangeOptions from \"@/components/ElementStudio/ElementStudioRangeOptions.vue\";\nimport ElementStudioRepeaterOptions from \"@/components/ElementStudio/ElementStudioRepeaterOptions.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport ElementStudioDropdownOptions from \"@/components/ElementStudio/ElementStudioDropdownOptions.vue\";\nimport ElementStudioBreakpointOptions from \"@/components/ElementStudio/ElementStudioBreakpointOptions.vue\";\nimport ElementStudioVariableOptions from \"@/components/ElementStudio/ElementStudioVariableOptions.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport {\n  getDynamicPathAcceptsItems,\n  getPathWithoutRepeaterIndex\n} from \"@/lib/dynamic-data/utils\";\nimport Copyable from \"@/components/ElementStudio/Copyable.vue\";\nimport {\n  doesControlTypeAcceptChildren,\n  isControlTypeARepeater\n} from \"@/lib/elements/utils\";\nimport ElementStudioMediaOptions from \"@/components/ElementStudio/ElementStudioMediaOptions.vue\";\nimport ElementStudioMediaSizeOptions from \"@/components/ElementStudio/ElementStudioMediaSizeOptions.vue\";\nimport ElementStudioIconOptions from \"@/components/ElementStudio/ElementStudioIconOptions.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { spacingBarsPresetSlug } from \"@/lib/elements/constants\";\nimport { getSpacingBarsFromPresetSlug } from \"@/lib/elements/studio/spacing-bars\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport ElementStudioPostChooserOptions from \"@/components/ElementStudio/ElementStudioPostChooserOptions.vue\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { isNestingRuleAllowedInside } from \"@/lib/tree/nesting\";\nimport ElementStudioVideoOptions from \"@/components/ElementStudio/ElementStudioVideoOptions.vue\";\nimport ElementStudioAlertBoxOptions from \"@/components/ElementStudio/ElementStudioAlertBoxOptions.vue\";\nimport ElementStudioFocusPointOptions from \"@/components/ElementStudio/ElementStudioFocusPointOptions.vue\";\nimport { DynamicFieldReturnType } from \"@/types/dynamic-property-path\";\nimport { slugToPhpSlug } from \"@/lib/elements/studio/element-to-php\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\nimport { ElementStudioSaveLocationWithName } from \"@/types/element-studio\";\nimport slugify from \"slugify\";\nimport { logNotificationOfSameItem } from \"@/lib/elements/studio/misc\";\nimport {\n  getSlugFromNamespaceAndFilename,\n  savePresetToServer\n} from \"@/lib/elements/studio/presets\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport ElementStudioHideControlInput from \"@/components/ElementStudio/ElementStudioHideControlInput.vue\";\nimport { SubscriptionMode, subscriptionMode } from \"@/types/load\";\n\n@Component({\n  name: \"ControlSectionOrControl\",\n  components: {\n    ElementStudioHideControlInput,\n    ElementStudioSaveNewDialog,\n    ElementStudioFocusPointOptions,\n    ElementStudioVideoOptions,\n    ElementStudioIconsAutocomplete,\n    IconButton,\n    InlineRepeater,\n    ElementStudioBreakpointOptions,\n    Icon,\n    ElementStudioIconOptions,\n    ElementStudioMediaSizeOptions,\n    ElementStudioMediaOptions,\n    ElementStudioPostChooserOptions,\n    TextInput,\n    Copyable,\n    ElementStudioDropdownOptions,\n    ElementStudioVariableOptions,\n    DropdownInput,\n    ElementStudioRepeaterOptions,\n    ElementStudioRangeOptions,\n    Dropdown,\n    CopyButton,\n    ShittyTextInput,\n    Repeater,\n    ControlSectionOrControl,\n    draggable,\n    Accordion,\n    TwigCodeHelper,\n    ElementStudioConditionInput,\n    ElementStudioUnitOptions,\n    ElementStudioAlertBoxOptions\n  }\n})\nexport default class ControlSectionOrControl extends Vue {\n  @Prop()\n  path!: string;\n\n  @Prop()\n  parentPath!: string;\n\n  @Prop()\n  index!: number;\n\n  @Prop()\n  value!: Control;\n\n  @Prop()\n  twigParentPath!: string;\n\n  @Prop()\n  parentControl!: Control | undefined;\n\n  codeHelpOpen = false;\n  showContentEditableCode = false;\n  showNewPresetDialog = false;\n\n  // can't have media queries within media queries\n  get canHaveMediaQueries() {\n    return !!this.parentControl?.enableMediaQueries;\n  }\n\n  get parentType() {\n    return this.parentControl?.options.type;\n  }\n\n  get keyToRerenderCodeHelp() {\n    const json = jsonStringifyOrUndefined(this.value);\n    return getHash(`${json}`);\n  }\n\n  accordionState: Array<undefined | boolean | null> = [false];\n\n  get isPresetSection() {\n    return !!this.presetSectionSlug;\n  }\n\n  get presetSectionSlug() {\n    return this.value.options.sectionOptions?.preset?.slug;\n  }\n\n  get isSection() {\n    return this.value.options.type === \"section\";\n  }\n\n  get isRepeater() {\n    return isControlTypeARepeater(this.value.options.type);\n  }\n\n  get isParentARepeater() {\n    return isControlTypeARepeater(this.parentType);\n  }\n\n  get controlAcceptsChildren() {\n    return doesControlTypeAcceptChildren(this.value.options.type);\n  }\n\n  get isInContentTab() {\n    return this.path.startsWith(\"contentSections\");\n  }\n\n  get spacingBarPresetSlug() {\n    if (!this.isSection) return undefined;\n\n    return spacingBarsPresetSlug.find(\n      slug => slug === this.value.options?.sectionOptions?.preset?.slug\n    );\n  }\n\n  get classList() {\n    return {\n      \"element-studio-control-or-control-section\": true,\n      \"element-studio-control-section\": true,\n      \"element-studio-control\": !this.controlAcceptsChildren\n    };\n  }\n\n  get dynamicPropertyPath() {\n    const dynamicPropertyPaths = this.context.element().dynamicPropertyPaths;\n\n    if (!dynamicPropertyPaths) return false;\n\n    const dynPropPathThatMatchesTwigPath = dynamicPropertyPaths.find(\n      dynPropPath =>\n        getPathWithoutRepeaterIndex(dynPropPath.path) ===\n        this.twigPathWithoutRepeaterIndex\n    );\n\n    return dynPropPathThatMatchesTwigPath;\n  }\n\n  get twigPathWithoutRepeaterIndex() {\n    return getPathWithoutRepeaterIndex(\n      `${this.twigParentPath}${this.isParentARepeater ? \"[]\" : \"\"}.${\n        this.value.slug\n      }`\n    );\n  }\n\n  get dynamicPathAcceptsItems() {\n    return getDynamicPathAcceptsItems();\n  }\n\n  get contentEditableHelperCode() {\n    return `// Add to the control value's wrapper HTML to make it ContentEditable\n\n    ${this.twigPathForContentEditable}\n    `;\n  }\n\n  get twigPathForContentEditable() {\n    if (this.isRepeater || this.isParentARepeater) {\n      return `{{ dataContentEditablePropertyPath('${this.twigParentPath}['~ loop.index0 ~ '].your_control') }}`;\n    }\n\n    return `{{ dataContentEditablePropertyPath('${this.twigPathWithoutRepeaterIndex}') }}`;\n  }\n\n  get datePickerOptions() {\n    return Object.keys(DatePickerOptionsV.props);\n  }\n\n  get elementStudioData() {\n    return this.context.getElementStudioData();\n  }\n\n  async saveNewPreset(newPreset: ElementStudioSaveLocationWithName) {\n    if (!this.isSection) return;\n\n    const filename = slugify(newPreset.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newPreset.namespace,\n      filename\n    );\n\n    if (\n      this.elementStudioData.presets.find(preset => preset.slug === newSlug)\n    ) {\n      logNotificationOfSameItem(\n        this.elementStudioData.saveLocations,\n        newPreset,\n        \"preset\"\n      );\n\n      return;\n    }\n\n    const presetSectionFromCurrentSection = this.value;\n\n    presetSectionFromCurrentSection.options.sectionOptions = {\n      ...presetSectionFromCurrentSection.options.sectionOptions,\n      preset: {\n        slug: newSlug\n      }\n    };\n\n    pipe(\n      await savePresetToServer(\n        {\n          slug: newSlug,\n          section: presetSectionFromCurrentSection\n        },\n        newPreset.directoryPath,\n        filename,\n        newSlug\n      ),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newData = defensiveCopy(this.elementStudioData);\n\n          newData.presets.push({\n            slug: newSlug,\n            directoryPath: newPreset.directoryPath\n          });\n\n          newData.presetSections.push({\n            slug: newSlug,\n            section: presetSectionFromCurrentSection\n          });\n\n          this.context.updateElementStudioData(newData);\n\n          // Replace current control with the newly created preset\n          this.context.updateControl(\n            this.parentPath,\n            this.index,\n            presetSectionFromCurrentSection\n          );\n        }\n      )\n    );\n  }\n\n  toggleAccordion(index: number) {\n    /*\n    Vue cannot make a value reactive when you directly set an item with the index,\n    e.g. vm.items[indexOfItem] = newValue\n    Therefore, use Vue.set\n    */\n    Vue.set(this.accordionState, index, !this.accordionState[index]);\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  handleDrag(newControls: Control[]) {\n    this.context.replaceControls(`${this.path}.children`, newControls);\n  }\n\n  get canPaste() {\n    return (\n      this.controlAcceptsChildren &&\n      !this.isPresetSection &&\n      uiStore.clipboard.elementStudio &&\n      uiStore.clipboard.elementStudio.copiedControl\n    );\n  }\n\n  get canReplace() {\n    if (\n      !uiStore.clipboard.elementStudio ||\n      !uiStore.clipboard.elementStudio.copiedControl\n    ) {\n      return false;\n    }\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    // Only allow to replace sections with other sections.\n    // In a preset, there must always be a section at the top\n    if (this.isSection && controlToPaste.options.type !== \"section\") {\n      return false;\n    }\n\n    return true;\n  }\n\n  handlePaste() {\n    if (!this.controlAcceptsChildren) return;\n\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.pasteControl(`${this.path}.children`, controlToPaste);\n  }\n\n  handleReplace() {\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.updateControl(this.parentPath, this.index, controlToPaste);\n  }\n\n  handleMakePreset() {\n    this.showNewPresetDialog = true;\n  }\n\n  get controlTypes() {\n    const capitalize = (s: string) => {\n      return s.charAt(0).toUpperCase() + s.slice(1);\n    };\n\n    const disallowedInContent: ControlType[] = [\n      // \"spacing_complex\",\n      // \"gradient\",\n      // \"unit\",\n      // \"color\",\n      // \"breakpoint_dropdown\",\n      // \"border_complex\",\n      // \"shadow\"\n    ];\n\n    return CONTROL_TYPES.sort()\n      .filter(this.removeDisallowedControlTypes)\n      .map(c => {\n        return {\n          text: capitalize(c),\n          value: c\n        };\n      })\n      .map(x => {\n        if (this.isInContentTab && disallowedInContent.includes(x.value)) {\n          return {\n            ...x,\n            disabled: true\n          };\n        } else {\n          return x;\n        }\n      });\n  }\n\n  copy() {\n    const copiedControl = defensiveCopy(this.value);\n    uiStore.copyElementStudioControl(copiedControl);\n  }\n\n  get availablePresetSections() {\n    return this.context.getPresetSections().map(preset => {\n      return {\n        text: preset.slug,\n        value: preset.slug\n      };\n    });\n  }\n\n  updatePresetSectionSlug(newPresetSectionSlug: string) {\n    const newPresetSection = defensiveCopy(\n      this.context.getPresetSection(newPresetSectionSlug)\n    );\n\n    if (newPresetSection !== undefined) {\n      newPresetSection.section.options.sectionOptions = {\n        ...newPresetSection.section.options.sectionOptions,\n        type: \"popout\"\n      };\n\n      this.context.updateControl(\n        this.parentPath,\n        this.index,\n        newPresetSection.section\n      );\n\n      this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n        newPresetSection.section.options.sectionOptions,\n        newPresetSection.section.slug\n      );\n      this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n        newPresetSection.section.options.sectionOptions,\n        newPresetSection.section.slug\n      );\n    }\n  }\n\n  turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n    sectionOptions: ControlOptions[\"sectionOptions\"],\n    newControlSlugArg: string\n  ) {\n    if (\n      !sectionOptions ||\n      !sectionOptions.preset?.relativePropertyPathsToWhitelistInFlatProps\n    ) {\n      return;\n    }\n\n    const newControlSlug =\n      newControlSlugArg || slugToPhpSlug(newControlSlugArg);\n\n    let newPropertyPathsToWhitelistInFlatProps = defensiveCopy(\n      this.context.element().propertyPathsToWhitelistInFlatProps\n    );\n\n    const absolutePathToWhitelistInFlatProps = sectionOptions.preset.relativePropertyPathsToWhitelistInFlatProps.map(\n      relativePath => `${this.twigParentPath}.${newControlSlug}.${relativePath}`\n    );\n\n    // when changing the slug, we don't want to leave the old paths\n    const oldAbsolutePathToWhitelistInFlatProps = sectionOptions.preset.relativePropertyPathsToWhitelistInFlatProps.map(\n      relativePath =>\n        `${this.twigParentPath}.${this.value.slug}.${relativePath}`\n    );\n\n    if (newPropertyPathsToWhitelistInFlatProps) {\n      // prevent adding the same path multiple times\n      newPropertyPathsToWhitelistInFlatProps = newPropertyPathsToWhitelistInFlatProps.filter(\n        path => {\n          return (\n            !absolutePathToWhitelistInFlatProps.includes(path) &&\n            !oldAbsolutePathToWhitelistInFlatProps.includes(path)\n          );\n        }\n      );\n\n      newPropertyPathsToWhitelistInFlatProps = [\n        ...newPropertyPathsToWhitelistInFlatProps,\n        ...absolutePathToWhitelistInFlatProps\n      ];\n    } else {\n      newPropertyPathsToWhitelistInFlatProps = absolutePathToWhitelistInFlatProps;\n    }\n\n    // this func is called right after updating a control. Wait until the changes propagate before updating again\n    forceNextTick(() =>\n      this.context.updateElementValue(\n        \"propertyPathsToWhitelistInFlatProps\",\n        newPropertyPathsToWhitelistInFlatProps\n      )\n    );\n  }\n\n  turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n    sectionOptions: ControlOptions[\"sectionOptions\"],\n    newControlSlugArg: string\n  ) {\n    if (\n      !sectionOptions ||\n      !sectionOptions.preset?.relativeDynamicPropertyPaths\n    ) {\n      return;\n    }\n    const newControlSlug =\n      newControlSlugArg || slugToPhpSlug(newControlSlugArg);\n\n    let newDynamicPropertyPaths = defensiveCopy(\n      this.context.element().dynamicPropertyPaths\n    );\n\n    const absoluteDynamicPropPaths = sectionOptions.preset.relativeDynamicPropertyPaths.map(\n      relativeDynamicPropertyPath => ({\n        ...relativeDynamicPropertyPath,\n        path: `${this.twigParentPath}.${newControlSlug}.${relativeDynamicPropertyPath.path}`\n      })\n    );\n\n    // when changing the slug, we don't want to leave the old paths\n    const oldAbsoluteDynamicPropPaths = sectionOptions.preset.relativeDynamicPropertyPaths.map(\n      relativeDynamicPropertyPath => ({\n        ...relativeDynamicPropertyPath,\n        path: `${this.twigParentPath}.${this.value.slug}.${relativeDynamicPropertyPath.path}`\n      })\n    );\n\n    if (newDynamicPropertyPaths) {\n      // prevent adding the same path multiple times\n      newDynamicPropertyPaths = newDynamicPropertyPaths.filter(\n        newDynPropPath => {\n          return (\n            !absoluteDynamicPropPaths.some(\n              dynPropPath => dynPropPath.path === newDynPropPath.path\n            ) &&\n            !oldAbsoluteDynamicPropPaths.some(\n              dynPropPath => dynPropPath.path === newDynPropPath.path\n            )\n          );\n        }\n      );\n\n      newDynamicPropertyPaths = [\n        ...newDynamicPropertyPaths,\n        ...absoluteDynamicPropPaths\n      ];\n    } else {\n      newDynamicPropertyPaths = absoluteDynamicPropPaths;\n    }\n\n    // this func is called right after updating a control. Wait until the changes propagate before updating again\n    forceNextTick(() =>\n      this.context.updateElementValue(\n        \"dynamicPropertyPaths\",\n        newDynamicPropertyPaths\n      )\n    );\n  }\n\n  removeDisallowedControlTypes(controlType: ControlType) {\n    const disallowedControlTypes: ControlType[] = [\n      \"class\",\n      // \"condition\", // TODO: what could element devs create if we allowed the condition control? Probably some cool stuff\n      \"font_family\",\n      \"global_colors\",\n      \"message\"\n    ];\n\n    return !disallowedControlTypes.includes(controlType);\n  }\n\n  addControl() {\n    this.context.addControl(this.path);\n  }\n\n  deleteControl() {\n    this.context.deleteControl(this.parentPath, this.index);\n  }\n\n  updateControlType(newType: ControlType) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.type = newType;\n\n    if (!this.isInContentTab) {\n      // if we are in the content tab all controls already have a vertical layout\n      const controlTypesThatShouldHaveVerticalLayout: ControlType[] = [\n        \"code\",\n        \"repeater\",\n        \"inline_repeater\",\n        \"spacing_complex\",\n        \"border_complex\",\n        \"gradient\",\n        \"icon\",\n        \"richtext\",\n        \"shadow\",\n        \"wpmedia\",\n        \"text\",\n        \"focus_point\",\n        \"url\"\n      ];\n\n      if (controlTypesThatShouldHaveVerticalLayout.includes(newType)) {\n        newControl.options.layout = \"vertical\";\n      } else {\n        newControl.options.layout = \"inline\";\n      }\n    }\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateVariableItems(newItems: textAndRichTextVariableItem[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.variableItems = newItems;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateVariableItem({\n    newItem,\n    index\n  }: {\n    newItem: textAndRichTextVariableItem;\n    index: number;\n  }) {\n    const newControl = defensiveCopy(this.value);\n\n    if (!newControl.options.variableItems) {\n      newControl.options.variableItems = [];\n    }\n\n    newControl.options.variableItems[index] = newItem;\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDropdownItems(newItems: ButtonBarOrDropdownItem[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.items = newItems;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDropdownItem({\n    newItem,\n    index\n  }: {\n    newItem: ButtonBarOrDropdownItem;\n    index: number;\n  }) {\n    const newControl = defensiveCopy(this.value);\n\n    if (!newControl.options.items) {\n      newControl.options.items = [];\n    }\n\n    // @ts-ignore\n    newControl.options.items[index] = newItem;\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateOptions(\n    newOptions:\n      | UnitOptions\n      | RangeOptions\n      | DropdownOptions\n      | BreakpointOptions,\n    optionsPath: string\n  ) {\n    const newControl = defensiveCopy(this.value);\n    const path = `options.${optionsPath}`;\n\n    lodash.set(newControl, path, newOptions);\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get availableDescendantElements() {\n    return Object.values(configStore.elements)\n      .filter(element => {\n        if (!element) return false;\n\n        // direct children are added automatically in the control\n        // And we don't want to add an element that isn't allowed inside\n        if (element.nestingRule.restrictedToBeADirectChildOf) {\n          return false;\n        }\n\n        return isNestingRuleAllowedInside(\n          element.nestingRule,\n          this.context.element().nestingRule,\n          this.context.element().slug\n        );\n      })\n      .map(element => element?.slug);\n  }\n\n  updateAddExtraElementsBySlug(newElementSlugs: string[]) {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.addRegisteredChildrenOptions = {\n      ...newControl.options.addRegisteredChildrenOptions,\n      addExtraElementsBySlug: newElementSlugs\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get autofocusSupported() {\n    switch (this.value.options.type) {\n      case \"text\":\n        return true;\n      case \"video\":\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  get codeTypes() {\n    /*\n    return CodeOptionsV.props.language.types.map(type => type.value);\n    that used to work but after we added the autofillOnEmpty property to CodeOptionsV\n    it stopped working\n    */\n    return ['css', 'html', 'javascript', 'x-php'];\n  }\n\n  updateCodeType(language: CodeOptions[\"language\"]) {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.codeOptions = {\n      ...newControl.options.codeOptions,\n      language\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get shadowTypes() {\n    return ShadowOptionsV.props.type.types.map(type => type.value);\n  }\n\n  updateShadowType(type: ShadowOptions[\"type\"]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.shadowOptions = {\n      ...newControl.options.shadowOptions,\n      type\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateTextOptionsMultiline(multiline: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.textOptions = {\n      ...newControl.options.textOptions,\n      multiline: multiline\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateButtonBarOptionsSize(big: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.buttonBarOptions = {\n      ...newControl.options.buttonBarOptions,\n      size: big ? \"big\" : \"small\",\n      layout: \"default\"\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateButtonBarOptionsLayout(multiline: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.buttonBarOptions = {\n      ...newControl.options.buttonBarOptions,\n      layout: multiline ? \"multiline\" : \"default\",\n      size: \"small\"\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  addPreset() {\n    this.context.addPreset(this.path);\n  }\n\n  get controlLayouts() {\n    return [\"inline\", \"vertical\"];\n  }\n\n  updateControlLayout(newLayout: \"inline\" | \"vertical\" | undefined) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.layout = newLayout;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateKeywords(newKeywords: string | null) {\n    const newControl = defensiveCopy(this.value);\n    newControl.keywords =\n      newKeywords === null ? undefined : newKeywords.split(\",\");\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get keywordsValue() {\n    return this.value.keywords ? this.value.keywords.join(\",\") : \"\";\n  }\n\n  updatePlaceholder(newPlaceholder: string | null) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.placeholder = newPlaceholder ?? undefined;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateColorType(type: \"solidOnly\" | \"solidAndGradient\") {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.colorOptions = {\n      ...newControl.options.colorOptions,\n      type\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateConditions(newConditions: ControlConditions) {\n    const newControl = defensiveCopy(this.value);\n\n    if (Array.isArray(newConditions) && !newConditions.length) {\n      delete newControl.options.condition;\n    } else {\n      newControl.options.condition = newConditions;\n    }\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateHideForElements(newValue: string[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.hideForElements = newValue;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  deleteHideForElements() {\n    const newControl = defensiveCopy(this.value);\n    delete newControl.options.hideForElements;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get sectionLayouts() {\n    return controlLayoutTypes;\n  }\n\n  updateSectionLayoutType(newLayout: LayoutType = \"accordion\") {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.sectionOptions = {\n      ...newControl.options.sectionOptions,\n      type: newLayout\n    };\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  /*\n   * Updating on \"focus out\" because the \"key\" prop is the slug\n   * So changing the label -> slug will re-render the component while the user is typing\n   */\n  updateLabelAndSlugOnFocusOut(event: { target: HTMLInputElement }) {\n    const newLabel = event.target.value;\n    const newControl = defensiveCopy(this.value);\n\n    newControl.label = newLabel;\n    newControl.slug =\n      // replace anything non-alphanumeric with \"_\".\n      // \"Display: time (ms!)\" becomes \"display_time_ms_\"\n      newLabel.replace(/[^a-z0-9]+/gi, \"_\").toLowerCase();\n\n    if (/^\\d/.test(newControl.slug)) {\n      // it starts with a number\n      newControl.slug = `slug_cant_start_with_number_${newControl.slug}`;\n    }\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n\n    // State that depends on the slug will be invalid after changing it\n    this.updateElementPropertiesNotTiedToControl(newControl);\n  }\n\n  updateControlBoolean(\n    enable: boolean,\n    property: \"enableHover\" | \"enableMediaQueries\"\n  ) {\n    const newControl = defensiveCopy(this.value);\n    newControl[property] = enable;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDynamicPropertyPaths(\n    enable: boolean,\n    accepts: DynamicFieldReturnType = \"string\",\n    proOnly = false\n  ) {\n    let newDynamicPropertyPaths = defensiveCopy(\n      this.context.element().dynamicPropertyPaths\n    );\n\n    // Avoids duplicating the element on each change\n    if (newDynamicPropertyPaths) {\n      newDynamicPropertyPaths = newDynamicPropertyPaths.filter(\n        propPath => propPath.path !== this.twigPathWithoutRepeaterIndex\n      );\n    }\n\n    if (enable) {\n      if (!newDynamicPropertyPaths) {\n        newDynamicPropertyPaths = [];\n      }\n\n      newDynamicPropertyPaths.push({\n        accepts,\n        path: this.twigPathWithoutRepeaterIndex,\n        ...(proOnly && { proOnly })\n      });\n    }\n\n    this.context.updateElementValue(\n      \"dynamicPropertyPaths\",\n      newDynamicPropertyPaths\n    );\n  }\n\n  isSpacingBarEnabled() {\n    const spacingBars = this.context.element().spacingBars;\n\n    if (!spacingBars || !spacingBars.length) return false;\n\n    if (!this.spacingBarPresetSlug) return false;\n\n    const spacingBarsAffectedPropertyPaths = getSpacingBarsFromPresetSlug(\n      this.spacingBarPresetSlug,\n      this.twigPathWithoutRepeaterIndex\n    ).map(spaceBar => spaceBar.affectedPropertyPath);\n\n    // If any current spacing bar matches a spacingBarsAffectedPropertyPaths it's enabled\n    const enabledSpaceBar = spacingBars.find(elementSpaceBar =>\n      spacingBarsAffectedPropertyPaths.includes(\n        elementSpaceBar.affectedPropertyPath\n      )\n    );\n\n    return !!enabledSpaceBar;\n  }\n\n  updateSpacingBar(enabled: boolean) {\n    if (!this.spacingBarPresetSlug) return;\n\n    let newSpacingBars = defensiveCopy(this.context.element().spacingBars);\n\n    const spacingBars = getSpacingBarsFromPresetSlug(\n      this.spacingBarPresetSlug,\n      this.twigPathWithoutRepeaterIndex\n    );\n\n    if (enabled) {\n      if (!newSpacingBars) {\n        newSpacingBars = [];\n      }\n\n      newSpacingBars = [...newSpacingBars, ...spacingBars];\n    } else if (newSpacingBars) {\n      const spacingBarsAffectedPropertyPaths = spacingBars.map(\n        spaceBar => spaceBar.affectedPropertyPath\n      );\n\n      newSpacingBars = newSpacingBars.filter(\n        elementSpaceBar =>\n          !spacingBarsAffectedPropertyPaths.includes(\n            elementSpaceBar.affectedPropertyPath\n          )\n      );\n    }\n\n    this.context.updateElementValue(\"spacingBars\", newSpacingBars);\n  }\n\n  // must be called last\n  updateElementPropertiesNotTiedToControl(newControl: Control) {\n    // nextTick to wait for props to  propagate with the new values.\n    // This avoids overriding changes since we call the functions one after another\n    // The correct way would've been to update the entire element value through context and not just a single property\n    // But I'm not refactoring everything\n    forceNextTick(() => this.updateSpacingBar(false));\n    forceNextTick(() => this.updateDynamicPropertyPaths(false));\n    forceNextTick(() => this.updatePropertyPathsToWhitelistInFlatProps(false));\n    forceNextTick(() =>\n      this.updatePropertyPathsToSsrElementWhenValueChanges(false)\n    );\n\n    this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n      newControl.options.sectionOptions,\n      newControl.slug\n    );\n\n    this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n      newControl.options.sectionOptions,\n      newControl.slug\n    );\n  }\n\n  get shouldControlValueBeAddedInAllBreakpoints() {\n    const propertyPathsToWhitelistInFlatProps = this.context.element()\n      .propertyPathsToWhitelistInFlatProps;\n\n    return (\n      propertyPathsToWhitelistInFlatProps &&\n      propertyPathsToWhitelistInFlatProps.includes(\n        this.twigPathWithoutRepeaterIndex\n      )\n    );\n  }\n\n  updatePropertyPathsToWhitelistInFlatProps(enable: boolean) {\n    let newPropertyPathsToWhitelistInFlatProps = defensiveCopy(\n      this.context.element().propertyPathsToWhitelistInFlatProps\n    );\n\n    if (enable) {\n      if (!newPropertyPathsToWhitelistInFlatProps) {\n        newPropertyPathsToWhitelistInFlatProps = [];\n      }\n\n      newPropertyPathsToWhitelistInFlatProps.push(\n        this.twigPathWithoutRepeaterIndex\n      );\n    } else if (newPropertyPathsToWhitelistInFlatProps) {\n      const propertyPathIndex = newPropertyPathsToWhitelistInFlatProps.findIndex(\n        (path: string) => path === this.twigPathWithoutRepeaterIndex\n      );\n\n      if (propertyPathIndex > -1) {\n        newPropertyPathsToWhitelistInFlatProps.splice(propertyPathIndex, 1);\n      }\n    }\n\n    this.context.updateElementValue(\n      \"propertyPathsToWhitelistInFlatProps\",\n      newPropertyPathsToWhitelistInFlatProps\n    );\n  }\n\n  get hasSsr() {\n    return this.context.element().template.includes(\"%%SSR%%\");\n  }\n\n  get shouldControlValueCauseSsr() {\n    const propertyPathsToSsrElementWhenValueChanges = this.context.element()\n      .propertyPathsToSsrElementWhenValueChanges;\n\n    return (\n      propertyPathsToSsrElementWhenValueChanges &&\n      propertyPathsToSsrElementWhenValueChanges.includes(\n        this.twigPathWithoutRepeaterIndex\n      )\n    );\n  }\n\n  updatePropertyPathsToSsrElementWhenValueChanges(enable: boolean) {\n    let newPropertyPathsToSsrElementWhenValueChanges = defensiveCopy(\n      this.context.element().propertyPathsToSsrElementWhenValueChanges\n    );\n\n    if (enable) {\n      if (!newPropertyPathsToSsrElementWhenValueChanges) {\n        newPropertyPathsToSsrElementWhenValueChanges = [];\n      }\n\n      newPropertyPathsToSsrElementWhenValueChanges.push(\n        this.twigPathWithoutRepeaterIndex\n      );\n    } else if (newPropertyPathsToSsrElementWhenValueChanges) {\n      newPropertyPathsToSsrElementWhenValueChanges = newPropertyPathsToSsrElementWhenValueChanges.filter(\n        (path: string) => path !== this.twigPathWithoutRepeaterIndex\n      );\n    }\n\n    this.context.updateElementValue(\n      \"propertyPathsToSsrElementWhenValueChanges\",\n      newPropertyPathsToSsrElementWhenValueChanges\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ControlSectionOrControl.vue?vue&type=template&id=07989b7d&\"\nimport script from \"./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"\nexport * from \"./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ControlSectionOrControl.vue?vue&type=style&index=0&id=07989b7d&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { BuilderElementControls } from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport ControlSectionOrControl from \"./ControlSectionOrControl.vue\";\nimport draggable from \"vuedraggable\";\nimport { Control } from \"@/types/controls\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: {\n    ControlSectionOrControl,\n    draggable\n  }\n})\nexport default class ElementStudioControls extends Vue {\n  @Prop()\n  value!: BuilderElementControls;\n\n  @Prop()\n  section!: \"design\" | \"content\";\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get sectionName() {\n    return `${this.section}Sections`;\n  }\n\n  handleDrag(newControls: Control[]) {\n    this.context.replaceControls(this.sectionName, newControls);\n  }\n\n  get canPaste() {\n    return (\n      uiStore.clipboard.elementStudio &&\n      uiStore.clipboard.elementStudio.copiedControl\n    );\n  }\n\n  handlePaste() {\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.pasteControl(this.sectionName, controlToPaste);\n  }\n\n  addSection() {\n    this.context.addControl(this.sectionName, \"section\");\n  }\n\n  addPreset() {\n    this.context.addPreset(this.sectionName);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioControls.vue?vue&type=template&id=d8c974a0&\"\nimport script from \"./ElementStudioControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioControls.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_vm._v(\" Dependencies \"),_c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n      options: {\n        repeaterOptions: {\n          titleTemplate: '{title}',\n          defaultTitle: 'Dependency'\n        }\n      }\n    }},on:{\"input\":function($event){return _vm.updateDependenciesRoot($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndexRoot, value }){return [_c('v-text-field',{attrs:{\"label\":\"Title\",\"value\":value.title},on:{\"input\":function($event){return _vm.updateDependency($event, `[${repeaterIndexRoot}].title`)}}}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'scripts'},on:{\"toggle\":function($event){return _vm.toggleAccordion('scripts')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Scripts (\"+_vm._s(value.scripts ? value.scripts.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.scripts,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'URL to script' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, `[${repeaterIndexRoot}].scripts`)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('v-autocomplete',{attrs:{\"placeholder\":\"Script\",\"value\":value,\"items\":_vm.jsLocalDependencies},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    `[${repeaterIndexRoot}].scripts[${repeaterIndex}]`\n                  )}}}),(\n                  !value || _vm.dependencyIsNotLocal(value, _vm.jsLocalDependencies)\n                )?_c('div',[(value)?_c('div',[_vm._v(\"The dependency is a hardcoded value:\")]):_c('div',[_vm._v(\"Hardcode a value:\")]),_c('div',[_vm._v(\" Remember to use \"),_c('pre',[_vm._v(\"%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%\")])]),_c('ShittyTextInput',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateDependency(\n                      $event,\n                      `[${repeaterIndexRoot}].scripts[${repeaterIndex}]`\n                    )}}})],1):_vm._e(),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.getLocalDependenciesFilesFromWordpress}},[_vm._v(\" Reload dependencies files \")])]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'inlineScripts'},on:{\"toggle\":function($event){return _vm.toggleAccordion('inlineScripts')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Inline Scripts (\"+_vm._s(value.inlineScripts ? value.inlineScripts.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.inlineScripts,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'JavaScript' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies(\n                $event,\n                `[${repeaterIndexRoot}].inlineScripts`\n              )}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('div',{staticClass:\"element-studio__execute-inline-script-dependencies\"},[_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.executeInlineScript(\n                      `[${repeaterIndexRoot}].inlineScripts[${repeaterIndex}]`\n                    )}}},[_vm._v(\" Execute code \")])],1),_c('CodeInput',{attrs:{\"value\":value,\"language\":\"javascript\",\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event || '',\n                    `[${repeaterIndexRoot}].inlineScripts[${repeaterIndex}]`\n                  )}}})]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'styles'},on:{\"toggle\":function($event){return _vm.toggleAccordion('styles')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Styles (\"+_vm._s(value.styles ? value.styles.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.styles,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'URL to style' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, `[${repeaterIndexRoot}].styles`)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('v-autocomplete',{attrs:{\"placeholder\":\"Style\",\"value\":value,\"items\":_vm.cssLocalDependencies},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    `[${repeaterIndexRoot}].styles[${repeaterIndex}]`\n                  )}}}),(\n                  !value || _vm.dependencyIsNotLocal(value, _vm.cssLocalDependencies)\n                )?_c('div',[(value)?_c('div',[_vm._v(\"The dependency is a hardcoded value:\")]):_c('div',[_vm._v(\"Hardcode a value:\")]),_c('div',[_vm._v(\" Remember to use \"),_c('pre',[_vm._v(\"%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%\")])]),_c('ShittyTextInput',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateDependency(\n                      $event,\n                      `[${repeaterIndexRoot}].styles[${repeaterIndex}]`\n                    )}}})],1):_vm._e(),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.getLocalDependenciesFilesFromWordpress}},[_vm._v(\" Reload dependencies files \")])]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'inlineStyles'},on:{\"toggle\":function($event){return _vm.toggleAccordion('inlineStyles')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Inline Styles (\"+_vm._s(value.inlineStyles ? value.inlineStyles.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"path\":\"inlineStyles\",\"value\":value.inlineStyles,\"control\":{\n              options: {\n                repeaterOptions: {\n                  titleTemplate: 'CSS'\n                }\n              }\n            }},on:{\"input\":function($event){return _vm.updateDependencies(\n                $event,\n                `[${repeaterIndexRoot}].inlineStyles`\n              )}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('CodeInput',{attrs:{\"value\":value,\"language\":\"css\",\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event || '',\n                    `[${repeaterIndexRoot}].inlineStyles[${repeaterIndex}]`\n                  )}}})]}}],null,true)})]},proxy:true}],null,true)}),_c('div',{staticClass:\"element-studio-dependencies-separator\"}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'builderCondition'},on:{\"toggle\":function($event){return _vm.toggleAccordion('builderCondition')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Builder Condition (\"+_vm._s(value.builderCondition ? \"present\" : \"empty\")+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('CodeInput',{attrs:{\"value\":value.builderCondition,\"language\":\"javascript\",\"twig-variables\":_vm.twigVariables},on:{\"input\":function($event){return _vm.updateDependency(\n                $event || '',\n                `[${repeaterIndexRoot}].builderCondition`\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.conditionInfoOpen\n            },on:{\"click\":function($event){_vm.conditionInfoOpen = !_vm.conditionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.conditionInfoOpen}},[_vm._t(\"default\",function(){return [_vm._v(\"Decides if the dependencies are added to the builder\")]})],2),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" Can run Twig and JS code. \")]),_c('div',[_vm._v(\" When left empty the dependencies will always be added. \")]),_c('div',[_vm._v(\" If any code is present and the result returns a \"),_c('code',[_vm._v(\"true\")]),_vm._v(\" value the dependencies will be added. \")]),_c('div',[_vm._v(\" If it returns \"),_c('code',[_vm._v(\"false\")]),_vm._v(\" no dependencies are added. \")])],1)]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'frontendCondition'},on:{\"toggle\":function($event){return _vm.toggleAccordion('frontendCondition')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Frontend Condition (\"+_vm._s(value.frontendCondition ? \"present\" : \"empty\")+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('CodeInput',{attrs:{\"value\":value.frontendCondition,\"language\":\"x-php\",\"twig-variables\":_vm.twigVariables},on:{\"input\":function($event){return _vm.updateDependency(\n                $event || '',\n                `[${repeaterIndexRoot}].frontendCondition`\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.conditionInfoOpen\n            },on:{\"click\":function($event){_vm.conditionInfoOpen = !_vm.conditionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.conditionInfoOpen}},[_vm._t(\"default\",function(){return [_vm._v(\"Decides if the dependencies are added to the frontend\")]})],2),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" Can run Twig and PHP code. \")]),_c('div',[_vm._v(\" When left empty the dependencies will always be added. \")]),_c('div',[_vm._v(\" If any code is present and the result returns a \"),_c('code',[_vm._v(\"true\")]),_vm._v(\" value the dependencies will be added. \")]),_c('div',[_vm._v(\" If it returns \"),_c('code',[_vm._v(\"false\")]),_vm._v(\" no dependencies are added. \")])],1)]},proxy:true}],null,true)})]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"d-flex align-center\"},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":_vm.open ? '90' : undefined,\"size\":\"12\"}}),_c('b',[_vm._t(\"default\")],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\n@Component({\n  components: { Icon }\n})\nexport default class TextWithChevron extends Vue {\n  @Prop()\n  open!: boolean;\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TextWithChevron.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TextWithChevron.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextWithChevron.vue?vue&type=template&id=ba3f4bd2&\"\nimport script from \"./TextWithChevron.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextWithChevron.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as t from \"io-ts\";\n\nexport const TagsV = t.union([\n  t.literal(\"id\"), // Element ID\n  t.literal(\"parentId\"), // Element's parent ID\n  t.literal(\"selector\"), // Element CSS Selector\n  t.literal(\"parent_selector\"), // Parent CSS Selector\n  t.literal(\"postId\"), // Parent-most post ID\n  t.literal(\"ssr\") // SSR Content\n]);\nexport const TAGS_AVAILABLE: Tag[] = TagsV.types.map(({ value }) => value);\nexport type Tag = t.TypeOf<typeof TagsV>;\nexport type Tags = Partial<Record<Tag, string | number | null>>;\n","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport {\n  AvailableDependencyFilesV,\n  ElementDependencyAndCondition\n} from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport lodash from \"lodash\";\nimport TextWithChevron from \"@/components/ElementStudio/TextWithChevron.vue\";\nimport { addOrRerunInlineScriptInHead } from \"@/lib/canvas/assets/js-in-head\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { VuetifyShapeForSelect } from \"@/types/conditions\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport * as t from \"io-ts\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\ntype DependencyKeys = keyof ElementDependencyAndCondition;\n\n@Component({\n  components: {\n    TextInput,\n    TextWithChevron,\n    CodeInput,\n    Accordion,\n    ShittyTextInput,\n    Repeater\n  }\n})\nexport default class ElementStudioDependencies extends Vue {\n  @Prop()\n  value!: ElementDependencyAndCondition[] | false;\n\n  accordionState: DependencyKeys | \"\" = \"\";\n  index = 0;\n  conditionInfoOpen = false;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get twigVariables() {\n    return this.context.getPathsToAllControls();\n  }\n\n  async mounted() {\n    if (configStore.localDependenciesFiles.length) return;\n\n    await this.getLocalDependenciesFilesFromWordpress();\n  }\n\n  async getLocalDependenciesFilesFromWordpress() {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_get_local_dependency_files\",\n        decoder: t.array(AvailableDependencyFilesV),\n        resultKey: \"localDependencyFiles\"\n      }),\n      fold(\n        errors => errors.forEach(e => NotificationLogger.log.message(e.msg)),\n        localDependencyFiles => {\n          configStore.setLocalDependenciesFiles(localDependencyFiles);\n        }\n      )\n    );\n  }\n\n  updateDependenciesRoot(newValue: ElementDependencyAndCondition[]) {\n    this.context.updateDependency(newValue);\n  }\n\n  updateDependencies(newValue: ({} | string)[], path: string) {\n    const newDependencies = defensiveCopy(this.value) || [];\n\n    lodash.set(\n      newDependencies,\n      path,\n      // Turn objects into string. It happens when Repeater adds a new item\n      newValue.map(dependency =>\n        typeof dependency === \"string\" ? dependency : \"\"\n      )\n    );\n\n    this.context.updateDependency(newDependencies);\n  }\n\n  updateDependency(newValue: string, path: string) {\n    const newDependencies = defensiveCopy(this.value) || [];\n    lodash.set(newDependencies, path, newValue);\n    this.context.updateDependency(newDependencies);\n  }\n\n  toggleAccordion(state: DependencyKeys) {\n    this.accordionState = this.accordionState === state ? \"\" : state;\n  }\n\n  executeInlineScript(path: string) {\n    const inlineScript = lodash.get(this.value, path);\n\n    if (inlineScript) {\n      addOrRerunInlineScriptInHead(getBuilderCanvasDocument(), {\n        code: inlineScript,\n        origin: `Executed inline script from Element Studio`\n      });\n    }\n  }\n\n  dependencyIsNotLocal(value: string, localDepsItems: VuetifyShapeForSelect[]) {\n    return !localDepsItems.find(\n      localDep => \"value\" in localDep && localDep.value === value\n    );\n  }\n\n  get jsLocalDependencies() {\n    return this.localDependenciesAsVuetifySelectShape(\"js\");\n  }\n\n  get cssLocalDependencies() {\n    return this.localDependenciesAsVuetifySelectShape(\"css\");\n  }\n\n  localDependenciesAsVuetifySelectShape(fileType: \"js\" | \"css\") {\n    const localDependencies: VuetifyShapeForSelect[] = [];\n\n    configStore.localDependenciesFiles.forEach(dependencyFile => {\n      if (!dependencyFile.files[fileType].length) return;\n\n      localDependencies.push({ header: dependencyFile.name });\n\n      dependencyFile.files[fileType].forEach(file => {\n        localDependencies.push({\n          text: file.name,\n          value: file.url\n        });\n      });\n    });\n\n    return localDependencies;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDependencies.vue?vue&type=template&id=724382e9&\"\nimport script from \"./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDependencies.vue?vue&type=style&index=0&id=724382e9&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n  Avoid duplication of controls, settings and others\n  Removing external controls, settingsSections and cleaning up CSS Template before sending to PHP\n\n  PHP will re-add them all back on each render otherwise\n */\n\nimport { BuilderElement } from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { objectGetTypedKeys } from \"@/util/type-assertions\";\n\nexport const getElementWithoutExternalValues = (elementArg: BuilderElement) => {\n  const element = defensiveCopy(elementArg);\n\n  const cleanElement = getElementWithoutExternalControls(element);\n\n  cleanElement.controls.settingsSections = [];\n  // Delete everything after '{#%---' which is the delimiter for universal twig CSS\n  cleanElement.cssTemplate = cleanElement.cssTemplate.split(\"\\n{#%---\")[0];\n\n  return cleanElement;\n};\n\n// Filter out all external controls (like AOS, motion effects, etc)\nfunction getElementWithoutExternalControls(elementArg: BuilderElement) {\n  const element = defensiveCopy(elementArg);\n\n  objectGetTypedKeys(element.controls).forEach(key => {\n    element.controls[key] = element.controls[key].filter(\n      control => !control.options.isExternal\n    );\n  });\n\n  return element;\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === _vm.actionKey},on:{\"toggle\":_vm.toggleAccordion},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" \"+_vm._s(_vm.actionName)+\" (\"+_vm._s(_vm.value && _vm.value[_vm.actionKey] ? _vm.value[_vm.actionKey].length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('b',[_vm._t(\"action-description\")],2),_c('Repeater',{attrs:{\"value\":_vm.value[_vm.actionKey],\"control\":{\n          options: {\n            repeaterOptions: {\n              titleTemplate: 'Script',\n              buttonName: 'Add script'\n            }\n          }\n        },\"default-new-value\":{ script: '' }},on:{\"input\":function($event){return _vm.updateActions($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('CodeInput',{attrs:{\"language\":\"javascript\",\"value\":value.script,\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateAction(\n                $event || '',\n                `${_vm.actionKey}[${repeaterIndex}].script`\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.actionInfoOpen\n            },on:{\"click\":function($event){_vm.actionInfoOpen = !_vm.actionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.actionInfoOpen}},[_vm._t(\"default\",function(){return [_vm._v(\" Available within the action's code: \")]})],2),(_vm.actionKey === 'onAfterDeletedElement')?[_c('div',{staticClass:\"mt-3\"},[_vm._v(\" Tags: \"),_c('code',[_vm._v(\"%%PARENT_SELECTOR%%\")]),_vm._v(\" and \"),_c('code',[_vm._v(\"%%PARENT_ID%%\")]),_vm._v(\" are available. \")])]:[_c('div',{staticClass:\"mt-3\"},[_vm._v(\" You can use Twig to access the element properties. eg. \"),_c('code',[_vm._v(\"{ { design.background.color } }\")]),_vm._v(\". \")]),_c('div',{staticClass:\"mt-3\"},[_c('code',[_vm._v(\"%%SELECTOR%%, %%ID%%\")]),_vm._v(\" are also available. \")])]],2),(_vm.withDependencies)?_c('Repeater',{attrs:{\"value\":value.dependencies,\"control\":{\n              options: {\n                repeaterOptions: {\n                  titleTemplate: 'Dependency',\n                  buttonName: 'Add dependency'\n                }\n              }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, repeaterIndex)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex2, value: value2 }){return [_c('v-combobox',{attrs:{\"items\":_vm.pathsToAllControls,\"value\":value2},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    `${_vm.actionKey}[${repeaterIndex}].dependencies[${repeaterIndex2}]`\n                  )}}}),_c('div',{class:{\n                  'element-studio-action-info': true,\n                  'element-studio-action-info__open': _vm.dependencyInfoOpen\n                },on:{\"click\":function($event){_vm.dependencyInfoOpen = !_vm.dependencyInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.dependencyInfoOpen}},[_vm._t(\"default\",function(){return [_vm._t(\"dependency-description-title\")]})],2),_c('div',{staticClass:\"mt-2\"},[_vm._t(\"dependency-description\")],2)],1)]}}],null,true)}):_vm._e(),_c('v-checkbox',{attrs:{\"input-value\":value.runForAllChildren,\"label\":\"Run for all children\",\"hint\":\"beware that the Twig code running in the action will be with the child's data, including tags\",\"persistent-hint\":\"\"},on:{\"change\":function($event){return _vm.updateAction(\n                $event,\n                `${_vm.actionKey}[${repeaterIndex}].runForAllChildren`\n              )}}})]}}],null,true)})]},proxy:true}],null,true)})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { BuilderActionData, BuilderActions } from \"@/types/elements\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport lodash from \"lodash\";\nimport TextWithChevron from \"@/components/ElementStudio/TextWithChevron.vue\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\n\ntype BuilderActionKeys = keyof BuilderActions;\n\n@Component({\n  components: {\n    TextWithChevron,\n    CodeInput,\n    ShittyTextInput,\n    Repeater,\n    Accordion\n  }\n})\nexport default class ElementStudioAction extends Vue {\n  @Prop()\n  value!: BuilderActions | false;\n\n  @Prop()\n  actionKey!: BuilderActionKeys;\n\n  @Prop()\n  accordionState!: BuilderActionKeys | \"\";\n\n  @Prop({ default: true })\n  withDependencies!: boolean;\n\n  index = 0;\n  actionInfoOpen = false;\n  dependencyInfoOpen = false;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get actionName() {\n    return lodash.lowerCase(this.actionKey);\n  }\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get twigVariables() {\n    return this.context.getPathsToAllControls();\n  }\n\n  toggleAccordion() {\n    this.$emit(\n      \"toggle\",\n      this.accordionState === this.actionKey ? \"\" : this.actionKey\n    );\n  }\n\n  getValueOrDefault(path: BuilderActionKeys) {\n    let newActions = defensiveCopy(this.value);\n\n    if (!newActions) {\n      newActions = { [path]: [{ script: \"\" }] };\n    } else if (!newActions[path]) {\n      newActions[path] = [{ script: \"\" }];\n    }\n\n    return newActions;\n  }\n\n  updateActions(newValues: BuilderActionData[]) {\n    const newActions = this.getValueOrDefault(this.actionKey);\n\n    newActions[this.actionKey] = newValues;\n\n    this.context.updateActions(newActions);\n  }\n\n  updateAction(newValue: string, path: string) {\n    // We know it can't be false here\n    const newActions = defensiveCopy(this.value) as BuilderActions;\n\n    lodash.set(newActions, path, newValue);\n    this.context.updateActions(newActions);\n  }\n\n  updateDependencies(newValue: ({} | string)[], index: number) {\n    const newActions = this.getValueOrDefault(this.actionKey);\n\n    let action = newActions[this.actionKey];\n\n    if (!action) {\n      action = [];\n    }\n\n    // Turn objects into string. It happens when Repeater adds a new item\n    action[index].dependencies = newValue.map(script =>\n      typeof script === \"string\" ? script : \"\"\n    );\n\n    newActions[this.actionKey] = action;\n\n    this.context.updateActions(newActions);\n  }\n\n  get pathsToAllControls() {\n    const controls = this.context.element().controls;\n    return [\n      controls.designSections.length ? \"design\" : null,\n      controls.contentSections.length ? \"content\" : null,\n      ...this.context.getPathsToAllControls([], [])\n    ].filter(Boolean);\n  }\n\n  updateDependency(newValue: string, path: string) {\n    // We know it can't be false here because it can only be reached after a value being added\n    const newActions = defensiveCopy(this.value) as BuilderActions;\n\n    lodash.set(newActions, path, newValue);\n\n    this.context.updateActions(newActions);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAction.vue?vue&type=template&id=40bf053f&\"\nimport script from \"./ElementStudioAction.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAction.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioAction.vue?vue&type=style&index=0&id=40bf053f&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        defaultNewValue: {\n          name: '',\n          template: ''\n        },\n        titleTemplate: 'HTML Attribute',\n        buttonName: 'Add new HTML attribute'\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateAttributes($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('b',[_vm._v(\"Attribute Name\")]),_c('v-text-field',{attrs:{\"value\":value.name,\"rules\":[_vm.htmlAttributeNameRule]},on:{\"input\":function($event){return _vm.updateName(repeaterIndex, $event)}}}),_c('b',[_vm._v(\"Attribute Value\")]),('template' in value)?_c('CodeInput',{attrs:{\"value\":value.template,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateTemplateValue(repeaterIndex, $event)}}}):('propertyPath' in value)?_c('v-text-field',{attrs:{\"value\":value.template},on:{\"input\":function($event){return _vm.updatePropertyPathValue(repeaterIndex, $event)}}}):('rawValue' in value)?_c('v-text-field',{attrs:{\"value\":value.template},on:{\"input\":function($event){return _vm.updateRawValue(repeaterIndex, $event)}}}):_vm._e()]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {\n  BuilderElementAttributePropertyPathBased,\n  BuilderElementAttributes,\n  BuilderElementAttributeTemplated,\n  BuilderElementAttributeWithRawValue\n} from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\n\n@Component({\n  components: {\n    CodeInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioAttributes extends Vue {\n  @Prop({ default: () => [] })\n  value!: BuilderElementAttributes;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateAttributes(newValue: BuilderElementAttributes) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateName(index: number, newAttributeName: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (this.htmlAttributeNameRule(newAttributeName) !== true) return;\n\n    newValue[index].name = newAttributeName.trim();\n    this.$emit(\"input\", newValue);\n  }\n\n  updateTemplateValue(index: number, newTemplate: string | null) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[index] as BuilderElementAttributeTemplated).template =\n      newTemplate ?? \"\";\n    this.$emit(\"input\", newValue);\n  }\n\n  updatePropertyPathValue(index: number, newTemplate: string) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[\n      index\n    ] as BuilderElementAttributePropertyPathBased).propertyPath = newTemplate;\n    this.$emit(\"input\", newValue);\n  }\n\n  updateRawValue(index: number, newTemplate: string) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[\n      index\n    ] as BuilderElementAttributeWithRawValue).rawValue = newTemplate;\n    this.$emit(\"input\", newValue);\n  }\n\n  htmlAttributeNameRule(value: string | undefined) {\n    return inputTextValidationRules.validateHtmlAttributeName(value);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAttributes.vue?vue&type=template&id=4cf0ed44&\"\nimport script from \"./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: 'Class .{name}',\n        buttonName: 'Add Class',\n        defaultNewValue: {\n          name: 'my-class',\n          template: 'yes'\n        }\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateClasses($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('b',[_vm._v(\"Class Name\")]),_c('v-text-field',{attrs:{\"value\":value.name,\"rules\":[_vm.htmlClassNameRule]},on:{\"input\":function($event){return _vm.updateName(repeaterIndex, $event)}}}),_c('b',[_vm._v(\"Class Condition Twig Template\")]),_c('CodeInput',{attrs:{\"value\":value.template,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateValue(repeaterIndex, $event)}}}),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" The template can run Twig code. Properties like design.something.whatever are available. If the template returns a blank string, the class will not be added. If the template returns anything, the class will be added. \")]),_c('div',[_vm._v(\" (the returned value is trimmed for spaces and newlines) \")])]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\nimport { BuilderElementAdditionalClasses } from \"@/types/elements\";\n\n@Component({\n  components: {\n    CodeInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioAdditionalClasses extends Vue {\n  @Prop({ default: [] })\n  value!: BuilderElementAdditionalClasses;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateClasses(newValue: BuilderElementAdditionalClasses) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateName(index: number, newClassName: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (this.htmlClassNameRule(newClassName) !== true) return;\n\n    newValue[index].name = newClassName.trim();\n    this.$emit(\"input\", newValue);\n  }\n\n  updateValue(index: number, newTemplate: string | null) {\n    const newValue = defensiveCopy(this.value);\n\n    newValue[index].template = newTemplate ?? \"\";\n    this.$emit(\"input\", newValue);\n  }\n\n  htmlClassNameRule(value: string | undefined) {\n    return inputTextValidationRules.validateHtmlClassName(value);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAdditionalClasses.vue?vue&type=template&id=2105a9d1&\"\nimport script from \"./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-card',[_c('v-card-text',[_vm._v(\" Looks Good \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.looksGood,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('looksGood', $event)}}}),_c('br'),_vm._v(\" Options Are Good \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.optionsGood,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('optionsGood', $event)}}}),_c('br'),_vm._v(\" Options Work \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.optionsWork,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('optionsWork', $event)}}}),_c('br'),_vm._v(\" Dynamic Behavior Works \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.dynamicBehaviorWorks,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('dynamicBehaviorWorks', $event)}}}),_c('br'),_c('br'),_c('v-textarea',{staticStyle:{\"border\":\"1px solid var(--gray500)\"},attrs:{\"filled\":\"\",\"value\":_vm.value.notes},on:{\"input\":_vm.updateNotes}}),_c('br')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport {\n  BuilderElementProjectManagement,\n  BuilderElementProjectManagementValue\n} from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\n@Component({\n  components: { DropdownInput }\n})\nexport default class ElementStudioProjectManagement extends Vue {\n  @Prop()\n  value!: BuilderElementProjectManagement;\n\n  get dropdownItems(): BuilderElementProjectManagementValue[] {\n    return [\"yes\", \"no\", \"unknown\", \"sort of\"];\n  }\n\n  updateValueForKey(\n    key: keyof BuilderElementProjectManagement,\n    value: BuilderElementProjectManagementValue | undefined\n  ) {\n    const newBuilderElementProjectManagementValue = defensiveCopy(this.value);\n    newBuilderElementProjectManagementValue[key] = value;\n    this.emit(newBuilderElementProjectManagementValue);\n  }\n\n  updateNotes(newNotes: unknown) {\n    const newBuilderElementProjectManagementValue = defensiveCopy(this.value);\n    newBuilderElementProjectManagementValue.notes =\n      typeof newNotes === \"string\" ? newNotes : \"\";\n    this.emit(newBuilderElementProjectManagementValue);\n  }\n\n  emit(newValue: BuilderElementProjectManagement) {\n    this.$emit(\"input\", newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioProjectManagement.vue?vue&type=template&id=6a169e7c&\"\nimport script from \"./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('InlineRepeater',{attrs:{\"value\":_vm.value || []},on:{\"input\":function($event){return _vm.updateElementValue($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('v-combobox',{attrs:{\"value\":value,\"hint\":\"To describe a repeater, use \\\"[]\\\". e.g: \\\"content.list.my_repeater[].url\\\"\",\"rules\":[_vm.pathRules],\"items\":_vm.allPaths},on:{\"input\":function($event){return _vm.updatePropertyPathByIndex(repeaterIndex, $event)}}})]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport { propertyPathRule } from \"@/lib/elements/utils\";\n\n@Component({\n  components: {\n    InlineRepeater,\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioPropertyPaths extends Vue {\n  @Prop({ default: () => [] })\n  value!: string[];\n\n  @Prop({ default: () => [] })\n  allPaths!: string[];\n\n  updateElementValue(newValue: (string | {})[]) {\n    const newValueWithNewEntryChangedToEmptyString = newValue.map(value => {\n      if (typeof value === \"string\") {\n        return value;\n      }\n\n      return \"\";\n    });\n\n    this.$emit(\"input\", newValueWithNewEntryChangedToEmptyString);\n  }\n\n  updatePropertyPathByIndex(index: number, newPath: string | undefined) {\n    const newValue = defensiveCopy(this.value);\n\n    if (!newPath || !this.pathRules(newPath)) {\n      return;\n    }\n\n    newValue[index] = newPath.trim();\n    this.updateElementValue(newValue);\n  }\n\n  pathRules(newPath: string) {\n    return propertyPathRule(newPath);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPropertyPaths.vue?vue&type=template&id=149653f7&\"\nimport script from \"./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'dynamicPropertyPaths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('dynamicPropertyPaths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Dynamic Property Paths\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioDynPropPaths',{attrs:{\"value\":_vm.value.dynamicPropertyPaths,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath($event, 'dynamicPropertyPaths')}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'propertyPathsToWhitelistInFlatProps'},on:{\"toggle\":function($event){return _vm.toggleAccordion('propertyPathsToWhitelistInFlatProps')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Property paths to whitelist in flat props\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.value.propertyPathsToWhitelistInFlatProps,\"all-paths\":_vm.allPathsWithDesignAndContent},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n            $event,\n            'propertyPathsToWhitelistInFlatProps'\n          )}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'dynamic-prop-paths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('dynamic-prop-paths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Property paths to SSR the element when value changes \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.value.propertyPathsToSsrElementWhenValueChanges,\"all-paths\":_vm.allPathsWithDesignAndContent},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n            $event,\n            'propertyPathsToSsrElementWhenValueChanges'\n          )}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'spacing-bars'},on:{\"toggle\":function($event){return _vm.toggleAccordion('spacing-bars')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Spacing Bars\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioSpacingBars',{attrs:{\"value\":_vm.value.spacingBars}})]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: '{path} - {accepts}',\n        buttonName: 'Add new Dynamic Property Path',\n        defaultNewValue: { accepts: 'string', path: '' }\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateElementValue($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ index: repeaterIndex, value }){return [_c('b',[_vm._v(\"Dynamic Property Path\")]),_c('v-combobox',{attrs:{\"value\":value.path,\"hint\":\"To describe a repeater, use \\\"[]\\\". e.g: \\\"content.list.my_repeater[].url\\\"\",\"rules\":[_vm.pathRules],\"items\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateDynamicPropertyPath(repeaterIndex, $event)}}}),_c('b',{staticClass:\"d-block pt-2\"},[_vm._v(\"Accepts:\")]),_c('DropdownInput',{attrs:{\"items\":_vm.getDynamicPathAcceptsItems,\"value\":value.accepts},on:{\"input\":function($event){return _vm.updateValue(repeaterIndex, $event)}}})]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { getDynamicPathAcceptsItems } from \"@/lib/dynamic-data/utils\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport { propertyPathRule } from \"@/lib/elements/utils\";\nimport {\n  DynamicFieldReturnType,\n  DynamicPropertyPath\n} from \"@/types/dynamic-property-path\";\n\n@Component({\n  components: {\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioDynPropPaths extends Vue {\n  @Prop({ default: () => [] })\n  value!: DynamicPropertyPath[];\n\n  @Prop({ default: () => [] })\n  allPaths!: string[];\n\n  updateElementValue(newValue: DynamicPropertyPath[]) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateDynamicPropertyPath(index: number, newPath: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (!this.pathRules(newPath)) {\n      return;\n    }\n\n    newValue[index].path = newPath.trim();\n    this.updateElementValue(newValue);\n  }\n\n  pathRules(newPath: string) {\n    return propertyPathRule(newPath);\n  }\n\n  get getDynamicPathAcceptsItems() {\n    return getDynamicPathAcceptsItems();\n  }\n\n  updateValue(index: number, newAccepts: DynamicFieldReturnType) {\n    const newValue = defensiveCopy(this.value);\n\n    newValue[index].accepts = newAccepts;\n    this.updateElementValue(newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDynPropPaths.vue?vue&type=template&id=d3b1c41e&\"\nimport script from \"./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: 'Spacing bar',\n        buttonName: 'Add new spacing bar'\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateSpaceBars($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function({ value, index }){return [_c('ElementStudioSpacingBar',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateSpaceBar($event, index)}}})]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('div',{staticClass:\"mt-4\"},[_vm._v(\"Location\")]),_c('DropdownInput',{attrs:{\"items\":_vm.cssProperties,\"value\":_vm.newSpaceBar.cssProperty},on:{\"input\":_vm.updateLocationAndProperty}}),_c('div',{staticClass:\"mt-4\"},[_vm._v(\"Affected property path\")]),_c('v-combobox',{attrs:{\"items\":_vm.pathsToAllControls,\"placeholder\":\"design.spacing.%%BREAKPOINT%%.top\"},model:{value:(_vm.newSpaceBar.affectedPropertyPath),callback:function ($$v) {_vm.$set(_vm.newSpaceBar, \"affectedPropertyPath\", $$v)},expression:\"newSpaceBar.affectedPropertyPath\"}}),_c('NiceButton',{on:{\"click\":_vm.saveNewSpaceBar}},[_vm._v(\"Save\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  SpacingBarCssProperty,\n  SpacingBarDescription,\n  SpacingBarDescriptionV,\n  SpacingBarLocation,\n  SpacingBarLocationV,\n  SpacingBarProperty\n} from \"@/types/elements\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { iotsErrorsToCustomErrorType } from \"@/util/io-ts-errors-to-_error\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\n@Component({\n  components: { NiceButton, DropdownInput }\n})\nexport default class ElementStudioSpacingBar extends Vue {\n  @Prop()\n  value!: SpacingBarDescription;\n\n  newSpaceBar = this.value || {};\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get pathsToAllControls() {\n    return this.context.getPathsToAllControls();\n  }\n\n  // merge location and property so that the user selects only one. They're tied together anyway and reduces errors\n  get propertiesLocationsKeyPair() {\n    const locations = SpacingBarLocationV.types.map(type => type.value);\n    const cssProperties = SpacingBarCssProperty.types.map(type => type.value);\n\n    return cssProperties.reduce(\n      (acc, property, key) => ({ ...acc, [property]: locations[key] }),\n      {}\n    ) as Record<SpacingBarProperty, SpacingBarLocation>;\n  }\n\n  get cssProperties() {\n    return Object.keys(this.propertiesLocationsKeyPair);\n  }\n\n  updateLocationAndProperty(newProperty: SpacingBarProperty) {\n    this.newSpaceBar.cssProperty = newProperty;\n\n    this.newSpaceBar.location = this.propertiesLocationsKeyPair[newProperty];\n  }\n\n  saveNewSpaceBar() {\n    pipe(\n      SpacingBarDescriptionV.decode(this.newSpaceBar),\n      fold(\n        e => {\n          NotificationLogger.log.message(\n            `Error saving new space bar, please fill out all fields`\n          );\n\n          iotsErrorsToCustomErrorType(e);\n        },\n        () => {\n          this.$emit(\"input\", this.newSpaceBar);\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSpacingBar.vue?vue&type=template&id=33cfa7e7&\"\nimport script from \"./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport { SpacingBarDescription } from \"@/types/elements\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport ElementStudioSpacingBar from \"@/components/ElementStudio/ElementStudioSpacingBar.vue\";\n\n@Component({\n  components: {\n    ElementStudioSpacingBar,\n    NiceButton,\n    TextInput,\n    InlineRepeater,\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioSpacingBars extends Vue {\n  @Prop({ default: [] })\n  value!: SpacingBarDescription[];\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateSpaceBar(newSpaceBar: SpacingBarDescription, index: number) {\n    const spaceBars = defensiveCopy(this.value);\n\n    spaceBars[index] = newSpaceBar;\n\n    this.updateSpaceBars(spaceBars);\n  }\n\n  updateSpaceBars(newSpaceBars: SpacingBarDescription[]) {\n    this.context.updateElementValue(\"spacingBars\", newSpaceBars);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSpacingBars.vue?vue&type=template&id=a28e3dfa&\"\nimport script from \"./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioSpacingBars.vue?vue&type=style&index=0&id=a28e3dfa&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioDynPropPaths from \"@/components/ElementStudio/ElementStudioDynPropPaths.vue\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioSpacingBars from \"@/components/ElementStudio/ElementStudioSpacingBars.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\n\n@Component({\n  components: {\n    ElementStudioSpacingBars,\n    ElementStudioPropertyPaths,\n    ElementStudioDynPropPaths,\n    Accordion\n  }\n})\nexport default class ElementStudioManagePropertyPaths extends Vue {\n  @Prop()\n  value!: BuilderElement;\n\n  accordionState = \"\";\n\n  toggleAccordion(key: string) {\n    this.accordionState = this.accordionState === key ? \"\" : key;\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get allPathsWithDesignAndContent() {\n    return [\n      this.context.element().controls.designSections.length ? \"design\" : null,\n      this.context.element().controls.contentSections.length ? \"content\" : null,\n      ...this.context.getPathsToAllControls([], [])\n    ].filter(Boolean);\n  }\n\n  get allPaths() {\n    return this.context.getPathsToAllControls();\n  }\n\n  updateElementValuePropPath(newValue: string[], propertyName: string) {\n    this.context.updateElementValue(propertyName, newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioManagePropertyPaths.vue?vue&type=template&id=419b9cf0&\"\nimport script from \"./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { MacrosData } from \"@/types/elements\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  compileTwigTemplate,\n  getAllTwigMacrosString,\n  TWIG_MACROS_CACHE_KEY\n} from \"@/lib/twig/twig\";\n\nexport function setTwigMacrosInStoreAndRecompile(twigMacros: MacrosData) {\n  configStore.setTwigMacros(twigMacros);\n\n  // The local storage hash and cache will be updated on page refresh\n  // Don't touch it here\n  compileTwigTemplate(\n    getAllTwigMacrosString(twigMacros),\n    TWIG_MACROS_CACHE_KEY\n  );\n\n  // force the Canvas to re-render everything, since macros are not reactive\n  uiStore.forceUpdateEntireCanvas();\n}\n","\nimport {\n  BuilderActions,\n  BuilderElement,\n  BuilderElementControls,\n  ElementDependencyAndCondition,\n  NestingRuleTypeV,\n  RequiredPluginV\n} from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Prop, Provide, Watch } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioControls from \"./ElementStudioControls.vue\";\nimport * as lodash from \"lodash\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { objectGetTypedKeys } from \"@/util/type-assertions\";\nimport ElementStudioDependencies from \"@/components/ElementStudio/ElementStudioDependencies.vue\";\nimport { getElementWithoutExternalValues } from \"@/lib/elements/studio/clean-element\";\nimport ElementStudioAction from \"@/components/ElementStudio/ElementStudioAction.vue\";\nimport CopyButton from \"@/components/Reusable/CopyButton.vue\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport {\n  CurrentlyEditingMacro,\n  ElementStudioExpectedDataToLoad,\n  ElementStudioItem,\n  ElementStudioSaveLocationWithName\n} from \"@/types/element-studio\";\nimport {\n  getNestingRuleTypesThatAreAllowedInside,\n  isNestingRuleAllowedInside\n} from \"@/lib/tree/nesting\";\nimport ElementStudioDefaultElements from \"@/components/ElementStudio/ElementStudioDefaultElements.vue\";\nimport ElementStudioAttributes from \"@/components/ElementStudio/ElementStudioAttributes.vue\";\nimport ElementStudioAdditionalClasses from \"@/components/ElementStudio/ElementStudioAdditionalClasses.vue\";\nimport ElementStudioDefaultProperties from \"./ElementStudioDefaultProperties.vue\";\nimport ElementStudioProjectManagement from \"@/components/ElementStudio/ElementStudioProjectManagement.vue\";\nimport { unwrapControlValue } from \"@/lib/controls/utils\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport { iconNames } from \"@/lib/icons/icons\";\nimport ElementIcon from \"@/components/UI/ElementIcon.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioManagePropertyPaths from \"@/components/ElementStudio/ElementStudioManagePropertyPaths.vue\";\nimport { COLUMNS_SLUG } from \"@/lib/elements/constants\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport { getBaseClassNameForBuilderElement } from \"@/lib/elements/utils\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport colors from \"@/sass/modules/color.module.scss\";\nimport {\n  getPathToAllControls,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport {\n  getElementSlug,\n  getItemNamespaceFromSlug,\n  isValidItemName\n} from \"@/lib/elements/studio/misc\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport slugify from \"slugify\";\nimport { getSlugFromNamespaceAndFilename } from \"@/lib/elements/studio/presets\";\nimport { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport * as t from \"io-ts\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport clipboardCopy from \"clipboard-copy\";\nimport notifications from \"@/lib/notifications/notifications\";\nimport { renderTags } from \"@/lib/twig/twig\";\nimport { setTwigMacrosInStoreAndRecompile } from \"@/lib/elements/studio/macros\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\nconst updateStoreActionsThrottled = lodash.debounce(\n  breakdanceStoreActions.registerAllStoreActions,\n  // This is a not-UI update so we make it slowish\n  500\n);\n\n@Component({\n  components: {\n    Dropdown,\n    ElementStudioSaveNewDialog,\n    TextInput,\n    ElementStudioIconsAutocomplete,\n    ElementStudioManagePropertyPaths,\n    ElementStudioPropertyPaths,\n    Accordion,\n    ElementIcon,\n    ToggleInput,\n    Icon,\n    ElementStudioAttributes,\n    ElementStudioAdditionalClasses,\n    ElementStudioDefaultElements,\n    CopyButton,\n    ElementStudioAction,\n    ElementStudioDependencies,\n    ElementStudioControls,\n    CodeInput,\n    ElementStudioDefaultProperties,\n    ElementStudioProjectManagement\n  }\n})\nexport default class ElementStudioTabsAndPanels extends Vue {\n  @Prop()\n  element!: BuilderElement;\n  @Prop({ default: \"primary\" })\n  type!: \"primary\" | \"secondary\";\n\n  @Prop()\n  available!: ElementStudioExpectedDataToLoad;\n\n  // Remember the last used tabs\n  tab = readFromLocalStorage(`element-studio-tab-${this.type}`) || \"content\";\n\n  actionsAccordionState = \"\";\n  nameHasChanged = false;\n  useLocalIcon =\n    !!iconNames.find(iconName => iconName === this.element.uiIcon) ||\n    !this.element.uiIcon ||\n    false;\n\n  contextMenu: { x: number; y: number } | false = false;\n  showNewMacroDialog = false;\n  savedCssSelection = \"\";\n\n  async mounted() {\n    document.addEventListener(\"contextmenu\", this.handleRightClickInCodeInput);\n  }\n\n  beforeDestroy() {\n    document.removeEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCodeInput\n    );\n  }\n\n  @Watch(\"element.name\")\n  onElementSlugChange() {\n    this.nameHasChanged = true;\n  }\n\n  handleRightClickInCodeInput(e: MouseEvent) {\n    const selectedText = window.getSelection()?.toString();\n\n    if (!(selectedText && (this.tab === \"css\" || this.tab === \"html\"))) {\n      return;\n    }\n\n    // only prevent it if we're going to show something. Otherwise, default.\n    e.preventDefault();\n\n    this.contextMenu = {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n\n  handleCreateMacro() {\n    // When we open the dialog, the window loses focus and can't find the selection anymore\n    this.savedCssSelection = window.getSelection()?.toString() || \"\";\n    this.showNewMacroDialog = true;\n  }\n\n  async saveNewMacro(newItem: ElementStudioSaveLocationWithName) {\n    if (!this.savedCssSelection) return;\n\n    this.contextMenu = false;\n\n    const selectedCss = this.savedCssSelection?.toString();\n\n    const macroName = getMacroName(newItem.namespace, newItem.name);\n    // Tags such as %%SELECTOR%% are invalid twig and would error out\n    // plus it's nice DX\n    const macroText = renderTags(selectedCss, {\n      selector: \"{{ selector }}\",\n      id: \"{{ id }}\",\n      postId: \"{{ postId }}\"\n    }).replace(\"macros.\", \"_self.\");\n\n    const macro = `{% macro ${macroName}() %}\\n\\n${macroText} \\n\\n{% endmacro %}`;\n\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.available.macros.find(macro => macro.slug === newSlug)) {\n      logNotificationOfSameItem(this.available.saveLocations, newItem, \"macro\");\n\n      return;\n    }\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_macro\",\n        dataToPost: {\n          directoryPath: newItem.directoryPath,\n          filename,\n          macro\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const macroText = `{{ macros.${macroName}() }}`;\n          notifications.log.message(`New macro created: ${macroText}. `);\n          clipboardCopy(macroText);\n\n          const newData = defensiveCopy(this.available);\n          newData.macros.push({\n            slug: newSlug,\n            directoryPath: newItem.directoryPath\n          });\n          this.elementStudioContext.updateElementStudioData(newData);\n\n          const newMacros = defensiveCopy(configStore.twigMacros);\n          newMacros.push({ macro, slug: newSlug });\n          setTwigMacrosInStoreAndRecompile(newMacros);\n        }\n      )\n    );\n  }\n\n  updateSlug() {\n    if (\n      !window.confirm(\n        \"Changing the slug of an existing element will make it obsolete in all pages, everywhere. Continue anyway?\"\n      )\n    ) {\n      return;\n    }\n\n    const newSlug = getElementSlug(\n      getItemNamespaceFromSlug(this.element.slug),\n      this.element.name\n    );\n\n    this.updateElementValue(\"slug\", newSlug);\n  }\n\n  updateUiOrder(newOrder: unknown) {\n    const safeOrder = Number(newOrder);\n    if (Number.isNaN(safeOrder)) {\n      this.updateElementValue(\"order\", 0);\n    } else {\n      this.updateElementValue(\"order\", safeOrder);\n    }\n  }\n\n  updateUiIcon(newIcon = \"SquareIcon\") {\n    this.updateElementValue(\"uiIcon\", newIcon);\n  }\n\n  updateUseLocalIcon(newUseLocalIcon: boolean) {\n    this.useLocalIcon = newUseLocalIcon;\n\n    if (!newUseLocalIcon) {\n      this.updateUiIcon(\"\");\n    }\n  }\n\n  updateClassName(newClassName: string | undefined) {\n    if (this.htmlClassNameRule(newClassName) !== true) return;\n\n    this.updateElementValue(\"className\", newClassName || false);\n  }\n\n  htmlClassNameRule(value: string | undefined) {\n    if (!value) return true;\n\n    return inputTextValidationRules.validateHtmlClassName(value);\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateElementName(value: string) {\n    if (isValidItemName(value) !== true) return;\n\n    const newElement = defensiveCopy(this.element);\n\n    newElement.name = value;\n\n    this.emit(newElement);\n  }\n\n  updateElementValue(path: string, value: unknown) {\n    const newElement = defensiveCopy(this.element);\n    const newValue = unwrapControlValue(value);\n    lodash.set(newElement, path, newValue);\n\n    this.emit(newElement);\n  }\n\n  emit(newElement: BuilderElement) {\n    this.$emit(\"input\", newElement);\n  }\n\n  updateTab(newTab: string) {\n    // Update the preferences\n    writeToLocalStorage(`element-studio-tab-${this.type}`, newTab);\n    this.tab = newTab;\n  }\n\n  // We only get the internal controls in the prop\n  // So we use this to merge them back before emitting\n  mergeElementControlsWithExternalControls(\n    newElementControls: BuilderElementControls\n  ) {\n    const elementWithAllControls = defensiveCopy(newElementControls);\n\n    objectGetTypedKeys(this.element.controls).forEach(key => {\n      this.element.controls[key].forEach(control => {\n        if (control.options.isExternal) {\n          elementWithAllControls[key].push(control);\n        }\n      });\n    });\n\n    return elementWithAllControls;\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  get requiredPluginItems() {\n    return RequiredPluginV.types.map(type => type.value);\n  }\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get pathsToAllControls() {\n    return this.elementStudioContext.getPathsToAllControls();\n  }\n\n  get nestingRuleTypeIsContainer() {\n    return (\n      getNestingRuleTypesThatAreAllowedInside(\n        this.cleanElement.nestingRule.type\n      ).length > 0 ||\n      this.cleanElement.nestingRule.type === \"container-restricted\"\n    );\n  }\n\n  get cleanElement() {\n    return getElementWithoutExternalValues(this.element);\n  }\n\n  get elementCategories() {\n    return configStore.builderElementCategories.map(category => ({\n      text: category.label,\n      value: category.slug\n    }));\n  }\n\n  get badgeColors() {\n    return Object.entries(colors).map(([k]) => {\n      const correctValue = k\n        .replace(/brand_/g, \"brand\")\n        .replace(/_dark|_light|breakdance_/g, \"\");\n\n      return {\n        text: correctValue,\n        value: `var(--${correctValue})`\n      };\n    });\n  }\n\n  get elementType() {\n    return NestingRuleTypeV.types.map(type => type.value);\n  }\n\n  get containerRestrictedElements() {\n    return Object.values(configStore.elements)\n      .filter(\n        element =>\n          element?.nestingRule.type === \"container-restricted\" &&\n          element?.slug !== COLUMNS_SLUG\n      )\n      .map(element => element?.slug);\n  }\n\n  get elementsThisElementIsAllowedToBeInsideOf() {\n    return Object.values(configStore.elements)\n      .filter(\n        element =>\n          element &&\n          isNestingRuleAllowedInside(\n            this.element.nestingRule,\n            element.nestingRule,\n            element.slug\n          )\n      )\n      .map(element => element?.slug);\n  }\n\n  get allElementSlugs() {\n    return Object.values(configStore.elements).map(element => element?.slug);\n  }\n\n  get elementClass() {\n    return `.${getBaseClassNameForBuilderElement(this.element)}`;\n  }\n\n  parentControls(path: string) {\n    // The path could lead to a Control (`${path}.children[${i}]`)\n    // Or a Control[] (designSections)\n    return defensiveCopy(\n      lodash.get(this.element.controls, path) as Control | Control[]\n    );\n  }\n\n  @Provide(\"context\")\n  elementStudioContext = {\n    replaceControls: (path: string, newControls: Control[]) => {\n      const newElement = defensiveCopy(this.element);\n      lodash.set(newElement.controls, path, newControls);\n      this.emit(newElement);\n    },\n    pasteControl: (path: string, controlToPaste: Control) => {\n      const newElement = defensiveCopy(this.element);\n\n      const currentControls = lodash.get(newElement.controls, path);\n      currentControls.push(controlToPaste);\n\n      lodash.set(newElement.controls, path, currentControls);\n      this.emit(newElement);\n    },\n    addControl: (path: string, controlType: ControlType = \"text\") => {\n      const newElement = defensiveCopy(this.element);\n      const newControl: Control = {\n        slug: controlType === \"section\" ? \"new_section\" : \"new_control\",\n        label: controlType === \"section\" ? \"New Section\" : \"New Control\",\n        keywords: [],\n        options: {\n          type: controlType\n        },\n        enableMediaQueries: false,\n        enableHover: false,\n        children: []\n      };\n\n      if (\n        path.startsWith(\"contentSections\") ||\n        controlType === \"text\" ||\n        controlType === \"number\"\n      ) {\n        newControl.options.layout = \"vertical\";\n      }\n\n      // Use the clean controls to push stuff of top of the internal and not external ones\n      const internalElementControls = this.cleanElement.controls;\n      const parentControl = lodash.get(internalElementControls, path) as\n        | Control\n        | Control[];\n\n      if (Array.isArray(parentControl)) {\n        parentControl.push(newControl);\n      } else {\n        parentControl.children.push(newControl);\n      }\n\n      lodash.set(internalElementControls, path, parentControl);\n\n      newElement.controls = this.mergeElementControlsWithExternalControls(\n        internalElementControls\n      );\n\n      this.emit(newElement);\n    },\n    addPreset: (path: string) => {\n      const newElement = defensiveCopy(this.element);\n      const presetSection = defensiveCopy(\n        this.elementStudioContext.getPresetSection(\n          \"EssentialElements\\\\typography\"\n        )\n      );\n\n      if (!presetSection) return;\n\n      presetSection.section.options.sectionOptions = {\n        ...presetSection.section.options.sectionOptions,\n        type: \"popout\"\n      };\n\n      // Use the clean controls to push stuff of top of the internal and not external ones\n      const internalElementControls = this.cleanElement.controls;\n      const parentControl = lodash.get(internalElementControls, path) as\n        | Control\n        | Control[];\n\n      if (Array.isArray(parentControl)) {\n        parentControl.push(presetSection.section);\n      } else {\n        parentControl.children.push(presetSection.section);\n      }\n\n      lodash.set(internalElementControls, path, parentControl);\n\n      newElement.controls = this.mergeElementControlsWithExternalControls(\n        internalElementControls\n      );\n\n      this.emit(newElement);\n    },\n    deleteControl: (parentPath: string, index: number) => {\n      const newElement = defensiveCopy(this.element);\n      const parentControl = this.parentControls(parentPath);\n\n      if (Array.isArray(parentControl)) {\n        parentControl.splice(index, 1);\n      } else {\n        parentControl.children.splice(index, 1);\n      }\n\n      lodash.set(newElement.controls, parentPath, parentControl);\n\n      this.emit(newElement);\n    },\n    updateControl: (parentPath: string, index: number, newControl: Control) => {\n      const newElement = defensiveCopy(this.element);\n      const parentControl = this.parentControls(parentPath);\n\n      if (Array.isArray(parentControl)) {\n        parentControl.splice(index, 1, newControl);\n      } else {\n        parentControl.children.splice(index, 1, newControl);\n      }\n\n      lodash.set(newElement.controls, parentPath, parentControl);\n\n      this.emit(newElement);\n    },\n    updateDependency: (newDependencies: ElementDependencyAndCondition[]) => {\n      this.updateElementValue(\"dependencies\", newDependencies);\n    },\n    updateActions: (newActions: BuilderActions) => {\n      this.updateElementValue(\"actions\", newActions);\n      updateStoreActionsThrottled();\n    },\n    getPresetSection: (slug: string) => {\n      return this.available.presetSections.find(preset => preset.slug === slug);\n    },\n    getPresetSections: () => {\n      return this.available.presetSections;\n    },\n    getPathsToAllControls: (\n      controlTypes: ControlType[] = [],\n      controlTypesToIgnore: ControlType[] = [\"section\"]\n    ) => {\n      const contentPaths = getPathToAllControls(\n        this.element.controls.contentSections,\n        controlTypes,\n        controlTypesToIgnore,\n        \"content\"\n      );\n\n      const designPaths = getPathToAllControls(\n        this.element.controls.designSections,\n        controlTypes,\n        controlTypesToIgnore,\n        \"design\"\n      );\n\n      return [...contentPaths, ...designPaths];\n    },\n    element: () => {\n      return this.element;\n    },\n    updateElementValue: this.updateElementValue,\n    getElementStudioData: () => this.available,\n    updateElementStudioData: (newData: ElementStudioExpectedDataToLoad) => {\n      this.update(newData);\n    }\n  };\n\n  update(newData: ElementStudioExpectedDataToLoad) {\n    this.$emit(\"update\", newData);\n  }\n\n  toggleActionAccordion(state: string) {\n    this.actionsAccordionState = state;\n  }\n\n  get htmlTags() {\n    return (\n      [\n        \"section\",\n        \"div\",\n        \"span\",\n        \"p\",\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\",\n        \"footer\",\n        \"header\",\n        \"nav\",\n        \"aside\",\n        \"figure\",\n        \"ul\",\n        \"ol\",\n        \"li\",\n        \"a\",\n        \"article\",\n        \"main\",\n        \"details\",\n        \"summary\",\n        \"img\"\n      ]\n        // No point in selecting the default\n        .filter(tag => tag !== this.cleanElement.htmlTag.default)\n    );\n  }\n\n  get defaultTag() {\n    // Add the default in case it's not in htmlTags. e.g \"section\" for Sections\n    return [...this.htmlTags, this.cleanElement.htmlTag.default];\n  }\n}\n\nexport type ElementStudioContext = typeof ElementStudioTabsAndPanels.prototype.elementStudioContext;\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioTabsAndPanels.vue?vue&type=template&id=2256779e&\"\nimport script from \"./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioTabsAndPanels.vue?vue&type=style&index=0&id=2256779e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { BuilderElement } from \"@/types/elements\";\n\nexport const BLANK_ELEMENT: Omit<BuilderElement, \"slug\" | \"name\"> = {\n  className: false,\n  uiIcon: false,\n  category: \"other\",\n  badge: false,\n  htmlTag: {\n    default: \"div\",\n    options: [],\n    pathToControl: false\n  },\n  template: \"Blank Element\",\n  attributes: false,\n  cssTemplate: \"%%SELECTOR%% { }\",\n  defaultCss: \" \", // If it's empty PHP errors when creating the file even tho it works.\n  defaultProperties: false,\n  defaultChildren: false,\n  controls: { contentSections: [], designSections: [], settingsSections: [] },\n  dependencies: false,\n  actions: false,\n  nestingRule: { type: \"final\" },\n  spacingBars: false,\n  dynamicPropertyPaths: false,\n  settings: false,\n  addPanelRules: false,\n  experimental: false,\n  order: 0,\n  additionalClasses: false,\n  projectManagement: false,\n  propertyPathsToWhitelistInFlatProps: false,\n  propertyPathsToSsrElementWhenValueChanges: false\n};\n","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingElement,\n  ElementStudioUIMode,\n  ElementStudioSaveLocation\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { updateElementAndPrecompileItsTemplates } from \"@/lib/elements/utils\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport {\n  getItemNamespaceFromSlug,\n  getElementSlug,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport { getElementWithoutExternalValues } from \"@/lib/elements/studio/clean-element\";\nimport {\n  elementToPhp,\n  getFinalDirectoryPath,\n  removeElementPathFromDirectoryPath\n} from \"@/lib/elements/studio/element-to-php\";\nimport { BLANK_ELEMENT } from \"@/lib/elements/studio/blank-element\";\n\n@Component({\n  components: {\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioElements extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  @Prop()\n  width!: number;\n\n  lastSavedElement: CurrentlyEditingElement | false = false;\n  currentlyEditingElement: CurrentlyEditingElement | false = false;\n  saveInProgress = false;\n\n  get elementsSlug() {\n    return this.value.elements.map(element => element.slug);\n  }\n\n  updateCurrentlyEditingElement(\n    newCurrentlyEditingElement: CurrentlyEditingElement\n  ) {\n    this.currentlyEditingElement = defensiveCopy(newCurrentlyEditingElement);\n\n    // Set the lastSavedElement when opening a new element\n    if (this.lastSavedElement === false) {\n      this.lastSavedElement = defensiveCopy(newCurrentlyEditingElement);\n    }\n  }\n\n  updateAvailableElementsAndStore(\n    newCurrentlyEditingElement: CurrentlyEditingElement\n  ) {\n    const newSlug = newCurrentlyEditingElement.element.slug;\n\n    // Delete the old element if the user is changing the slug\n    // and it's not a copy of the element in a different save location\n    if (\n      this.lastSavedElement &&\n      newSlug !== this.lastSavedElement.element.slug &&\n      getItemNamespaceFromSlug(newSlug) ===\n        getItemNamespaceFromSlug(this.lastSavedElement.element.slug)\n    ) {\n      this.deleteElementFromServer(this.lastSavedElement);\n    }\n\n    const existingElement = !!this.value.elements.find(\n      element => element.slug === newSlug\n    );\n\n    if (!existingElement && newCurrentlyEditingElement.directoryPath) {\n      const newValue = defensiveCopy(this.value);\n\n      newValue.elements.push({\n        slug: newSlug,\n        directoryPath: newCurrentlyEditingElement.directoryPath\n      });\n\n      this.$emit(\"input\", newValue);\n    }\n\n    this.lastSavedElement = newCurrentlyEditingElement;\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingElement || !this.lastSavedElement) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedElement.element,\n      this.currentlyEditingElement.element\n    );\n  }\n\n  // throttle to make the experience smoother.\n  // There's lot of stuff running after an element updates\n  throttledUpdateElement = lodash.throttle(\n    updateElementAndPrecompileItsTemplates,\n    500\n  );\n\n  updateData(newData: ElementStudioExpectedDataToLoad) {\n    this.$emit(\"input\", newData);\n  }\n\n  updateElement(newElement: BuilderElement) {\n    if (\n      !this.currentlyEditingElement ||\n      !this.lastSavedElement ||\n      !this.lastSavedElement.element\n    ) {\n      return;\n    }\n\n    const slugChanged = newElement.slug !== this.lastSavedElement.element.slug;\n\n    let directoryPath = this.currentlyEditingElement.directoryPath;\n\n    if (slugChanged && this.currentlyEditingElement.directoryPath) {\n      directoryPath = getFinalDirectoryPath({\n        directoryPath: removeElementPathFromDirectoryPath(\n          this.currentlyEditingElement.directoryPath\n        ),\n        elementName: this.currentlyEditingElement.element.name\n      });\n    }\n\n    this.currentlyEditingElement = {\n      directoryPath,\n      element: newElement,\n      onlyForAdvancedUsers: this.currentlyEditingElement.onlyForAdvancedUsers\n    };\n\n    this.throttledUpdateElement(newElement);\n  }\n\n  deleteElementFromStore(elementSlugToDelete: string) {\n    const indexOfElementToDelete = this.value.elements.findIndex(\n      element => element.slug === elementSlugToDelete\n    );\n\n    configStore.deleteElement(elementSlugToDelete);\n\n    if (indexOfElementToDelete !== -1) {\n      this.value.elements.splice(indexOfElementToDelete, 1);\n    }\n  }\n\n  deleteElement() {\n    if (!this.currentlyEditingElement) {\n      return;\n    }\n\n    this.deleteElementFromServer(this.currentlyEditingElement, () => {\n      this.currentlyEditingElement = false;\n    });\n  }\n\n  async deleteElementFromServer(\n    elementToDelete: CurrentlyEditingElement,\n    successCallback: () => void = () => {}\n  ) {\n    if (!elementToDelete.element) return;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_element\",\n        dataToPost: {\n          directoryPath: elementToDelete.directoryPath\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          if (!elementToDelete.element) {\n            NotificationLogger.log.message(\"Failed to delete element\");\n\n            return;\n          }\n\n          this.deleteElementFromStore(elementToDelete.element.slug);\n          successCallback();\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedElement && this.lastSavedElement.element) {\n      // Update to the last saved state\n      this.updateElement(this.lastSavedElement.element);\n    }\n\n    this.resetCurrentlyEditingElement();\n  }\n\n  resetCurrentlyEditingElement() {\n    this.currentlyEditingElement = false;\n    this.lastSavedElement = false;\n    this.$emit(\"active\", null);\n  }\n\n  /* ui stuff */\n  mode: ElementStudioUIMode =\n    (readFromLocalStorage(\"element-studio-mode\") as ElementStudioUIMode) ||\n    \"split-horizontal\";\n\n  switchMode() {\n    switch (this.mode) {\n      case \"split-vertical\":\n        this.mode = \"split-horizontal\";\n        this.$emit(\"width\", 750);\n        break;\n      case \"split-horizontal\":\n        this.$emit(\"width\", 600);\n        this.mode = \"normal\";\n        break;\n      case \"normal\":\n        this.$emit(\"width\", 600);\n        this.mode = \"split-vertical\";\n        break;\n    }\n\n    writeToLocalStorage(\"element-studio-mode\", this.mode);\n  }\n\n  openElement(elementSlug: string) {\n    const element = defensiveCopy(configStore.element(elementSlug));\n    const newStudioElement = this.value.elements.find(\n      element => element.slug === elementSlug\n    );\n\n    if (!newStudioElement) return;\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      newStudioElement.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingElement({\n      element,\n      directoryPath: newStudioElement.directoryPath,\n      onlyForAdvancedUsers\n    });\n\n    this.$emit(\"active\", \"element\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingElement) return;\n\n    const { namespace, directoryPath, onlyForAdvancedUsers } = saveLocation;\n\n    let currentElement = defensiveCopy(this.currentlyEditingElement.element);\n\n    // force the slug to be recalculated when saving on a new location\n    if (this.currentlyEditingElement.directoryPath !== directoryPath) {\n      currentElement.slug = \"\";\n    }\n\n    this.saveToServer(\n      currentElement,\n      getFinalDirectoryPath({\n        directoryPath,\n        elementName: this.currentlyEditingElement.element.name\n      }),\n      namespace,\n      false,\n      onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocation & { name: string }) {\n    const newSlug = getElementSlug(newItem.namespace, newItem.name);\n\n    if (this.value.elements.find(element => element.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"element\");\n\n      return;\n    }\n\n    const newElement = {\n      ...defensiveCopy(BLANK_ELEMENT),\n      slug: newSlug,\n      name: newItem.name\n    };\n\n    this.saveToServer(\n      newElement,\n      getFinalDirectoryPath({\n        directoryPath: newItem.directoryPath,\n        elementName: newItem.name\n      }),\n      newItem.namespace,\n      false,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"element\");\n  }\n\n  saveOverride(bypassPsalm: boolean) {\n    if (\n      !this.currentlyEditingElement ||\n      !this.currentlyEditingElement.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingElement.element,\n      this.currentlyEditingElement.directoryPath,\n      getItemNamespaceFromSlug(this.currentlyEditingElement.element.slug),\n      bypassPsalm,\n      this.currentlyEditingElement.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    element: BuilderElement,\n    directoryPath: string,\n    namespaceArg: string | null,\n    bypassPsalm = false,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    const namespace = namespaceArg || getItemNamespaceFromSlug(element.slug);\n    const cleanElement = getElementWithoutExternalValues(element);\n    const elementSlug = element.slug || getElementSlug(namespace, element.name);\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_element\",\n        dataToPost: {\n          ...elementToPhp(cleanElement, namespace),\n          directoryPath,\n          bypassPsalm: bypassPsalm ? \"yes\" : \"no\"\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newElement = {\n            element: {\n              ...defensiveCopy(element),\n              slug: elementSlug,\n              // Uppercase first letters for consistency in naming across elements\n              name: element.name\n                .split(\" \")\n                .map(word => word.charAt(0).toUpperCase() + word.substring(1))\n                .join(\" \")\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingElement(newElement);\n          this.updateAvailableElementsAndStore(newElement);\n          updateElementAndPrecompileItsTemplates(newElement.element);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioElements.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioElements.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioElements.vue?vue&type=template&id=429b299e&\"\nimport script from \"./ElementStudioElements.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioElements.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as t from \"io-ts\";\nimport { BuilderElement } from \"@/types/elements\";\nimport { ControlV } from \"./controls\";\n\nexport const ElementStudioItemV = t.type({\n  slug: t.string,\n  directoryPath: t.string\n});\n\nexport type ElementStudioItem = t.TypeOf<typeof ElementStudioItemV>;\n\nconst SaveLocationTypesV = t.union([\n  t.literal(\"element\"),\n  t.literal(\"macro\"),\n  t.literal(\"preset\")\n]);\n\nexport type SaveLocationType = t.TypeOf<typeof SaveLocationTypesV>;\n\nexport const ElementStudioSaveLocationV = t.type({\n  directoryPath: t.string,\n  namespace: t.string,\n  type: SaveLocationTypesV,\n  label: t.string,\n  onlyForAdvancedUsers: t.boolean\n});\n\nexport type ElementStudioSaveLocationWithName = ElementStudioSaveLocation & {\n  name: string;\n};\n\nexport type ElementStudioSaveLocation = t.TypeOf<\n  typeof ElementStudioSaveLocationV\n>;\n\nexport const PresetSectionV = t.type({\n  slug: t.string,\n  section: ControlV\n});\n\nexport type PresetSection = t.TypeOf<typeof PresetSectionV>;\n\nexport const ElementStudioExpectedDataToLoadV = t.type({\n  elements: t.array(ElementStudioItemV),\n  macros: t.array(ElementStudioItemV),\n  presets: t.array(ElementStudioItemV),\n  saveLocations: t.array(ElementStudioSaveLocationV),\n  presetSections: t.array(PresetSectionV)\n});\n\nexport type ElementStudioExpectedDataToLoad = t.TypeOf<\n  typeof ElementStudioExpectedDataToLoadV\n>;\n\nexport type CurrentlyEditingItem = {\n  directoryPath: string | false;\n  onlyForAdvancedUsers: boolean;\n};\n\nexport type CurrentlyEditingMacro = CurrentlyEditingItem & {\n  macroData: ElementStudioItem & { macro: string };\n};\n\nexport type CurrentlyEditingPreset = CurrentlyEditingItem & {\n  presetData: ElementStudioItem & { preset: PresetSection };\n};\n\nexport type CurrentlyEditingElement = CurrentlyEditingItem & {\n  element: BuilderElement;\n};\n\nexport type ElementStudioUIMode =\n  | \"split-vertical\"\n  | \"split-horizontal\"\n  | \"normal\";\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingMacro,\n    'element-studio__hide-the-close-button': !_vm.currentlyEditingMacro,\n    'element-studio__hide-the-switch-mode-button': true\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.macrosSlug,\"value\":_vm.currentlyEditingMacro,\"itemType\":\"macro\",\"item-name\":_vm.currentMacroName,\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openMacro,\"delete\":_vm.deleteMacro,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingMacro}}),(_vm.currentlyEditingMacro)?_c('div',{staticClass:\"element-studio-content\"},[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\"},[_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.activeTab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#macro\",\"title\":\"Macro\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\"}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"16\"}})],1)],1)],1)]),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[_c('CodeInput',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'macro'),expression:\"activeTab === 'macro'\"}],attrs:{\"value\":_vm.currentlyEditingMacro.macroData.macro,\"language\":\"twig\"},on:{\"input\":_vm.updateMacroValue}}),(_vm.activeTab === 'settings')?_c('div',{staticClass:\"pa-4\"},[_c('v-text-field',{attrs:{\"value\":_vm.currentMacroName,\"label\":\"Name\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updateMacroName}}),_c('ToggleInput',{attrs:{\"value\":_vm.autoRefresh},on:{\"input\":_vm.updateAutoRefresh}}),_c('label',{staticClass:\"ml-2\"},[_vm._v(\"Live preview changes\")])],1):_vm._e()],1)])]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingMacro,\n  ElementStudioSaveLocation\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport {\n  compileTwigTemplate,\n  getAllTwigMacrosString,\n  TWIG_MACROS_CACHE_KEY\n} from \"@/lib/twig/twig\";\nimport slugify from \"slugify\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport {\n  getItemNameFromSlug,\n  getItemNamespaceFromSlug,\n  isValidItemName,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { getSlugFromNamespaceAndFilename } from \"@/lib/elements/studio/presets\";\nimport { setTwigMacrosInStoreAndRecompile } from \"@/lib/elements/studio/macros\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\n\n@Component({\n  components: {\n    ToggleInput,\n    TextInput,\n    Icon,\n    CodeInput,\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioMacros extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  lastSavedMacro: CurrentlyEditingMacro | false = false;\n  currentlyEditingMacro: CurrentlyEditingMacro | false = false;\n\n  saveInProgress = false;\n  autoRefresh = true;\n\n  activeTab = \"macro\";\n\n  get macrosSlug() {\n    return this.value.macros.map(macro => macro.slug);\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateCurrentlyEditingMacro(newCurrentlyEditingMacro: CurrentlyEditingMacro) {\n    this.currentlyEditingMacro = defensiveCopy(newCurrentlyEditingMacro);\n\n    // Set the lastSavedMacro when opening a new element\n    if (this.lastSavedMacro === false) {\n      this.lastSavedMacro = defensiveCopy(newCurrentlyEditingMacro);\n    }\n  }\n\n  updateTab(newTab: string) {\n    this.activeTab = newTab;\n  }\n\n  updateMacroName(newName: string) {\n    if (!this.currentlyEditingMacro) return;\n\n    this.currentlyEditingMacro.macroData.slug = getSlugFromNamespaceAndFilename(\n      getItemNamespaceFromSlug(this.currentlyEditingMacro.macroData.slug),\n      newName\n    );\n  }\n\n  updateAutoRefresh(newAutoRefresh: boolean) {\n    this.autoRefresh = newAutoRefresh;\n\n    // Don't wait for a new change, update all elements\n    if (newAutoRefresh && this.currentlyEditingMacro) {\n      this.updateMacroAndRecompileTwigTemplates(\n        this.currentlyEditingMacro.macroData\n      );\n    }\n  }\n\n  // re-compiling the macros is very heavy. Debounce this aggressively\n  throttledUpdateElement = lodash.debounce(\n    this.updateMacroAndRecompileTwigTemplates,\n    1000\n  );\n\n  updateMacroAndRecompileTwigTemplates(\n    newMacro: CurrentlyEditingMacro[\"macroData\"]\n  ) {\n    const twigMacros = defensiveCopy(configStore.twigMacros);\n\n    const index = twigMacros.findIndex(macro => macro.slug === newMacro.slug);\n\n    if (index === -1) {\n      twigMacros.push(newMacro);\n\n      const newValue = defensiveCopy(this.value);\n      newValue.macros.push(newMacro);\n\n      this.$emit(\"input\", newValue);\n    } else {\n      twigMacros[index].macro = newMacro.macro;\n    }\n\n    // Delete the old macro if the slug changed and it's not a copy of the macro in a different save location\n    if (\n      this.lastSavedMacro &&\n      this.lastSavedMacro.directoryPath &&\n      newMacro.slug !== this.lastSavedMacro.macroData.slug &&\n      newMacro.directoryPath === this.lastSavedMacro.directoryPath\n    ) {\n      this.deleteMacroFromServer(this.lastSavedMacro);\n    }\n\n    if (this.autoRefresh) {\n      setTwigMacrosInStoreAndRecompile(twigMacros);\n    }\n  }\n\n  deleteMacroAndRecompileTwigTemplates(deletedMacroSlug: string) {\n    const twigMacros = defensiveCopy(configStore.twigMacros);\n    const storeIndex = twigMacros.findIndex(\n      macro => macro.slug === deletedMacroSlug\n    );\n    const valueIndex = this.value.macros.findIndex(\n      macro => macro.slug === deletedMacroSlug\n    );\n\n    if (storeIndex !== -1) {\n      twigMacros.splice(storeIndex, 1);\n    }\n\n    if (valueIndex !== -1) {\n      const newValue = defensiveCopy(this.value);\n      newValue.macros.splice(valueIndex, 1);\n\n      this.$emit(\"input\", newValue);\n    }\n\n    setTwigMacrosInStoreAndRecompile(twigMacros);\n  }\n\n  get currentMacroName() {\n    if (!this.currentlyEditingMacro) return \"\";\n\n    return getItemNameFromSlug(this.currentlyEditingMacro.macroData.slug);\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingMacro || !this.lastSavedMacro) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedMacro.macroData,\n      this.currentlyEditingMacro.macroData\n    );\n  }\n\n  updateMacroValue(newMacro: string) {\n    if (!this.currentlyEditingMacro) return;\n\n    this.currentlyEditingMacro.macroData.macro = newMacro;\n\n    this.throttledUpdateElement(this.currentlyEditingMacro.macroData);\n  }\n\n  deleteMacro() {\n    if (!this.currentlyEditingMacro) {\n      return;\n    }\n\n    this.deleteMacroFromServer(this.currentlyEditingMacro, () => {\n      this.currentlyEditingMacro = false;\n    });\n  }\n\n  async deleteMacroFromServer(\n    macroToDelete: CurrentlyEditingMacro,\n    successCallback: () => void = () => {}\n  ) {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_macro\",\n        dataToPost: {\n          directoryPath: macroToDelete.directoryPath,\n          filename: getItemNameFromSlug(macroToDelete.macroData.slug)\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          successCallback();\n\n          this.deleteMacroAndRecompileTwigTemplates(\n            macroToDelete.macroData.slug\n          );\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedMacro && this.lastSavedMacro.macroData) {\n      this.updateMacroAndRecompileTwigTemplates(this.lastSavedMacro.macroData);\n    }\n\n    this.resetCurrentlyEditingMacro();\n  }\n\n  resetCurrentlyEditingMacro() {\n    this.currentlyEditingMacro = false;\n    this.lastSavedMacro = false;\n    this.$emit(\"active\", null);\n  }\n\n  openMacro(macroSlug: string) {\n    const macroSaveLocation = defensiveCopy(\n      this.value.macros.find(macro => macro.slug === macroSlug)\n    );\n\n    if (!macroSaveLocation) return;\n\n    const macroString = configStore.twigMacros.find(\n      macro => macro.slug === macroSlug\n    )?.macro;\n\n    if (!macroString) return;\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      macroSaveLocation.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingMacro({\n      macroData: { ...macroSaveLocation, macro: macroString },\n      directoryPath: macroSaveLocation.directoryPath,\n      onlyForAdvancedUsers\n    });\n    this.$emit(\"active\", \"macro\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingMacro) return;\n\n    const filename = getItemNameFromSlug(\n      this.currentlyEditingMacro.macroData.slug\n    );\n\n    this.saveToServer(\n      this.currentlyEditingMacro.macroData.macro,\n      saveLocation.directoryPath,\n      filename,\n      getSlugFromNamespaceAndFilename(saveLocation.namespace, filename),\n      saveLocation.onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocation & { name: string }) {\n    const macroName = getMacroName(newItem.namespace, newItem.name);\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.value.macros.find(macro => macro.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"macro\");\n\n      return;\n    }\n\n    this.saveToServer(\n      `{% macro ${macroName}() %}\\n  {# Your code here #} \\n{% endmacro %}`,\n      newItem.directoryPath,\n      filename,\n      newSlug,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"macro\");\n  }\n\n  saveOverride() {\n    if (\n      !this.currentlyEditingMacro ||\n      !this.currentlyEditingMacro.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingMacro.macroData.macro,\n      this.currentlyEditingMacro.directoryPath,\n      getItemNameFromSlug(this.currentlyEditingMacro.macroData.slug),\n      this.currentlyEditingMacro.macroData.slug,\n      this.currentlyEditingMacro.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    macro: string,\n    directoryPath: string,\n    filename: string,\n    slug: string,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_macro\",\n        dataToPost: {\n          directoryPath,\n          filename,\n          macro\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newMacro: CurrentlyEditingMacro = {\n            macroData: {\n              macro,\n              slug,\n              directoryPath\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingMacro(newMacro);\n          this.updateMacroAndRecompileTwigTemplates(newMacro.macroData);\n          this.lastSavedMacro = newMacro;\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioMacros.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioMacros.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMacros.vue?vue&type=template&id=c18b05c0&\"\nimport script from \"./ElementStudioMacros.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMacros.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingPreset,\n    'element-studio__hide-the-close-button': !_vm.currentlyEditingPreset,\n    'element-studio__hide-the-switch-mode-button': true\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.presetsSlug,\"value\":_vm.currentlyEditingPreset,\"itemType\":\"preset\",\"item-name\":_vm.currentPresetName,\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openPreset,\"delete\":_vm.deletePreset,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingPreset}}),(_vm.currentlyEditingPreset)?_c('div',{staticClass:\"element-studio-content\"},[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\"},[_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.activeTab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#preset\",\"title\":\"Preset\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#code-help\",\"title\":\"Code Help\"}},[_c('Icon',{attrs:{\"icon\":\"CodeIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#prop-paths\",\"title\":\"Property Paths\"}},[_c('Icon',{attrs:{\"icon\":\"SlidersSimpleIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\"}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"16\"}})],1)],1)],1)]),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[_c('ControlSectionOrControl',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'preset'),expression:\"activeTab === 'preset'\"}],attrs:{\"value\":_vm.currentPresetWithoutPresetSlug\n              ? _vm.currentPresetWithoutPresetSlug.presetData.preset.section\n              : [],\"index\":0,\"path\":\"control\",\"parentPath\":\"presetSection\",\"twigParentPath\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'code-help'),expression:\"activeTab === 'code-help'\"}]},[_vm._m(0),_c('CodeInput',{attrs:{\"language\":\"twig\",\"value\":_vm.codeHelpValue,\"placeholder\":_vm.codeHelpPlaceholder},on:{\"input\":_vm.updateCodeHelp}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'prop-paths'),expression:\"activeTab === 'prop-paths'\"}]},[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'relativePropertyPathsToWhitelistInFlatProps'},on:{\"toggle\":function($event){return _vm.toggleAccordion('relativePropertyPathsToWhitelistInFlatProps')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Relative Property Paths To Whitetlist In Flatprops \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.presetRelativePropertyPathsToWhitelistInFlatProps,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n                    $event,\n                    'relativePropertyPathsToWhitelistInFlatProps'\n                  )}}})]},proxy:true}],null,false,3695337097)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'relativeDynamicPropertyPaths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('relativeDynamicPropertyPaths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Relative Dynamic Property Paths \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioDynPropPaths',{attrs:{\"value\":_vm.relativeDynamicPropertyPaths,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n                    $event,\n                    'relativeDynamicPropertyPaths'\n                  )}}})]},proxy:true}],null,false,63984396)})],1),(_vm.activeTab === 'settings')?_c('div',{staticClass:\"pa-4\"},[_c('v-text-field',{attrs:{\"value\":_vm.currentPresetName,\"label\":\"Name\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updatePresetSlug}}),_c('ToggleInput',{attrs:{\"value\":_vm.autoRefresh},on:{\"input\":_vm.updateAutoRefresh}}),_c('label',{staticClass:\"ml-2\"},[_vm._v(\"Live preview changes\")])],1):_vm._e()],1)])]):_vm._e()],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"element-studio__presets-code-help\"},[_c('div',[_c('b',[_vm._v(\"Code Help\")])]),_c('pre',[_vm._v(\"%%TWIG_PATH%%\")]),_vm._v(\" will be replaced with the correct path in the element. \")])\n}]\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop, Provide } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingPreset,\n  ElementStudioSaveLocation,\n  PresetSection,\n  ElementStudioSaveLocationWithName\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport slugify from \"slugify\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport {\n  getItemNameFromSlug,\n  getItemNamespaceFromSlug,\n  getPathToAllControls,\n  isValidItemName,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport ControlSectionOrControl from \"@/components/ElementStudio/ControlSectionOrControl.vue\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport { getEmptyElement } from \"@/lib/elements/utils\";\nimport { getBlankControl, getBlankControlSection } from \"@/lib/controls/utils\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioDynPropPaths from \"@/components/ElementStudio/ElementStudioDynPropPaths.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport {\n  getSlugFromNamespaceAndFilename,\n  savePresetToServer\n} from \"@/lib/elements/studio/presets\";\n\n@Component({\n  components: {\n    ToggleInput,\n    ElementStudioDynPropPaths,\n    ElementStudioPropertyPaths,\n    Accordion,\n    ControlSectionOrControl,\n    TextInput,\n    Icon,\n    CodeInput,\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioPresets extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  lastSavedPreset: CurrentlyEditingPreset | false = false;\n  currentlyEditingPreset: CurrentlyEditingPreset | false = false;\n\n  saveInProgress = false;\n  activeTab = \"preset\";\n  accordionState = \"\";\n\n  autoRefresh = true;\n\n  toggleAccordion(key: string) {\n    this.accordionState = this.accordionState === key ? \"\" : key;\n  }\n\n  /**\n   * \"Provide\" is not reactive. We use state inside it, so it must be reactive\n   * By giving it an object instead of a static function, we make it reactive\n   *\n   * https://github.com/soflyy/breakdance/issues/1550\n   */\n  reactiveContext() {\n    return {\n      replaceControls: (path: string, newControls: Control[]) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          newControls\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      pasteControl: (path: string, controlToPaste: Control) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const currentControls = lodash.get(\n          newEditingPreset.presetData.preset,\n          correctPath\n        );\n\n        currentControls.push(controlToPaste);\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          currentControls\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      addControl: (path: string) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.push(getBlankControl());\n        } else {\n          parentControl.children.push(getBlankControl());\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      addPreset: (path: string) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const presetSection = defensiveCopy(\n          this.elementStudioContext.getPresetSection(\n            \"EssentialElements\\\\typography\"\n          )\n        );\n\n        if (!presetSection) return;\n\n        presetSection.section.options.sectionOptions = {\n          ...presetSection.section.options.sectionOptions,\n          type: \"popout\"\n        };\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.push(presetSection.section);\n        } else {\n          parentControl.children.push(presetSection.section);\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      deleteControl: (parentPath: string, index: number) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(\n          parentPath\n        );\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.splice(index, 1);\n        } else {\n          parentControl.children.splice(index, 1);\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      updateControl: (\n        parentPath: string,\n        index: number,\n        newControl: Control\n      ) => {\n        if (!this.currentlyEditingPreset) return;\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n        if (parentPath === \"presetSection\") {\n          newEditingPreset.presetData.preset.section = newControl;\n        } else {\n          const correctPath = this.getCorrectPathForPresetFromContextPath(\n            parentPath\n          );\n          const parentControl = this.getParentControlOrControls(correctPath);\n\n          if (!parentControl) return;\n\n          if (Array.isArray(parentControl)) {\n            parentControl.splice(index, 1, newControl);\n          } else {\n            parentControl.children.splice(index, 1, newControl);\n          }\n\n          lodash.set(\n            newEditingPreset.presetData.preset,\n            correctPath,\n            parentControl\n          );\n        }\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      getPresetSection: (sectionSlug: string) => {\n        return this.value.presetSections.find(\n          preset => preset.slug === sectionSlug\n        );\n      },\n      getPresetSections: () => {\n        return this.value.presetSections;\n      },\n      getPathsToAllControls: (\n        controlTypes: ControlType[] = [],\n        controlTypesToIgnore: ControlType[] = [\"section\"]\n      ) => {\n        if (!this.currentlyEditingPreset) return;\n\n        return getPathToAllControls(\n          this.currentlyEditingPreset.presetData.preset.section.children,\n          controlTypes,\n          controlTypesToIgnore,\n          \"\"\n        );\n      },\n      // This is here just to support the func and avoid any errors, but it doesn't affect anything in the preset\n      // And shouldn't be called at all when editing it\n      element: getEmptyElement,\n      updateDependency: () => {},\n      updateActions: () => {},\n      updateElementValue: () => {},\n      getElementStudioData: () => this.value,\n      updateElementStudioData: (newData: ElementStudioExpectedDataToLoad) => {\n        this.$emit(\"input\", newData);\n      }\n    };\n  }\n\n  @Provide(\"context\")\n  elementStudioContext = this.reactiveContext();\n\n  updateAutoRefresh(newAutoRefresh: boolean) {\n    this.autoRefresh = newAutoRefresh;\n\n    // Don't wait for a new change, update all elements\n    if (newAutoRefresh && this.currentlyEditingPreset) {\n      this.updateCurrentlyEditingPreset(this.currentlyEditingPreset);\n    }\n  }\n\n  getCorrectPathForPresetFromContextPath(path: string) {\n    return path.replace(\"control\", \"section\");\n  }\n\n  getParentControlOrControls(path: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    return defensiveCopy(\n      lodash.get(this.currentlyEditingPreset.presetData.preset, path)\n    ) as Control | Control[];\n  }\n\n  get codeHelpValue() {\n    if (!this.currentlyEditingPreset) return \"\";\n\n    return (\n      this.currentlyEditingPreset.presetData.preset.section.options\n        .sectionOptions?.preset?.codeHelp || \"\"\n    );\n  }\n\n  get codeHelpPlaceholder() {\n    if (!this.currentlyEditingPreset) return \"\";\n    const potentialMacroName = getMacroName(\n      getItemNamespaceFromSlug(this.currentlyEditingPreset.presetData.slug),\n      this.currentPresetName\n    );\n\n    return `{{ macros.${potentialMacroName}(%%TWIG_PATH%%) }}`;\n  }\n\n  updateCodeHelp(newValue: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newPreset = defensiveCopy(this.currentlyEditingPreset);\n\n    lodash.set(\n      newPreset,\n      \"presetData.preset.section.options.sectionOptions.preset.codeHelp\",\n      newValue\n    );\n\n    this.updateCurrentlyEditingPreset(newPreset);\n  }\n\n  get presetsSlug() {\n    return this.value.presets.map(preset => preset.slug);\n  }\n\n  get allPaths() {\n    return this.reactiveContext().getPathsToAllControls([], []);\n  }\n\n  get presetRelativePropertyPathsToWhitelistInFlatProps() {\n    if (!this.currentlyEditingPreset) return [];\n\n    return this.currentlyEditingPreset.presetData.preset.section.options\n      .sectionOptions?.preset?.relativePropertyPathsToWhitelistInFlatProps;\n  }\n\n  get relativeDynamicPropertyPaths() {\n    if (!this.currentlyEditingPreset) return [];\n\n    return this.currentlyEditingPreset.presetData.preset.section.options\n      .sectionOptions?.preset?.relativeDynamicPropertyPaths;\n  }\n\n  updateElementValuePropPath(newValue: string[], propertyName: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newCurrentlyEditingPreset = defensiveCopy(\n      this.currentlyEditingPreset\n    );\n\n    lodash.set(\n      newCurrentlyEditingPreset,\n      `presetData.preset.section.options.sectionOptions.preset[${propertyName}]`,\n      newValue\n    );\n\n    this.currentlyEditingPreset = newCurrentlyEditingPreset;\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateCurrentlyEditingPreset(\n    newCurrentlyEditingPreset: CurrentlyEditingPreset\n  ) {\n    // If the new preset comes from a context update, it won't have the section slug\n    newCurrentlyEditingPreset.presetData.preset = this.getPresetWithRestoredSectionSlug(\n      newCurrentlyEditingPreset.presetData.preset\n    );\n\n    this.currentlyEditingPreset = defensiveCopy(newCurrentlyEditingPreset);\n\n    // Set the lastSavedPreset when opening a new element\n    if (this.lastSavedPreset === false) {\n      this.lastSavedPreset = defensiveCopy(newCurrentlyEditingPreset);\n    }\n\n    if (!this.autoRefresh) return;\n\n    const allElementsWithModifiedPresetUpdated = Object.values(\n      configStore.elements\n    )\n      .map(element => {\n        if (!element) return element;\n\n        element.controls.designSections = element.controls.designSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        element.controls.contentSections = element.controls.contentSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        element.controls.settingsSections = element.controls.settingsSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        return element;\n      })\n      .filter((element): element is BuilderElement => element !== undefined);\n\n    configStore.addElements(allElementsWithModifiedPresetUpdated);\n  }\n\n  get currentPresetWithoutPresetSlug() {\n    if (!this.currentlyEditingPreset) return false;\n    const newCurrentlyEditingPreset = defensiveCopy(\n      this.currentlyEditingPreset\n    );\n    // Change it from being a preset to being a section so that we can edit its children\n    // Inside ControlSectionOrControl\n    if (\n      newCurrentlyEditingPreset.presetData.preset.section.options.sectionOptions\n        ?.preset?.slug\n    ) {\n      newCurrentlyEditingPreset.presetData.preset.section.options.sectionOptions.preset.slug = undefined;\n    }\n    return newCurrentlyEditingPreset;\n  }\n\n  updateSectionWithCurrentPresetSection(section: Control) {\n    if (\n      section.options.sectionOptions?.preset?.slug &&\n      this.currentlyEditingPreset &&\n      section.options.sectionOptions.preset.slug ===\n        this.currentlyEditingPreset.presetData.slug\n    ) {\n      return defensiveCopy(\n        this.currentlyEditingPreset.presetData.preset.section\n      );\n    }\n\n    if (section.children.length) {\n      const newSection = defensiveCopy(section);\n\n      newSection.children = newSection.children.map(\n        this.updateSectionWithCurrentPresetSection\n      );\n\n      return newSection;\n    }\n\n    return section;\n  }\n\n  filterOutCurrentSection(section: Control, slug: string) {\n    if (\n      section.options.sectionOptions?.preset?.slug &&\n      section.options.sectionOptions.preset.slug === slug\n    ) {\n      return undefined;\n    }\n\n    if (section.children.length) {\n      const newSection = defensiveCopy(section);\n\n      newSection.children = newSection.children\n        .map(s => this.filterOutCurrentSection(s, slug))\n        .filter((s): s is Control => !!s);\n\n      return newSection;\n    }\n\n    return section;\n  }\n\n  /**\n   * We remove the slug from the section when first updating it to treat it as a control\n   * This turns it back into a \"preset section\"\n   * @param newPresetSection\n   */\n  getPresetWithRestoredSectionSlug(newPresetSection: PresetSection) {\n    if (!this.currentlyEditingPreset) return newPresetSection;\n\n    lodash.set(\n      newPresetSection,\n      \"section.options.sectionOptions.preset.slug\",\n      this.currentlyEditingPreset.presetData.slug\n    );\n\n    return newPresetSection;\n  }\n\n  updateTab(newTab: string) {\n    this.activeTab = newTab;\n  }\n\n  updatePresetSlug(newName: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n    newEditingPreset.presetData.slug = getSlugFromNamespaceAndFilename(\n      getItemNamespaceFromSlug(this.currentlyEditingPreset.presetData.slug),\n      newName\n    );\n\n    this.updateCurrentlyEditingPreset(newEditingPreset);\n  }\n\n  updatePreset(newPresetArg: CurrentlyEditingPreset[\"presetData\"]) {\n    const newPreset = defensiveCopy(newPresetArg);\n\n    const presetsIndex = this.value.presets.findIndex(\n      preset => preset.slug === newPreset.slug\n    );\n    const presetSectionsIndex = this.value.presetSections.findIndex(\n      presetSection => presetSection.slug === newPreset.preset.slug\n    );\n\n    const newValue = defensiveCopy(this.value);\n\n    if (presetsIndex === -1 && presetSectionsIndex === -1) {\n      newValue.presets.push(newPreset);\n      newValue.presetSections.push(newPreset.preset);\n    } else {\n      newValue.presets[presetsIndex] = newPreset;\n      newValue.presetSections[presetSectionsIndex].section =\n        newPreset.preset.section;\n    }\n\n    this.$emit(\"input\", newValue);\n\n    // Delete the old preset if the slug changed, and it's not a copy of the preset in a different save location\n    if (\n      this.lastSavedPreset &&\n      this.lastSavedPreset.directoryPath &&\n      newPreset.slug !== this.lastSavedPreset.presetData.slug &&\n      newPreset.directoryPath === this.lastSavedPreset.directoryPath\n    ) {\n      this.deletePresetFromServer(this.lastSavedPreset);\n    }\n  }\n\n  deletePresetAndRecompileTwigTemplates(deletedPresetSlug: string) {\n    const deletedPresetType = getItemNameFromSlug(deletedPresetSlug);\n    const presetSections = defensiveCopy(this.value.presetSections);\n    const storeIndex = presetSections.findIndex(\n      preset => preset.slug === deletedPresetType\n    );\n    const valueIndex = this.value.presets.findIndex(\n      preset => preset.slug === deletedPresetSlug\n    );\n\n    if (storeIndex !== -1) {\n      presetSections.splice(storeIndex, 1);\n    }\n\n    if (valueIndex !== -1) {\n      const newValue = defensiveCopy(this.value);\n      newValue.presets.splice(valueIndex, 1);\n\n      this.$emit(\"input\", newValue);\n    }\n\n    if (!this.autoRefresh) return;\n\n    // Delete preset from all elements using it\n    const allElementsWithDeletedPresetRemoved = Object.values(\n      configStore.elements\n    )\n      .map(element => {\n        if (!element) return element;\n\n        element.controls.designSections = element.controls.designSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        element.controls.contentSections = element.controls.contentSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        element.controls.settingsSections = element.controls.settingsSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        return element;\n      })\n      .filter((element): element is BuilderElement => element !== undefined);\n\n    configStore.addElements(allElementsWithDeletedPresetRemoved);\n  }\n\n  get currentPresetName() {\n    if (!this.currentlyEditingPreset) return \"\";\n\n    return getItemNameFromSlug(this.currentlyEditingPreset.presetData.slug);\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingPreset || !this.lastSavedPreset) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedPreset.presetData,\n      this.currentlyEditingPreset.presetData\n    );\n  }\n\n  deletePreset() {\n    if (!this.currentlyEditingPreset) {\n      return;\n    }\n\n    this.deletePresetFromServer(this.currentlyEditingPreset, () => {\n      this.currentlyEditingPreset = false;\n    });\n  }\n\n  async deletePresetFromServer(\n    presetToDelete: CurrentlyEditingPreset,\n    successCallback: () => void = () => {}\n  ) {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_preset\",\n        dataToPost: {\n          directoryPath: presetToDelete.directoryPath,\n          filename: getItemNameFromSlug(presetToDelete.presetData.slug)\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          successCallback();\n\n          this.deletePresetAndRecompileTwigTemplates(\n            presetToDelete.presetData.slug\n          );\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedPreset && this.lastSavedPreset.presetData) {\n      this.updateCurrentlyEditingPreset(this.lastSavedPreset);\n      this.updatePreset(this.lastSavedPreset.presetData);\n    }\n\n    this.resetCurrentlyEditingPreset();\n  }\n\n  resetCurrentlyEditingPreset() {\n    this.currentlyEditingPreset = false;\n    this.lastSavedPreset = false;\n    this.$emit(\"active\", null);\n  }\n\n  openPreset(presetSlug: string) {\n    const presetSaveLocation = defensiveCopy(\n      this.value.presets.find(preset => preset.slug === presetSlug)\n    );\n\n    if (!presetSaveLocation) return;\n\n    const preset = this.value.presetSections.find(\n      preset => preset.slug === presetSlug\n    );\n\n    if (!preset) {\n      NotificationLogger.log.message(`${presetSlug} couldn't be found`);\n\n      return;\n    }\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      presetSaveLocation.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingPreset({\n      presetData: { ...presetSaveLocation, preset },\n      directoryPath: presetSaveLocation.directoryPath,\n      onlyForAdvancedUsers\n    });\n    this.$emit(\"active\", \"preset\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingPreset) return;\n\n    this.saveToServer(\n      this.currentlyEditingPreset.presetData.preset,\n      saveLocation.directoryPath,\n      this.currentPresetName,\n      getSlugFromNamespaceAndFilename(\n        saveLocation.namespace,\n        this.currentPresetName\n      ),\n      saveLocation.onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocationWithName) {\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.value.presets.find(preset => preset.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"preset\");\n\n      return;\n    }\n\n    this.saveToServer(\n      {\n        slug: newSlug,\n        section: getBlankControlSection()\n      },\n      newItem.directoryPath,\n      filename,\n      newSlug,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"preset\");\n  }\n\n  saveOverride() {\n    if (\n      !this.currentlyEditingPreset ||\n      !this.currentlyEditingPreset.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingPreset.presetData.preset,\n      this.currentlyEditingPreset.directoryPath,\n      this.currentPresetName,\n      this.currentlyEditingPreset.presetData.slug,\n      this.currentlyEditingPreset.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    preset: PresetSection,\n    directoryPath: string,\n    filename: string,\n    slug: string,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    pipe(\n      await savePresetToServer(preset, directoryPath, filename, slug),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newPreset: CurrentlyEditingPreset = {\n            presetData: {\n              preset: defensiveCopy(preset),\n              slug,\n              directoryPath\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingPreset(newPreset);\n          this.updatePreset(newPreset.presetData);\n          this.lastSavedPreset = newPreset;\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPresets.vue?vue&type=template&id=3aca5f34&\"\nimport script from \"./ElementStudioPresets.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPresets.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioPresets.vue?vue&type=style&index=0&id=3aca5f34&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\n\nimport ElementStudioElements from \"@/components/ElementStudio/ElementStudioElements.vue\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  ElementStudioExpectedDataToLoad,\n  ElementStudioExpectedDataToLoadV,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport ElementStudioMacros from \"@/components/ElementStudio/ElementStudioMacros.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioPresets from \"@/components/ElementStudio/ElementStudioPresets.vue\";\n\n@Component({\n  components: {\n    ElementStudioPresets,\n    ElementStudioMacros,\n    ElementStudioElements,\n    ElementStudioWidthAdjustmentBar\n  }\n})\nexport default class ElementStudio extends Vue {\n  async mounted() {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_load_element_studio\",\n        decoder: ElementStudioExpectedDataToLoadV\n      }),\n      fold(\n        errors => errors.forEach(e => NotificationLogger.log.message(e.msg)),\n        expectedDataToLoad => {\n          this.data = expectedDataToLoad;\n        }\n      )\n    );\n  }\n\n  data: ElementStudioExpectedDataToLoad = {\n    elements: [],\n    macros: [],\n    presets: [],\n    saveLocations: [],\n    presetSections: []\n  };\n\n  width = 600;\n\n  activeItemType: SaveLocationType | null = null;\n\n  updateData(newData: ElementStudioExpectedDataToLoad) {\n    this.data = defensiveCopy(newData);\n  }\n\n  updateActiveItemType(newType: SaveLocationType | null) {\n    this.activeItemType = newType;\n  }\n\n  updateWidth(newWidth: number) {\n    this.width = newWidth;\n  }\n\n  adjustWidth(adjustAmount: number) {\n    this.width += adjustAmount;\n  }\n\n  get styles() {\n    return {\n      width: `${this.width}px`\n    };\n  }\n\n  get isProdEnv() {\n    return !isBreakdanceDevelopmentEnvironment();\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudio.vue?vue&type=template&id=8b7e65c8&\"\nimport script from \"./ElementStudio.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudio.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudio.vue?vue&type=style&index=0&id=8b7e65c8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('AppLayoutBodyPanelArea',{attrs:{\"panel-state\":_vm.panelState,\"position\":_vm.position}},[_c('Add',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelState === 'add'),expression:\"panelState === 'add'\"}]}),(_vm.panelState === 'selectors')?_c('SelectorsPanel'):(_vm.panelState === 'structure')?_c('StructurePanel'):_vm._e(),(_vm.panelState === 'elementproperties')?_c('ElementPropertiesPanel',{key:_vm.activeElementId}):(_vm.panelState === 'history')?_c('HistoryAndRevisionsPanel'):(_vm.panelState === 'globalSettings')?_c('GlobalSettingsPanel'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-element-properties-panel vscroll-wrap vscroll-scroll\",attrs:{\"data-test-id\":\"element-properties-panel\"}},[(_vm.elementIsActive)?[_c('Titlebar'),_c('TabsAndControls')]:[_c('BlankSidebarContent')]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"properties-panel-titlebar\"},[_c('div',{staticClass:\"properties-panel-titlebar-title truncate\"},[_vm._v(\" \"+_vm._s(_vm.elementTitle)+\" \")]),_vm._l((_vm.elementBadges),function(badge,i){return _c('ElementBadge',{key:i,staticClass:\"ml-1\",attrs:{\"value\":badge}})}),_c('v-spacer'),_c('IconButton',{staticClass:\"properties-panel-duplicate-button\",attrs:{\"icon\":\"DuplicateIcon\",\"size\":\"16\",\"small\":true},on:{\"click\":_vm.duplicateElement}}),_c('IconButton',{staticClass:\"properties-panel-delete-button\",attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\",\"small\":true},on:{\"click\":_vm.remove}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore, documentStore, configStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport ElementBadge from \"./ElementBadge.vue\";\nimport { getProBadge } from \"@/lib/subscriptions/free-mode\";\n\n@Component({\n  components: {\n    Dropdown,\n    IconButton,\n    ElementBadge\n  }\n})\nexport default class Titlebar extends Vue {\n  get elementTitle() {\n    return uiStore.activeElement\n      ? configStore.element(uiStore.activeElement.data.type).name\n      : \"No Active Element\"; /* should never happen */\n  }\n  get elementBadges() {\n    if (!uiStore.activeElement) return [];\n\n    const element = configStore.element(uiStore.activeElement.data.type);\n\n    const badges = element.badge ? [element.badge] : [];\n\n    if (\n      element.settings &&\n      element.settings.proOnly &&\n      configStore.subscriptionMode === \"free\"\n    ) {\n      badges.push(getProBadge());\n    }\n\n    return badges;\n  }\n  duplicateElement() {\n    if (uiStore.activeElementId) {\n      documentStore.duplicateElementAndActivateIt(uiStore.activeElementId);\n    }\n  }\n  remove() {\n    if (uiStore.activeElementId !== null) {\n      documentStore.deleteElement({\n        nodeId: uiStore.activeElementId\n      });\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Titlebar.vue?vue&type=template&id=57e20002&\"\nimport script from \"./Titlebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Titlebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Titlebar.vue?vue&type=style&index=0&id=57e20002&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"pa-7 d-flex align-center justify-center flex-column\",staticStyle:{\"height\":\"100%\"}},[_vm._m(0),_c('StandardButton',{staticClass:\"open-elements-toolbar-button\",attrs:{\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"blank-sidebar-text\"},[_c('p',[_vm._v(\" Add an element to your page or click an existing element to edit it. \")])])\n}]\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { toggleUiPanel } from \"@/lib/panels/panels\";\n\n@Component({ components: { StandardButton } })\nexport default class BlankSidebarContent extends Vue {\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlankSidebarContent.vue?vue&type=template&id=668b9782&\"\nimport script from \"./BlankSidebarContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlankSidebarContent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlankSidebarContent.vue?vue&type=style&index=0&id=668b9782&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[(!_vm.hasSearchParameters)?_c('DesignContentSettingsTabs',{attrs:{\"value\":_vm.tab,\"controls\":_vm.controls},on:{\"input\":_vm.updateTab}}):_vm._e(),_c('div',{staticClass:\"vscroll-scroll\"},[(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('v-sheet',[(_vm.searchBoxState.query !== '')?_c('div',{staticClass:\"control-tree-search-term\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.contentSections,\"path\":'content',\"linear\":true}}),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.designSections,\"path\":'design',\"linear\":true}}),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.settingsSections,\"path\":'settings',\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"controls\"},on:{\"input\":_vm.clearQuery}})],1):_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[(_vm.hasContentControls)?_c('v-tab-item',{attrs:{\"value\":\"content\",\"transition\":false,\"reverse-transition\":false}},[_c('ControlsTree',{attrs:{\"controls\":_vm.contentSections,\"path\":'content',\"forceFirstSectionOpen\":true}})],1):_vm._e(),(_vm.hasDesignControls)?_c('v-tab-item',{attrs:{\"value\":\"design\",\"transition\":false,\"reverse-transition\":false}},[_c('DesignTabContent',{attrs:{\"controls\":_vm.designSections,\"path\":'design'}})],1):_vm._e(),(_vm.hasSettingsControls)?_c('v-tab-item',{attrs:{\"value\":\"settings\",\"transition\":false,\"reverse-transition\":false}},[_c('ControlsTree',{attrs:{\"controls\":_vm.settingsSections,\"path\":'settings'}})],1):_vm._e()],1)],1),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"element\",\"include-settings-toggle\":true},on:{\"input\":_vm.updateSearchBoxState}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"properties-panel-search-box-wrap\"},[_c('div',{staticClass:\"properties-panel-search-box-inner-wrap\"},[_c('Icon',{staticClass:\"properties-panel-search-icon\",attrs:{\"icon\":\"SearchIcon\",\"size\":\"13\"}}),_c('TextInput',{staticClass:\"properties-panel-search-text-input\",attrs:{\"value\":_vm.value.query,\"placeholder\":_vm.placeholder,\"data-test-id\":\"elements-panel-search\"},on:{\"input\":_vm.editQuery}}),_c('div',{staticClass:\"properties-panel-search-actions\"},[(_vm.value.query)?_c('div',{staticClass:\"properties-panel-search-modified\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"12\"}})],1):_vm._e(),_c('SearchFilter',{attrs:{\"value\":_vm.value.modifiedOnly},on:{\"input\":_vm.editModified}},[_vm._v(\"modified\")]),(_vm.includeSettingsToggle)?_c('SearchFilter',{attrs:{\"value\":_vm.value.includeSettings},on:{\"input\":_vm.editSettings}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"12\"}})],1):_vm._e()],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n    'properties-panel-search-modified': true,\n    'properties-panel-search-modified-on': this.value\n  },on:{\"click\":_vm.toggle}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class SearchFilter extends Vue {\n  @Prop()\n  value!: boolean;\n\n  toggle() {\n    this.$emit(\"input\", !this.value);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchFilter.vue?vue&type=template&id=51a15e86&\"\nimport script from \"./SearchFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchFilter.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SearchFilter.vue?vue&type=style&index=0&id=51a15e86&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport SearchFilter from \"./SearchFilter.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\nexport type SearchBoxState = {\n  query: string;\n  modifiedOnly: boolean;\n  includeSettings?: boolean;\n};\n\n@Component({\n  components: { SearchFilter, TextInput, Icon }\n})\nexport default class SearchBox extends Vue {\n  @Prop()\n  value!: SearchBoxState;\n\n  @Prop()\n  includeSettingsToggle!: boolean;\n\n  @Prop()\n  location!: \"element\" | \"settings\" | \"selector\" | string;\n\n  emit(newState: SearchBoxState) {\n    this.$emit(\"input\", newState);\n  }\n\n  editQuery(newQuery: string | null) {\n    if (typeof newQuery === \"string\") {\n      this.emit({\n        ...this.value,\n        query: newQuery.trim().toLowerCase()\n      });\n    } else {\n      this.emit({\n        ...this.value,\n        query: \"\"\n      });\n    }\n  }\n\n  clearQuery() {\n    this.emit({\n      ...this.value,\n      query: \"\",\n      modifiedOnly: false\n    });\n  }\n\n  editModified(modified: boolean) {\n    this.emit({\n      ...this.value,\n      modifiedOnly: modified\n    });\n  }\n\n  editSettings(settings: boolean) {\n    this.emit({\n      ...this.value,\n      includeSettings: settings\n    });\n  }\n\n  get placeholder() {\n    return \"Search\";\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchBox.vue?vue&type=template&id=e7258348&\"\nimport script from \"./SearchBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SearchBox.vue?vue&type=style&index=0&id=e7258348&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('TabsRow',[(_vm.hasContentControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"content\",\"data-test-id\":'element-properties-tab-content'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(`content`)}}},[_c('v-list-item-title',[_vm._v(\"Reset Content\")])],1)],1)]},proxy:true}],null,false,855652120)}):_vm._e(),(_vm.hasDesignControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"design\",\"data-test-id\":'element-properties-tab-design'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"PaletteIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(`design`)}}},[_c('v-list-item-title',[_vm._v(\"Reset Design\")])],1)],1)]},proxy:true}],null,false,1825965438)}):_vm._e(),(_vm.hasSettingsControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"settings\",\"data-test-id\":'element-properties-tab-settings'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(`settings`)}}},[_c('v-list-item-title',[_vm._v(\"Reset Settings\")])],1)],1)]},proxy:true}],null,false,325617522)}):_vm._e(),_c('SavePreset',{attrs:{\"open\":_vm.savePresetDialogOpen},on:{\"update:dialog\":function($event){_vm.savePresetDialogOpen = $event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:_vm.classList,on:{\"click\":function($event){return _vm.$emit('input', _vm.id)},\"contextmenu\":_vm.openContextMenu}},[(_vm.hasIconSlot)?_c('div',{staticClass:\"breakdance-tab__icon\"},[_vm._t(\"icon\")],2):_vm._e(),(!_vm.hasIconSlot)?_c('div',{staticClass:\"breakdance-tab__label\"},[_vm._t(\"default\")],2):_vm._e(),(_vm.hasContextMenuSlot)?_c('div',{staticClass:\"breakdance-tab__context-menu\"},[_c('Dropdown',{attrs:{\"position-x\":_vm.contextMenuX,\"position-y\":_vm.contextMenuY,\"absolute\":\"\",\"offset-y\":\"\"},model:{value:(_vm.contextMenu),callback:function ($$v) {_vm.contextMenu=$$v},expression:\"contextMenu\"}},[_vm._t(\"contextmenu\")],2)],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\n\n@Component({\n  components: { Dropdown }\n})\nexport default class Tab extends Vue {\n  @Prop()\n  value!: string;\n\n  @Prop()\n  id!: string;\n\n  get classList() {\n    return {\n      \"breakdance-tab\": true,\n      [`breakdance-tab--id-${this.id}`]: true,\n      \"breakdance-tab--active\": this.value === this.id\n    };\n  }\n\n  get hasContextMenuSlot() {\n    return !!this.$slots.contextmenu;\n  }\n\n  get hasIconSlot() {\n    return !!this.$slots.icon;\n  }\n\n  contextMenu = false;\n  contextMenuX = 0;\n  contextMenuY = 0;\n\n  openContextMenu(e: MouseEvent) {\n    if (!this.hasContextMenuSlot) {\n      return;\n    }\n\n    e.preventDefault();\n\n    this.contextMenu = false;\n    this.contextMenuX = e.clientX;\n    this.contextMenuY = e.clientY;\n\n    this.$nextTick(() => {\n      this.contextMenu = true;\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tab.vue?vue&type=template&id=d09a777e&\"\nimport script from \"./Tab.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tab.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Tab.vue?vue&type=style&index=0&id=d09a777e&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-tabs-row\"},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component({})\nexport default class TabsRow extends Vue {}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TabsRow.vue?vue&type=template&id=1ee7e7e0&\"\nimport script from \"./TabsRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./TabsRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TabsRow.vue?vue&type=style&index=0&id=1ee7e7e0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dialog',{attrs:{\"value\":_vm.open},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Save Design Settings As Preset \")]},proxy:true},{key:\"text\",fn:function(){return [_c('TextInput',{attrs:{\"size\":\"md\",\"placeholder\":\"Present name\"},model:{value:(_vm.newPresetName),callback:function ($$v) {_vm.newPresetName=$$v},expression:\"newPresetName\"}}),_c('WPMediaInput',{staticClass:\"mt-6\",model:{value:(_vm.newPresetScreenshot),callback:function ($$v) {_vm.newPresetScreenshot=$$v},expression:\"newPresetScreenshot\"}})]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{staticStyle:{\"margin-right\":\"auto\"},attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.open = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.exportPreset}},[_vm._v(\"Export To JSON\")]),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"loading\":_vm.saveInProgress},on:{\"click\":_vm.savePreset}},[_vm._v(\"Save\")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// https://gist.github.com/liabru/11263260\nexport function triggerDownload(\n  content: string,\n  filename: string,\n  type = \"text/plain\"\n) {\n  const blob = new Blob([content], { type: type }),\n    anchor = document.createElement(\"a\");\n  anchor.download = filename;\n  anchor.href = (window.webkitURL || window.URL).createObjectURL(blob);\n  anchor.dataset.downloadurl = [type, anchor.download, anchor.href].join(\":\");\n  anchor.click();\n}\n","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport * as data from \"@/lib/wordpress/data\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { ElementPreset } from \"@/types/presets\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ControlsTreeContext } from \"@/types/controls\";\nimport WPMediaInput from \"@/components/Reusable/CustomInputs/MediaInput/WPMediaInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { triggerDownload } from \"@/util/trigger-download\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { Media } from \"@/types/media\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\n\n@Component({\n  components: { WPMediaInput, TextInput, Dialog }\n})\nexport default class SavePreset extends Vue {\n  newPresetName: string | undefined | null = \"\";\n  newPresetScreenshot: Media | null = null;\n\n  @Prop()\n  open!: boolean;\n\n  @Inject(\"context\") readonly context!: ControlsTreeContext;\n\n  saveInProgress = false;\n\n  async saveToLibrary(newPreset: ElementPreset) {\n    this.saveInProgress = true;\n    const newPresets = defensiveCopy(configStore.presetsForElements);\n    newPresets.push(newPreset);\n\n    pipe(\n      await data.saveToWP(\"presets_for_elements\", newPresets),\n      fold(\n        errors => {\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        () => {\n          configStore.setPresetsForElements(newPresets);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n\n  makePreset() {\n    const activeElement = uiStore.activeElement;\n    if (!activeElement) return false;\n    if (!this.newPresetName || !this.newPresetScreenshot) {\n      NotificationLogger.log.message(\n        \"Presets must have a name and a screenshot.\"\n      );\n      return false;\n    }\n\n    const designProps = defensiveCopy(this.context.getControlValue(\"design\"));\n\n    if (!designProps) {\n      NotificationLogger.log.message(\n        \"Unable to save blank design settings as preset.\"\n      );\n      return false;\n    }\n\n    const newPreset: ElementPreset = {\n      availableForType: activeElement.data.type,\n      designPropertiesData: designProps,\n      label: this.newPresetName,\n      screenshotUrl: this.newPresetScreenshot\n    };\n\n    return newPreset;\n  }\n\n  savePreset() {\n    const newPreset = this.makePreset();\n    if (newPreset) {\n      this.saveToLibrary(newPreset);\n      this.clearAndClose();\n    }\n  }\n\n  exportPreset() {\n    const newPreset = this.makePreset();\n    if (newPreset) {\n      triggerDownload(jsonStringifyOrUndefined(newPreset) || \"\", \"preset.json\");\n      this.clearAndClose();\n    }\n  }\n\n  clearAndClose() {\n    this.newPresetName = \"\";\n    this.newPresetScreenshot = null;\n    this.$emit(\"update:dialog\", false);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SavePreset.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SavePreset.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SavePreset.vue?vue&type=template&id=6b378b91&\"\nimport script from \"./SavePreset.vue?vue&type=script&lang=ts&\"\nexport * from \"./SavePreset.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport Tab from \"@/components/Reusable/Tabs/Tab.vue\";\nimport TabsRow from \"@/components/Reusable/Tabs/TabsRow.vue\";\nimport { ControlsTreeContext } from \"@/types/controls\";\nimport SavePreset from \"@/components/DesignLibrary/Presets/SavePreset.vue\";\nimport { BuilderElementControls } from \"@/types/elements\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport lodash from \"lodash\";\nimport { CONTROL_CLEAR_VALUE } from \"@/lib/controls/values\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\n\n@Component({\n  components: {\n    TabsRow,\n    Tab,\n    Icon,\n    SavePreset\n  }\n})\nexport default class DesignContentSettingsTabs extends Vue {\n  @Prop({\n    default: \"content\"\n  })\n  value!: string;\n\n  savePresetDialogOpen = false;\n\n  @Prop()\n  controls!: BuilderElementControls;\n\n  setTab(tab: string) {\n    this.$emit(\"input\", tab);\n  }\n\n  get hasContentControls() {\n    return this.controls.contentSections.length > 0;\n  }\n\n  get hasDesignControls() {\n    return this.controls.designSections.length > 0;\n  }\n\n  get hasSettingsControls() {\n    return this.controls.settingsSections.length > 0;\n  }\n\n  @Inject(\"context\") readonly context!: ControlsTreeContext;\n\n  resetToDefault(path: \"design\" | \"content\" | \"settings\") {\n    if (uiStore.activeElement === false) return;\n    resetElementProperties(uiStore.activeElement.id, path);\n  }\n}\n\nfunction resetElementProperties(\n  elementId: number,\n  path: \"design\" | \"content\" | \"settings\"\n) {\n  const element = findNode(documentStore.document.tree, elementId);\n\n  if (!element) return;\n\n  const defaultProperties = configStore.element(element.data.type)\n    .defaultProperties;\n\n  /*\n    Setting to undefined actually blows up VueSimpleDeepset\n    when you then try to set a control value that has previously been cleared\n    by this function. so we use null as a fallback\n    */\n  const defaultAtPath = lodash.get(\n    defaultProperties,\n    path,\n    CONTROL_CLEAR_VALUE\n  );\n\n  documentStore.throttledPropertyChanged({\n    elementId: element.id,\n    path: path,\n    value: defensiveCopy(defaultAtPath),\n    meta: {\n      snapshotLabel: `Reset ${getBuilderElementNameBySlug(\n        element.data.type\n      )} ${lodash.capitalize(path)}`\n    }\n  });\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignContentSettingsTabs.vue?vue&type=template&id=25b1de8b&\"\nimport script from \"./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[(_vm.mode === 'custom')?[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":_vm.path}}),(_vm.presets.length > 0)?_c('div',{staticClass:\"design-tab-design-settings-go-back-to-presets-link\",on:{\"click\":function($event){return _vm.changeMode('presets')}}},[_vm._v(\" presets » \")]):_vm._e()]:[_c('div',{staticClass:\"design-tab-presets-browser-content\"},[_c('div',{staticClass:\"design-tab-design-settings-customize-link\",attrs:{\"data-test-id\":\"element-design-customize\"},on:{\"click\":function($event){return _vm.changeMode('custom')}}},[_vm._v(\" customize » \")])])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',_vm._l((_vm.presets),function(preset,i){return _c('div',{key:i,staticClass:\"breakdance-presets-in-design-tab-preset\",on:{\"click\":function($event){return _vm.applyPreset(preset)}}},[_vm._v(\" \"+_vm._s(preset.label)+\" \"),_c('img',{attrs:{\"src\":preset.screenshotUrl.url}})])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ElementPreset } from \"@/types/presets\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\n\nexport function applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset(\n  preset: ElementPreset\n) {\n  if (\n    !uiStore.activeElement ||\n    uiStore.activeElement.data.type !== preset.availableForType\n  ) {\n    documentStore.addElement({ elementSlug: preset.availableForType });\n  }\n\n  if (\n    uiStore.activeElement &&\n    uiStore.activeElement.data.type === preset.availableForType\n  ) {\n    documentStore.throttledPropertyChanged({\n      elementId: uiStore.activeElement.id,\n      path: \"design\",\n      value: defensiveCopy(preset.designPropertiesData),\n      meta: {\n        snapshotLabel: `Apply preset \"${\n          preset.label\n        }\" to ${getBuilderElementNameBySlug(uiStore.activeElement.data.type)}`\n      }\n    });\n  }\n}\n","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { ElementPreset } from \"@/types/presets\";\nimport { applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset } from \"@/lib/presets/presets\";\n\n@Component\nexport default class PresetsInDesignTab extends Vue {\n  @Prop({\n    default: []\n  })\n  presets!: ElementPreset[];\n\n  applyPreset(preset: ElementPreset) {\n    applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset(\n      preset\n    );\n    this.$emit(\"presetApplied\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PresetsInDesignTab.vue?vue&type=template&id=c72b5210&\"\nimport script from \"./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"\nexport * from \"./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PresetsInDesignTab.vue?vue&type=style&index=0&id=c72b5210&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport PresetsInDesignTab from \"./PresetsInDesignTab.vue\";\nimport { Control } from \"@/types/controls\";\nimport { configStore, uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    ControlsTree,\n    PresetsInDesignTab\n  }\n})\nexport default class DesignTabContent extends Vue {\n  @Prop()\n  controls!: Control[];\n\n  @Prop()\n  path!: string;\n\n  mode: \"presets\" | \"custom\" = \"custom\";\n\n  changeMode(newMode: \"presets\" | \"custom\") {\n    this.mode = newMode;\n  }\n\n  get presets() {\n    if (!uiStore.activeElement) return [];\n\n    return configStore.presetsForElements.filter(\n      // @ts-ignore\n      p => p.availableForType === uiStore.activeElement.data.type\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignTabContent.vue?vue&type=template&id=6dc456cc&\"\nimport script from \"./DesignTabContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignTabContent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignTabContent.vue?vue&type=style&index=0&id=6dc456cc&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Control, ControlsTreeContext } from \"@/types/controls\";\nimport { BuilderElementControls } from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { valuePresent } from \"@/lib/controls/values\";\n\nexport function filterBuilderElementControls(\n  controls: BuilderElementControls,\n  onlyShowModified: boolean,\n  searchQuery: string,\n  context: ControlsTreeContext\n): BuilderElementControls {\n  const regexSearchQuery = new RegExp(\n    searchQuery.trim().replace(\" \", \"|\"),\n    \"si\"\n  );\n\n  const callback = (control: Control, path: string) => {\n    if (\n      regexSearchQuery &&\n      !`${control.label}`.match(regexSearchQuery) &&\n      !`${control.slug}`.match(regexSearchQuery) &&\n      !`${control.keywords}`.match(regexSearchQuery)\n    ) {\n      return false;\n    }\n\n    if (onlyShowModified && !valuePresent(path, control, context)) {\n      return false;\n    }\n\n    /*\n    we could use shouldShowControl here, but I think\n    it is better to show all the controls when searching,\n    even if they would be hidden by a condition. maybe the right\n    UX would be to grey them out though.\n    */\n\n    return true;\n  };\n\n  return {\n    contentSections: _filterControls(\n      controls.contentSections,\n      callback,\n      \"content\",\n      onlyShowModified\n    ),\n    designSections: _filterControls(\n      controls.designSections,\n      callback,\n      \"design\",\n      onlyShowModified\n    ),\n    settingsSections: _filterControls(\n      controls.settingsSections,\n      callback,\n      \"settings\",\n      onlyShowModified\n    )\n  };\n}\n\nexport function filterControls(\n  controls: Control[],\n  onlyShowModified: boolean,\n  searchQuery: string,\n  context: ControlsTreeContext,\n  path: string\n): Control[] {\n  const regexSearchQuery = new RegExp(\n    searchQuery.trim().replace(\" \", \"|\"),\n    \"si\"\n  );\n\n  const callback = (control: Control, path: string) => {\n    if (\n      regexSearchQuery &&\n      !`${control.label}`.match(regexSearchQuery) &&\n      !`${control.slug}`.match(regexSearchQuery) &&\n      !`${control.keywords}`.match(regexSearchQuery)\n    ) {\n      return false;\n    }\n\n    if (onlyShowModified && !valuePresent(path, control, context)) {\n      return false;\n    }\n\n    /*\n    we could use shouldShowControl here, but I think\n    it is better to show all the controls when searching,\n    even if they would be hidden by a condition. maybe the right\n    UX would be to grey them out though.\n    */\n\n    return true;\n  };\n\n  return _filterControls(controls, callback, path, onlyShowModified);\n}\n\nfunction _filterControls(\n  controls: Control[],\n  callback: (control: Control, path: string) => boolean,\n  path: string,\n  onlyShowModified: boolean\n) {\n  const controls_ = defensiveCopy(controls);\n  return controls_.filter(control => {\n    const outcome = callback(control, `${path}.${control.slug}`);\n    if (control.options.type === \"section\") {\n      if (outcome && !onlyShowModified) {\n        return true;\n      }\n      control.children = _filterControls(\n        control.children,\n        callback,\n        `${path}.${control.slug}`,\n        onlyShowModified\n      );\n      return control.children.length > 0;\n    }\n    return outcome;\n  });\n}\n\nexport const flattenAndCount = (controls: Control[], acc: number) => {\n  controls.forEach(control => {\n    acc = flattenAndCount(\n      control.children,\n      acc + (control.options.type === \"section\" ? 0 : 1)\n    );\n  });\n  return acc;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"properties-panel-search-empty-state\"},[_c('svg',{staticClass:\"properties-panel-search-empty-state-icon\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('g',{attrs:{\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"1.5\"}},[_c('path',{attrs:{\"d\":\"M90.667 34.388v-25a6.25 6.25 0 0 0-6.25-6.25h-75a6.25 6.25 0 0 0-6.25 6.25v68.75a6.25 6.25 0 0 0 6.25 6.25h25M3.167 21.888h87.5\",\"stroke-width\":\"6.250005\"}}),_c('path',{attrs:{\"d\":\"M46.917 71.888a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.292 62.513l-18.75 18.75M62.542 62.513l18.75 18.75\",\"stroke-width\":\"6.250005\"}})])]),_c('h5',[_vm._v(\"No \"+_vm._s(_vm.label)+\" found.\")]),_c('v-btn',{staticClass:\"mt-4\",attrs:{\"text\":\"\",\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.clearSearch}},[_vm._v(\"Clear Search\")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\n\n@Component({\n  components: {\n    Dropdown,\n    IconButton\n  }\n})\nexport default class SearchBoxEmptyState extends Vue {\n  @Prop({ default: \"element\" })\n  label!: string;\n\n  clearSearch() {\n    this.$emit(\"input\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchBoxEmptyState.vue?vue&type=template&id=83983632&\"\nimport script from \"./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Provide, Prop } from \"vue-property-decorator\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport SearchBox, { SearchBoxState } from \"./SearchBox.vue\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport {\n  Control,\n  ControlsTreeContext,\n  ChangeControlValueMeta\n} from \"@/types/controls\";\nimport lodash from \"lodash\";\nimport DesignContentSettingsTabs from \"./DesignContentSettingsTabs.vue\";\nimport DesignTabContent from \"./DesignTabContent.vue\";\nimport { filterControlsThatCanBeModified } from \"@/lib/permissions/utils\";\nimport { getPathWithoutRepeaterIndex } from \"@/lib/dynamic-data/utils\";\nimport {\n  filterBuilderElementControls,\n  flattenAndCount\n} from \"@/lib/controls/search\";\nimport {\n  getElementAccordionState,\n  setElementAccordionState\n} from \"@/lib/panels/accordions\";\nimport {\n  separatePathPrefixFromElementControlPath,\n  getElementControlsListBasedOnPathPrefix\n} from \"@/lib/elements/utils\";\nimport { addMetadataToDocumentPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\n\n@Component({\n  components: {\n    ControlsTree,\n    SearchBox,\n    DesignContentSettingsTabs,\n    DesignTabContent,\n    Icon,\n    SearchBoxEmptyState\n  }\n})\nexport default class TabsAndControls extends Vue {\n  @Prop()\n  value!: boolean;\n\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    includeSettings: false,\n    query: \"\"\n  };\n\n  get element() {\n    return uiStore.activeElement;\n  }\n\n  get elementId() {\n    return uiStore.activeElementId;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\",\n      includeSettings: false\n    });\n  }\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  get noSearchResults() {\n    return (\n      flattenAndCount(this.controlsFilteredBySearchParams.contentSections, 0) +\n        flattenAndCount(this.controlsFilteredBySearchParams.designSections, 0) +\n        flattenAndCount(\n          this.controlsFilteredBySearchParams.settingsSections,\n          0\n        ) ===\n      0\n    );\n  }\n\n  get controlsFilteredBySearchParams() {\n    const controls = this.searchBoxState.includeSettings\n      ? {\n          designSections: [],\n          contentSections: [],\n          settingsSections: this.controls.settingsSections\n        }\n      : {\n          ...this.controls,\n          settingsSections: []\n        };\n\n    return filterBuilderElementControls(\n      this.searchBoxState.modifiedOnly ? this.controls : controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingElementControlsTreeContext\n    );\n  }\n\n  @Provide(\"context\")\n  editingElementControlsTreeContext = editingElementControlsTreeContext;\n\n  get controls() {\n    // @ts-ignore\n    const type = this.element.data.type;\n    const controls = configStore.element(type).controls;\n\n    // for client mode / permissions\n    return filterControlsThatCanBeModified(controls, configStore.permission);\n  }\n\n  get contentSections() {\n    return this.controls.contentSections;\n  }\n\n  get designSections() {\n    return this.controls.designSections;\n  }\n\n  get settingsSections() {\n    return this.controls.settingsSections;\n  }\n\n  get hasContentControls() {\n    return this.controls.contentSections.length > 0;\n  }\n\n  get hasDesignControls() {\n    return this.controls.designSections.length > 0;\n  }\n\n  get hasSettingsControls() {\n    return this.controls.settingsSections.length > 0;\n  }\n\n  get tab() {\n    if (\n      this.elementId &&\n      uiStore.panelState.elementPropertiesPanelActiveTab[this.elementId]\n    ) {\n      return uiStore.panelState.elementPropertiesPanelActiveTab[this.elementId];\n    }\n\n    if (this.hasContentControls) return \"content\";\n    if (this.hasDesignControls) return \"design\";\n    if (this.hasSettingsControls) return \"settings\";\n\n    return \"\";\n  }\n\n  updateTab(tab: \"content\" | \"design\" | \"settings\" | undefined) {\n    if (!this.elementId) return;\n\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      elementPropertiesPanelActiveTab: {\n        ...uiStore.panelState.elementPropertiesPanelActiveTab,\n        [this.elementId]: tab\n      }\n    });\n  }\n\n  searchString = \"\";\n}\n\nconst editingElementControlsTreeContext: ControlsTreeContext = {\n  dynamicProperty: (controlPath: string) => {\n    if (!uiStore.activeElement) return false;\n\n    const dynamicPropertyPaths = configStore.element(\n      uiStore.activeElement.data.type\n    ).dynamicPropertyPaths;\n\n    if (!dynamicPropertyPaths) return false;\n\n    const controlPathWithoutRepeaterIndexAndBreakpoint = getPathWithoutRepeaterIndex(\n      controlPath\n    )\n      /**\n       *  Remove breakpoint for matching against the dynamicPropertyPath\n       */\n      .replace(`.${uiStore.currentBreakpoint.id}`, \"\");\n\n    const dynPropPathThatMatchesControlPath = dynamicPropertyPaths.find(\n      dynPropPath =>\n        getPathWithoutRepeaterIndex(dynPropPath.path) ===\n        controlPathWithoutRepeaterIndexAndBreakpoint\n    );\n\n    return dynPropPathThatMatchesControlPath?.accepts\n      ? dynPropPathThatMatchesControlPath\n      : false;\n  },\n\n  getControlValue: controlPath => {\n    return lodash.get(uiStore.activeElement, `data.properties.${controlPath}`);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    if (!uiStore.activeElementId) return;\n\n    documentStore.throttledPropertyChanged(\n      addMetadataToDocumentPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          elementId: uiStore.activeElementId,\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  getControls: (controlPath: string): Control[] | undefined => {\n    if (!uiStore.activeElement) {\n      return undefined;\n    }\n\n    const splittedPath = separatePathPrefixFromElementControlPath(controlPath);\n\n    if (splittedPath) {\n      return getElementControlsListBasedOnPathPrefix(\n        configStore.element(uiStore.activeElement.data.type),\n        splittedPath.prefix\n      );\n    }\n\n    return undefined;\n  },\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    if (!uiStore.activeElementId) return;\n    setElementAccordionState(uiStore.activeElementId, accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    if (!uiStore.activeElementId) return false;\n    return getElementAccordionState(uiStore.activeElementId, accordionPath);\n  }\n};\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TabsAndControls.vue?vue&type=template&id=4aa08356&\"\nimport script from \"./TabsAndControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./TabsAndControls.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TabsAndControls.vue?vue&type=style&index=0&id=4aa08356&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport Titlebar from \"./Titlebar.vue\";\nimport BlankSidebarContent from \"./BlankSidebarContent.vue\";\nimport TabsAndControls from \"./TabsAndControls.vue\";\nimport { uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    Titlebar,\n    TabsAndControls,\n    BlankSidebarContent\n  }\n})\nexport default class ElementPropertiesPanel extends Vue {\n  get elementIsActive() {\n    return !!uiStore.activeElement;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementPropertiesPanel.vue?vue&type=template&id=c2d30970&\"\nimport script from \"./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-add-panel\"},[_c('PanelHeader',{on:{\"close\":_vm.close}},[_vm._v(\" Add \")]),(_vm.state === 'success')?[_c('div',{staticClass:\"breakdance-add-panel__selection-wrapper\"},[_c('button',{staticClass:\"breakdance-add-panel__panel-selection breakdance-add-panel__panel-selection--active\"},[_vm._v(\" Elements \")]),_c('button',{staticClass:\"breakdance-add-panel__panel-selection\",on:{\"click\":_vm.openDesignLibrary}},[_vm._v(\" Library \")])]),_c('ElementsList')]:(_vm.state === 'loading')?[_c('div',{staticClass:\"d-flex justify-center align-center\",staticStyle:{\"height\":\"100%\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":100,\"color\":\"var(--gray300)\"}})],1)]:[_c('div',{staticClass:\"d-flex justify-center align-center pa-4\",staticStyle:{\"height\":\"100%\",\"font-size\":\"var(--text-md)\",\"font-weight\":\"500\",\"color\":\"var(--gray700)\"}},[_vm._v(\" error: failed to load elements \")])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-add-panel__element-list\"},[_c('div',{staticClass:\"breakdance-add-panel-search d-flex\"},[(_vm.isAddPanelOpen)?_c('SearchInput',{attrs:{\"tabindex\":\"0\",\"placeholder\":_vm.isElementStudioOpen\n          ? `Search ${_vm.elementsCount} elements`\n          : `Search elements`,\"value\":_vm.searchString,\"autofocus\":true,\"data-test-id\":\"breakdance-add-panel-search\"},on:{\"input\":_vm.handleSearch,\"keydown\":[_vm.resetSelectedSearchItemIndex,function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addSelectedSearchItem.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\"))return null;return _vm.nextOrPreviousSelectedSearchElement.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"]))return null;$event.preventDefault();return _vm.goToSelectedSearchElement('prev')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"]))return null;$event.preventDefault();return _vm.goToSelectedSearchElement('next')}]}}):_vm._e(),(_vm.advancedSearchAvailable)?[_c('v-btn',{staticClass:\"ml-2\",attrs:{\"x-small\":\"\",\"text\":\"\",\"outlined\":_vm.hasSearchParams},on:{\"click\":function($event){_vm.advancedSearchDialogOpen = true}}},[_vm._v(\"advanced\")]),_c('v-dialog',{attrs:{\"width\":\"220\"},model:{value:(_vm.advancedSearchDialogOpen),callback:function ($$v) {_vm.advancedSearchDialogOpen=$$v},expression:\"advancedSearchDialogOpen\"}},[_c('v-card',[_c('v-card-text',[_c('br'),_c('h4',[_vm._v(\"Internal Element Project Management Tool\")]),_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":_vm.dumpSearchResults}},[_vm._v(\"dump search results\")]),_c('div',{staticClass:\"d-flex align-center justify-space-between\"},[_vm._v(\" Has Dynamic Stuff \"),_c('v-switch',{model:{value:(_vm.advancedSearchHasDynamicStuff),callback:function ($$v) {_vm.advancedSearchHasDynamicStuff=$$v},expression:\"advancedSearchHasDynamicStuff\"}})],1),_vm._v(\" Looks Good: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchLooksGood),callback:function ($$v) {_vm.advancedSearchLooksGood=$$v},expression:\"advancedSearchLooksGood\"}}),_c('br'),_vm._v(\" Options Good: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchOptionsGood),callback:function ($$v) {_vm.advancedSearchOptionsGood=$$v},expression:\"advancedSearchOptionsGood\"}}),_c('br'),_vm._v(\" Options Work: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchOptionsWork),callback:function ($$v) {_vm.advancedSearchOptionsWork=$$v},expression:\"advancedSearchOptionsWork\"}}),_c('br'),_vm._v(\" Dynamic Behavior Works: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchDynamicBehaviorWorks),callback:function ($$v) {_vm.advancedSearchDynamicBehaviorWorks=$$v},expression:\"advancedSearchDynamicBehaviorWorks\"}}),_c('br')],1)],1)],1)]:_vm._e()],2),_c('div',{staticClass:\"breakdance-add-panel__item-wrapper\"},[(!_vm.hasSearchParams)?_vm._l((_vm.elementCategories),function(category,index){return _c('div',{key:index},[(_vm.elementsInActiveCategory(category.slug).length)?_c('Accordion',{attrs:{\"expanded\":_vm.openCategoriesIndex.includes(index)},on:{\"toggle\":function($event){return _vm.chooseCategory(index)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"breakdance-add-panel__item-title\",attrs:{\"tabindex\":\"0\",\"data-test-id\":`elements-category-${category.label\n                  .replace(/ /g, '-')\n                  .toLowerCase()}`},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.chooseCategory(index)}}},[_vm._v(\" \"+_vm._s(category.label)+\" \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',{staticClass:\"breakdance-add-panel__item-element-wrapper\"},_vm._l((_vm.elementsInActiveCategory(\n                  category.slug\n                )),function(element,i){return _c('AddElement',{key:i,attrs:{\"element\":element}})}),1)]},proxy:true}],null,true)}):_vm._e()],1)}):_vm._e(),(_vm.hasSearchParams)?_c('div',{staticClass:\"breakdance-add-panel__item-element-wrapper breakdance-add-panel__item-element-wrapper--search\"},[(!_vm.searchResultsCount)?_c('div',{staticClass:\"breakdance-add-panel__no-results-for-search\"},[_vm._v(\" no results \")]):_vm._e(),_vm._l((_vm.elementsForSearch),function(element,index){return _c('AddElement',{key:element.slug,attrs:{\"element\":element,\"isSelected\":_vm.selectedSearchElementIndex === index}})})],2):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('v-btn',{on:{\"click\":function($event){_vm.isOpen = true}}},[_vm._v(\"Open Website Dialog\")]),_c('v-dialog',{model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('h1',[_vm._v(\" use the below HTML code on breakdance.com to display a list of elements. \")]),_c('p',[_vm._v(\" this is currently used at https://breakdance.com/features/elements \")]),_c('div',{staticClass:\"all-elements\"},_vm._l((_vm.elementCategories),function(elementCategory){return _c('div',{key:elementCategory.categoryLabel,staticClass:\"element-category-wrapper\"},[_c('div',{staticClass:\"element-category\"},[_c('h3',{staticClass:\"element-category-label\"},[_vm._v(\" \"+_vm._s(elementCategory.categoryLabel)+\" \")])]),_c('div',{staticClass:\"elements\"},_vm._l((elementCategory.elements),function(element){return _c('div',{key:element.element,staticClass:\"element\"},[_c('div',{staticClass:\"element-title\"},[_vm._v(\" \"+_vm._s(element.element)+\" \")]),(element.icon && _vm.elementIconIsLocal(element.icon))?_c('div',{staticClass:\"element-icon\"},[_c('RawIcon',{attrs:{\"icon\":element.icon}})],1):_c('div',{staticClass:\"element-icon\",domProps:{\"innerHTML\":_vm._s(element.icon)}})])}),0)])}),0)])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { configStore } from \"@/store/store\";\nimport { BuilderElement } from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport RawIcon from \"@/components/UI/RawIcon.vue\";\nimport { iconNames } from \"@/lib/icons/icons\";\n\n@Component({\n  components: { RawIcon }\n})\nexport default class WebsiteDialog extends Vue {\n  elementIconIsLocal(x: string) {\n    return iconNames.find(iconName => iconName === x);\n  }\n\n  isOpen = false;\n\n  get elementCategories() {\n    const elements = Object.values(configStore.elements) as BuilderElement[];\n\n    return configStore.builderElementCategories\n      .map(category => {\n        return {\n          categoryLabel: category.label,\n          elements: elements\n            .filter(element => element.experimental !== true)\n            .filter(\n              element =>\n                !element.addPanelRules || !element.addPanelRules.alwaysHide\n            )\n            .filter(element => element.category === category.slug)\n            .map(element => {\n              return {\n                element: element.name,\n                icon: element.uiIcon\n              };\n            })\n            .sort((a, b) => a.element.localeCompare(b.element))\n        };\n      })\n      .filter(c => c.elements.length !== 0);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WebsiteDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./WebsiteDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WebsiteDialog.vue?vue&type=template&id=9b53a890&\"\nimport script from \"./WebsiteDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./WebsiteDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Inject, Watch } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport {\n  BuilderElement,\n  BuilderElementProjectManagementValue\n} from \"@/types/elements\";\nimport AddElement from \"@/components/Add/AddElement.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport SearchInput from \"@/components/Reusable/CustomInputs/SearchInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport WebsiteDialog from \"@/components/Add/WebsiteDialog.vue\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport {\n  getFuzzySearchedElements,\n  isElementAvailable,\n  isElementHidden\n} from \"@/lib/elements/utils\";\nimport { PanelContext } from \"@/components/Builder/SidebarPanels.vue\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({\n  components: {\n    SearchInput,\n    TextInput,\n    Accordion,\n    AddElement,\n    DropdownInput,\n    WebsiteDialog\n  }\n})\nexport default class ElementsList extends Vue {\n  openCategoriesIndex = [0, 1];\n  searchString = \"\";\n  selectedSearchElementIndex = 0;\n\n  @Inject({ from: \"panelContext\", default: {} })\n  readonly panelContext?: PanelContext;\n\n  addSelectedSearchItem() {\n    const slug = this.elementsForSearch[this.selectedSearchElementIndex]?.slug;\n\n    if (\n      !slug ||\n      !isElementAvailable(\n        this.elementsForSearch[this.selectedSearchElementIndex]\n      )\n    ) {\n      return;\n    }\n\n    documentStore.addElement({\n      elementSlug: slug\n    });\n  }\n\n  get searchResultsCount() {\n    return Object.keys(this.elementsForSearch).length;\n  }\n\n  goToSelectedSearchElement(direction = \"next\") {\n    let nextIndex =\n      direction === \"next\"\n        ? this.selectedSearchElementIndex + 1\n        : this.selectedSearchElementIndex - 1;\n\n    if (nextIndex === this.searchResultsCount) {\n      nextIndex = 0;\n    } else if (-1 === nextIndex) {\n      nextIndex = this.searchResultsCount - 1;\n    }\n\n    this.selectedSearchElementIndex = nextIndex;\n    this.scrollToActive();\n  }\n\n  nextOrPreviousSelectedSearchElement(event: KeyboardEvent) {\n    if (this.searchString !== \"\") {\n      event.preventDefault();\n    }\n\n    this.goToSelectedSearchElement(event.shiftKey ? \"prev\" : \"next\");\n  }\n\n  handleSearch(newSearch: string) {\n    // keeping the scroll when all elements changed due to search is disorienting\n    if (this.searchString !== newSearch) {\n      document.querySelector(\".breakdance-add-panel\")?.scrollTo({ top: 0 });\n    }\n\n    this.searchString = newSearch;\n  }\n\n  get isAddPanelOpen() {\n    return this.panelContext?.state === \"add\";\n  }\n\n  @Watch(\"isAddPanelOpen\")\n  resetSearchWhenPanelOpens() {\n    if (this.isAddPanelOpen) {\n      this.handleSearch(\"\");\n    }\n  }\n\n  resetSelectedSearchItemIndex(event: KeyboardEvent) {\n    const ignoreKeys = [\n      \"Enter\",\n      \"Tab\",\n      \"ShiftLeft\",\n      \"ShiftRight\",\n      \"ArrowUp\",\n      \"ArrowDown\"\n    ];\n\n    if (!ignoreKeys.includes(event.code)) {\n      this.selectedSearchElementIndex = 0;\n    }\n  }\n\n  get elementsCount() {\n    return this.elements.length;\n  }\n\n  chooseCategory(newIndex: number) {\n    this.searchString = \"\";\n\n    const existingCategoryIndex = this.openCategoriesIndex.findIndex(\n      i => i === newIndex\n    );\n\n    if (existingCategoryIndex === -1) {\n      this.openCategoriesIndex = [...this.openCategoriesIndex, newIndex];\n    } else {\n      this.openCategoriesIndex.splice(existingCategoryIndex, 1);\n    }\n  }\n\n  elementsInActiveCategory(categorySlug: string) {\n    return this.elements.filter(element => element.category === categorySlug);\n  }\n\n  get elementCategories() {\n    return configStore.builderElementCategories;\n  }\n\n  get elements(): BuilderElement[] {\n    return (Object.values(configStore.elements) as BuilderElement[])\n      .filter(element =>\n        uiStore.settings.showExperimentalElements\n          ? true\n          : element.experimental !== true\n      )\n      .filter(\n        element => !isElementHidden(element.addPanelRules, element.settings)\n      )\n      .filter(element => isElementAvailable(element))\n      .sort((a, b) => {\n        if (a.order < b.order) return -1;\n        if (a.order > b.order) return 1;\n        return 0;\n      });\n  }\n\n  get elementsForSearch(): BuilderElement[] {\n    const results = getFuzzySearchedElements(this.elements, this.searchString);\n\n    const resultsAfterInternalSearchTool = results.filter(e => {\n      const pm = e.projectManagement ? e.projectManagement : undefined;\n\n      return !Object.values({\n        looksGood: this.advancedSearchLooksGood\n          ? pm?.looksGood == this.advancedSearchLooksGood\n          : undefined,\n        optionsGood: this.advancedSearchOptionsGood\n          ? pm?.optionsGood == this.advancedSearchOptionsGood\n          : undefined,\n        optionsWork: this.advancedSearchOptionsWork\n          ? pm?.optionsWork == this.advancedSearchOptionsWork\n          : undefined,\n        dynamicBehaviorWorks: this.advancedSearchDynamicBehaviorWorks\n          ? pm?.dynamicBehaviorWorks == this.advancedSearchDynamicBehaviorWorks\n          : undefined,\n        hasDynamicStuff: this.advancedSearchHasDynamicStuff\n          ? e.dependencies || e.actions\n          : undefined\n      }).includes(false);\n    });\n\n    return resultsAfterInternalSearchTool;\n  }\n\n  scrollToActive() {\n    forceNextTick(() => {\n      document\n        .querySelector(\".breakdance-add-panel__element--selected\")\n        ?.scrollIntoView({\n          block: \"center\"\n        });\n    });\n  }\n\n  dumpSearchResults() {\n    console.log(this.elementsForSearch.map(e => e.name).join(\"\\n\"));\n  }\n\n  get advancedSearchDropdownItems(): BuilderElementProjectManagementValue[] {\n    return [\"yes\", \"no\", \"unknown\", \"sort of\"];\n  }\n\n  advancedSearchAvailable = false;\n\n  mounted() {\n    keyboardShortcuts.register(\n      \"a d v\",\n      () => (this.advancedSearchAvailable = true)\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(\"a d v\");\n  }\n\n  advancedSearchDialogOpen = false;\n  advancedSearchHasDynamicStuff = false;\n  advancedSearchLooksGood: BuilderElementProjectManagementValue | false = false;\n  advancedSearchOptionsGood:\n    | BuilderElementProjectManagementValue\n    | false = false;\n  advancedSearchOptionsWork:\n    | BuilderElementProjectManagementValue\n    | false = false;\n  advancedSearchDynamicBehaviorWorks:\n    | BuilderElementProjectManagementValue\n    | false = false;\n\n  get hasSearchParams() {\n    return !!(\n      this.searchString ||\n      this.advancedSearchLooksGood ||\n      this.advancedSearchOptionsGood ||\n      this.advancedSearchOptionsWork ||\n      this.advancedSearchDynamicBehaviorWorks ||\n      this.advancedSearchHasDynamicStuff\n    );\n  }\n\n  updateAdvancedSearchValue(key: string, value: unknown) {\n    // @ts-ignore\n    this[key] = value;\n  }\n\n  get isElementStudioOpen() {\n    return uiStore.panelState.elementStudioOpen;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementsList.vue?vue&type=template&id=65d85918&\"\nimport script from \"./ElementsList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementsList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementsList.vue?vue&type=style&index=0&id=65d85918&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-dialog',{attrs:{\"fullscreen\":_vm.fullscreen,\"width\":!_vm.fullscreen ? 1140 : null,\"content-class\":\"design-library-dialog\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('header',{staticClass:\"design-library-header\"},[_c('TopBarSection',[_c('IconButton',{attrs:{\"icon\":\"HouseIcon\",\"size\":\"18\",\"title\":\"Go home\"},on:{\"click\":_vm.goHome}})],1),_c('TopBarSection',{attrs:{\"border-left\":true,\"border-right\":true}},[_c('DesignProviderDropdown',{attrs:{\"providers\":_vm.providers},model:{value:(_vm.selectedProvider),callback:function ($$v) {_vm.selectedProvider=$$v},expression:\"selectedProvider\"}})],1),_c('TopBarSection',{staticClass:\"design-library-breakpoint-chooser ml-auto mr-auto\",attrs:{\"border-left\":true,\"border-right\":true}},[_c('BreakpointsSelection',{model:{value:(_vm.breakpoint),callback:function ($$v) {_vm.breakpoint=$$v},expression:\"breakpoint\"}})],1),_c('TopBarSection',{staticClass:\"ml-auto pr-2\",attrs:{\"border-right\":true}},[_c('NiceButton',{attrs:{\"disabled\":!_vm.canImportAll,\"left-icon\":\"ArrowDownToLine\",\"loading\":_vm.importingPage},on:{\"click\":_vm.importAll}},[_vm._v(\" Import Page \")])],1),_c('TopBarSection',[_c('IconButton',{attrs:{\"icon\":_vm.fullscreen\n            ? 'DownLeftAndUpRightToCenter'\n            : 'UpRightAndDownLeftFromCenter',\"size\":\"18\",\"title\":\"Make modal full screen\"},on:{\"click\":_vm.toggleFullscreen}}),(_vm.selectedUrl)?_c('a',{attrs:{\"href\":_vm.selectedUrl,\"target\":\"_blank\"}},[_c('IconButton',{attrs:{\"icon\":\"ShareFromSquareIcon\",\"size\":\"18\",\"title\":\"Visit site\"}})],1):_vm._e()],1),_c('TopBarSection',{attrs:{\"border-left\":true}},[_c('IconButton',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\",\"title\":\"Close modal\"},on:{\"click\":_vm.close}})],1)],1),_c('div',{staticClass:\"design-library-contents\"},[_c('DesignLibrarySidebar',{attrs:{\"items\":_vm.sidebarItems},on:{\"select\":_vm.onPostSelected}}),_c('div',{ref:\"iframeWrapper\",staticClass:\"design-library-iframe-wrapper\"},[(_vm.reliesOnGlobalSettings && _vm.previewLoaded)?[_c('div',{staticClass:\"design-library-global-settings-warning\"},[_c('div',[_c('div',{staticClass:\"design-library-global-settings-warning-text\"},[(\n                  _vm.globalSettingsLastImportedFromUrl === _vm.selectedProvider?.url\n                )?[_c('Icon',{staticClass:\"design-library_success-icon\",attrs:{\"icon\":\"CheckSquareIcon\"}}),_vm._v(\" You've already imported the global settings from this site. \")]:(_vm.globalSettingsLastImportedFromUrl)?[_c('Icon',{staticClass:\"design-library_warning-icon\",attrs:{\"icon\":\"ExclamationMarkCircleIcon\"}}),_c('span',[_vm._v(\" This design relies on global settings. It won't look the same unless you import them. \")])]:[_c('div',[_vm._v(\" This design relies on global settings. It won't look the same unless you import them. \")])]],2)]),_c('NiceButton',{on:{\"click\":_vm.toggleImportGlobalSettingsScreen}},[_vm._v(\" Import Global Settings \")])],1),(_vm.importGlobalSettingsScreen)?_c('div',{staticClass:\"design-library-import-global-settings-panel\"},[(_vm.loadingExternalGlobalSettings)?_c('div',[_c('LoadingSpinner',{attrs:{\"color\":\"var(--gray500)\",\"size\":65}})],1):[_c('span',[_vm._v(\" Your existing global settings will be overwritten with the global settings from this library website. \")]),_c('div',[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"text\":\"\"},on:{\"click\":_vm.toggleImportGlobalSettingsScreen}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.importGlobalSettings}},[_vm._v(\" Confirm Overwrite & Import \")])],1)]],2):_vm._e()]:_vm._e(),_c('ProOnlyAlertBox',{attrs:{\"options\":{\n          feature: 'design-library',\n          content:\n            'Soon, the Design Library will only be available in Breakdance Pro. For now, enjoy your free preview!'\n        }}}),(_vm.requiresPassword && !_vm.passwordValid)?_c('div',{staticClass:\"design-library-password\"},[_c('p',{staticClass:\"design-library-password__message\"},[_vm._v(\" This Design Set is password protected by the author. Please enter the password below to view it. \")]),_c('div',{staticClass:\"design-library-password-inner\"},[_c('form',{staticClass:\"design-library-password-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.setPassword.apply(null, arguments)}}},[_c('TextInput',{attrs:{\"placeholder\":\"Enter Password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('NiceButton',{attrs:{\"loading\":_vm.checkingPassword}},[_vm._v(\"Submit\")])],1),(!_vm.passwordValid && _vm.checkedPassword)?_c('p',{staticClass:\"design-library-password__invalid-message\"},[_vm._v(\" Invalid password. Please try again. \")]):_vm._e()]),_c('v-btn',{attrs:{\"color\":\"primary\",\"href\":_vm.selectedProvider?.url,\"target\":\"_blank\",\"depressed\":\"\",\"outlined\":\"\"}},[_vm._v(\" View Design Set \")])],1):_c('div',{staticClass:\"design-library-iframe-inner-wrapper\",style:(_vm.iframeWrapperStyles)},[(_vm.selectedProvider && _vm.iframeUrl)?_c('iframe',{ref:\"iframe\",staticClass:\"design-library-iframe\",style:(_vm.iframeStyles),attrs:{\"src\":_vm.iframeUrl},on:{\"load\":_vm.onProviderLoaded}}):_vm._e()]),(_vm.previewLoaded)?_c('v-overlay',{attrs:{\"value\":_vm.loading,\"absolute\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1):_vm._e(),(!_vm.previewLoaded && _vm.selectedProvider)?_c('DesignLibrarySkeleton'):_vm._e()],2)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"design-library-skeleton-loader\"},[_c('span',{staticClass:\"design-library-skeleton-header\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})]),_c('span',{staticClass:\"design-library-skeleton-hero\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})]),_c('div',{staticClass:\"design-library-skeleton-button\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"design-library-skeleton-loader\">\n    <span class=\"design-library-skeleton-header\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </span>\n\n    <span class=\"design-library-skeleton-hero\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </span>\n\n    <div class=\"design-library-skeleton-button\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Component } from \"vue-property-decorator\";\nimport Vue from \"vue\";\n\n@Component\nexport default class DesignLibrarySkeleton extends Vue {}\n</script>\n\n<style lang=\"scss\">\n.design-library-skeleton-loader {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  padding: 60px 30px;\n  background-color: var(--white);\n}\n\n.design-library-skeleton-line {\n  position: relative;\n  display: block;\n  width: 50%;\n  height: 40px;\n  background-color: var(--gray100);\n  border-radius: 60px;\n  margin-bottom: 40px;\n  overflow: hidden;\n\n  &:before {\n    content: \"\";\n    position: absolute;\n    inset: 0;\n    z-index: 1;\n    background: linear-gradient(\n      90deg,\n      rgba(255, 255, 255, 0),\n      rgba(255, 255, 255, 0.3),\n      rgba(255, 255, 255, 0)\n    );\n    transform: translateX(-100%);\n    animation: loading 1.5s infinite;\n  }\n}\n\n.design-library-skeleton-header {\n  display: flex;\n  justify-content: space-between;\n  gap: 30px;\n  width: 100%;\n  margin-bottom: 100px;\n\n  .design-library-skeleton-line:nth-child(1),\n  .design-library-skeleton-line:nth-child(3) {\n    width: 15%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 33%;\n  }\n}\n\n.design-library-skeleton-hero {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 75px;\n\n  .design-library-skeleton-line:nth-child(1) {\n    width: 60%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 30%;\n  }\n}\n\n.design-library-skeleton-button {\n  display: flex;\n  gap: 35px;\n  width: 450px;\n\n  .design-library-skeleton-line {\n    border-radius: 6px;\n    height: 68px;\n    background-color: var(--gray300);\n  }\n\n  .design-library-skeleton-line:nth-child(1) {\n    width: 50%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 50%;\n    background-color: transparent;\n    border: 4px solid var(--gray300);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DesignLibrarySkeleton.vue?vue&type=template&id=68a46f52&\"\nimport script from \"./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"\nexport * from \"./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DesignLibrarySkeleton.vue?vue&type=style&index=0&id=68a46f52&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { TreeNode } from \"@/types/tree\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport {\n  findPlaceToAddNodes,\n  getNestingRuleFromNode\n} from \"@/lib/tree/nesting\";\nimport { documentStore } from \"@/store/store-accessor\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\n\nexport const pasteElements = (elements: TreeNode[]) => {\n  const uniqueId = uuidV4();\n  const transactionKey = `Library:${uniqueId}`;\n\n  breakdanceUndo.transaction(\n    () => {\n      elements.forEach(elementToPaste => {\n        const placeToAdd = findPlaceToAddNodes(\n          documentStore.document.tree,\n          null,\n          getNestingRuleFromNode(elementToPaste)\n        );\n\n        pipe(\n          placeToAdd,\n          fold(\n            () => {},\n            legalPlaceToAdd => {\n              if (legalPlaceToAdd === \"TOP_LEVEL\") return;\n\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.pasteCopiedElementMutation({\n                element: elementToPaste,\n                placeToAddId: legalPlaceToAdd.place.id,\n                placeToAddIndex:\n                  legalPlaceToAdd.index ||\n                  legalPlaceToAdd.place.children.length,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId) {\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: pointerForCreatedNodeId.nodeId,\n                  transactionKey\n                });\n              }\n            }\n          )\n        );\n      });\n    },\n    `Import from design library`,\n    transactionKey\n  );\n};\n\nexport function getLastUsedDesignProviderUrl(): string | false {\n  const maybeProviderUrl = readFromLocalStorage(\n    \"breakdance_last_used_design_provider\"\n  );\n  if (typeof maybeProviderUrl === \"string\") {\n    return maybeProviderUrl;\n  }\n\n  return false;\n}\n\nexport function setLastUsedDesignProviderUrl(providerUrl: string) {\n  writeToLocalStorage(\"breakdance_last_used_design_provider\", providerUrl);\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('aside',{staticClass:\"design-library-sidebar\"},[_c('header',{staticClass:\"design-library-sidebar-header\"},[_c('SearchInput',{attrs:{\"placeholder\":\"Search Pages\",\"autofocus\":true},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}})],1),_c('v-treeview',{attrs:{\"hoverable\":\"\",\"activatable\":\"\",\"open-on-click\":\"\",\"items\":_vm.treeItems,\"open-all\":!!_vm.searchQuery},on:{\"update:active\":function($event){return _vm.$emit('select', $event)}},scopedSlots:_vm._u([{key:\"prepend\",fn:function({ item, open }){return [(item.children)?_c('Icon',{attrs:{\"icon\":open ? 'FolderOpenIcon' : 'FolderIcon'}}):_vm._e()]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchInput from \"@/components/Reusable/CustomInputs/SearchInput.vue\";\nimport Fuse from \"fuse.js\";\nimport { DesignSetPost } from \"@/types/design-library\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\n\n@Component({\n  components: { AlertBox, SearchInput, Icon }\n})\nexport default class DesignLibrarySidebar extends Vue {\n  @Prop({\n    default() {\n      return [];\n    }\n  })\n  items!: DesignSetPost[];\n\n  searchQuery = \"\";\n\n  get filteredItems() {\n    const search = this.searchQuery;\n\n    if (!search) return this.items;\n\n    const fuse = new Fuse(this.items, {\n      keys: [\"name\"],\n      threshold: 0.2\n    });\n\n    return fuse.search(search.trim()).map(r => r.item);\n  }\n\n  get treeItems() {\n    const orphans: DesignSetPost[] = [];\n\n    const groupedByTags = this.filteredItems.reduce((r, a) => {\n      if (!a.tags.length) {\n        orphans.push(a);\n      } else {\n        a.tags.forEach(tag => {\n          r[tag] = r[tag] || [];\n          r[tag].push(a);\n        });\n      }\n\n      return r;\n    }, Object.create(null));\n\n    const tags = Object.keys(groupedByTags).map(key => {\n      return {\n        id: key,\n        name: key,\n        children: groupedByTags[key]\n      };\n    });\n\n    return [...orphans, ...tags];\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibrarySidebar.vue?vue&type=template&id=48ec2154&\"\nimport script from \"./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibrarySidebar.vue?vue&type=style&index=0&id=48ec2154&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('div',_vm._g({staticClass:\"document-chooser\"},on),[_c('div',{staticClass:\"document-chooser-text\"},[_c('h2',[_vm._v(\"Design Set\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.value && _vm.value.name)+\" \")])]),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}]),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"300\",\"height\":\"350\"}},[_c('div',{staticClass:\"preview-content-chooser-dialog-search-form-wrapper\"},[_c('v-text-field',{staticClass:\"preview-content-chooser-dialog-search-box breakdance-dense-input\",attrs:{\"label\":\"Search...\",\"clearable\":\"\",\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"autofocus\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-list',{ref:\"scrollable\",staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.filteredProviders),function(provider,i){return [_c('v-list-item',{key:i,class:{\n            'document-chooser-item-selected':\n              _vm.value && provider.url === _vm.value.url\n          },attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.chooseProvider(provider)}}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(provider.name)+\" \")]),(provider.type)?_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(\" \"+_vm._s(provider.type)+\" \")]):_vm._e()])],1)]})],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { DesignProvider } from \"@/types/design-library\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    TopBarSection\n  }\n})\nexport default class DesignProviderDropdown extends Vue {\n  @Prop()\n  value!: DesignProvider | null;\n\n  @Prop()\n  providers!: DesignProvider[];\n\n  open = false;\n  search = \"\";\n\n  @Watch(\"search\")\n  onSearchChange() {\n    const scrollable = this.$refs.scrollable as Vue & {\n      $el: HTMLDivElement;\n    };\n\n    this.$nextTick(() => {\n      scrollable.$el.scrollTop = 0;\n    });\n  }\n\n  get filteredProviders() {\n    return this.providers.filter(provider =>\n      provider.name.toLowerCase().includes(this.search.toLowerCase())\n    );\n  }\n\n  chooseProvider(provider: DesignProvider) {\n    this.$emit(\"input\", provider);\n    this.open = false;\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignProviderDropdown.vue?vue&type=template&id=30d38274&\"\nimport script from \"./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport BreakpointsSelection from \"@/components/Builder/TopBar/BreakpointsSelection.vue\";\nimport {\n  BASE_BREAKPOINT_ID,\n  DEFAULT_MINIMUM_BREAKPOINT_WIDTH,\n  getMinimumWidth\n} from \"@/lib/breakpoints/breakpoints\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport fpJsonParseTypesafe from \"@/util/fp-json-parse-typesafe\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { PropertiesDataV, TreeNode, TreeNodeV } from \"@/types/tree\";\nimport DesignLibrarySkeleton from \"@/components/Add/library/DesignLibrarySkeleton.vue\";\n\nimport * as t from \"io-ts\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport {\n  getLastUsedDesignProviderUrl,\n  pasteElements,\n  setLastUsedDesignProviderUrl\n} from \"@/lib/design-library/design-library\";\nimport { configStore, globalStore, uiStore } from \"@/store/store-accessor\";\nimport { smoothScrollToLastElement } from \"@/lib/canvas/scroll-to-active-element\";\nimport DesignLibrarySidebar from \"@/components/Add/library/DesignLibrarySidebar.vue\";\nimport {\n  DesignLibraryDataV,\n  DesignSetData,\n  DesignSetDataV,\n  DesignSetPost\n} from \"@/types/design-library\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport LoadingSpinner from \"@/components/Reusable/LoadingSpinner.vue\";\nimport DesignProviderDropdown from \"@/components/Add/library/DesignProviderDropdown.vue\";\nimport { DesignProvider } from \"@/types/design-library\";\nimport ProOnlyAlertBox from \"@/components/Subscription/ProOnlyAlertBox.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\n@Component({\n  components: {\n    LoadingSpinner,\n    ProOnlyAlertBox,\n    Icon,\n    IconButton,\n    NiceButton,\n    DesignLibrarySidebar,\n    DesignLibrarySkeleton,\n    TopBarSection,\n    TextInput,\n    DropdownInput,\n    BreakpointsSelection,\n    DesignProviderDropdown\n  }\n})\nexport default class DesignLibraryModal extends Vue {\n  selectedProvider: DesignProvider | null = null;\n  selectedPostId: number | null = null;\n  providerElements: TreeNode[] = [];\n  reliesOnGlobalSettings: DesignSetData[\"reliesOnGlobalSettings\"] = false;\n  providerPosts: DesignSetPost[] = [];\n  importingPage = false;\n\n  password = \"\";\n  requiresPassword = false;\n  passwordValid = true;\n  checkedPassword = false;\n  checkingPassword = false;\n\n  breakpoint = {\n    id: BASE_BREAKPOINT_ID,\n    label: \"\",\n    minWidth: undefined,\n    maxWidth: undefined,\n    defaultPreviewWidth: DEFAULT_MINIMUM_BREAKPOINT_WIDTH\n  };\n\n  canvasSize = {\n    width: 0,\n    height: 0\n  };\n\n  loading = false;\n  previewLoaded = false;\n  fullscreen = false;\n  loadingDesignSetData = false;\n\n  loadingExternalGlobalSettings = false;\n  importGlobalSettingsScreen = false;\n\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_B, this.open);\n    this.setSelectedProviderToLastUsedProvider();\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_B);\n\n    this.unbindListeners();\n  }\n\n  get providers() {\n    return configStore.designLibrary.designProviders;\n  }\n\n  setSelectedProviderToLastUsedProvider() {\n    const providerUrl = getLastUsedDesignProviderUrl();\n    const foundProvider = this.providers.find(\n      provider => provider.url === providerUrl\n    );\n\n    if (foundProvider) {\n      this.selectedProvider = foundProvider;\n    } else {\n      const defaultProvider = this.providers.find(\n        provider => provider.name === \"This Website\"\n      );\n\n      if (defaultProvider) {\n        this.selectedProvider = defaultProvider;\n      }\n    }\n  }\n\n  get sidebarItems() {\n    return this.providerPosts; // TODO: Support nesting?\n  }\n\n  get isOpen() {\n    return uiStore.panelState.designLibraryModalOpen;\n  }\n\n  set isOpen(event) {\n    uiStore.setDesignLibraryModalState(event);\n  }\n\n  get selectedPost() {\n    return this.providerPosts.find(post => post.id === this.selectedPostId);\n  }\n\n  get selectedUrl() {\n    return this.selectedPost?.url || this.selectedProvider?.url;\n  }\n\n  get iframeUrl() {\n    if (!this.selectedUrl) return null;\n\n    const iframeUrl = new URL(this.selectedUrl);\n    iframeUrl.searchParams.append(\"breakdance\", \"design-library\");\n\n    if (this.currentProviderPassword) {\n      iframeUrl.searchParams.set(\"password\", this.currentProviderPassword);\n    }\n\n    return iframeUrl.toString();\n  }\n\n  get previewWidth() {\n    if (this.breakpoint.id === BASE_BREAKPOINT_ID) return \"100%\";\n    return this.breakpoint.defaultPreviewWidth;\n  }\n\n  get minWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get iframeWrapperStyles() {\n    return {\n      width: this.previewWidth === \"100%\" ? \"100%\" : `${this.previewWidth}px`\n    };\n  }\n\n  get iframeStyles() {\n    const scaledStyles = (width: number) => {\n      const scaleFactor = Math.min(1, this.canvasSize.width / width);\n      return {\n        width: `${width}px`,\n        transform: `scale(${scaleFactor})`,\n        height: `${this.canvasSize.height * (1 / scaleFactor)}px`\n      };\n    };\n\n    if (this.previewWidth === \"100%\") {\n      if (this.canvasSize.width < this.minWidth) {\n        return scaledStyles(this.minWidth);\n      } else {\n        return {\n          width: \"100%\",\n          minWidth: `${this.minWidth}px`\n        };\n      }\n    } else {\n      return scaledStyles(this.previewWidth);\n    }\n  }\n\n  get canImportAll() {\n    return this.providerElements.length;\n  }\n\n  get globalSettingsLastImportedFromUrl() {\n    return configStore.designLibrary.globalSettingsLastImportedFromUrl;\n  }\n\n  get currentProviderPassword() {\n    const url = new URL(this.selectedProvider?.url || \"\");\n    return url.searchParams.get(\"password\");\n  }\n\n  @Watch(\"isOpen\")\n  onDialogOpen() {\n    if (this.isOpen) {\n      this.modalOpened();\n    } else {\n      this.unbindListeners();\n    }\n  }\n\n  @Watch(\"selectedProvider\")\n  onProviderChange(\n    newProvider: DesignProvider,\n    oldProvider: DesignProvider | null\n  ) {\n    // Reset state\n    this.providerElements = [];\n    this.selectedPostId = null;\n    this.providerPosts = [];\n    this.reliesOnGlobalSettings = false;\n    this.requiresPassword = false;\n    this.checkedPassword = false;\n    this.password = \"\";\n\n    this.getDesignSetData();\n\n    if (newProvider.url !== oldProvider?.url) {\n      this.previewLoaded = false;\n    }\n  }\n\n  modalOpened() {\n    if (!this.selectedProvider) {\n      this.selectedProvider = this.providers[1];\n    }\n\n    // Calculate canvas size only after the dialog is fully open.\n    this.calculateSizeAfterTransition();\n\n    window.addEventListener(\"message\", this.handleIframeMessage, false);\n    window.addEventListener(\"resize\", this.setCanvasSize);\n  }\n\n  toggleImportGlobalSettingsScreen() {\n    this.importGlobalSettingsScreen = !this.importGlobalSettingsScreen;\n  }\n\n  unbindListeners() {\n    window.removeEventListener(\"message\", this.handleIframeMessage, false);\n    window.removeEventListener(\"resize\", this.setCanvasSize);\n  }\n\n  calculateSizeAfterTransition() {\n    const transitionDuration = 400;\n    setTimeout(() => this.setCanvasSize(), transitionDuration);\n  }\n\n  setCanvasSize() {\n    const wrapper = this.$refs.iframeWrapper as HTMLElement;\n    if (!wrapper) return;\n\n    const { width, height } = wrapper.getBoundingClientRect();\n    this.canvasSize = { width, height };\n  }\n\n  reloadIframe() {\n    const iframe = this.$refs.iframe as HTMLIFrameElement;\n\n    // https://github.com/soflyy/breakdance/pull/4317/files#r986884610\n    // fixes an error on dev when it rehydrates state\n    if (!iframe) {\n      this.selectedProvider = this.providers[0];\n\n      return;\n    }\n\n    iframe.src += \"\";\n    this.loading = true;\n  }\n\n  goHome() {\n    this.selectedPostId = null;\n    this.reloadIframe();\n  }\n\n  toggleFullscreen() {\n    this.fullscreen = !this.fullscreen;\n    this.calculateSizeAfterTransition();\n  }\n\n  handleIframeMessage(event: MessageEvent) {\n    if (typeof event.data !== \"string\") return;\n\n    const [name, data] = event.data.split(/,(.*)/s);\n\n    if (name === \"breakdanceGetElements\") {\n      this.getElements(data);\n    }\n\n    if (name === \"breakdanceImportElement\") {\n      this.importElement(data);\n    }\n\n    if (name === \"breakdanceBeforeLeave\") {\n      this.navigatedAway();\n    }\n  }\n\n  onPostSelected(posts: number[]) {\n    const [selectedId] = posts;\n    this.loading = true;\n    this.selectedPostId = selectedId || null;\n    this.reloadIframe();\n  }\n\n  onProviderLoaded() {\n    this.previewLoaded = true;\n    this.loading = false;\n    this.setCanvasSize();\n  }\n\n  getElements(elementsAsString: string) {\n    this.loading = false;\n\n    const maybeElements = fpJsonParseTypesafe(\n      elementsAsString,\n      t.array(TreeNodeV)\n    );\n\n    this.providerElements = pipe(\n      maybeElements,\n      fold(\n        () => [],\n        els => els\n      )\n    );\n  }\n\n  navigatedAway() {\n    this.loading = true;\n  }\n\n  importElement(elementAsString: string) {\n    const maybeElement = fpJsonParseTypesafe(elementAsString, TreeNodeV);\n\n    const element = pipe(\n      maybeElement,\n      fold(\n        () => null,\n        el => el\n      )\n    );\n\n    if (!element) return;\n\n    this.insertElements([element]);\n    this.close();\n\n    this.$nextTick(() => {\n      smoothScrollToLastElement();\n    });\n  }\n\n  insertElements(elements: TreeNode[]) {\n    pasteElements(elements);\n    if (this.selectedProvider) {\n      setLastUsedDesignProviderUrl(this.selectedProvider.url);\n    }\n  }\n\n  importAll() {\n    this.importingPage = true;\n    this.insertElements(this.providerElements);\n\n    this.close();\n    this.importingPage = false;\n\n    this.$nextTick(() => {\n      smoothScrollToLastElement();\n    });\n  }\n\n  close() {\n    uiStore.setDesignLibraryModalState(false);\n  }\n\n  open() {\n    uiStore.setDesignLibraryModalState(true);\n  }\n\n  async getDesignSetData() {\n    const url = this.selectedProvider?.url;\n    this.loadingDesignSetData = true;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: this.selectedProvider?.isLocal\n          ? \"breakdance_get_local_design_set\"\n          : \"breakdance_get_external_design_set\",\n        decoder: DesignSetDataV,\n        friendlyName: \"Design Set Data\",\n        dataToPost: { url }\n      }),\n      fold(\n        () => {\n          this.providerPosts = [];\n        },\n        designSetData => {\n          this.providerPosts = designSetData.posts;\n          this.requiresPassword = designSetData.requiresPassword || false;\n          this.passwordValid = !!designSetData.passwordValid;\n          this.reliesOnGlobalSettings = this.selectedProvider?.isLocal\n            ? false\n            : designSetData.reliesOnGlobalSettings;\n        }\n      )\n    );\n\n    this.loadingDesignSetData = false;\n  }\n\n  async importGlobalSettings() {\n    if (this.selectedProvider?.isLocal) {\n      return;\n    }\n\n    this.loadingExternalGlobalSettings = true;\n\n    const url = this.selectedProvider?.url;\n\n    const externalGlobalSettings = pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_get_external_global_settings\",\n        decoder: PropertiesDataV,\n        friendlyName: `Global Settings for \"${url}\"`,\n        dataToPost: { url }\n      }),\n      fold(\n        () => false,\n        externalGlobalSettings => {\n          if (url) {\n            configStore.setDesignLibrary({\n              ...configStore.designLibrary,\n              globalSettingsLastImportedFromUrl: url\n            });\n          }\n\n          return (\n            externalGlobalSettings && externalGlobalSettings.globalSettings\n          );\n        }\n      )\n    );\n\n    this.loadingExternalGlobalSettings = false;\n    this.importGlobalSettingsScreen = false;\n\n    if (externalGlobalSettings === false) {\n      NotificationLogger.log.errorMessage(\n        `Error importing Global Settings for \"${\n          this.selectedProvider?.name || this.selectedProvider?.url\n        }\"`\n      );\n\n      return;\n    }\n\n    globalStore.setGlobalSettings(externalGlobalSettings);\n    uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\n      \"globalSettings\",\n      false\n    );\n\n    NotificationLogger.log.message(\n      `Imported Global Settings from \"${\n        this.selectedProvider?.name || this.selectedProvider?.url\n      }\"`\n    );\n  }\n\n  async setPassword() {\n    if (this.checkingPassword) return;\n\n    this.checkingPassword = true;\n    this.checkedPassword = false;\n\n    const validated = pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_set_design_set_password\",\n        decoder: t.type({\n          validated: t.boolean,\n          message: t.string\n        }),\n        friendlyName: `Set Password For \"${this.selectedProvider?.name}\"`,\n        dataToPost: {\n          url: this.selectedProvider?.url,\n          password: this.password\n        },\n        suppressErrorLogging: true\n      }),\n      fold(\n        () => false,\n        ({ validated }) => validated\n      )\n    );\n\n    if (validated) {\n      // Wait for the password to be set before reloading the iframe. There is a slight delay.\n      setTimeout(async () => {\n        await this.getAllProvidersAndReloadSelected();\n        this.password = \"\";\n        this.checkingPassword = false;\n        this.passwordValid = true;\n        this.checkedPassword = true;\n      }, 150);\n    } else {\n      this.checkingPassword = false;\n      this.passwordValid = false;\n      this.checkedPassword = true;\n    }\n  }\n\n  async getAllProvidersAndReloadSelected() {\n    await this.getUpdatedDesignProviders();\n\n    const foundProvider = this.providers.find(\n      provider => provider.name === this.selectedProvider?.name\n    );\n\n    this.selectedProvider = foundProvider || this.providers[0];\n  }\n\n  async getUpdatedDesignProviders() {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_get_design_library_data\",\n        decoder: DesignLibraryDataV\n      }),\n      fold(\n        () => {},\n        data => {\n          configStore.setDesignLibrary(data);\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibraryModal.vue?vue&type=template&id=37b0afb0&\"\nimport script from \"./DesignLibraryModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibraryModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibraryModal.vue?vue&type=style&index=0&id=37b0afb0&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-sheet',{staticClass:\"breakdance-panel-header d-flex align-center\",attrs:{\"tile\":\"\"}},[_c('div',{staticClass:\"breakdance-panel-header-title\"},[_vm._t(\"default\")],2),_c('v-spacer'),_vm._t(\"right\"),(_vm.backInsteadOfClose)?_c('IconButton',{staticClass:\"breakdance-panel-header-close-button\",attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":\"90\",\"size\":\"12\",\"small\":\"\"},on:{\"click\":_vm.close}}):_c('IconButton',{staticClass:\"breakdance-panel-header-close-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"16\",\"small\":\"\"},on:{\"click\":_vm.close}})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\n\n@Component({\n  components: {\n    IconButton\n  }\n})\nexport default class PanelHeader extends Vue {\n  @Prop({ default: false })\n  backInsteadOfClose!: boolean;\n\n  close() {\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PanelHeader.vue?vue&type=template&id=b673da5a&\"\nimport script from \"./PanelHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./PanelHeader.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PanelHeader.vue?vue&type=style&index=0&id=b673da5a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementsList from \"@/components/Add/ElementsList.vue\";\nimport DesignLibraryModal from \"@/components/Add/library/DesignLibraryModal.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: {\n    DesignLibraryModal,\n    PanelHeader,\n    ElementsList\n  }\n})\nexport default class Add extends Vue {\n  close() {\n    closeUiPanel(\"add\");\n  }\n\n  openDesignLibrary() {\n    uiStore.setDesignLibraryModalState(true);\n  }\n\n  get state() {\n    return configStore.elementsLoadingState;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddPanel.vue?vue&type=template&id=ba178ab4&\"\nimport script from \"./AddPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddPanel.vue?vue&type=style&index=0&id=ba178ab4&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll global-settings-panel\"},[_c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{on:{\"close\":_vm.close}},[_vm._v(\" Global Settings \"),_c('BrowseModeToggle',{attrs:{\"panel-to-open\":\"globalSettings\"}}),_c('PanelHeaderButton',{attrs:{\"enabled\":_vm.viewMode === 'history'},on:{\"click\":_vm.toggleViewMode}},[_vm._v(\"history\")])],1),(_vm.viewMode === 'controls')?_c('GlobalSettingsPanelControlsViewMode',{attrs:{\"is-loading\":_vm.isLoading}}):(_vm.viewMode === 'history')?_c('GlobalSettingsPanelHistoryViewMode'):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('PanelHeaderButton',{attrs:{\"enabled\":_vm.isBrowseModeEnabled},on:{\"click\":_vm.toggleBrowseMode}},[_vm._v(\"browse\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n    'breakdance-panel-header-button': true,\n    'breakdance-panel-header-button--enabled': _vm.enabled\n  },on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class PanelHeaderButton extends Vue {\n  @Prop({ default: true })\n  enabled!: boolean;\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PanelHeaderButton.vue?vue&type=template&id=51eb6c36&\"\nimport script from \"./PanelHeaderButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./PanelHeaderButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PanelHeaderButton.vue?vue&type=style&index=0&id=51eb6c36&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport {\n  BrowseModeSupportedUIPanels,\n  toggleBrowseMode\n} from \"@/lib/browse-mode\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\n\n@Component({\n  components: {\n    PanelHeaderButton\n  }\n})\nexport default class BrowseModeToggle extends Vue {\n  @Prop({ default: \"globalSettings\" })\n  panelToOpen!: BrowseModeSupportedUIPanels;\n\n  get isBrowseModeEnabled() {\n    return uiStore.mode === \"browse\";\n  }\n\n  toggleBrowseMode() {\n    toggleBrowseMode(this.panelToOpen);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseModeToggle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseModeToggle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeToggle.vue?vue&type=template&id=0b2dc75a&\"\nimport script from \"./BrowseModeToggle.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeToggle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[(_vm.isLoading)?_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):[(!_vm.hasSearchParameters)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":\"settings\"}})],1):_vm._e(),(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('div',{staticClass:\"vscroll-scroll\"},[(_vm.searchBoxState.query !== '')?_c('div',{staticClass:\"control-tree-search-term\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams,\"path\":\"settings\",\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"settings\"},on:{\"input\":_vm.clearQuery}})],1):_vm._e(),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"settings\"},on:{\"input\":_vm.updateSearchBoxState}})]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Prop, Provide } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport SearchBox, {\n  SearchBoxState\n} from \"@/components/ElementPropertiesPanel/SearchBox.vue\";\nimport { configStore, globalStore } from \"@/store/store-accessor\";\nimport { filterControls, flattenAndCount } from \"@/lib/controls/search\";\nimport { ChangeControlValueMeta, ControlsTreeContext } from \"@/types/controls\";\nimport lodash from \"lodash\";\nimport { addMetadataToSettingPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport {\n  getGlobalSettingsAccordionState,\n  setGlobalSettingsAccordionState\n} from \"@/lib/panels/accordions\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\n\n@Component({\n  components: { ControlsTree, SearchBox, Icon, SearchBoxEmptyState }\n})\nexport default class GlobalSettingsPanelControlsViewMode extends Vue {\n  @Prop({ default: false })\n  isLoading!: boolean;\n\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    query: \"\"\n  };\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\"\n    });\n  }\n  get controls() {\n    return configStore.globalSettingsControlsAndTemplate.controls;\n  }\n\n  get controlsFilteredBySearchParams() {\n    return filterControls(\n      this.controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingGlobalSettingsControlsTreeContext,\n      \"settings\"\n    );\n  }\n\n  get noSearchResults() {\n    return flattenAndCount(this.controlsFilteredBySearchParams, 0) === 0;\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  @Provide(\"context\")\n  editingGlobalSettingsControlsTreeContext = editingGlobalSettingsControlsTreeContext;\n}\n\nconst editingGlobalSettingsControlsTreeContext: ControlsTreeContext = {\n  dynamicProperty: () => false,\n\n  getControlValue: controlPath => {\n    return lodash.get(globalStore.globalSettings, controlPath);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    globalStore.throttledGlobalSettingsPropertyChange(\n      addMetadataToSettingPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  getControls: () => configStore.globalSettingsControlsAndTemplate.controls,\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    setGlobalSettingsAccordionState(accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    return getGlobalSettingsAccordionState(accordionPath);\n  }\n};\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=template&id=13995bfd&\"\nimport script from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.isLoading,\"revisions\":_vm.revisionUiItems},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as t from \"io-ts\";\nimport { ExportedTreeV, PropertiesDataV } from \"@/types/tree\";\nimport { CSSSelectorListV } from \"@/types/selectors\";\n\nexport const RevisionCommonDataV = t.type({\n  id: t.union([t.number, t.string]),\n  date: t.string,\n  author: t.union([t.string, t.literal(false)])\n});\nexport type RevisionCommonData = t.TypeOf<typeof RevisionCommonDataV>;\n\n// IO-TS generic types didn't work correctly with TypeScript 3.8.3,\n// stating that \"object type isn't assignable to any type\".\n// Thus, we're using different types for document, global settings and selector revisions instead.\n\nexport const GlobalSettingsRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    globalSettings: PropertiesDataV\n  })\n]);\nexport type GlobalSettingsRevision = t.TypeOf<typeof GlobalSettingsRevisionV>;\n\nexport const GlobalSettingsRevisionsListV = t.array(GlobalSettingsRevisionV);\nexport type GlobalSettingsRevisionsList = t.TypeOf<\n  typeof GlobalSettingsRevisionsListV\n>;\n\nexport const SelectorsRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    selectors: CSSSelectorListV\n  })\n]);\nexport type SelectorsRevision = t.TypeOf<typeof SelectorsRevisionV>;\n\nexport const SelectorsRevisionsListV = t.array(SelectorsRevisionV);\nexport type SelectorsRevisionsList = t.TypeOf<typeof SelectorsRevisionsListV>;\n\nexport const DocumentRevisionWithJsonTreeV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    tree: t.string\n  })\n]);\n\nexport const DocumentRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    tree: ExportedTreeV\n  })\n]);\nexport type DocumentRevision = t.TypeOf<typeof DocumentRevisionV>;\n\nexport const DocumentRevisionsV = t.type({\n  revisions: t.array(DocumentRevisionV)\n});\n\nexport const DocumentRevisionsDataFromServerV = t.union([\n  t.type({ revisions: t.array(DocumentRevisionWithJsonTreeV) }),\n  t.type({ unsupported: t.string })\n]);\n\nexport type DocumentRevisionsData = {\n  revisions: DocumentRevision[];\n  currentUnsavedRevision: DocumentRevision | null;\n};\n\nexport type RevisionUiItem<\n  T extends RevisionCommonData = RevisionCommonData\n> = {\n  revisionData: T;\n  isSelected: boolean;\n};\n","import { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  GlobalSettingsRevisionsList,\n  GlobalSettingsRevisionsListV\n} from \"@/types/revisions\";\nimport { toUnion } from \"fp-ts/Either\";\nimport { mapLeft } from \"fp-ts/lib/Either\";\n\nexport async function fetchRemoteGlobalSettingsRevisions(): Promise<GlobalSettingsRevisionsList | null> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_retrieve_global_settings_revisions\",\n      decoder: GlobalSettingsRevisionsListV\n    }),\n    // makeWordPressAjaxRequest does all the error logging already, there's no point to call logErrorsToUiStore()\n    mapLeft(() => null),\n    toUnion\n  );\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-revisions-list vscroll-wrap vscroll-scroll\"},[(_vm.isLoading)?_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):(_vm.revisionsNotSupportedMessage)?_c('div',{staticClass:\"breakdance-revisions-list__not-found\"},[_c('p',[_vm._v(_vm._s(_vm.revisionsNotSupportedMessage))])]):(!_vm.revisions.length)?_c('div',{staticClass:\"breakdance-revisions-list__not-found\"},[_c('h2',[_vm._v(\"No revisions found\")]),_c('p',[_vm._v(\"Save any changes to create a new revision\")])]):_c('div',{staticClass:\"breakdance-revisions-list__items\"},_vm._l((_vm.revisions),function(revision,index){return _c('RevisionItem',{key:revision.revisionData.id,attrs:{\"revision\":revision.revisionData,\"selected\":revision.isSelected},on:{\"click\":function($event){return _vm.onRevisionSelected(revision, index)}}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"revisions-item\",class:{ 'revisions-item--selected': _vm.selected },on:{\"click\":function($event){return _vm.$emit('click', _vm.revision)}}},[_c('span',{staticClass:\"revisions-item__date\"},[_vm._v(_vm._s(_vm.revision.date))]),(_vm.revision.author)?[_c('span',[_vm._v(_vm._s(_vm.revision.author))])]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { RevisionCommonData } from \"@/types/revisions\";\n\n@Component({})\nexport default class RevisionItem extends Vue {\n  @Prop({\n    default() {\n      return {};\n    }\n  })\n  revision!: RevisionCommonData;\n\n  @Prop({ default: false })\n  selected!: boolean;\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RevisionItem.vue?vue&type=template&id=1b06230b&\"\nimport script from \"./RevisionItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./RevisionItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RevisionItem.vue?vue&type=style&index=0&id=1b06230b&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { RevisionUiItem } from \"@/types/revisions\";\nimport RevisionItem from \"@/components/Reusable/Revisions/RevisionItem.vue\";\n\n@Component({\n  components: { RevisionItem }\n})\nexport default class RevisionsList extends Vue {\n  @Prop({ default: false })\n  isLoading!: boolean;\n\n  @Prop({ default: [] })\n  revisions!: RevisionUiItem[];\n\n  @Prop({ default: null })\n  revisionsNotSupportedMessage!: string | null;\n\n  onRevisionSelected(revision: RevisionUiItem, index: number) {\n    this.$emit(\"revisionSelected\", revision, index);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RevisionsList.vue?vue&type=template&id=596407b6&\"\nimport script from \"./RevisionsList.vue?vue&type=script&lang=ts&\"\nexport * from \"./RevisionsList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RevisionsList.vue?vue&type=style&index=0&id=596407b6&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { fetchRemoteGlobalSettingsRevisions } from \"@/lib/global-settings/revisions\";\nimport Vue from \"vue\";\nimport {\n  GlobalSettingsRevision,\n  GlobalSettingsRevisionsList,\n  RevisionUiItem\n} from \"@/types/revisions\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\nimport { isEqual } from \"lodash\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\n\n// TODO refactor code duplication w/SelectorsPanelHistoryViewMode\n@Component({\n  components: { RevisionsList }\n})\nexport default class GlobalSettingsPanelHistoryViewMode extends Vue {\n  isLoading = false;\n  remoteRevisions: GlobalSettingsRevisionsList | null = null;\n  selectedIndex: number | null = null;\n  unsubscribeFromStore = () => {};\n\n  currentUnsavedRevision: GlobalSettingsRevision | null = null;\n\n  async beforeMount() {\n    await this.loadRemoteRevisions();\n\n    if (globalStore.settingsHasUnsavedChangesPresent) {\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n      /**\n       * Without this condition, opening revisions list after Undoing/Redoing\n       * revision selection will contain \"Current\" revision\n       */\n      if (this.selectedIndex === -1) {\n        this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n      }\n    }\n\n    this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"global\" &&\n        mutationPayload.type !== \"global/restoreGlobalSettingsRevision\" &&\n        mutationPayload.type !== \"global/setSelectors\" // should be ignored\n      ) {\n        // Undo/Redo\n        if (mutationPayload.type === \"global/setGlobalSettings\") {\n          this.currentUnsavedRevision = null;\n        } else {\n          this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n        }\n\n        this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n      }\n    });\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStore();\n  }\n\n  async loadRemoteRevisions() {\n    this.isLoading = true;\n    this.remoteRevisions = await fetchRemoteGlobalSettingsRevisions();\n    this.selectedIndex = null;\n    this.isLoading = false;\n  }\n\n  recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch() {\n    this.selectedIndex = this.findSelectedIndexBasedOnStoreDataMatch();\n  }\n\n  findSelectedIndexBasedOnStoreDataMatch(): number {\n    const currentGlobalSettings = defensiveCopy(globalStore.globalSettings);\n\n    return this.revisions.findIndex(revision =>\n      isEqual(revision.globalSettings, currentGlobalSettings)\n    );\n  }\n\n  setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData() {\n    if (this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()) {\n      this.currentUnsavedRevision = null;\n    } else {\n      this.setCurrentUnsavedRevisionFromCurrentStoreData();\n    }\n  }\n\n  isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData() {\n    if (this.remoteRevisions === null || this.remoteRevisions.length === 0) {\n      return false;\n    }\n\n    const [mostRecentRemoteRevision] = this.remoteRevisions;\n    const currentGlobalSettings = defensiveCopy(globalStore.globalSettings);\n\n    return isEqual(\n      mostRecentRemoteRevision.globalSettings,\n      currentGlobalSettings\n    );\n  }\n\n  setCurrentUnsavedRevisionFromCurrentStoreData() {\n    this.currentUnsavedRevision = {\n      id: -1,\n      author: false,\n      date: \"Current\",\n      globalSettings: defensiveCopy(globalStore.globalSettings)\n    };\n  }\n\n  get revisionUiItems(): RevisionUiItem<GlobalSettingsRevision>[] {\n    return this.revisions.map(\n      (\n        revision: GlobalSettingsRevision,\n        index: number\n      ): RevisionUiItem<GlobalSettingsRevision> => ({\n        isSelected: index === this.selectedIndex,\n        revisionData: revision\n      })\n    );\n  }\n\n  get revisions(): GlobalSettingsRevision[] {\n    const remoteRevisions = this.remoteRevisions ?? [];\n\n    return this.currentUnsavedRevision\n      ? [this.currentUnsavedRevision, ...remoteRevisions]\n      : remoteRevisions;\n  }\n\n  onRevisionSelected(\n    revisionUiItem: RevisionUiItem<GlobalSettingsRevision>,\n    index: number\n  ) {\n    this.selectedIndex = index;\n\n    breakdanceUndo.transaction(\n      () =>\n        globalStore.restoreGlobalSettingsRevision(revisionUiItem.revisionData),\n      \"Restore Global Settings From Revision\"\n    );\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      await this.loadRemoteRevisions();\n      this.currentUnsavedRevision = null;\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n    }\n  }\n}\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=template&id=737293ca&\"\nimport script from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport BrowseModeToggle from \"@/components/BrowseMode/BrowseModeToggle.vue\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\nimport GlobalSettingsPanelControlsViewMode from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue\";\nimport GlobalSettingsPanelHistoryViewMode from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue\";\nimport { PropertiesData } from \"@/types/tree\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  fetchGlobalSettings,\n  saveGlobalSettingsToWordPress\n} from \"@/lib/global-settings/global-settings\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\n\n@Component({\n  components: {\n    GlobalSettingsPanelHistoryViewMode,\n    GlobalSettingsPanelControlsViewMode,\n    PanelHeaderButton,\n    BrowseModeToggle,\n    PanelHeader\n  }\n})\nexport default class GlobalSettingsPanel extends Vue {\n  get viewMode() {\n    return uiStore.panelState.globalSettingsPanelActiveViewMode;\n  }\n  toggleViewMode() {\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      globalSettingsPanelActiveViewMode:\n        this.viewMode === \"controls\" ? \"history\" : \"controls\"\n    });\n  }\n\n  storedData: PropertiesData = null;\n\n  isStoringData = false;\n  isLoadingData = false;\n\n  get isLoading() {\n    return this.isStoringData || this.isLoadingData;\n  }\n\n  async beforeMount() {\n    if (\n      uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.globalSettings\n    ) {\n      uiStore.setPanelState({\n        ...uiStore.panelState,\n        globalSettingsPanelActiveViewMode: \"controls\"\n      });\n      await this.loadSettings();\n    } else {\n      uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\n        \"globalSettings\",\n        true\n      );\n    }\n  }\n\n  async storeSettings() {\n    this.isStoringData = true;\n    const isSuccessful = await saveGlobalSettingsToWordPress();\n    this.storedData = defensiveCopy(globalStore.globalSettings);\n    this.isStoringData = false;\n\n    return isSuccessful;\n  }\n\n  async loadSettings() {\n    this.isLoadingData = true;\n    const isSuccessful = await fetchGlobalSettings();\n    this.storedData = defensiveCopy(globalStore.globalSettings);\n    this.isLoadingData = false;\n\n    return isSuccessful;\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return globalStore.settingsHasUnsavedChangesPresent;\n  }\n\n  requestPanelClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"globalSettings\",\n      confirmationDefinition: {\n        title: \"You have unsaved changes to your Global Settings.\",\n        text: \"Would you like to save or discard these changes?\",\n        type: \"info\"\n      }\n    });\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestPanelClosingConfirmation();\n    } else {\n      uiStore.noClosingConfirmationIsNeededFor(\"globalSettings\");\n    }\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.globalSettings?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      uiStore.setClosingConfirmationIsDiscarding({\n        subject: \"globalSettings\",\n        isDiscarding: true\n      });\n      if (await this.loadSettings()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"globalSettings\",\n        isSaving: true\n      });\n      if (await this.storeSettings()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    }\n  }\n\n  close() {\n    closeUiPanel(\"globalSettings\");\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanel.vue?vue&type=template&id=2c2a07f7&\"\nimport script from \"./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GlobalSettingsPanel.vue?vue&type=style&index=0&id=2c2a07f7&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll selectors-panel\"},[(_vm.isLoadingData)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):_vm._e(),(_vm.activeSelector)?_c('EditSelector',{on:{\"close\":_vm.close}}):_vm._e(),(!_vm.activeSelector && !_vm.isLoadingData)?_c('ManageSelectors',{on:{\"close\":_vm.close}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{on:{\"close\":function($event){return _vm.$emit('close')}}},[_vm._v(\"Selectors \"),_c('BrowseModeToggle',{attrs:{\"panel-to-open\":\"selectors\"}}),_c('PanelHeaderButton',{attrs:{\"enabled\":_vm.viewMode === 'history'},on:{\"click\":_vm.toggleViewMode}},[_vm._v(\"history\")])],1),_c('FreeModeAlertForSelectors',{staticClass:\"ma-4\"}),(_vm.viewMode === 'controls')?[_c('AddSelector'),_c('div',{staticClass:\"vscroll-wrap vscroll-scroll breakdance-manage-selectors\"},[_c('SelectorsList',{attrs:{\"selectors\":_vm.selectors,\"searchable\":true},on:{\"input\":_vm.updateSelectors}})],1)]:(_vm.viewMode === 'history')?[_c('SelectorsPanelHistoryViewMode')]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"d-flex flex-row add-selector\"},[_c('TextInput',{staticClass:\"flex-grow-1\",attrs:{\"placeholder\":\".your.css > #selector-69::after\"},model:{value:(_vm.newSelectorName),callback:function ($$v) {_vm.newSelectorName=$$v},expression:\"newSelectorName\"}}),_c('NiceButton',{staticClass:\"ml-1\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.addSelector}},[_vm._v(\" Add \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport {\n  addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed,\n  createCssSelectorObjectFromSelectorName\n} from \"@/lib/selectors/selectors\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\n@Component({\n  components: { NiceButton, TextInput }\n})\nexport default class AddSelector extends Vue {\n  newSelectorName: string | null = \"\";\n\n  addSelector() {\n    if (!this.newSelectorName) return;\n\n    pipe(\n      createCssSelectorObjectFromSelectorName(this.newSelectorName),\n      fold(\n        errors => errors.forEach(NotificationLogger.log.message),\n        selector =>\n          addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed(\n            selector\n          )\n      )\n    );\n\n    this.newSelectorName = \"\";\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddSelector.vue?vue&type=template&id=36fe4188&\"\nimport script from \"./AddSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddSelector.vue?vue&type=style&index=0&id=36fe4188&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.isLoading,\"revisions\":_vm.revisionUiItems},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  SelectorsRevisionsList,\n  SelectorsRevisionsListV\n} from \"@/types/revisions\";\nimport { toUnion } from \"fp-ts/Either\";\nimport { mapLeft } from \"fp-ts/lib/Either\";\n\nexport async function fetchRemoteSelectorsRevisions(): Promise<SelectorsRevisionsList | null> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_retrieve_selectors_revisions\",\n      decoder: SelectorsRevisionsListV\n    }),\n    // makeWordPressAjaxRequest does all the error logging already, there's no point to call logErrorsToUiStore()\n    mapLeft(() => null),\n    toUnion\n  );\n}\n","\nimport { Component, Watch } from \"vue-property-decorator\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\nimport Vue from \"vue\";\nimport {\n  RevisionUiItem,\n  SelectorsRevision,\n  SelectorsRevisionsList\n} from \"@/types/revisions\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { isEqual } from \"lodash\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { fetchRemoteSelectorsRevisions } from \"@/lib/selectors/revisions\";\n\n// TODO refactor code duplication w/GlobalSettingsPanelHistoryViewMode\n@Component({\n  components: { RevisionsList }\n})\nexport default class SelectorsPanelHistoryViewMode extends Vue {\n  isLoading = false;\n  remoteRevisions: SelectorsRevisionsList | null = null;\n  selectedIndex: number | null = null;\n  unsubscribeFromStore = () => {};\n\n  currentUnsavedRevision: SelectorsRevision | null = null;\n\n  async beforeMount() {\n    await this.loadRemoteRevisions();\n\n    if (globalStore.selectorsHasUnsavedChangesPresent) {\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n      /**\n       * Without this condition, opening revisions list after Undoing/Redoing\n       * revision selection will contain \"Current\" revision\n       */\n      if (this.selectedIndex === -1) {\n        this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n      }\n    }\n\n    this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"global\" &&\n        mutationPayload.type !== \"global/restoreSelectorsRevision\" &&\n        mutationPayload.type !== \"global/setGlobalSettings\" // should be ignored\n      ) {\n        // Undo/Redo\n        if (mutationPayload.type === \"global/setSelectors\") {\n          this.currentUnsavedRevision = null;\n        } else {\n          this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n        }\n\n        this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n      }\n    });\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStore();\n  }\n\n  async loadRemoteRevisions() {\n    this.isLoading = true;\n    this.remoteRevisions = await fetchRemoteSelectorsRevisions();\n    this.selectedIndex = null;\n    this.isLoading = false;\n  }\n\n  recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch() {\n    this.selectedIndex = this.findSelectedIndexBasedOnStoreDataMatch();\n  }\n\n  findSelectedIndexBasedOnStoreDataMatch(): number {\n    const currentSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    return this.revisions.findIndex(revision => {\n      return isEqual(revision.selectors, currentSelectors);\n    });\n  }\n\n  setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData() {\n    if (this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()) {\n      this.currentUnsavedRevision = null;\n    } else {\n      this.setCurrentUnsavedRevisionFromCurrentStoreData();\n    }\n  }\n\n  isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData() {\n    if (this.remoteRevisions === null) {\n      return false;\n    }\n\n    const [mostRecentRemoteRevision] = this.remoteRevisions;\n    const currentSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    return isEqual(mostRecentRemoteRevision.selectors, currentSelectors);\n  }\n\n  setCurrentUnsavedRevisionFromCurrentStoreData() {\n    this.currentUnsavedRevision = {\n      id: -1,\n      author: false,\n      date: \"Current\",\n      selectors: defensiveCopy(globalStore.cssSelectors)\n    };\n  }\n\n  get revisionUiItems(): RevisionUiItem<SelectorsRevision>[] {\n    return this.revisions.map(\n      (\n        revision: SelectorsRevision,\n        index: number\n      ): RevisionUiItem<SelectorsRevision> => ({\n        isSelected: index === this.selectedIndex,\n        revisionData: revision\n      })\n    );\n  }\n\n  get revisions(): SelectorsRevision[] {\n    const remoteRevisions = this.remoteRevisions ?? [];\n\n    return this.currentUnsavedRevision\n      ? [this.currentUnsavedRevision, ...remoteRevisions]\n      : remoteRevisions;\n  }\n\n  onRevisionSelected(\n    revisionUiItem: RevisionUiItem<SelectorsRevision>,\n    index: number\n  ) {\n    this.selectedIndex = index;\n\n    breakdanceUndo.transaction(\n      () => globalStore.restoreSelectorsRevision(revisionUiItem.revisionData),\n      \"Restore Selectors From Revision\"\n    );\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      await this.loadRemoteRevisions();\n      this.currentUnsavedRevision = null;\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectorsPanelHistoryViewMode.vue?vue&type=template&id=8c6f0cf8&\"\nimport script from \"./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { globalStore, uiStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { CSSSelector } from \"@/types/selectors\";\nimport SelectorsList from \"./SelectorsList.vue\";\nimport AddSelector from \"./AddSelector.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\n\n// @ts-ignore\nimport draggable from \"vuedraggable\";\nimport BrowseModeToggle from \"@/components/BrowseMode/BrowseModeToggle.vue\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\nimport SelectorsPanelHistoryViewMode from \"@/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\nimport FreeModeAlertForSelectors from \"@/components/Subscription/FreeModeAlertForSelectors.vue\";\n\n@Component({\n  components: {\n    FreeModeAlertForSelectors,\n    AlertBox,\n    SelectorsPanelHistoryViewMode,\n    PanelHeaderButton,\n    BrowseModeToggle,\n    draggable,\n    SelectorsList,\n    AddSelector,\n    PanelHeader\n  }\n})\nexport default class ManageSelectors extends Vue {\n  get viewMode() {\n    return uiStore.panelState.selectorsPanelPanelActiveViewMode;\n  }\n  toggleViewMode() {\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      selectorsPanelPanelActiveViewMode:\n        this.viewMode === \"controls\" ? \"history\" : \"controls\"\n    });\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  updateSelectors(newSelectors: CSSSelector[]) {\n    globalStore.setSelectors(defensiveCopy(newSelectors));\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ManageSelectors.vue?vue&type=template&id=57e91808&\"\nimport script from \"./ManageSelectors.vue?vue&type=script&lang=ts&\"\nexport * from \"./ManageSelectors.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ManageSelectors.vue?vue&type=style&index=0&id=57e91808&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.activeSelector)?_c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{attrs:{\"backInsteadOfClose\":true},on:{\"close\":_vm.close}},[_vm._v(\" Editing Selector \")]),_c('FreeModeAlertForSelectors',{staticClass:\"ma-4\"}),_c('div',{staticClass:\"breakdance-selector-titlebar\"},[_c('div',{staticClass:\"flex-grow-1 mr-2\"},[(_vm.editingClassOrClassHover)?[_c('div',{staticClass:\"d-flex flex-row align-center flex-wrap mr-2\"},[_c('transition',{attrs:{\"name\":\"blink-on-change\"}},[_c('div',{key:_vm.activeSelector.name,staticClass:\"selector-titlebar-classname mr-1 ml-n1\"},[_vm._v(\" \"+_vm._s(_vm.activeSelector.name.replace(\":hover\", \"\"))+\" \")])]),_c('v-btn',{class:[\n              'editing-class-hover-hover-button-always',\n              _vm.editingClassHover\n                ? 'editing-class-hover-hover-button-active'\n                : 'editing-class-hover-hover-button'\n            ],attrs:{\"x-small\":\"\",\"depressed\":\"\"},on:{\"click\":_vm.toggleHover}},[_vm._v(\" :hover \")])],1)]:[_c('div',{staticClass:\"d-flex flex-column\"},[_c('TextInput',{attrs:{\"value\":_vm.activeSelector.name},on:{\"input\":_vm.tryToRenameActiveSelector}})],1)]],2),(_vm.selectorIsHighlightable)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('IconButton',_vm._g({attrs:{\"icon\":\"SearchFileIcon\",\"size\":\"16\",\"active\":_vm.highlight},on:{\"click\":_vm.toggleHighlight}},on))]}}],null,false,3251607670)},[_c('span',[_vm._v(_vm._s(_vm.howManyOnPage)+\" on page\")])]):_vm._e(),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\"},on:{\"click\":_vm.deleteSelector}})],1),(\n      _vm.searchBoxState.query !== '' && _vm.hasSearchParameters && !_vm.noSearchResults\n    )?_c('div',{staticClass:\"control-tree-search-term control-tree-search-term-selector\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),(\n      !_vm.editingClassOrClassHover &&\n        _vm.attemptingToRename &&\n        !_vm.isAttemptedRenameValid\n    )?_c('div',{staticClass:\"edit-selector-invalid-name-error\"},[_vm._v(\" invalid selector name \")]):_vm._e(),_c('div',{staticClass:\"edit-selector-border\"}),(!_vm.hasSearchParameters)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":\"properties\"}})],1):_vm._e(),(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams,\"path\":\"properties\",\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"selectors\"},on:{\"input\":_vm.clearQuery}})],1):_vm._e(),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"selector\"},on:{\"input\":_vm.updateSearchBoxState}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Provide } from \"vue-property-decorator\";\nimport lodash from \"lodash\";\nimport { configStore, uiStore, globalStore } from \"@/store/store\";\nimport { ChangeControlValueMeta, ControlsTreeContext } from \"@/types/controls\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport SearchBox, {\n  SearchBoxState\n} from \"@/components/ElementPropertiesPanel/SearchBox.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed,\n  isValidSelectorName\n} from \"@/lib/selectors/selectors\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport {\n  getSelectorAccordionState,\n  setSelectorAccordionState\n} from \"@/lib/panels/accordions\";\nimport { addMetadataToSelectorPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport { filterControls, flattenAndCount } from \"@/lib/controls/search\";\nimport { addOrUpdateInlineCSSAtEndOfHead } from \"@/lib/canvas/assets/dom-utils\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\nimport FreeModeAlertForSelectors from \"@/components/Subscription/FreeModeAlertForSelectors.vue\";\n\n@Component({\n  components: {\n    FreeModeAlertForSelectors,\n    AlertBox,\n    ControlsTree,\n    SearchBox,\n    IconButton,\n    PanelHeader,\n    TextInput,\n    SearchBoxEmptyState,\n    Icon\n  }\n})\nexport default class EditSelector extends Vue {\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    query: \"\"\n  };\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\"\n    });\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  get controlsFilteredBySearchParams() {\n    return filterControls(\n      this.controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingClassControlsTreeContext,\n      \"properties\"\n    );\n  }\n\n  get noSearchResults() {\n    return flattenAndCount(this.controlsFilteredBySearchParams, 0) === 0;\n  }\n\n  get howManyOnPage() {\n    if (!uiStore.activeSelector) return 0;\n\n    const selectorToFind = this.editingClassHover\n      ? uiStore.activeSelector.name.replace(\":hover\", \"\")\n      : uiStore.activeSelector.name;\n\n    const matchingElements = window.Breakdance.canvas.document.querySelectorAll(\n      selectorToFind\n    );\n\n    return matchingElements.length;\n  }\n\n  get editingClass() {\n    if (!this.activeSelector) return false;\n    return this.activeSelector.type === \"class\";\n  }\n\n  get editingClassHover() {\n    if (!this.activeSelector) return false;\n    if (this.activeSelector.name.endsWith(\":hover\")) {\n      return !!findClass(this.activeSelector.name.replace(\":hover\", \"\"));\n    }\n    return false;\n  }\n\n  get editingClassOrClassHover() {\n    return this.editingClass || this.editingClassHover;\n  }\n\n  get selectorIsHighlightable() {\n    if (!uiStore.activeSelectorName) return false;\n\n    if (uiStore.activeSelectorName.includes(\":\") && !this.editingClassHover)\n      return false;\n    return true;\n  }\n\n  get controls() {\n    return configStore.selectorControls;\n  }\n\n  get activeSelector() {\n    return uiStore.activeSelector;\n  }\n\n  highlight = false;\n\n  toggleHighlight() {\n    if (this.highlight) {\n      this.clearHighlight();\n    } else {\n      this.setHighlight();\n    }\n  }\n\n  beforeDestroy() {\n    this.clearHighlight();\n  }\n\n  setHighlight() {\n    this.highlight = true;\n\n    if (!uiStore.activeSelector) return;\n\n    const selectorToHighlight = this.editingClassHover\n      ? uiStore.activeSelector.name.replace(\":hover\", \"\")\n      : uiStore.activeSelector.name;\n\n    addOrUpdateInlineCSSAtEndOfHead(\n      getBuilderCanvasDocument(), // TODO this won't work with browse mode\n      \"breakdance-selector-highlight\",\n      `${selectorToHighlight} {\n          outline: 10px dashed rgba(255,200,0) !important;\n          outline-offset: -5px;\n          animation-duration: 2000ms;\n          animation-iteration-count: infinite;\n        }\n        `\n    );\n  }\n\n  clearHighlight() {\n    this.highlight = false;\n    addOrUpdateInlineCSSAtEndOfHead(\n      getBuilderCanvasDocument(), // TODO this won't work with browse mode\n      \"breakdance-selector-highlight\",\n      \"\"\n    );\n  }\n\n  deleteSelector() {\n    if (!this.activeSelector) return;\n\n    const selector = this.activeSelector;\n    const indexToDelete = globalStore.cssSelectors.findIndex(\n      s => s.name === selector.name\n    );\n\n    if (indexToDelete !== -1) {\n      const newSelectors = defensiveCopy(globalStore.cssSelectors);\n      newSelectors.splice(indexToDelete, 1);\n      globalStore.setSelectors(newSelectors);\n    }\n  }\n\n  close() {\n    this.backToAllSelectors();\n  }\n\n  get activeElementTitle() {\n    if (!uiStore.activeElement) return false;\n    return configStore.element(uiStore.activeElement.data.type).name;\n  }\n\n  openElementProperties() {\n    openUiPanel(\"elementproperties\");\n  }\n\n  backToAllSelectors() {\n    uiStore.setActiveSelectorName(null);\n  }\n\n  attemptingToRename: string | false = false;\n\n  get isAttemptedRenameValid() {\n    if (!this.attemptingToRename) return true;\n\n    return isValidSelectorName(this.attemptingToRename);\n  }\n\n  tryToRenameActiveSelector(newName: string | null) {\n    if (!newName) return;\n\n    this.attemptingToRename = newName;\n\n    this.clearHighlight();\n\n    if (!isValidSelectorName(newName)) return;\n\n    const activeSelectorIndex = globalStore.cssSelectors.findIndex(\n      s => s === this.activeSelector\n    );\n\n    const newSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    if (newSelectors[activeSelectorIndex]) {\n      newSelectors[activeSelectorIndex].name = newName;\n      globalStore.setSelectors(newSelectors);\n      uiStore.setActiveSelectorName(newName);\n      this.attemptingToRename = false;\n    }\n  }\n\n  toggleHover() {\n    if (!uiStore.activeSelector) return;\n\n    if (this.editingClass) {\n      const hoverSelectorName = uiStore.activeSelectorName + \":hover\";\n\n      const findHoverSelector = () =>\n        globalStore.cssSelectors.find(s => s.name === hoverSelectorName);\n\n      let hoverSelector = findHoverSelector();\n\n      if (!hoverSelector) {\n        addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed({\n          name: hoverSelectorName,\n          type: \"custom\",\n          properties: {}\n        });\n        hoverSelector = findHoverSelector();\n      }\n\n      if (!hoverSelector) {\n        NotificationLogger.log.message(\n          `Unable to create or find a :hover selector for ${uiStore.activeSelectorName}`\n        );\n        return;\n      }\n\n      uiStore.setActiveSelectorName(hoverSelector.name);\n      openUiPanel(\"selectors\");\n    } else if (this.editingClassHover && this.activeSelector) {\n      const foundClass = findClass(\n        this.activeSelector.name.replace(\":hover\", \"\")\n      );\n      if (foundClass) {\n        uiStore.setActiveSelectorName(foundClass.name);\n        openUiPanel(\"selectors\");\n      }\n    }\n  }\n\n  @Provide(\"context\")\n  editingClassControlsTreeContext = editingClassControlsTreeContext;\n}\n\nconst findClass = (className: string) =>\n  globalStore.cssSelectors.find(selector => selector.name === className);\n\nconst editingClassControlsTreeContext: ControlsTreeContext = {\n  dynamicProperty: () => false,\n  getControls: () => configStore.selectorControls,\n  getControlValue: controlPath => {\n    return lodash.get(uiStore.activeSelector, `${controlPath}`, undefined);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    if (!uiStore.activeSelector) return;\n\n    globalStore.throttledSelectorPropertyChange(\n      addMetadataToSelectorPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          selector: uiStore.activeSelector,\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    const activeSelectorName =\n      uiStore.activeSelector && uiStore.activeSelector.name;\n    if (!activeSelectorName) return;\n    setSelectorAccordionState(activeSelectorName, accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    const activeSelectorName =\n      uiStore.activeSelector && uiStore.activeSelector.name;\n    if (!activeSelectorName) return false;\n    return getSelectorAccordionState(activeSelectorName, accordionPath);\n  }\n};\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditSelector.vue?vue&type=template&id=745d8a6e&\"\nimport script from \"./EditSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditSelector.vue?vue&type=style&index=0&id=745d8a6e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport ManageSelectors from \"./ManageSelectors.vue\";\nimport EditSelector from \"./EditSelector.vue\";\nimport { globalStore, uiStore } from \"@/store/store\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\nimport {\n  refetchSelectorsFromServerToGlobalStore,\n  saveSelectorsToWordPress\n} from \"@/lib/selectors/selectors\";\n\n@Component({\n  components: {\n    EditSelector,\n    ManageSelectors\n  }\n})\nexport default class SelectorsPanel extends Vue {\n  isLoadingData = false;\n  isStoringData = false;\n\n  get activeSelector() {\n    return uiStore.activeSelector;\n  }\n\n  async beforeMount() {\n    if (uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.selectors) {\n      uiStore.setPanelState({\n        ...uiStore.panelState,\n        selectorsPanelPanelActiveViewMode: \"controls\"\n      });\n      await this.load();\n    } else {\n      uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\"selectors\", true);\n    }\n  }\n\n  async load() {\n    this.isLoadingData = true;\n    const isSuccessful = await refetchSelectorsFromServerToGlobalStore();\n    this.isLoadingData = false;\n\n    return isSuccessful;\n  }\n\n  async save() {\n    this.isStoringData = true;\n    const isSuccessful = await saveSelectorsToWordPress();\n    this.isStoringData = false;\n\n    return isSuccessful;\n  }\n\n  requestPanelClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"selectors\",\n      confirmationDefinition: {\n        title: \"You have unsaved changes to your Selectors.\",\n        text: \"Would you like to save or discard these changes?\",\n        type: \"info\"\n      }\n    });\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return globalStore.selectorsHasUnsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestPanelClosingConfirmation();\n    } else {\n      uiStore.noClosingConfirmationIsNeededFor(\"selectors\");\n    }\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.selectors?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      uiStore.setClosingConfirmationIsDiscarding({\n        subject: \"globalSettings\",\n        isDiscarding: true\n      });\n      if (await this.load()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"globalSettings\",\n        isSaving: true\n      });\n      if (await this.save()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    }\n  }\n\n  get isLoading() {\n    return this.isLoadingData || this.isStoringData;\n  }\n\n  close() {\n    closeUiPanel(\"selectors\");\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectorsPanel.vue?vue&type=template&id=000eb18f&\"\nimport script from \"./SelectorsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectorsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectorsPanel.vue?vue&type=style&index=0&id=000eb18f&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-structure-panel vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{ref:\"panelHeader\",on:{\"close\":_vm.close},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [(_vm.rootElement.children.length)?_c('button',{staticClass:\"breakdance-structure-panel__toggle-button mr-2\",on:{\"click\":_vm.toggleNodes}},[(_vm.toggleStage === 1)?[_vm._v(\"Expand\")]:_vm._e(),([0, 2].includes(_vm.toggleStage))?[_vm._v(\"Collapse\")]:_vm._e()],2):_vm._e()]},proxy:true}])},[_vm._v(\" Structure \")]),_c('div',{class:_vm.classList,on:{\"contextmenu\":_vm.onContextMenu}},[_c('div',{staticClass:\"structure-node root-node\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID},on:{\"mousedown\":_vm.dragStart}},[_c('div',{staticClass:\"structure-node-title-wrapper\"},[_c('div',{staticClass:\"structure-node-title\",staticStyle:{\"margin-left\":\"-16px\",\"display\":\"none\"}},[_vm._v(\" Root Node \")]),_c('div',{staticClass:\"top-half\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID,\"data-depth\":-1}}),_c('div',{staticClass:\"bottom-half\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID,\"data-depth\":-1}})]),(_vm.rootElement.children.length > 0)?_c('ChildStructureNodes',{attrs:{\"nodes\":_vm.rootElement.children,\"depth\":0}}):_c('div',{staticClass:\"structure-panel-empty-state\"},[_c('h5',[_vm._v(\"No Elements\")]),_c('p',[_vm._v(\"Add an element to your page and it will show up here.\")]),_c('StandardButton',{staticClass:\"open-elements-toolbar-button ml-auto mr-auto\",attrs:{\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)],1)]),_c('StructureContextMenu')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { Tree } from \"@/types/tree\";\n\nexport type DragPayload = {\n  draggedElementId: number;\n  droppedOnElementId: number;\n  index: number;\n};\n\nexport type MouseDragStatus = {\n  overTopHalf: false | number;\n  overBottomHalf: false | number;\n  overIndex: false | number;\n  overNodeId: false | number;\n  overNodeParentId: false | number;\n  overNestDeeper: false | number;\n  overNestShallower: false | number;\n  overSelf: boolean;\n};\n\nexport function initialMouseDragStatus(): MouseDragStatus {\n  return {\n    overTopHalf: false,\n    overBottomHalf: false,\n    overIndex: false,\n    overNodeId: false,\n    overNodeParentId: false,\n    overSelf: false,\n    overNestDeeper: false,\n    overNestShallower: false\n  };\n}\n\nexport function getNodeIdAtPointInStructurePanel(x: number, y: number) {\n  const draggedElement = document\n    .elementsFromPoint(x, y)\n    .filter(filterByClass(\"structure-node\"))\n    .sort(sortByDepth)\n    .reverse()\n    .pop();\n\n  if (draggedElement) {\n    // @ts-ignore\n    const elementId = draggedElement.dataset.elementId;\n\n    if (elementId) {\n      return parseInt(elementId);\n    }\n  }\n\n  return false;\n}\n\nexport const filterByClass = (className: string) => {\n  return (element: Element) => {\n    if (element.classList.contains(className)) {\n      return true;\n    }\n    return false;\n  };\n};\n\n/* a bit fuckin brittle having the depth and other shit in the DOM... like... \nthere's a bunch of shit related to drag that's simply in the DOM of the structure panel's HTML output\nit works perfectly, but is there a better way? using DOM as a source of truth is sketchy */\n\nexport const sortByDepth = (elementA: Element, elementB: Element) => {\n  // @ts-ignore\n  if (parseInt(elementA.dataset.depth) > parseInt(elementB.dataset.depth)) {\n    return -1;\n  } else if (\n    // @ts-ignore\n    parseInt(elementB.dataset.depth) > parseInt(elementA.dataset.depth)\n  ) {\n    return 1;\n  } else {\n    return 0;\n  }\n};\n\nconst getElementIdDataAttrFromFirstElementThatMatchesClass = (\n  elementsList: Element[],\n  className: string\n) => {\n  const elements = elementsList.filter(filterByClass(className));\n  if (elements.length > 0) {\n    // @ts-ignore\n    return parseInt(elements[0].dataset.elementId);\n  }\n\n  return false;\n};\n\nexport const getMouseDragStatus = (\n  mouseX: number,\n  mouseY: number,\n  tree: Tree\n): MouseDragStatus => {\n  const elementsList = document.elementsFromPoint(mouseX, mouseY); // TODO: needs slight tweak for Edge compatibility, function name is different and returns NodeList\n\n  const dragStatus = initialMouseDragStatus();\n\n  dragStatus.overNestDeeper = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"nest-deeper\"\n  );\n\n  dragStatus.overNestShallower = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"nest-shallower\"\n  );\n\n  dragStatus.overTopHalf = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"top-half\"\n  );\n\n  dragStatus.overBottomHalf = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"bottom-half\"\n  );\n\n  dragStatus.overSelf =\n    getElementIdDataAttrFromFirstElementThatMatchesClass(\n      elementsList,\n      \"breakdance--currently-dragging\"\n    ) !== false;\n\n  if (dragStatus.overBottomHalf) {\n    dragStatus.overNodeId = dragStatus.overBottomHalf;\n  } else if (dragStatus.overTopHalf) {\n    dragStatus.overNodeId = dragStatus.overTopHalf;\n  }\n\n  if (dragStatus.overNodeId) {\n    const parent = getNodeParent(tree, dragStatus.overNodeId);\n    const index = getNodeIndex(tree, dragStatus.overNodeId);\n\n    if (index !== false && parent !== false) {\n      dragStatus.overIndex = index;\n      dragStatus.overNodeParentId = parent.id;\n    }\n  }\n\n  return dragStatus;\n};\n","import { MouseDragStatus } from \"@/lib/structure-panel-drag/util\";\nimport { findNode, getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { Tree } from \"@/types/tree\";\nimport { isThisNodeAllowedInsideThatNode } from \"../tree/nesting\";\nimport { structurePanelNodeIsCollapsed } from \"@/lib/structure-panel/expand-collapse\";\n\ntype NodePosition = {\n  parentId: number;\n  index: number;\n};\n\nexport function getNewNodePosition(\n  mouseDragStatus: MouseDragStatus,\n  tree: Tree,\n  draggedNodeId: number\n): NodePosition | false {\n  let maybeNodePosition: false | NodePosition = false;\n  const draggedNode = findNode(tree, draggedNodeId);\n  if (!draggedNode) return false;\n\n  /*\n    \n    keep this comment in sync with the drag logic or ur a huge asshole\n  \n    if mouse is over another node\n      if over the top half of a node\n        position it above that node (as the preceding sibling) - if it's allowed\n         - the logic to do that is if it is already positioned above the node we are over, dont do shit\n         - and otherwise, move it to the position of the node we are over (occupying its index will push it down one)\n  \n        if it can not be positioned above that node as the preceding sibling,\n          does that node have a preceding sibling? can we position it as the last child of that node's preceding sibling?\n  \n  \n      if over the bottom half of a node and the node has no children showing (i.e. the node has no children, or the node is collapsed)\n        position it below that node (as the following sibling) - if it's allowed.\n        (A) the logic for this is as follows:\n          ... put it at the position returned by getPositionAfterNode, but we have to subtract one from the index returned...\n          ... by getPositionAfterNode if the ghost node is already inside the parent of the node we are dragging over...\n          ... and its index is lower that the index of the node we are dragging over ...\n          ... because the position returned by getPositionAfterNode isn't taking into account ...\n          ... that the ghost node is't then gonna be removed from above it ...\n  \n        if it can not be positioned below that node\n          position it inside that node as the first child\n  \n        if it can't be positioned inside that node as the first child:\n          if the node is the last child of its parent (B)\n            try to position it after the node's parent\n              if it's not allowed, recurse to B, with the node parent's parent\n              note: \n              ... just like (A) above, we have to subtract one from the node index returned by\n              ... getPositionAfterNode if the ghost node is in the same parent that the node is being dragged to\n              ... at a lower position than the node's new index, because getPositionAfterNode doesn't take \n              ... into account that the ghost node is going to be removed from above it\n\n      if over the bottom half of a node, and the node has children\n        position it inside that node, as the first child\n  \n    if mouse is over the dragged node\n      if it is the last child, and mouse is trying to pull it shallower\n        position it below its parent (as the following sibling) - recursively.\n  \n      if it has a preceding sibling (meaning it isnt the first child), and mouse is trying to push it deeper\n        position it inside its preceding sibling, as the last child - (TODO: right now this isn't recursive, but it should be)\n  \n    finally, check if where it has been positioned is allowed, and if so, return that position\n    */\n\n  if (!mouseDragStatus.overSelf) {\n    if (mouseDragStatus.overTopHalf) {\n      maybeNodePosition = getPositionOfNode(mouseDragStatus.overTopHalf, tree);\n\n      if (\n        draggedNodeId ===\n        getIdOfPrecedingSibling(mouseDragStatus.overTopHalf, tree)\n      ) {\n        maybeNodePosition = false;\n      }\n\n      const precedingSiblingId = getIdOfPrecedingSibling(\n        mouseDragStatus.overTopHalf,\n        tree\n      );\n\n      if (\n        maybeNodePosition &&\n        precedingSiblingId &&\n        isThisNodeAllowedInsideThatNode(tree, draggedNode, precedingSiblingId)\n      ) {\n        maybeNodePosition = getPositionAtEndInside(precedingSiblingId, tree);\n      }\n    } else if (\n      mouseDragStatus.overBottomHalf &&\n      (nodeChildrenCount(mouseDragStatus.overBottomHalf, tree) === 0 ||\n        structurePanelNodeIsCollapsed(mouseDragStatus.overBottomHalf))\n    ) {\n      maybeNodePosition = getPositionAfterNode(\n        mouseDragStatus.overBottomHalf,\n        tree\n      );\n\n      if (\n        maybeNodePosition &&\n        isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        )\n      ) {\n        const index = getNodeIndex(tree, draggedNode.id);\n        const parent = getNodeParent(tree, draggedNode.id);\n\n        if (\n          index !== false &&\n          parent !== false &&\n          maybeNodePosition &&\n          mouseDragStatus.overIndex\n        ) {\n          if (maybeNodePosition.parentId === parent.id) {\n            if (index < mouseDragStatus.overIndex) {\n              maybeNodePosition.index = maybeNodePosition.index - 1;\n            }\n          }\n        }\n      } else if (\n        maybeNodePosition &&\n        !isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        )\n      ) {\n        maybeNodePosition = getPositionAtStartInside(\n          mouseDragStatus.overBottomHalf\n        );\n      }\n\n      if (\n        maybeNodePosition &&\n        !isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        ) &&\n        isLastChild(mouseDragStatus.overBottomHalf, tree)\n      ) {\n        let parentToPositionAfter: number | false = false;\n\n        if (mouseDragStatus.overBottomHalf) {\n          const parentToPositionAfter_ = getNodeParent(\n            tree,\n            mouseDragStatus.overBottomHalf\n          );\n          parentToPositionAfter = parentToPositionAfter_\n            ? parentToPositionAfter_.id\n            : false;\n        }\n\n        while (parentToPositionAfter) {\n          maybeNodePosition = getPositionAfterNode(parentToPositionAfter, tree);\n\n          // subtract one from index logic\n          const parent = getNodeParent(tree, draggedNode.id);\n\n          if (\n            maybeNodePosition &&\n            parent &&\n            maybeNodePosition.parentId === parent.id\n          ) {\n            const draggedNodeIndex = getNodeIndex(tree, draggedNode.id);\n            const lastRecursedItemIndex = getNodeIndex(\n              tree,\n              parentToPositionAfter\n            );\n\n            if (draggedNodeIndex < lastRecursedItemIndex) {\n              maybeNodePosition.index = maybeNodePosition.index - 1;\n            }\n          }\n          // ------\n\n          if (!maybeNodePosition) {\n            parentToPositionAfter = false;\n          } else if (\n            !isThisNodeAllowedInsideThatNode(\n              tree,\n              draggedNode,\n              maybeNodePosition.parentId\n            ) &&\n            isLastChild(parentToPositionAfter, tree)\n          ) {\n            const parent = getNodeParent(tree, parentToPositionAfter);\n\n            parentToPositionAfter = parent ? parent.id : false;\n          } else {\n            parentToPositionAfter = false;\n          }\n        }\n      }\n    } else if (\n      mouseDragStatus.overBottomHalf &&\n      nodeChildrenCount(mouseDragStatus.overBottomHalf, tree) > 0\n    ) {\n      maybeNodePosition = getPositionAtStartInside(\n        mouseDragStatus.overBottomHalf\n      );\n    }\n  } else if (mouseDragStatus.overSelf) {\n    if (\n      isLastChild(draggedNodeId, tree) &&\n      mouseDragStatus.overNestShallower === draggedNodeId\n    ) {\n      let positionInsideParentNodeId: number | false = false;\n\n      maybeNodePosition = getPositionBelowParent(draggedNodeId, tree);\n\n      if (maybeNodePosition) {\n        positionInsideParentNodeId = maybeNodePosition.parentId;\n      }\n\n      while (positionInsideParentNodeId) {\n        if (\n          isThisNodeAllowedInsideThatNode(\n            tree,\n            draggedNode,\n            positionInsideParentNodeId\n          )\n        ) {\n          break;\n        } else if (\n          maybeNodePosition &&\n          !isThisNodeAllowedInsideThatNode(\n            tree,\n            draggedNode,\n            maybeNodePosition.parentId\n          ) &&\n          isLastChild(positionInsideParentNodeId, tree)\n        ) {\n          const parent = getNodeParent(tree, positionInsideParentNodeId);\n          positionInsideParentNodeId = parent ? parent.id : false;\n\n          if (positionInsideParentNodeId) {\n            maybeNodePosition = getPositionAtEndInside(\n              positionInsideParentNodeId,\n              tree\n            );\n          }\n        } else {\n          break;\n        }\n      }\n    }\n\n    if (\n      hasPrecedingSibling(draggedNodeId, tree) &&\n      mouseDragStatus.overNestDeeper === draggedNodeId\n    ) {\n      maybeNodePosition = getPositionAtEndInsidePrecedingSibling(\n        draggedNodeId,\n        tree\n      );\n    }\n  }\n\n  if (!maybeNodePosition) return false;\n\n  const dragAllowed = isThisNodeAllowedInsideThatNode(\n    tree,\n    draggedNode,\n    maybeNodePosition.parentId\n  );\n\n  if (dragAllowed) {\n    return maybeNodePosition;\n  }\n  return false;\n}\n\n/* helper functions */\n\nfunction getPositionOfNode(nodeId: number, tree: Tree): NodePosition | false {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  return {\n    parentId: parent.id,\n    index: index\n  };\n}\n\nfunction getPositionAfterNode(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  return {\n    parentId: parent.id,\n    index: index + 1\n  };\n}\n\nfunction getPositionAtStartInside(nodeId: number): NodePosition {\n  return {\n    parentId: nodeId,\n    index: 0\n  };\n}\n\nfunction getPositionAtEndInside(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const childCount = nodeChildrenCount(nodeId, tree);\n  if (childCount === false) return false;\n\n  return {\n    parentId: nodeId,\n    index: childCount\n  };\n}\n\nfunction getPositionBelowParent(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const parent = getNodeParent(tree, nodeId);\n  if (!parent) return false;\n\n  return getPositionAfterNode(parent.id, tree);\n}\n\nfunction getPositionAtEndInsidePrecedingSibling(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const precedingSiblingId = getIdOfPrecedingSibling(nodeId, tree);\n  if (!precedingSiblingId) return false;\n\n  return getPositionAtEndInside(precedingSiblingId, tree);\n}\n\nfunction getIdOfPrecedingSibling(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  if (index < 1) return false;\n\n  return parent.children[index - 1].id;\n}\n\nfunction nodeChildrenCount(nodeId: number, tree: Tree) {\n  const node = findNode(tree, nodeId);\n  if (!node) return false;\n  return node.children.length;\n}\n\nfunction isLastChild(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return;\n\n  const childCount = nodeChildrenCount(parent.id, tree);\n  if (!childCount) return;\n\n  return childCount === 1 || index === childCount - 1;\n}\n\nfunction hasPrecedingSibling(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n\n  if (index === false) return;\n\n  return index > 0;\n}\n","\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { Vue, Component, Ref } from \"vue-property-decorator\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport {\n  getNodeIdAtPointInStructurePanel,\n  getMouseDragStatus,\n  initialMouseDragStatus,\n  DragPayload\n} from \"@/lib/structure-panel-drag/util\";\n\nimport { getNewNodePosition } from \"@/lib/structure-panel-drag/get-new-node-position\";\nimport { findNode, getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { ROOT_ELEMENT_ID } from \"@/lib/tree/tree\";\nimport {\n  expandOrCollapseAllNodes,\n  expandNodesToShowActiveElement,\n  structurePanelNodeIsExpanded\n} from \"@/lib/structure-panel/expand-collapse\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  closeUiPanel,\n  scrollToHtmlElementInsidePanel,\n  toggleUiPanel\n} from \"@/lib/panels/panels\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport { MutationPayload } from \"vuex\";\nimport UIModule from \"@/store/modules/ui\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport StructureContextMenu from \"@/components/Structure/StructureContextMenu.vue\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\n\n@Component({\n  components: {\n    StructureContextMenu,\n    PanelHeader,\n    StandardButton\n  }\n})\nexport default class StructurePanel extends Vue {\n  @Ref() readonly panelHeader!: PanelHeader;\n\n  mouseDragStatus = {\n    ...initialMouseDragStatus()\n  };\n\n  close() {\n    closeUiPanel(\"structure\");\n  }\n\n  get classList() {\n    return {\n      \"structure-panel-content-wrapper\": true,\n      \"is-draggable\": this.hasPermission,\n      \"drag-in-progress\": uiStore.isCanvasElementBeingDragged,\n      \"force-grabbing-cursor\": this.forceGrabbingCursor\n    };\n  }\n\n  forceGrabbingCursor = false;\n\n  firstDragMovement = true;\n\n  draggedNodeId: false | number = false;\n\n  lastSubmittedDrag: false | DragPayload = false;\n\n  didMoveElement = false;\n\n  unsubscribeFromActivateElementMutation: (() => void) | null = null;\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ChildStructureNodes = require(\"./ChildStructureNodes.vue\").default;\n  }\n\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  mounted() {\n    this.expandToShowActiveElementWatch();\n\n    // We cannot use watch instead, because watch doesn't emit when the same value was written to state\n    this.unsubscribeFromActivateElementMutation = this.$store.subscribe<\n      MutationPayload & { payload: UIModule[\"activeElementId\"] }\n    >(({ type }) => {\n      if (type === \"ui/activateElementMutation\") {\n        this.expandToShowActiveElementWatch();\n      }\n    });\n  }\n\n  expandToShowActiveElementWatch() {\n    if (this.activeElementId) {\n      const expandedNodesWithActiveElementInside = expandNodesToShowActiveElement(\n        documentStore.document.tree,\n        this.activeElementId\n      );\n\n      if (expandedNodesWithActiveElementInside) {\n        uiStore.setStructurePanelNodesExpandedState({\n          ...uiStore.structurePanelNodesExpandedState,\n          ...expandedNodesWithActiveElementInside\n        });\n      }\n\n      // Wait until ChildStructureNodes will re-render\n      this.$nextTick(() => {\n        // Selecting an element will open the Controls panel and close Structure if they're on the same side\n        // un-mounting it. But since this is on \"nextTick\" it'll still run. So we check if it still exists\n        if (!this.$el || !this.panelHeader) {\n          return;\n        }\n\n        const activeElementDomEl = this.$el.querySelector(\n          `[data-element-id=\"${this.activeElementId}\"] .structure-node-title-wrapper`\n        );\n\n        if (activeElementDomEl) {\n          scrollToHtmlElementInsidePanel(\n            this.$el,\n            this.panelHeader.$el,\n            activeElementDomEl\n          );\n        }\n      });\n    }\n  }\n\n  get rootElement() {\n    return documentStore.document.tree.root;\n  }\n\n  get hasPermission() {\n    return uiStore.hasFullAccess;\n  }\n\n  onContextMenu(e: MouseEvent) {\n    if (!this.hasPermission) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const elementId =\n      getNodeIdAtPointInStructurePanel(e.clientX, e.clientY) || undefined;\n\n    if (elementId) {\n      uiStore.activateElement(elementId);\n    }\n\n    uiStore.setOnStructurePanelRightClickMenuState({\n      elementId,\n      position: {\n        x: e.clientX,\n        y: e.clientY\n      }\n    });\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    if (e.button !== 0) return; // Left-clicks only\n    if (!this.hasPermission) return;\n\n    const draggedNodeId = getNodeIdAtPointInStructurePanel(\n      e.clientX,\n      e.clientY\n    );\n\n    if (draggedNodeId) {\n      uiStore.activateElement(draggedNodeId);\n\n      this.draggedNodeId = draggedNodeId;\n\n      this.easyEvent.on(\"mousemove\", this.dragging);\n      this.easyEvent.on(\"mouseup\", this.dragEnd);\n      this.forceGrabbingCursor = true;\n      this.didMoveElement = false;\n\n      breakdanceUndo.startTransaction();\n    }\n  }\n\n  // throttledDragging = throttle(this.dragging, 80);\n\n  async dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!this.draggedNodeId) return;\n\n    let dragPayload: null | DragPayload = null;\n\n    if (this.firstDragMovement) {\n      const nodeIndex = getNodeIndex(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n      const nodeParent = getNodeParent(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n\n      if (nodeIndex === false || nodeParent === false) return;\n\n      uiStore.setCanvasElementDraggedId(this.draggedNodeId);\n\n      dragPayload = {\n        draggedElementId: this.draggedNodeId,\n        droppedOnElementId: nodeParent.id,\n        index: nodeIndex\n      };\n\n      this.firstDragMovement = false;\n    } else {\n      this.mouseDragStatus = getMouseDragStatus(\n        e.clientX,\n        e.clientY,\n        documentStore.document.tree\n      );\n\n      this.ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e);\n\n      const newNodePosition = getNewNodePosition(\n        this.mouseDragStatus,\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n\n      if (newNodePosition) {\n        dragPayload = {\n          draggedElementId: this.draggedNodeId,\n          droppedOnElementId: newNodePosition.parentId,\n          index: newNodePosition.index\n        };\n      }\n    }\n\n    if (dragPayload) {\n      /*\n      only move it inside if either:\n       - the droppedOn element is already open\n       - there are no children\n\n      this prevents the ugly UX of an element disappearing when the droppedOn is collapsed\n\n      (when there are no children, we do the move immediately and expand the node)\n      */\n\n      const droppedOnElement = findNode(\n        documentStore.document.tree,\n        dragPayload.droppedOnElementId\n      );\n\n      const isDroppedOnExpandedOrEmpty =\n        structurePanelNodeIsExpanded(dragPayload.droppedOnElementId) ||\n        droppedOnElement?.children.length === 0;\n\n      if (isDroppedOnExpandedOrEmpty) {\n        const elementMoved = await documentStore.moveElement({\n          ...dragPayload,\n          wrapWithTransaction: false\n        });\n\n        // if we moved it already, keep it\n        this.didMoveElement = this.didMoveElement || elementMoved;\n\n        uiStore.setStructurePanelNodesExpandedState({\n          ...uiStore.structurePanelNodesExpandedState,\n          [dragPayload.droppedOnElementId.toString()]: true\n        });\n\n        this.lastSubmittedDrag = dragPayload;\n      }\n    }\n  }\n\n  async dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.lastSubmittedDrag) {\n      const elementMoved = await documentStore.moveElement({\n        ...this.lastSubmittedDrag,\n        wrapWithTransaction: false\n      });\n\n      // if we moved it already, keep it\n      this.didMoveElement = this.didMoveElement || elementMoved;\n    }\n\n    if (this.draggedNodeId !== false && this.didMoveElement) {\n      const draggedElement = findNode(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n      breakdanceUndo.endTransaction(\n        `Move ${getBuilderElementNameBySlug(draggedElement?.data.type)}`\n      );\n    } else {\n      breakdanceUndo.cancelTransactionIfItIsStillInProgress();\n    }\n\n    uiStore.endCanvasElementDrag();\n\n    this.lastSubmittedDrag = false;\n\n    this.mouseDragStatus = {\n      ...initialMouseDragStatus()\n    };\n    this.firstDragMovement = true;\n    this.draggedNodeId = false;\n    this.forceGrabbingCursor = false;\n    this.didMoveElement = false;\n  }\n\n  ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e: MouseEvent) {\n    if (!this.mouseDragStatus.overNodeId) return;\n\n    this.delayedExpandNode(this.mouseDragStatus.overNodeId, e);\n  }\n\n  delayedExpandNodeTimeout: NodeJS.Timeout | null = null;\n  delayedExpandNode(nodeId: number, e: MouseEvent) {\n    if (this.delayedExpandNodeTimeout) {\n      clearTimeout(this.delayedExpandNodeTimeout);\n    }\n\n    this.delayedExpandNodeTimeout = setTimeout(() => {\n      this.delayedExpandNodeTimeout = null;\n\n      // check that the user didn't hover over some other element during the delay\n      if (nodeId === this.mouseDragStatus.overNodeId) {\n        const newStructurePanelNodesExpandedState = defensiveCopy(\n          uiStore.structurePanelNodesExpandedState\n        );\n\n        newStructurePanelNodesExpandedState[nodeId] = true;\n\n        uiStore.setStructurePanelNodesExpandedState(\n          newStructurePanelNodesExpandedState\n        );\n\n        /*\n        now that the node is expanded re-run the dragging method,\n        because maybe now the node could be nested inside the open node\n        */\n        this.dragging(e);\n      }\n    }, 500);\n  }\n\n  get ROOT_ELEMENT_ID() {\n    return ROOT_ELEMENT_ID;\n  }\n\n  collapseAllNodes() {\n    uiStore.setStructurePanelNodesExpandedState(\n      expandOrCollapseAllNodes(documentStore.document.tree, false)\n    );\n  }\n\n  expandAllNodes() {\n    uiStore.setStructurePanelNodesExpandedState(\n      expandOrCollapseAllNodes(documentStore.document.tree, true)\n    );\n  }\n\n  collapseAllNodesExcept(idOfNodeToKeepOpen: number) {\n    const allNodesCollapsedState = expandOrCollapseAllNodes(\n      documentStore.document.tree,\n      false\n    );\n\n    const nodesToExpandState = expandNodesToShowActiveElement(\n      documentStore.document.tree,\n      idOfNodeToKeepOpen\n    );\n\n    uiStore.setStructurePanelNodesExpandedState({\n      ...allNodesCollapsedState,\n      ...nodesToExpandState\n    });\n  }\n\n  toggleStage: 0 | 1 | 2 = 2;\n\n  toggleNodes() {\n    if (this.toggleStage === 0) {\n      this.toggleStage = 1;\n      this.collapseAllNodes();\n    } else if (this.toggleStage === 1) {\n      this.expandAllNodes();\n      this.toggleStage = 2;\n    } else if (uiStore.activeElementId) {\n      const activeElementParent = getNodeParent(\n        documentStore.document.tree,\n        uiStore.activeElementId\n      );\n\n      if (activeElementParent && activeElementParent?.id === ROOT_ELEMENT_ID) {\n        // The active node is at the root? Just collapse all, and skip stage 0\n        this.collapseAllNodes();\n        this.toggleStage = 1;\n\n        return;\n      }\n\n      this.collapseAllNodesExcept(uiStore.activeElementId);\n      this.toggleStage = 0;\n    } else {\n      // No active node? Just collapse all, and skip stage 0\n      this.collapseAllNodes();\n      this.toggleStage = 1;\n    }\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromActivateElementMutation &&\n      this.unsubscribeFromActivateElementMutation();\n  }\n\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructurePanel.vue?vue&type=template&id=4d0eade2&\"\nimport script from \"./StructurePanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructurePanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StructurePanel.vue?vue&type=style&index=0&id=4d0eade2&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-history-and-revisions-panel vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{ref:\"panelHeader\",staticClass:\"breakdance-history-and-revisions-panel__header\",on:{\"close\":_vm.close}},[_vm._v(\" History \")]),(!_vm.disableRevisions)?_c('TabsRow',[_c('Tab',{attrs:{\"value\":_vm.tab,\"id\":\"history\"},on:{\"input\":function($event){_vm.tab = $event}}},[_vm._v(\" History \")]),_c('Tab',{attrs:{\"value\":_vm.tab,\"id\":\"revisions\"},on:{\"input\":function($event){_vm.tab = $event}}},[_vm._v(\" Revisions \")])],1):_vm._e(),(_vm.tab === 'history')?_c('History',{on:{\"scrollToActiveEl\":_vm.scrollToActiveElement}}):(_vm.tab === 'revisions')?_c('Revisions'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"snapshots-list\"},_vm._l((_vm.snapshots),function(snapshot,index){return _c('SnapshotItem',{key:_vm.snapshots.length - 1 - index,attrs:{\"data-snapshot-index\":_vm.snapshots.length - 1 - index,\"snapshot\":snapshot,\"selected\":_vm.currentIndex === _vm.snapshots.length - 1 - index},on:{\"click\":function($event){return _vm.onSnapshotSelected(_vm.snapshots.length - 1 - index)}}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"snapshots-item\",class:{ 'snapshots-item--selected': _vm.selected },attrs:{\"data-test-id\":\"snapshots-item\"},on:{\"click\":function($event){return _vm.$emit('click', _vm.snapshot)}}},[_c('span',{staticClass:\"snapshots-item__title\"},[_vm._v(_vm._s(_vm.snapshot.title))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { SnapshotInfo } from \"@/types/snapshot\";\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class SnapshotItem extends Vue {\n  @Prop({\n    default() {\n      return {};\n    }\n  })\n  snapshot!: SnapshotInfo;\n\n  @Prop({ default: false })\n  selected!: boolean;\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SnapshotItem.vue?vue&type=template&id=dae3fd74&\"\nimport script from \"./SnapshotItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./SnapshotItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SnapshotItem.vue?vue&type=style&index=0&id=dae3fd74&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport { Vue, Component, Watch } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport SnapshotItem from \"./SnapshotItem.vue\";\nimport { snapshotStore } from \"@/store/store-accessor\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\n\n@Component({\n  components: {\n    PanelHeader,\n    SnapshotItem\n  }\n})\nexport default class History extends Vue {\n  onSnapshotSelected(snapshotIndex: number) {\n    snapshotStore.setCurrentSnapshotIndex(snapshotIndex);\n    breakdanceUndo.setStoreFromCurrentSnapshot();\n  }\n\n  close() {\n    closeUiPanel(\"history\");\n  }\n\n  get snapshots() {\n    return [...snapshotStore.snapshots].reverse();\n  }\n\n  get currentIndex() {\n    return snapshotStore.index;\n  }\n\n  @Watch(\"currentIndex\", { immediate: true })\n  handleCurrentIndexChange() {\n    this.scrollToActiveSnapshotElement();\n  }\n\n  scrollToActiveSnapshotElement() {\n    Vue.nextTick(() => {\n      const activeSnapshotItemDomEl = this.$el.querySelector(\n        `[data-snapshot-index=\"${this.currentIndex}\"]`\n      );\n\n      if (activeSnapshotItemDomEl) {\n        this.$emit(\"scrollToActiveEl\", activeSnapshotItemDomEl);\n      }\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=27a011bd&\"\nimport script from \"./History.vue?vue&type=script&lang=ts&\"\nexport * from \"./History.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&id=27a011bd&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"revisions-panel\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.loading,\"revisions\":_vm.revisionUiItems,\"revisions-not-supported-message\":_vm.revisionsNotSupportedMessage},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\n\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport RevisionItem from \"@/components/Reusable/Revisions/RevisionItem.vue\";\n\nimport { documentStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  DocumentRevision,\n  DocumentRevisionsData,\n  DocumentRevisionsDataFromServerV,\n  RevisionUiItem\n} from \"@/types/revisions\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\n\nimport { exportTree, treesEqual } from \"@/lib/tree/tree\";\nimport { ExportedTree, ExportedTreeV } from \"@/types/tree\";\n\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\nimport fpJsonParseTypesafe from \"@/util/fp-json-parse-typesafe\";\n\n@Component({\n  components: { RevisionsList, RevisionItem, PanelHeader }\n})\nexport default class Revisions extends Vue {\n  loading = false;\n  selectedRevisionIndex = 0;\n  unsubscribeFromStore = () => {};\n\n  revisionsNotSupportedMessage: string | null = null;\n\n  get revisionUiItems() {\n    return this.revisions.map(\n      (revision, index): RevisionUiItem => ({\n        revisionData: revision,\n        isSelected: this.selectedRevisionIndex === index\n      })\n    );\n  }\n\n  async mounted() {\n    this.loading = true;\n    const remoteRevisions = await this.fetchRemoteRevisions();\n    this.loading = false;\n    if (!remoteRevisions) {\n      return;\n    }\n\n    uiStore.setRevisionsData({\n      revisions: remoteRevisions,\n      currentUnsavedRevision: this.getCurrentUnsavedRevision(remoteRevisions)\n    });\n\n    this.setActiveRevision();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"document\" &&\n        mutationPayload.type !== \"document/loadRevision\"\n      ) {\n        uiStore.setRevisionsData({\n          revisions: uiStore.revisionsData.revisions,\n          currentUnsavedRevision: this.getCurrentUnsavedRevision(\n            uiStore.revisionsData.revisions\n          )\n        });\n\n        this.setActiveRevision();\n      }\n    });\n  }\n\n  destroyed() {\n    this.unsubscribeFromStore();\n  }\n\n  get revisions(): DocumentRevision[] {\n    return uiStore.revisionsData.currentUnsavedRevision\n      ? [\n          uiStore.revisionsData.currentUnsavedRevision,\n          ...uiStore.revisionsData.revisions\n        ]\n      : uiStore.revisionsData.revisions;\n  }\n\n  get currentTree(): ExportedTree {\n    return exportTree(documentStore.document.tree);\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      const remoteRevisions = await this.fetchRemoteRevisions();\n      if (remoteRevisions) {\n        uiStore.setRevisionsData({\n          revisions: remoteRevisions,\n          // we just saved so there can't be any current revision\n          currentUnsavedRevision: null\n        });\n      }\n\n      this.setActiveRevision();\n    }\n  }\n\n  setActiveRevision() {\n    const activeRevisionIndex = this.getActiveRevisionIndex(\n      uiStore.revisionsData.revisions\n    );\n\n    if (activeRevisionIndex !== -1) {\n      this.selectedRevisionIndex = uiStore.revisionsData.currentUnsavedRevision\n        ? // +1 for the current revision at the start of the array\n          activeRevisionIndex + 1\n        : activeRevisionIndex;\n\n      this.scrollToActiveRevision(\"smooth\");\n    } else {\n      this.selectedRevisionIndex = 0;\n      this.scrollToActiveRevision(\"auto\");\n    }\n  }\n\n  getActiveRevisionIndex(revisions: DocumentRevision[]) {\n    return revisions.findIndex(revision =>\n      treesEqual(revision.tree, this.currentTree)\n    );\n  }\n\n  getCurrentUnsavedRevision(\n    revisions: DocumentRevision[]\n  ): DocumentRevisionsData[\"currentUnsavedRevision\"] {\n    const activeRevision = this.getActiveRevisionIndex(revisions);\n\n    if (activeRevision === -1) {\n      return {\n        id: -1,\n        author: false,\n        date: \"Current\",\n        tree: this.currentTree\n      };\n    }\n\n    // Prevent showing current revision after just saving\n    const isCurrentRevisionTheSameAsTheMostRecentRevision =\n      activeRevision === 0 &&\n      uiStore.revisionsData.currentUnsavedRevision &&\n      treesEqual(\n        revisions[activeRevision].tree,\n        uiStore.revisionsData.currentUnsavedRevision?.tree\n      );\n\n    if (isCurrentRevisionTheSameAsTheMostRecentRevision) {\n      return null;\n    }\n\n    return uiStore.revisionsData.currentUnsavedRevision;\n  }\n\n  async fetchRemoteRevisions() {\n    return pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_retrieve_revisions\",\n        decoder: DocumentRevisionsDataFromServerV,\n        dataToPost: {\n          id: documentStore.document.documentMeta.id\n        }\n      }),\n      fold(\n        errors => {\n          logErrorsToUiStore(errors);\n\n          return null;\n        },\n        data => {\n          if (\"unsupported\" in data) {\n            this.revisionsNotSupportedMessage = data.unsupported;\n\n            return null;\n          }\n\n          return data.revisions\n            .map(revision => {\n              const maybeTree = fpJsonParseTypesafe(\n                revision.tree,\n                ExportedTreeV\n              );\n\n              const decodedTree = pipe(\n                maybeTree,\n                fold(\n                  () => null,\n                  tree => tree\n                )\n              );\n\n              return {\n                ...revision,\n                tree: decodedTree\n              };\n            })\n            .filter(\n              (revision): revision is DocumentRevision => revision.tree !== null\n            );\n        }\n      )\n    );\n  }\n\n  onRevisionSelected(revisionUiItem: RevisionUiItem, index: number) {\n    const revision = this.revisions.find(\n      revision => revision.id === revisionUiItem.revisionData.id\n    );\n\n    if (revision) {\n      this.selectedRevisionIndex = index;\n      uiStore.activateElement(null);\n      uiStore.setInterfaceState(\"loading\");\n      documentStore.loadRevision(revision);\n      uiStore.setInterfaceState(\"normal\");\n    }\n  }\n\n  scrollToActiveRevision(behavior: ScrollIntoViewOptions[\"behavior\"]) {\n    forceNextTick(() =>\n      document\n        .querySelector(\".revisions-panel .revisions-item--selected\")\n        ?.scrollIntoView({ behavior, block: \"center\" })\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Revisions.vue?vue&type=template&id=ba25e29c&\"\nimport script from \"./Revisions.vue?vue&type=script&lang=ts&\"\nexport * from \"./Revisions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Revisions.vue?vue&type=style&index=0&id=ba25e29c&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport History from \"@/components/HistoryAndRevisions/History/History.vue\";\nimport Revisions from \"@/components/HistoryAndRevisions/Revisions/Revisions.vue\";\nimport {\n  closeUiPanel,\n  scrollToHtmlElementInsidePanel\n} from \"@/lib/panels/panels\";\nimport TabsRow from \"@/components/Reusable/Tabs/TabsRow.vue\";\nimport Tab from \"@/components/Reusable/Tabs/Tab.vue\";\n\ntype HistoryOrRevisionTab = \"history\" | \"revisions\";\n\n@Component({\n  components: {\n    Revisions,\n    History,\n    PanelHeader,\n    TabsRow,\n    Tab\n  }\n})\nexport default class HistoryAndRevisionsPanel extends Vue {\n  tab: HistoryOrRevisionTab = \"history\";\n\n  @Prop({ default: false })\n  disableRevisions!: boolean;\n\n  @Ref() readonly panelHeader!: PanelHeader;\n\n  close() {\n    closeUiPanel(\"history\");\n  }\n\n  scrollToActiveElement(activeEl: Element) {\n    scrollToHtmlElementInsidePanel(this.$el, this.panelHeader.$el, activeEl);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HistoryAndRevisionsPanel.vue?vue&type=template&id=0f089068&\"\nimport script from \"./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HistoryAndRevisionsPanel.vue?vue&type=style&index=0&id=0f089068&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:_vm.classList},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { PanelPosition, UIPanel } from \"@/types/ui\";\n\n/**\n * Intended to be used within AppLayout's \"body\" slot.\n */\n@Component\nexport default class AppLayoutBodyPanelArea extends Vue {\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: UIPanel | \"closed\";\n\n  get classList() {\n    if (this.panelState === \"closed\") return {};\n\n    return {\n      width288: true,\n      \"vscroll-wrap\": true,\n      borderOnLeft: this.position === \"right\",\n      borderOnRight: this.position === \"left\",\n      \"breakdance-app-left-area\": this.position === \"left\",\n      \"breakdance-app-right-area\": this.position === \"right\"\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppLayoutBodyPanelArea.vue?vue&type=template&id=5c48119e&\"\nimport script from \"./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppLayoutBodyPanelArea.vue?vue&type=style&index=0&id=5c48119e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Prop, Provide, Watch } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\n\nimport ElementPropertiesPanel from \"@/components/ElementPropertiesPanel/ElementPropertiesPanel.vue\";\nimport Add from \"@/components/Add/AddPanel.vue\";\nimport GlobalSettingsPanel from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue\";\nimport SelectorsPanel from \"@/components/Settings/Selectors/SelectorsPanel.vue\";\nimport StructurePanel from \"@/components/Structure/StructurePanel.vue\";\nimport { PanelPosition, UIPanel } from \"@/types/ui\";\nimport HistoryAndRevisionsPanel from \"@/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\n\n@Component({\n  components: {\n    AppLayoutBodyPanelArea,\n    HistoryAndRevisionsPanel,\n    StructurePanel,\n    ElementPropertiesPanel,\n    Add,\n    GlobalSettingsPanel,\n    SelectorsPanel\n  }\n})\nexport default class SidebarPanels extends Vue {\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: UIPanel | \"closed\";\n\n  @Watch(\"panelState\")\n  updatePanelContext() {\n    this.reactivePanelContext.state = this.panelState;\n  }\n\n  /**\n   * @Provide isn't reactive without using state\n   */\n  reactivePanelContext = {\n    state: this.panelState,\n    position: this.position\n  };\n\n  @Provide(\"panelContext\")\n  panelContext = this.reactivePanelContext;\n}\n\nexport type PanelContext = typeof SidebarPanels.prototype.panelContext;\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SidebarPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SidebarPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SidebarPanels.vue?vue&type=template&id=49957d58&\"\nimport script from \"./SidebarPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./SidebarPanels.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"breakdance-app-wrapper\"},[_c('div',{staticClass:\"breakdance-top-bar-wrapper\"},[_vm._t(\"topbar\")],2),_c('div',{staticClass:\"breakdance-app-body-wrapper\"},[_vm._t(\"body\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component\nexport default class AppLayout extends Vue {}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppLayout.vue?vue&type=template&id=8b4553ec&\"\nimport script from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppLayout.vue?vue&type=style&index=0&id=8b4553ec&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',_vm._l((_vm.closingConfirmations),function(value,name){return _c('ConfirmDialog',{key:name,attrs:{\"type\":value.type,\"save-is-enabled\":!value.chosenOption,\"save-is-in-progress\":value.isSaving,\"discard-is-enabled\":!value.chosenOption,\"discard-is-in-progress\":value.isDiscarding,\"has-cancel\":value.hasCancel,\"has-discard\":value.hasDiscard,\"action-text\":value.actionText,\"show\":value.show},on:{\"discard\":function($event){return _vm.markClosingConfirmationAs(name, 'discard')},\"save\":function($event){return _vm.markClosingConfirmationAs(name, 'save')},\"cancel\":function($event){return _vm.hideClosingConfirmation(name)},\"click:outside\":function($event){return _vm.hideClosingConfirmation(name)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(value.title)+\" \")]},proxy:true},{key:\"text\",fn:function(){return [_vm._v(_vm._s(value.text))]},proxy:true}],null,true)})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from \"vue-property-decorator\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport {\n  ClosingConfirmationChosenOption,\n  ClosingConfirmationSubject\n} from \"@/types/ui\";\n\n@Component({\n  components: {\n    ConfirmDialog\n  }\n})\nexport default class ClosingConfirmations extends Vue {\n  get closingConfirmations() {\n    return Object.fromEntries(\n      Object.entries(uiStore.closingConfirmations).filter(\n        ([, confirmation]) => {\n          return confirmation && confirmation.show;\n        }\n      )\n    );\n  }\n\n  markClosingConfirmationAs(\n    subject: ClosingConfirmationSubject,\n    chosenOption: ClosingConfirmationChosenOption\n  ) {\n    uiStore.chooseOptionForClosingConfirmation({ subject, chosenOption });\n  }\n\n  hideClosingConfirmation(subject: ClosingConfirmationSubject) {\n    uiStore.hideClosingConfirmation(subject);\n  }\n}\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClosingConfirmations.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClosingConfirmations.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClosingConfirmations.vue?vue&type=template&id=f930a8ec&\"\nimport script from \"./ClosingConfirmations.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClosingConfirmations.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dialog',{attrs:{\"value\":true,\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" This post can't be edited directly. \")]},proxy:true},{key:\"text\",fn:function(){return [(_vm.templateName)?[_c('p',[_vm._v(\" This post is rendered with \"+_vm._s(_vm.templateIsFallback ? \"Breakdance's internal\" : \"the\")+\" \\\"\"),_c('em',[_vm._v(_vm._s(_vm.decodedTemplateName))]),_vm._v(\"\\\" template. \")])]:[_c('p',[_vm._v(\" This post is rendered with a \"+_vm._s(_vm.templateIsFallback ? \"Breakdance's internal\" : \"\")+\" template. \")])],(_vm.templateIsFallback)?_c('p',[_vm._v(\" Please create your own template. \")]):_c('p',[_vm._v(\" The template does not contain a \"),_c('em',[_vm._v(\"Template Content Area\")]),_vm._v(\" element. Therefore, the posts it applies to are not editable in Breakdance. \")])]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.templateIsFallback && _vm.templatesPageUrl)?_c('v-btn',{attrs:{\"text\":\"\",\"href\":_vm.templatesPageUrl}},[_vm._v(\"Templates page\")]):(!_vm.templateIsFallback)?_c('v-btn',{attrs:{\"text\":\"\",\"href\":_vm.templateUrl}},[_vm._v(\"Edit Template\")]):_vm._e(),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"href\":_vm.backToAdmin}},[_vm._v(\" Go back \")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { getDocumentUrlFromId } from \"@/lib/wordpress/load\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\n\n@Component({\n  components: { Dialog }\n})\nexport default class TemplateDialog extends Vue {\n  @Prop()\n  templateName!: string;\n\n  @Prop()\n  templateId!: number;\n\n  @Prop()\n  templateIsFallback!: boolean;\n\n  @Prop()\n  templatesPageUrl!: string;\n\n  get decodedTemplateName() {\n    const txt = document.createElement(\"textarea\");\n    txt.innerHTML = this.templateName;\n    return txt.value;\n  }\n\n  get templateUrl() {\n    return getDocumentUrlFromId(this.templateId);\n  }\n\n  get backToAdmin() {\n    if (configStore.documentSpecificNeededUrls) {\n      return configStore.documentSpecificNeededUrls.backToWordPressUrl ?? \"\";\n    }\n\n    return \"\";\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TemplateDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TemplateDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TemplateDialog.vue?vue&type=template&id=7619b44b&\"\nimport script from \"./TemplateDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./TemplateDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dialog',{attrs:{\"value\":true,\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Invalid post \")]},proxy:true},{key:\"text\",fn:function(){return [(_vm.invalidPostData.errorType === 'post_does_not_exist')?_c('div',[_vm._v(\" The requested post doesn't exist. It may have been deleted, or maybe you used an outdated URL. \")]):_vm._e(),(_vm.invalidPostData.errorType === 'post_is_in_trash')?_c('div',[_vm._v(\" You can't edit this item because it is in the Trash. Please restore it and try again. \")]):_vm._e(),(_vm.invalidPostData.errorType === 'post_type_is_banned')?_c('div',[(_vm.invalidPostData.postType)?[_vm._v(\" Posts with post type \"),_c('b',[_vm._v(\"\\\"\"+_vm._s(_vm.invalidPostData.postType)+\"\\\"\")]),_vm._v(\" can't be edited with Breakdance directly. Please use a \"),_c('b',[_vm._v(\"Breakdance Template\")]),_vm._v(\" instead. \")]:[_vm._v(\" The requested post can't be edited with Breakdance. \")]],2):_vm._e(),(_vm.invalidPostData.errorType === 'post_type_is_restricted')?_c('div',[_vm._v(\" You don't have enough permissions to edit \"),_c('b',[_vm._v(\"\\\"\"+_vm._s(_vm.invalidPostData.postType)+\"\\\"\")]),_vm._v(\" post type. \")]):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"href\":_vm.invalidPostData.backToAdminUrl}},[_vm._v(\" Back to WordPress admin \")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { configStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: { Dialog }\n})\nexport default class InvalidPostDialog extends Vue {\n  get invalidPostData() {\n    return configStore.invalidPostData;\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InvalidPostDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InvalidPostDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InvalidPostDialog.vue?vue&type=template&id=1000f0d6&\"\nimport script from \"./InvalidPostDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./InvalidPostDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('Dialog',{attrs:{\"value\":_vm.showDialog,\"width\":500,\"closeable\":false},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"subtitle-top\",fn:function(){return [_vm._v(\"Welcome to Breakdance\")]},proxy:true},{key:\"title\",fn:function(){return [_vm._v(\"👋 Do you want to start with a template?\")]},proxy:true},{key:\"text\",fn:function(){return [_c('p',[_vm._v(\" Templates save you hours of work. Each template is crafted by a pro and is fully customizable. \")])]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{staticStyle:{\"margin-right\":\"auto\"},attrs:{\"color\":\"blue\"},on:{\"click\":_vm.openDesignLibrary}},[_vm._v(\" Open Design Library \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"text\":\"\"},on:{\"click\":_vm.closeForever}},[_vm._v(\"No, thanks\")])]},proxy:true}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { triggerShortcut } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { configStore, documentStore } from \"@/store/store-accessor\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport * as t from \"io-ts\";\n\n@Component({\n  components: { Dialog }\n})\nexport default class FirstTimeVisit extends Vue {\n  isOpen = configStore.neededData?.isBuilderFirstTimeVisit ?? true;\n\n  get showDialog() {\n    return this.isTreeEmpty && this.isOpen;\n    // return this.isOpen;\n  }\n\n  get isTreeEmpty() {\n    return documentStore.document.tree.root.children.length === 0;\n  }\n\n  closeForever() {\n    this.isOpen = false;\n\n    makeWordPressAjaxRequest({\n      action: \"breakdance_save_arbitrary\",\n      dataToPost: {\n        key: \"onboarding_builder_fist_time_visit\",\n        data: \"true\"\n      },\n      decoder: t.unknown\n    });\n  }\n\n  openDesignLibrary() {\n    triggerShortcut(\"CMD_B\");\n\n    this.closeForever();\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FirstTimeVisit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FirstTimeVisit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FirstTimeVisit.vue?vue&type=template&id=0cff5cac&\"\nimport script from \"./FirstTimeVisit.vue?vue&type=script&lang=ts&\"\nexport * from \"./FirstTimeVisit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport IframeCanvas from \"@/components/Canvas/IframeCanvas.vue\";\nimport BuilderTopBar from \"@/components/Builder/TopBar/BuilderTopBar.vue\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { registerGlobalShortcuts } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport PreferencesModal from \"@/components/Settings/Preferences/PreferencesModal.vue\";\nimport KeyboardShortcutsHelpModal from \"@/components/Help/KeyboardShortcutsHelpModal.vue\";\nimport ElementStudio from \"@/components/ElementStudio/ElementStudio.vue\";\nimport SidebarPanels from \"./SidebarPanels.vue\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\nimport AppLayout from \"@/components/Reusable/AppLayout/AppLayout.vue\";\nimport ClosingConfirmations from \"@/components/Reusable/AppLayout/ClosingConfirmations.vue\";\nimport TemplateDialog from \"@/components/UI/TemplateDialog.vue\";\nimport InvalidPostDialog from \"@/components/UI/InvalidPostDialog.vue\";\nimport { registerClipboardShortcuts } from \"@/lib/copy-paste/copy-paste\";\nimport { loadBuilderElementsFromWordPress } from \"@/lib/wordpress/load\";\nimport DesignLibraryModal from \"@/components/Add/library/DesignLibraryModal.vue\";\nimport FirstTimeVisit from \"@/components/Onboarding/FirstTimeVisit.vue\";\n\n@Component({\n  components: {\n    FirstTimeVisit,\n    DesignLibraryModal,\n    InvalidPostDialog,\n    TemplateDialog,\n    ClosingConfirmations,\n    IframeCanvas,\n    BuilderTopBar,\n    PreferencesModal,\n    ElementStudio,\n    KeyboardShortcutsHelpModal,\n    SidebarPanels,\n    ConfirmDialog,\n    AppLayout\n  }\n})\nexport default class BuilderLayout extends Vue {\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    registerGlobalShortcuts().register();\n  }\n\n  beforeDestroy() {\n    registerGlobalShortcuts().unbind();\n    registerClipboardShortcuts().unbind();\n  }\n\n  get classList() {\n    return [`has-permission:${this.permission}`];\n  }\n\n  get preferencesModalOpen() {\n    return uiStore.panelState.preferencesModalOpen;\n  }\n\n  get elementStudioOpen() {\n    return uiStore.panelState.elementStudioOpen;\n  }\n\n  updatePreferencesModal(e: boolean) {\n    uiStore.setPreferencesModalOpen(e);\n  }\n\n  get keyboardShortcutsHelpModalOpen() {\n    return uiStore.panelState.keyboardShortcutsHelpModalOpen;\n  }\n\n  updateKeyboardShortcutsHelpModal(e: boolean) {\n    uiStore.setKeyboardShortcutHelpModalOpen(e);\n  }\n\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  get leftSidebarPanelState() {\n    return uiStore.panelState.leftSidebarPanel;\n  }\n  get rightSidebarPanelState() {\n    return uiStore.panelState.rightSidebarPanel;\n  }\n\n  get permission() {\n    return configStore.permission?.slug;\n  }\n\n  showTemplateDialog = false;\n  onIframeLoaded() {\n    // @ts-ignore\n    requestIdleCallback(() => {\n      loadBuilderElementsFromWordPress();\n    });\n\n    if (this.isRenderedWithTemplate && !this.containsTemplateContentArea) {\n      this.showTemplateDialog = true;\n    }\n\n    registerClipboardShortcuts().register();\n  }\n\n  get showInvalidPostDialog() {\n    return !!configStore.invalidPostData;\n  }\n\n  get isRenderedWithTemplate() {\n    return (\n      window.Breakdance?.canvas?.document?.querySelector(\n        \"[data-rendered-with-template]\"\n      ) !== null\n    );\n  }\n\n  getTemplateAttribute(attributeName: string) {\n    if (!this.isRenderedWithTemplate) {\n      return null;\n    }\n\n    const templateElement = window.Breakdance?.canvas?.document?.querySelector(\n      \"[data-rendered-with-template]\"\n    );\n\n    return templateElement?.getAttribute(attributeName);\n  }\n\n  get templateName() {\n    return this.getTemplateAttribute(\"data-template-name\") ?? \"\";\n  }\n\n  get templateId() {\n    const templateIdString = this.getTemplateAttribute(\"data-template-id\");\n\n    return templateIdString ? parseInt(templateIdString) : null;\n  }\n\n  get isTemplateFallback() {\n    return this.getTemplateAttribute(\"data-template-is-fallback\") === \"true\";\n  }\n\n  get templatesPageUrl() {\n    return this.getTemplateAttribute(\"data-template-page-url\");\n  }\n\n  get containsTemplateContentArea() {\n    return (\n      window.Breakdance?.canvas?.document?.querySelector(\n        \".bde-themeless-template-content-area\"\n      ) !== null\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BuilderLayout.vue?vue&type=template&id=40bb368b&\"\nimport script from \"./BuilderLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./BuilderLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BuilderLayout.vue?vue&type=style&index=0&id=40bb368b&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('h1',[_vm._v(\"Unrecoverable Errors\")]),_vm._l((_vm.errors),function(error,i){return _c('div',{key:i,staticClass:\"unrecoverable-errors\"},[_vm._v(\" \"+_vm._s(error)+\" \")])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\n\n@Component\nexport default class Error extends Vue {\n  get errors() {\n    return uiStore.unrecoverableErrorMessages;\n  }\n}\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UnrecoverableErrors.vue?vue&type=template&id=da74efa8&\"\nimport script from \"./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"\nexport * from \"./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UnrecoverableErrors.vue?vue&type=style&index=0&id=da74efa8&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport BuilderLayout from \"@/components/Builder/BuilderLayout.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport UnrecoverableErrors from \"@/components/UnrecoverableErrors.vue\";\nimport {\n  initializeAppWhenInitialModeIsBuilder,\n  loadDocumentFromWordPress\n} from \"@/lib/wordpress/load\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { NO_DOCUMENT_ID } from \"@/store/util\";\nimport { DocumentMeta } from \"@/types/document\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\nimport { saveToWordPressWithErrorsLoggedToUiStore } from \"@/lib/wordpress/save\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { enableBrowseMode } from \"@/lib/browse-mode\";\nimport { listenForNonceUpdates } from \"@/util/nonce-broadcast\";\n\n@Component({\n  components: {\n    BuilderLayout,\n    Loading,\n    UnrecoverableErrors\n  }\n})\nexport default class Builder extends Vue {\n  broadcastChannel: BroadcastChannel | null = null;\n  async beforeMount() {\n    if (window.Breakdance.initialMode === \"builder\") {\n      /* can we have some safety to ensure this shit only gets run once */\n      const maybeLoadedData = await loadDocumentFromWordPress(\n        window.Breakdance.initialDocumentToLoadId\n      );\n      initializeAppWhenInitialModeIsBuilder(maybeLoadedData);\n    }\n    this.broadcastChannel = listenForNonceUpdates();\n  }\n\n  beforeDestroy() {\n    if (this.broadcastChannel) {\n      this.broadcastChannel.close();\n    }\n  }\n\n  get interfaceState() {\n    return uiStore.interfaceState;\n  }\n\n  get errorsPresent() {\n    return uiStore.unrecoverableErrorMessages.length;\n  }\n\n  get currentDocumentMetaId() {\n    return documentStore.document.documentMeta.id;\n  }\n\n  @Watch(\"currentDocumentMetaId\", { immediate: true })\n  handleCurrentDocumentChange(documentId: DocumentMeta[\"id\"]) {\n    const titleParts = [\"Breakdance\"];\n\n    if (documentId !== NO_DOCUMENT_ID) {\n      titleParts.push(documentStore.document.documentMeta.titleLabel);\n    }\n\n    window.document.title = titleParts.join(\" | \");\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestClosingConfirmation();\n    } else {\n      this.removeClosingConfirmation();\n    }\n  }\n\n  requestClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"builder\",\n      confirmationDefinition: {\n        title: \"You must save your changes first\",\n        actionText: \"Save and continue\",\n        type: \"warning\",\n        hasCancel: true,\n        hasDiscard: false\n      }\n    });\n  }\n\n  removeClosingConfirmation() {\n    uiStore.noClosingConfirmationIsNeededFor(\"builder\");\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.builder?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      this.removeClosingConfirmation();\n      enableBrowseMode();\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"builder\",\n        isSaving: true\n      });\n      pipe(\n        await saveToWordPressWithErrorsLoggedToUiStore(),\n        fold(\n          () => {\n            uiStore.setClosingConfirmationIsSaving({\n              subject: \"builder\",\n              isSaving: false\n            });\n          },\n          () => {\n            this.removeClosingConfirmation();\n            enableBrowseMode();\n          }\n        )\n      );\n    }\n  }\n}\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Builder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Builder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Builder.vue?vue&type=template&id=aa968240&\"\nimport script from \"./Builder.vue?vue&type=script&lang=ts&\"\nexport * from \"./Builder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[(_vm.interfaceState === 'normal')?_c('AppLayout',{scopedSlots:_vm._u([{key:\"topbar\",fn:function(){return [_c('TopBar',[_c('TopBarSection',[_c('div',{staticClass:\"browse-mode-address-bar\"},[_c('h2',[_vm._v(\"Viewing Page\")]),_c('a',{staticClass:\"ellipsis-text breakdance-browse-mode__url-to-display\",attrs:{\"title\":_vm.iframeUrlToDisplay,\"href\":_vm.iframeUrlToDisplay,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.iframeUrlToDisplay)+\" \")])])]),_c('v-spacer'),_c('TopBarSection',{attrs:{\"border-left\":\"true\",\"border-right\":\"true\"}},[_c('BreakpointsSelection',{model:{value:(_vm.currentBreakpoint),callback:function ($$v) {_vm.currentBreakpoint=$$v},expression:\"currentBreakpoint\"}})],1),_c('v-spacer'),_c('UndoRedo'),_c('TopBarSection',{attrs:{\"border-left\":\"true\"}},[_c('Dropdown',{staticClass:\"open-settings-toolbar-button\",attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('IconButton',_vm._g({attrs:{\"active\":_vm.isAnyBrowseModeSupportedPanelOpen,\"size\":\"18\",\"icon\":\"EllipsisStrokeIcon\"}},on))]}}],null,false,2694485179)},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleGlobalSettingsPanel}},[_c('v-list-item-title',[_vm._v(\" Global Settings \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleSelectorsPanel}},[_c('v-list-item-title',[_vm._v(\" Selectors \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleHistoryAndRevisionsPanel}},[_c('v-list-item-title',[_vm._v(\" History \")])],1)],1)],1)],1),_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('BrowseModeSave')],1),_c('TopBarSection',{attrs:{\"border-left\":\"true\"}},[_c('IconButton',{attrs:{\"icon\":\"ArrowLeftIcon\",\"size\":\"18\"},on:{\"click\":_vm.exitBrowseMode}})],1)],1)]},proxy:true},{key:\"body\",fn:function(){return [_c('ClosingConfirmations'),_c('BrowseModeSidebarPanels',{attrs:{\"panel-state\":_vm.leftSidebarPanelState,\"position\":\"left\"}}),_c('IframeWrapper',{attrs:{\"iframe-state\":_vm.iframeState,\"iframe-url\":_vm.iframeUrl,\"iframe-preview-width\":_vm.iframePreviewWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe-exited\":false,\"iframe-id\":_vm.iframeID,\"min-width\":_vm.iframeMinWidth},on:{\"iframeLoaded\":_vm.handleIframeLoaded,\"previewWidthChange\":_vm.handlePreviewWidthChange,\"previewWidthChangeWithAdjustmentBar\":_vm.handlePreviewWidthChangeWithAdjustmentBar,\"resetPreviewWidth\":_vm.handleResetPreviewWidth}}),_c('BrowseModeSidebarPanels',{attrs:{\"panel-state\":_vm.rightSidebarPanelState,\"position\":\"right\"}})]},proxy:true}],null,false,1648310707)}):(_vm.interfaceState === 'loading')?_c('Loading'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('AppLayoutBodyPanelArea',{attrs:{\"panel-state\":_vm.panelState,\"position\":_vm.position}},[(_vm.panelState === 'globalSettings')?_c('GlobalSettingsPanel'):_vm._e(),(_vm.panelState === 'selectors')?_c('SelectorsPanel'):_vm._e(),(_vm.panelState === 'history')?_c('HistoryAndRevisionsPanel',{attrs:{\"disable-revisions\":true}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { PanelPosition } from \"@/types/ui\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\nimport GlobalSettingsPanel from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue\";\nimport SelectorsPanel from \"@/components/Settings/Selectors/SelectorsPanel.vue\";\nimport HistoryAndRevisionsPanel from \"@/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue\";\nimport { BrowseModeSupportedUIPanels } from \"@/lib/browse-mode\";\n\n@Component({\n  components: {\n    HistoryAndRevisionsPanel,\n    AppLayoutBodyPanelArea,\n    GlobalSettingsPanel,\n    SelectorsPanel\n  }\n})\nexport default class BrowseModeSidebarPanels extends Vue {\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: BrowseModeSupportedUIPanels | \"closed\";\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeSidebarPanels.vue?vue&type=template&id=5a65fb42&\"\nimport script from \"./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('StandardButton',{staticStyle:{\"margin-left\":\"3px\",\"margin-right\":\"3px\"},attrs:{\"loading\":_vm.saveInProgress,\"minWidth\":\"80\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { saveGlobalSettingsToWordPress } from \"@/lib/global-settings/global-settings\";\nimport { saveSelectorsToWordPress } from \"@/lib/selectors/selectors\";\n\n@Component({\n  components: {\n    StandardButton\n  }\n})\nexport default class BrowseModeSave extends Vue {\n  saveInProgress = false;\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  async save() {\n    this.saveInProgress = true;\n\n    await saveGlobalSettingsToWordPress();\n    await saveSelectorsToWordPress();\n\n    this.saveInProgress = false;\n  }\n\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_S, this.save);\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n  }\n}\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseModeSave.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseModeSave.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeSave.vue?vue&type=template&id=291b40a2&\"\nimport script from \"./BrowseModeSave.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeSave.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { browseModeStore, globalStore, uiStore } from \"@/store/store\";\nimport AppLayout from \"@/components/Reusable/AppLayout/AppLayout.vue\";\nimport TopBar from \"@/components/Reusable/AppLayout/TopBar/TopBar.vue\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport IframeWrapper from \"@/components/Reusable/Iframe/IframeWrapper.vue\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport {\n  disableBrowseMode,\n  handleBrowseModeIframeLoaded,\n  updateBrowseModePageTitle\n} from \"@/lib/browse-mode\";\nimport BreakpointsSelection from \"@/components/Builder/TopBar/BreakpointsSelection.vue\";\nimport {\n  handleGlobalSelectorsChanged,\n  handleGlobalSettingsChanged\n} from \"@/lib/canvas/reacting-to-global-store-changes\";\nimport BrowseModeSidebarPanels from \"@/components/BrowseMode/BrowseModeSidebarPanels.vue\";\nimport { isUiPanelOpen, openUiPanel, toggleUiPanel } from \"@/lib/panels/panels\";\nimport ClosingConfirmations from \"@/components/Reusable/AppLayout/ClosingConfirmations.vue\";\nimport { getMinimumWidth } from \"@/lib/breakpoints/breakpoints\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport BrowseModeSave from \"@/components/BrowseMode/BrowseModeSave.vue\";\nimport UndoRedo from \"@/components/Builder/TopBar/UndoRedo.vue\";\nimport {\n  initializeAppWhenInitialModeIsBrowse,\n  loadConfigFromWordPress\n} from \"@/lib/wordpress/load\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { listenForNonceUpdates } from \"@/util/nonce-broadcast\";\n\n@Component({\n  components: {\n    UndoRedo,\n    BrowseModeSave,\n    BrowseModeSidebarPanels,\n    BreakpointsSelection,\n    Icon,\n    StandardButton,\n    IframeWrapper,\n    TopBarSection,\n    AppLayoutBodyPanelArea,\n    TopBar,\n    AppLayout,\n    IconButton,\n    ClosingConfirmations,\n    Dropdown,\n    Loading\n  }\n})\nexport default class BrowseMode extends Vue {\n  readonly iframeID = \"breakdance-browser-iframe\";\n\n  iframeDocument: Document | null = null;\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  broadcastChannel: BroadcastChannel | null = null;\n  async beforeMount() {\n    if (window.Breakdance.initialMode === \"browse\") {\n      const maybeLoadedData = await loadConfigFromWordPress();\n      initializeAppWhenInitialModeIsBrowse(maybeLoadedData, {\n        returnUrl: window.Breakdance.returnUrl,\n        browseModeOpenUrl: window.Breakdance.browseModeOpenUrl\n      });\n    }\n\n    this.broadcastChannel = listenForNonceUpdates();\n  }\n\n  get interfaceState() {\n    return uiStore.interfaceState;\n  }\n\n  mounted() {\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () =>\n        globalStore.settingsHasUnsavedChangesPresent ||\n        globalStore.selectorsHasUnsavedChangesPresent\n    );\n  }\n\n  beforeDestroy() {\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n    if (this.broadcastChannel) {\n      this.broadcastChannel.close();\n    }\n  }\n\n  handleIframeLoaded(iframe: HTMLIFrameElement | null) {\n    if (iframe) {\n      this.iframeDocument = handleBrowseModeIframeLoaded(iframe);\n    } else {\n      this.iframeDocument = null;\n      throw \"Unable to proceed – iframe element is missing\";\n    }\n  }\n\n  handlePreviewWidthChange(previewWidth: CanvasPreviewWidth) {\n    uiStore.changePreviewWidthMutation(previewWidth);\n  }\n\n  handlePreviewWidthChangeWithAdjustmentBar(previewWidthInPx: number) {\n    uiStore.changePreviewWidthWithAdjustmentBar(previewWidthInPx);\n  }\n\n  handleResetPreviewWidth() {\n    uiStore.selectBaseBreakpoint();\n  }\n\n  get iframeUrl(): string | null {\n    return browseModeStore.iframeUrl;\n  }\n\n  get iframeState() {\n    return browseModeStore.iframeState;\n  }\n\n  get iframeDocumentTitleToDisplay() {\n    return browseModeStore.iframeDocumentTitleToDisplay;\n  }\n\n  get iframeUrlToDisplay() {\n    return browseModeStore.iframeUrlToDisplay;\n  }\n\n  get iframePreviewWidth() {\n    return uiStore.canvasPreviewWidth;\n  }\n\n  get iframeMinWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get leftSidebarPanelState() {\n    return uiStore.panelState.leftSidebarPanel;\n  }\n\n  get rightSidebarPanelState() {\n    return uiStore.panelState.rightSidebarPanel;\n  }\n\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  get isAnyBrowseModeSupportedPanelOpen() {\n    return (\n      isUiPanelOpen(\"globalSettings\") ||\n      isUiPanelOpen(\"selectors\") ||\n      isUiPanelOpen(\"history\")\n    );\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  set currentBreakpoint(breakpoint: Breakpoint) {\n    uiStore.changeBreakpoint(breakpoint);\n  }\n\n  exitBrowseMode() {\n    disableBrowseMode();\n  }\n\n  toggleGlobalSettingsPanel() {\n    toggleUiPanel(\"globalSettings\");\n  }\n\n  toggleSelectorsPanel() {\n    toggleUiPanel(\"selectors\");\n  }\n\n  toggleHistoryAndRevisionsPanel() {\n    openUiPanel(\"history\");\n  }\n\n  @Watch(\"iframeDocumentTitleToDisplay\", { immediate: true })\n  handleCurrentDocumentChange() {\n    updateBrowseModePageTitle();\n  }\n\n  @Watch(\"globalSettings\", { deep: true, immediate: true })\n  onGlobalSettingsChanged() {\n    if (this.iframeDocument) {\n      handleGlobalSettingsChanged(this.iframeDocument);\n    }\n  }\n\n  @Watch(\"selectors\", { deep: true, immediate: true })\n  onSelectorsChanged() {\n    if (this.iframeDocument) {\n      handleGlobalSelectorsChanged(this.iframeDocument);\n    }\n  }\n}\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseMode.vue?vue&type=template&id=2bb7bcd5&\"\nimport script from \"./BrowseMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseMode.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BrowseMode.vue?vue&type=style&index=0&id=2bb7bcd5&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport Notifications from \"@/components/Notifications/Notifications.vue\";\nimport Builder from \"@/Builder.vue\";\nimport BrowseMode from \"@/BrowseMode.vue\";\n\n@Component({\n  components: {\n    BrowseMode,\n    Builder,\n    Notifications\n  }\n})\nexport default class App extends Vue {\n  beforeMount() {\n    uiStore.setMode(window.Breakdance.initialMode);\n  }\n\n  get isBrowseModeEnabled() {\n    return uiStore.mode === \"browse\";\n  }\n\n  get useDarkMode() {\n    return (\n      // uiStore reference is probably necessary to make Vue re-run the watcher\n      uiStore.settings.theme === \"dark\"\n    );\n  }\n\n  get classList() {\n    return { \"breakdance-dark-mode\": this.useDarkMode };\n  }\n\n  @Watch(\"useDarkMode\", {\n    immediate: true\n  })\n  darkModeWatcher(useDarkMode: boolean) {\n    // @ts-ignore\n    this.$vuetify.theme.dark = useDarkMode;\n  }\n}\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=096e0803&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=096e0803&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import \"requestidlecallback-polyfill\";\nimport Vue from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store/store\";\nimport vuetify from \"./plugins/vuetify\";\n\nimport permission from \"@/lib/permissions/directive\";\n\nVue.config.productionTip = false;\n// Otherwise we get \"unknown element\" errors in the builder, since Vue thinks they're Vue components\nVue.config.ignoredElements = [\"lite-vimeo\", \"lite-youtube\"];\n\nVue.directive(\"permission\", permission);\n\nnew Vue({\n  store,\n  // @ts-ignore\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");\n","import * as t from \"io-ts\";\nimport { DynamicFieldOutputV } from \"@/types/dynamic-data\";\n\nexport const ConditionValueV = t.type({\n  text: t.string,\n  value: t.string\n});\n\nexport type ConditionValue = t.TypeOf<typeof ConditionValueV>;\n\nexport type VuetifyShapeForSelect =\n  | ConditionValue\n  | { header: string }\n  | { divider: true };\n\nconst OperandsV = t.union([\n  t.literal(\"is\"),\n  t.literal(\"is not\"),\n  t.literal(\"is one of\"),\n  t.literal(\"is all of\"),\n  t.literal(\"is none of\"),\n  t.literal(\"is before\"),\n  t.literal(\"is after\"),\n  t.literal(\"is greater than\"),\n  t.literal(\"is less than\"),\n  t.literal(\"contains\"),\n  t.literal(\"does not contain\"),\n  t.literal(\"is empty\"),\n  t.literal(\"is not empty\"),\n  t.string\n]);\n\nexport type ConditionOperands = t.TypeOf<typeof OperandsV>;\n\nexport const RuleV = t.partial({\n  ruleSlug: t.string,\n  ruleDynamic: t.union([t.string, t.undefined]),\n  ruleDynamicMeta: t.union([DynamicFieldOutputV, t.undefined]),\n  operand: OperandsV,\n  value: t.union([\n    t.string,\n    t.number,\n    t.array(t.string),\n    t.array(ConditionValueV)\n  ]),\n  valueDynamicMeta: t.union([DynamicFieldOutputV, t.undefined])\n});\n\nexport type Rule = t.TypeOf<typeof RuleV>;\n\nexport const RuleGroupV = t.array(RuleV);\n\nexport type RuleGroup = t.TypeOf<typeof RuleGroupV>;\n\nexport const ConditionItemGroupV = t.intersection([\n  t.type({\n    label: t.string,\n    items: t.array(ConditionValueV)\n  }),\n  t.partial({\n    availableForType: t.union([t.literal(false), t.array(t.string)])\n  })\n]);\n\nexport type ConditionItemGroup = t.TypeOf<typeof ConditionItemGroupV>;\n\nexport const ConditionV = t.exact(\n  t.type({\n    slug: t.string,\n    label: t.string,\n    category: t.string,\n    operands: t.array(OperandsV),\n    values: t.union([t.array(ConditionItemGroupV), t.literal(false)]),\n    valueInputType: t.union([\n      t.undefined,\n      t.literal(\"dropdown\"),\n      t.literal(\"datepicker\"),\n      t.literal(\"number\"),\n      t.literal(\"timepicker\")\n    ]),\n    availableForType: t.array(t.string),\n    supports: t.array(\n      t.union([\n        t.literal(\"element_display\"),\n        t.literal(\"templating\"),\n        t.literal(\"query_builder\")\n      ])\n    ),\n    proOnly: t.union([t.undefined, t.boolean])\n  })\n);\n\nexport const ConditionsV = t.array(ConditionV);\n\nexport type Condition = t.TypeOf<typeof ConditionV>;\n\nexport const TriggerOptionsV = t.partial({\n  delay: t.number,\n  percent: t.number,\n  selector: t.string,\n  scrollType: t.string,\n  clickType: t.string,\n  limit: t.number\n});\n\nexport const TriggerV = t.partial({\n  slug: t.string,\n  options: TriggerOptionsV\n});\n\nexport const TriggersV = t.array(TriggerV);\n\nexport type Trigger = t.TypeOf<typeof TriggerV>;\n","import * as t from \"io-ts\";\nimport { FontV } from \"@/types/fonts\";\n\n// Custom font types\nconst FontFileV = t.type({\n  fileName: t.string,\n  fileUrl: t.string,\n  format: t.union([t.literal(\"woff\"), t.literal(\"woff2\")])\n});\n\nconst FontFaceV = t.type({\n  id: t.string,\n  files: t.array(FontFileV),\n  weight: t.number,\n  style: t.union([t.literal(\"normal\"), t.literal(\"italic\")])\n});\n\nexport const CustomFontFamilyV = t.type({\n  id: t.string,\n  family: t.string,\n  cssUrl: t.string,\n  hasExternalCssUrl: t.boolean,\n  cssName: t.string,\n  fallbackString: t.union([t.string, t.undefined]),\n  faces: t.array(FontFaceV)\n});\n\nexport type FontFile = t.TypeOf<typeof FontFileV>;\nexport type CustomFontFamily = t.TypeOf<typeof CustomFontFamilyV>;\nexport type FontFace = t.TypeOf<typeof FontFaceV>;\n\n// Fetch responses types\nexport const FontFamiliesResponseV = t.array(\n  t.type({\n    fontId: t.string,\n    cssUrl: t.string,\n    fontRegistrationData: FontV\n  })\n);\nexport const FontFileResponseV = t.type({\n  fileUrl: t.string,\n  fileName: t.string\n});\n\nexport type FontFamiliesResponse = t.TypeOf<typeof FontFamiliesResponseV>;\nexport type FontFileResponse = t.TypeOf<typeof FontFileResponseV>;\n","import * as t from \"io-ts\";\n\nexport const DesignProviderMetaV = t.type({\n  thumbnailUrl: t.union([t.string, t.undefined])\n});\n\nexport const DesignProviderV = t.type({\n  name: t.string,\n  url: t.string,\n  type: t.union([\n    t.literal(\"complete_site\"),\n    t.literal(\"sections\"),\n    t.literal(\"ui_kit\"),\n    t.undefined\n  ]),\n  isLocal: t.union([t.boolean, t.undefined]),\n  meta: t.union([t.undefined, DesignProviderMetaV])\n});\n\nexport type DesignProvider = t.TypeOf<typeof DesignProviderV>;\n\nexport const DesignLibraryDataV = t.type({\n  designProviders: t.array(DesignProviderV),\n  globalSettingsLastImportedFromUrl: t.union([t.string, t.null]),\n  fullSiteLastImportedFromUrl: t.union([t.string, t.null])\n});\n\nexport type DesignLibraryData = t.TypeOf<typeof DesignLibraryDataV>;\n\n// Design Sets\nexport const DesignSetPostV = t.type({\n  id: t.number,\n  name: t.string,\n  url: t.string,\n  tags: t.array(t.string)\n});\n\nexport const DesignSetDataV = t.type({\n  enabled: t.boolean,\n  // needed for backward compatibility. There may be design sets on an older version on Breakdance\n  // without \"reliesOnGlobalSettings\"\n  reliesOnGlobalSettings: t.union([t.boolean, t.undefined]),\n  name: t.string,\n  requiresPassword: t.union([t.boolean, t.undefined]),\n  passwordValid: t.union([t.boolean, t.undefined]),\n  posts: t.array(DesignSetPostV)\n});\n\nexport type DesignSetPost = t.TypeOf<typeof DesignSetPostV>;\nexport type DesignSetData = t.TypeOf<typeof DesignSetDataV>;\n\n// Screenshot\n\nexport const ScreenshotV = t.type({ url: t.string, id: t.number });\n\nexport type Screenshot = t.TypeOf<typeof ScreenshotV>;\n","import * as t from \"io-ts\";\nimport { ControlV } from \"./controls\";\nimport { DynamicFieldReturnTypeV } from \"@/types/dynamic-property-path\";\n\nexport const DynamicFieldV = t.intersection([\n  t.type({\n    category:\n      t.string /* probably better to have it as an array of tags, for searchability in the UI */,\n    slug: t.string,\n    label: t.string,\n    controls: t.array(ControlV),\n    returnTypes: t.array(DynamicFieldReturnTypeV)\n  }),\n  t.partial({\n    proOnly: t.boolean,\n    subcategory: t.string,\n    defaultAttributes: t.union([\n      t.record(t.string, t.string),\n      // t.array(t.undefined) is to handle the empty state,\n      // which comes from PHP as an empty array\n      t.array(t.undefined)\n    ])\n  })\n]);\n\nexport type DynamicField = t.TypeOf<typeof DynamicFieldV>;\n\nexport const DynamicDataAdvancedAttributesV = t.type({\n  fallback: t.string,\n  beforeContent: t.string,\n  afterContent: t.string\n});\nexport type DynamicDataAdvancedAttributes = t.TypeOf<\n  typeof DynamicDataAdvancedAttributesV\n>;\n\nexport const DynamicDataAttributesV = t.record(\n  t.string,\n  t.union([t.string, t.number, t.record(t.string, t.string)])\n);\nexport type DynamicDataAttributes = t.TypeOf<typeof DynamicDataAttributesV>;\n\nexport const DynamicFieldOutputV = t.type({\n  shortcode: t.string,\n  field: DynamicFieldV,\n  // t.array(t.undefined) is to handle the empty state,\n  // which comes from PHP as an empty array\n  attributes: t.union([DynamicDataAttributesV, t.array(t.undefined)])\n});\n\nexport type DynamicFieldOutput = t.TypeOf<typeof DynamicFieldOutputV>;\n\nexport const DynamicFieldsV = t.array(DynamicFieldV);\n\nexport const DynamicDataV = t.partial({\n  [typeof String]: t.string\n});\n\nexport type DynamicData = t.TypeOf<typeof DynamicDataV>;\n","import * as t from \"io-ts\";\nimport { ControlV } from \"./controls\";\nimport { TreeNode } from \"@/types/tree\";\nimport { DynamicPropertyPathV } from \"@/types/dynamic-property-path\";\nimport { Either } from \"fp-ts/lib/Either\";\n\nexport const BuilderElementControlsV = t.exact(\n  t.type({\n    contentSections: t.array(ControlV),\n    designSections: t.array(ControlV),\n    settingsSections: t.array(ControlV)\n  })\n);\n\nexport type BuilderElementControls = t.TypeOf<typeof BuilderElementControlsV>;\n\nexport const BuilderElementAttributeTemplatedV = t.type({\n  name: t.string,\n  template: t.string\n});\n\nexport const BuilderElementAttributePropertyPathBasedV = t.type({\n  name: t.string,\n  propertyPath: t.string\n});\n\nexport const BuilderElementAttributeWithRawValueV = t.type({\n  name: t.string,\n  rawValue: t.string\n});\n\nexport type BuilderElementAttributeTemplated = t.TypeOf<\n  typeof BuilderElementAttributeTemplatedV\n>;\n\nexport type BuilderElementAttributePropertyPathBased = t.TypeOf<\n  typeof BuilderElementAttributePropertyPathBasedV\n>;\n\nexport type BuilderElementAttributeWithRawValue = t.TypeOf<\n  typeof BuilderElementAttributeWithRawValueV\n>;\n\nexport const BuilderElementAttributeV = t.union([\n  BuilderElementAttributeTemplatedV,\n  BuilderElementAttributePropertyPathBasedV,\n  BuilderElementAttributeWithRawValueV\n]);\n\nexport type BuilderElementAttribute = t.TypeOf<typeof BuilderElementAttributeV>;\n\nexport const BuilderElementAttributesV = t.array(BuilderElementAttributeV);\n\nexport type BuilderElementAttributes = t.TypeOf<\n  typeof BuilderElementAttributesV\n>;\n\nexport const BuilderElementAdditionalClassV = t.type({\n  name: t.string,\n  template: t.string\n});\n\nexport type BuilderElementAdditionalClass = t.TypeOf<\n  typeof BuilderElementAdditionalClassV\n>;\n\nexport const BuilderElementAdditionalClassesV = t.array(\n  BuilderElementAdditionalClassV\n);\n\nexport type BuilderElementAdditionalClasses = t.TypeOf<\n  typeof BuilderElementAdditionalClassesV\n>;\n\nexport const BuilderElementDefaultPropertiesV =\n  t.unknown; /* TODO: make this a real type */\n\nexport type BuilderElementDefaultProperties = t.TypeOf<\n  typeof BuilderElementDefaultPropertiesV\n>;\n\nconst BuilderActionDataV = t.intersection([\n  t.type({ script: t.string }),\n  t.partial({ dependencies: t.array(t.string), runForAllChildren: t.boolean })\n]);\n\nconst BuilderActionV = t.type({\n  actionData: BuilderActionDataV,\n  elements: t.array(t.string)\n});\n\nexport type BuilderActionData = t.TypeOf<typeof BuilderActionDataV>;\nexport type BuilderAction = t.TypeOf<typeof BuilderActionV>;\n\nexport const ElementDependencyAndConditionV = t.partial({\n  title: t.string,\n  // src scripts\n  scripts: t.array(t.string),\n  // js code added to head\n  inlineScripts: t.array(t.string),\n  // file styles\n  styles: t.array(t.string),\n  // css added to head\n  inlineStyles: t.array(t.string),\n  // if present, dependencies run if condition is met\n  builderCondition: t.string,\n  // if present, dependencies run if condition is met\n  frontendCondition: t.string,\n  // Google fonts to import\n  googleFonts: t.array(t.string)\n});\n\nconst DependencyFiles = t.array(\n  t.type({\n    name: t.string,\n    url: t.string\n  })\n);\n\nexport const AvailableDependencyFilesV = t.type({\n  name: t.string,\n  files: t.type({\n    js: DependencyFiles,\n    css: DependencyFiles\n  })\n});\n\nexport type AvailableDependencyFiles = t.TypeOf<\n  typeof AvailableDependencyFilesV\n>;\n\nexport const BuilderActionsV = t.partial({\n  onPropertyChange: t.array(BuilderActionDataV),\n  onAfterDeletedElement: t.array(BuilderActionDataV),\n  onMovedElement: t.array(BuilderActionDataV),\n  onMountedElement: t.array(BuilderActionDataV),\n  onCreatedElement: t.array(BuilderActionDataV),\n  onBeforeDeletingElement: t.array(BuilderActionDataV),\n  onActivatedElement: t.array(BuilderActionDataV)\n});\n\nexport type BuilderActions = t.TypeOf<typeof BuilderActionsV>;\nexport type BuilderActionNames = keyof BuilderActions;\n\nexport type ElementDependencyAndCondition = t.TypeOf<\n  typeof ElementDependencyAndConditionV\n>;\n\nexport const NestingRuleTypeV = t.union([\n  // root: the root of the entire page. Only the Tree's root element. All elements go inside it.\n  t.literal(\"root\"),\n\n  // final: nothing can be inside of it. It's the final element.\n  // (like a text, header, or most of the fancy elements)\n  t.literal(\"final\"),\n\n  // final-link: like final but it's a link. Important because we can't have links inside links  that's invalid HTML),\n  // so final-link cannot be inside container-link\n  t.literal(\"final-link\"),\n\n  // container: accept any element as children except section\n  t.literal(\"container\"),\n\n  // container-restricted: only accepts elements that are registered to be its children  with restrictedToBeADirectChildOf.\n  // Powerful to enable only certain elements inside other elements.\n  // E.g: Slide can only be inside Slider; Tab only inside Tabs\n  t.literal(\"container-restricted\"),\n\n  // container-link: a container that's a link. Accepts everything a container does minus final-link\n  t.literal(\"container-link\"),\n\n  // container-excluding-self: a container that can't include itself. E.g \"product builder\" can't be inside \"product builder\"\n  t.literal(\"container-excluding-self\"),\n\n  // section: like container but can only be a direct child of root\n  t.literal(\"section\"),\n\n  // final-that-is-allowed-inside-root: an element that can be a direct descendant of root\n  // (aka not wrapped around a section) and that doesn't accept any children.\n  t.literal(\"final-that-is-allowed-inside-root\"),\n\n  // popup: can be a direct child of root, but only on breakdance_popup post type\n  t.literal(\"popup\")\n]);\n\nexport type NestingRuleType = t.TypeOf<typeof NestingRuleTypeV>;\n\nexport type LegalPlaceToAddElementInTree =\n  | \"TOP_LEVEL\"\n  | { index: false | number; place: TreeNode };\n\nexport type NoPlaceToAddElementInTree =\n  | \"NONE\"\n  | \"NOT_ALLOWED_BECAUSE_OF_OTHER_NODES\";\n\nexport type PlaceToAddElementInTree = Either<\n  NoPlaceToAddElementInTree,\n  LegalPlaceToAddElementInTree\n>;\n\nexport type CustomDocumentPostTypes =\n  | \"breakdance_block\"\n  | \"breakdance_acf_block\"\n  | \"breakdance_popup\";\n\nexport const BuilderElementNestingRuleV = t.intersection([\n  t.type({\n    type: NestingRuleTypeV\n  }),\n  t.partial({\n    restrictedToBeADirectChildOf: t.array(t.string),\n    restrictedToBeADescendantOf: t.array(t.string),\n    notAllowedWhenNodeTypeIsPresentInTree: t.array(t.string)\n  })\n]);\n\nexport type BuilderElementNestingRule = t.TypeOf<\n  typeof BuilderElementNestingRuleV\n>;\n\n/**\n * It's important that this and SpacingBarLocationV stay in sync and in order\n */\nexport const SpacingBarLocationV = t.union([\n  t.literal(\"inside-top\"),\n  t.literal(\"inside-left\"),\n  t.literal(\"inside-right\"),\n  t.literal(\"inside-bottom\"),\n  t.literal(\"outside-top\"),\n  t.literal(\"outside-right\"),\n  t.literal(\"outside-left\"),\n  t.literal(\"outside-bottom\")\n]);\n\nexport const SpacingBarCssProperty = t.union([\n  t.literal(\"padding-top\"),\n  t.literal(\"padding-left\"),\n  t.literal(\"padding-right\"),\n  t.literal(\"padding-bottom\"),\n  t.literal(\"margin-top\"),\n  t.literal(\"margin-right\"),\n  t.literal(\"margin-left\"),\n  t.literal(\"margin-bottom\")\n]);\n\n/**/\n\nconst PropertyPathsPropertyV = t.union([t.literal(false), t.array(t.string)]);\n\nexport type PropertyPathsProperty = t.TypeOf<typeof PropertyPathsPropertyV>;\n\nexport type SpacingBarLocation = t.TypeOf<typeof SpacingBarLocationV>;\n\nexport type SpacingBarProperty = t.TypeOf<typeof SpacingBarCssProperty>;\n\nexport const SpacingBarDescriptionV = t.type({\n  location: SpacingBarLocationV,\n  cssProperty: SpacingBarCssProperty,\n  affectedPropertyPath: t.string\n});\n\nexport type SpacingBarDescription = t.TypeOf<typeof SpacingBarDescriptionV>;\n\nexport type DefaultChildElementInterface = {\n  slug: string;\n  defaultProperties?: BuilderElementDefaultProperties;\n  children?: DefaultChildElementInterface[];\n};\n\nexport const DefaultChildElementV: t.Type<DefaultChildElementInterface> = t.recursion(\n  \"ChildElement\",\n  () =>\n    t.intersection([\n      t.type({\n        slug: t.string\n      }),\n      t.partial({\n        defaultProperties: BuilderElementDefaultPropertiesV,\n        children: t.array(DefaultChildElementV)\n      })\n    ])\n);\n\nexport type DefaultChildElement = t.TypeOf<typeof DefaultChildElementV>;\n\nexport const RequiredPluginV = t.union([\n  t.literal(\"WooCommerce\"),\n  t.literal(\"ACF\"),\n  t.literal(\"MetaBox\"),\n  t.literal(\"ACF\"),\n  t.literal(\"FacetWP\"),\n  t.literal(\"WP Grid Builder\")\n]);\nexport type RequiredPlugin = t.TypeOf<typeof RequiredPluginV>;\n\nconst ElementSettingsV = t.union([\n  t.partial({\n    dependsOnGlobalScripts: t.boolean,\n    bypassPointerEvents: t.boolean,\n    sharePropsWithSSRChildren: t.boolean,\n    requiredPlugins: t.array(RequiredPluginV),\n    proOnly: t.boolean\n  }),\n  t.literal(false)\n]);\nexport type ElementSettings = t.TypeOf<typeof ElementSettingsV>;\n\nexport const AddPanelRulesV = t.union([\n  t.literal(false),\n  t.partial({\n    alwaysHide: t.boolean,\n    allowedPostTypes: t.array(t.string)\n  })\n]);\n\nexport type AddPanelRules = t.TypeOf<typeof AddPanelRulesV>;\n\nexport const BuilderElementProjectManagementValueV = t.union([\n  t.literal(\"yes\"),\n  t.literal(\"no\"),\n  t.literal(\"unknown\"),\n  t.literal(\"sort of\")\n]);\n\nexport const BuilderElementProjectManagementV = t.partial({\n  looksGood: BuilderElementProjectManagementValueV,\n  optionsGood: BuilderElementProjectManagementValueV,\n  optionsWork: BuilderElementProjectManagementValueV,\n  dynamicBehaviorWorks: BuilderElementProjectManagementValueV,\n  notes: t.string\n});\n\nexport type BuilderElementProjectManagement = t.TypeOf<\n  typeof BuilderElementProjectManagementV\n>;\nexport type BuilderElementProjectManagementValue = t.TypeOf<\n  typeof BuilderElementProjectManagementValueV\n>;\n\nexport const BadgeV = t.type({\n  backgroundColor: t.union([t.string, t.null]),\n  textColor: t.union([t.string, t.null]),\n  label: t.string\n});\n\nexport type Badge = t.TypeOf<typeof BadgeV>;\n\nexport const BuilderElementV = t.exact(\n  t.type({\n    name: t.string,\n    className: t.union([t.string, t.literal(false)]),\n    uiIcon: t.union([t.string, t.literal(false)]),\n    slug: t.string,\n    category: t.string,\n    badge: t.union([BadgeV, t.literal(false)]),\n    htmlTag: t.type({\n      default: t.string,\n      options: t.array(t.string),\n      pathToControl: t.union([t.literal(false), t.string])\n    }),\n    template: t.string,\n    additionalClasses: t.union([\n      BuilderElementAdditionalClassesV,\n      t.literal(false)\n    ]),\n    attributes: t.union([BuilderElementAttributesV, t.literal(false)]),\n    cssTemplate: t.string,\n    defaultCss: t.string,\n    defaultProperties: t.union([\n      BuilderElementDefaultPropertiesV,\n      t.literal(false)\n    ]),\n    defaultChildren: t.union([t.array(DefaultChildElementV), t.literal(false)]),\n    controls: BuilderElementControlsV,\n    dependencies: t.union([\n      t.array(ElementDependencyAndConditionV),\n      t.literal(false)\n    ]),\n    actions: t.union([BuilderActionsV, t.literal(false)]),\n    nestingRule: BuilderElementNestingRuleV,\n    spacingBars: t.union([t.literal(false), t.array(SpacingBarDescriptionV)]),\n    dynamicPropertyPaths: t.union([\n      t.literal(false),\n      t.array(DynamicPropertyPathV)\n    ]),\n    settings: ElementSettingsV,\n    addPanelRules: AddPanelRulesV,\n    experimental: t.boolean,\n    order: t.number,\n    projectManagement: t.union([\n      t.literal(false),\n      BuilderElementProjectManagementV\n    ]),\n    propertyPathsToWhitelistInFlatProps: PropertyPathsPropertyV,\n    propertyPathsToSsrElementWhenValueChanges: PropertyPathsPropertyV\n  })\n);\n\nexport type BuilderElement = t.TypeOf<typeof BuilderElementV>;\n\nexport const BuilderElementsArrayV = t.array(BuilderElementV);\n\nexport type BuilderElements = Record<\n  BuilderElement[\"slug\"],\n  BuilderElement | undefined\n>;\n\nexport const BuilderElementCategoryV = t.type({\n  slug: t.string,\n  label: t.string\n});\nexport const BuilderElementCategoriesV = t.array(BuilderElementCategoryV);\n\nexport type BuilderElementCategory = t.TypeOf<typeof BuilderElementCategoryV>;\n\nexport const ElementsExternalAttrsDepsAndActionsV = t.partial({\n  attributes: t.array(BuilderElementAttributeV),\n  dependencies: t.array(ElementDependencyAndConditionV),\n  actions: BuilderActionsV\n});\n\nexport type ElementsExternalAttrsDepsAndActions = t.TypeOf<\n  typeof ElementsExternalAttrsDepsAndActionsV\n>;\n\nexport const MacrosDataV = t.array(\n  t.type({\n    macro: t.string,\n    slug: t.string\n  })\n);\n\nexport type MacrosData = t.TypeOf<typeof MacrosDataV>;\n","import * as t from \"io-ts\";\nimport { DynamicFieldsV } from \"@/types/dynamic-data\";\nimport {\n  BuilderElementV,\n  BuilderElementCategoriesV,\n  RequiredPluginV,\n  ElementsExternalAttrsDepsAndActionsV,\n  MacrosDataV\n} from \"@/types/elements\";\nimport { PropertiesDataV } from \"@/types/tree\";\nimport { FontsV } from \"@/types/fonts\";\nimport { GlobalSettingsControlsAndTemplateV } from \"./global-and-document-settings\";\nimport { BreakdancePluginsV } from \"./plugins\";\nimport { TemplatePreviewV } from \"./templates\";\nimport { LoadedSelectorDataV } from \"./selectors\";\nimport {\n  BreakdanceNeededDataV,\n  BreakdanceDocumentSpecificNeededUrlsV\n} from \"@/types/config\";\nimport {\n  DocumentMetasV,\n  BreakdanceDocumentWithExportedTreeV\n} from \"@/types/document\";\nimport { ConditionsV } from \"./conditions\";\nimport { PreferencesV } from \"./preferences\";\nimport { ElementPresetsV } from \"./presets\";\nimport { BreakpointV } from \"./breakpoints\";\nimport { PermissionV } from \"@/types/permission\";\nimport { GlobalMediaSizeV } from \"@/types/media\";\nimport { DesignLibraryDataV } from \"@/types/design-library\";\nimport { getIoTsStringsUnionFromConstStringArray } from \"@/util/type-assertions\";\n\nconst InvalidPostsErrorV = t.union([\n  t.literal(\"post_does_not_exist\"),\n  t.literal(\"post_type_is_banned\"),\n  t.literal(\"post_type_is_restricted\"),\n  t.literal(\"post_is_in_trash\")\n]);\n\nconst InvalidPostDataV = t.type({\n  errorType: InvalidPostsErrorV,\n  postType: t.union([t.undefined, t.string]),\n  backToAdminUrl: t.string\n});\n\nexport type InvalidPostData = t.TypeOf<typeof InvalidPostDataV>;\n\nexport const subscriptionMode = [\"free\", \"pro\"] as const;\n\nexport const SubscriptionModeV = getIoTsStringsUnionFromConstStringArray(\n  subscriptionMode\n);\n\nexport type SubscriptionMode = t.TypeOf<typeof SubscriptionModeV>;\n\nexport const EnvironmentV = t.union([\n  t.literal(\"local\"),\n  t.literal(\"production\")\n]);\n\nexport type Environment = t.TypeOf<typeof EnvironmentV>;\nconst ConfigDataLoadedFromWordPressV = t.type({\n  environment: EnvironmentV,\n  elementPresets: ElementPresetsV,\n  neededData: BreakdanceNeededDataV,\n  builderElements: t.array(BuilderElementV),\n  elementsExternalAttrsDepsAndActions: ElementsExternalAttrsDepsAndActionsV,\n  builderElementCategories: BuilderElementCategoriesV,\n  preferences: PreferencesV,\n  dynamicFields: DynamicFieldsV,\n  conditions: ConditionsV,\n  fonts: FontsV,\n  globalSettingsControlsAndTemplate: GlobalSettingsControlsAndTemplateV,\n  globalSettings: PropertiesDataV,\n  plugins: BreakdancePluginsV,\n  availableDocuments: DocumentMetasV,\n  selectors: LoadedSelectorDataV,\n  availableMediaSizes: t.array(GlobalMediaSizeV),\n  availablePermissions: t.array(PermissionV),\n  availableWordpressPlugins: t.array(RequiredPluginV),\n  permission: PermissionV,\n  builtinBreakpoints: t.array(BreakpointV),\n  twigMacros: MacrosDataV,\n  twigMacrosHash: t.string,\n  designLibrary: DesignLibraryDataV,\n  subscriptionMode: SubscriptionModeV\n});\n\nexport type ConfigDataLoadedFromWordPress = t.TypeOf<\n  typeof ConfigDataLoadedFromWordPressV\n>;\n\nconst DocumentDataLoadedFromWordPressV = t.intersection([\n  t.type({\n    document: BreakdanceDocumentWithExportedTreeV,\n    documentSpecificNeededUrls: BreakdanceDocumentSpecificNeededUrlsV,\n    templatePreview: TemplatePreviewV\n  }),\n  ConfigDataLoadedFromWordPressV\n]);\n\nexport type DocumentDataLoadedFromWordPress = t.TypeOf<\n  typeof DocumentDataLoadedFromWordPressV\n>;\n\nexport const ExpectedDataToLoadDocumentV = t.union([\n  InvalidPostDataV,\n  DocumentDataLoadedFromWordPressV\n]);\n\nexport type ExpectedDataToLoadDocument = t.TypeOf<\n  typeof ExpectedDataToLoadDocumentV\n>;\n\nexport const ExpectedDataToLoadConfigV = ConfigDataLoadedFromWordPressV;\n\nexport type ExpectedDataToLoadConfig = t.TypeOf<\n  typeof ExpectedDataToLoadConfigV\n>;\n","import { PropertiesDataV } from \"./tree\";\n\nimport * as t from \"io-ts\";\nimport { ControlV } from \"./controls\";\n\nexport const SelectorCSSNameV = t.string;\n/* would be wise ot make an io-ts typeguard to ensure it's a VALID css class name... \nand then apply that type guard to both the value emitted by the class input (most important)\n and the classes on the way in (not really important)\n*/\n\nexport type SelectorCSSName = t.TypeOf<typeof SelectorCSSNameV>;\n\nexport const CSSSelectorV = t.type({\n  name: SelectorCSSNameV,\n  type: t.union([t.literal(\"class\"), t.literal(\"custom\")]),\n  properties: PropertiesDataV /* really PropertiesData is a [key: string]: ValidValue | PropertiesData, not an any */\n});\n\nexport type CSSSelector = t.TypeOf<typeof CSSSelectorV>;\n\nexport const CSSSelectorListV = t.array(CSSSelectorV);\nexport type CSSSelectorList = t.TypeOf<typeof CSSSelectorListV>;\n\nexport const LoadedSelectorDataV = t.exact(\n  t.type({\n    template: t.string,\n    controls: t.array(ControlV),\n    selectors: CSSSelectorListV\n  })\n);\n\nexport type LoadedSelectorData = t.TypeOf<typeof LoadedSelectorDataV>;\n","import * as t from \"io-ts\";\n\nexport const RepeaterFieldV = t.type({\n  field: t.string,\n  index: t.number\n});\n\nexport const TemplatePreviewableItemV = t.type({\n  label: t.string,\n  url: t.string,\n  type: t.string,\n  repeater: t.union([RepeaterFieldV, t.null, t.undefined])\n});\n\nexport const TemplatePreviewableItemsV = t.array(TemplatePreviewableItemV);\n\nexport type TemplatePreviewableItem = t.TypeOf<typeof TemplatePreviewableItemV>;\n\nexport const TemplatePreviewV = t.type({\n  previewableItems: t.union([TemplatePreviewableItemsV, t.literal(false)]),\n  lastPreviewedItem: t.union([TemplatePreviewableItemV, t.literal(false)])\n});\n\nexport type TemplatePreview = t.TypeOf<typeof TemplatePreviewV>;\n","import * as t from \"io-ts\";\n\n/**\n * Properties data real type is something like:\n * content: {...}\n * design: {...}\n * settings: {...}\n * meta: { friendlyName: string }\n */\nexport const PropertiesDataV =\n  t.any; /* any is wrong, we are just doing it to shut typescript up temporarily */\nexport type PropertiesData = t.TypeOf<typeof PropertiesDataV>;\n\nexport const TreeNodeDataV = t.type({\n  type: t.string, // TODO: refactor, type is a bad name\n  properties: PropertiesDataV\n});\n\nexport type TreeNodeData = t.TypeOf<typeof TreeNodeDataV>;\n\nexport const TreeNodeV: t.Type<TreeNode> = t.recursion(\"TreeNode\", () =>\n  t.intersection([\n    t.type({\n      id: t.number,\n      data: TreeNodeDataV,\n      children: t.array(TreeNodeV)\n    }),\n    t.partial({\n      _parentId: t.number\n    })\n  ])\n);\n\nexport type TreeNode = {\n  id: number /* make readonly / t.readonly */;\n  data: TreeNodeData;\n  children: Array<TreeNode>; // can i make this readonly so only the helper functions in this file can add to it?\n  _parentId?: TreeNode[\"id\"];\n};\n\nexport const PartialTreeV = t.type({\n  root: TreeNodeV,\n  _nextNodeId: t.number\n  /* dont lie to typescript and say [key: string] is always a TreeNode, cuz it's not. */\n});\n\nexport const TreeV = t.intersection([\n  PartialTreeV,\n  t.type({\n    status: t.literal(\"valid\"),\n    _lookupTable: t.record(t.string, t.union([t.undefined, TreeNodeV]))\n  })\n]);\n\nexport const ExportedTreeV = t.intersection([\n  PartialTreeV,\n  t.type({ status: t.literal(\"exported\") })\n]);\n\nexport const MaybeExportedTreeV = t.union([ExportedTreeV, t.literal(false)]);\n\nexport type Tree = t.TypeOf<typeof TreeV>;\nexport type ExportedTree = t.TypeOf<typeof ExportedTreeV>;\nexport type MaybeExportedTree = t.TypeOf<typeof MaybeExportedTreeV>;\n","import * as t from \"io-ts\";\n\nexport const FontWeightV = t.union([\n  t.literal(\"100\"),\n  t.literal(\"200\"),\n  t.literal(\"300\"),\n  t.literal(\"400\"),\n  t.literal(\"500\"),\n  t.literal(\"600\"),\n  t.literal(\"700\"),\n  t.literal(\"800\"),\n  t.literal(\"900\")\n]);\n\nexport const CustomTypographyInputValueV = t.type({\n  customTypography: t.UnknownRecord\n});\n\nexport type CustomTypographyInputValue = t.TypeOf<\n  typeof CustomTypographyInputValueV\n>;\n\nexport const TypographyPresetIdV = t.string;\n\nexport type TypographyPresetId = t.TypeOf<typeof TypographyPresetIdV>;\n\nexport const TypographyPresetLabelAndIdV = t.type({\n  label: t.string,\n  id: TypographyPresetIdV\n});\n\nexport type TypographyPresetLabelAndId = t.TypeOf<\n  typeof TypographyPresetLabelAndIdV\n>;\n\nexport const TypographyPresetV = t.intersection([\n  t.type({ preset: TypographyPresetLabelAndIdV }),\n  t.partial({\n    custom: CustomTypographyInputValueV\n  })\n]);\n\nexport type TypographyPreset = t.TypeOf<typeof TypographyPresetV>;\n\nexport const TypographyInputValueV = t.union([\n  t.type({\n    preset: t.union([t.undefined, TypographyPresetIdV]),\n    previousCustom: t.union([t.undefined, CustomTypographyInputValueV])\n  }),\n  t.type({\n    custom: CustomTypographyInputValueV\n  })\n]);\n\nexport type TypographyInputValue = t.TypeOf<typeof TypographyInputValueV>;\n","import * as t from \"io-ts\";\nimport { Either, flatten, map, mapLeft } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport fpJsonParse from \"@/util/fp-json-parse\";\nimport { flow, pipe } from \"fp-ts/lib/function\";\nimport { iotsErrorsToCustomErrorType } from \"@/util/io-ts-errors-to-_error\";\n\n/**\n * Does JSON parsing and IO-TS decoding of the parsing result.\n *\n * Example usage:\n *\n * fpJsonParseTypesafe('{\"foo\": \"bar\"}', t.typeof({foo: t.string}));\n */\nexport default function fpJsonParseTypesafe<\n  IoTsType extends t.Type<IoTsTypeTypeOf>,\n  IoTsTypeTypeOf = IoTsType extends t.Type<infer R> ? R : never\n>(\n  jsonWhichMightBeInvalid: string,\n  ioTsType: IoTsType\n): Either<_Error[], IoTsTypeTypeOf> {\n  return pipe(\n    jsonWhichMightBeInvalid,\n    fpJsonParse,\n    map(flow(ioTsType.decode, mapLeft(iotsErrorsToCustomErrorType))),\n    flatten\n  );\n}\n","export function jsonParseOrUndefined<T extends any>(\n  valueToDecode: string\n): T | undefined {\n  try {\n    // This is the only place in the project where JSON.parse is allowed\n    // eslint-disable-next-line no-restricted-properties\n    return JSON.parse(valueToDecode);\n  } catch (e) {\n    console.error(\"Failed to decode JSON string\", e);\n    return undefined;\n  }\n}\n","export default \"form.breakdance-unbrowsable,\\nform.breakdance-unbrowsable input,\\nform.breakdance-unbrowsable select,\\nform.breakdance-unbrowsable button,\\na.breakdance-unbrowsable,\\narea.breakdance-unbrowsable {\\n    cursor: not-allowed !important;\\n}\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 143;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkbuilder\"] = globalThis[\"webpackChunkbuilder\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998,64], () => (__webpack_require__(63792)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_c","_self","_setup","value","_vm","repeaterOptions","scopedSlots","index","attrs","defaultProperties","_v","canImport","staticRenderFns","ElementStudioDefaultElements","Vue","constructor","defaultValue","options","defaultTitle","titleTemplate","buttonName","beforeCreate","this","$options","components","require","updateDefaultElements","newValue","$emit","canHaveChildren","slug","element","configStore","type","nestingRule","startsWith","uiStore","context","importChildren","transform","data","properties","children","map","activeElement","defensiveCopy","newChildren","elementsAvailableForThisElementNestingType","Object","keys","filter","parentElement","parentElementSlug","currentElementNestingRule","isNestingRuleAllowedInside","updatePath","repeaterIndex","path","__decorate","Prop","default","Inject","Component","NiceButton","ElementStudioDefaultProperties","TextInput","Repeater","Dropdown","Accordion","draggable","component","render","on","clearDefaultProperties","staticClass","model","dialogOpen","callback","expression","cancel","confirmDefaultProperties","elementSlug","importDefaultProperties","settings","meta","confirm","proxy","key","fn","globalBlockName","GlobalBlockDialog","async","e","preventDefault","elementId","convertToGlobalBlock","required","Dialog","_setupProxy","_l","nodes","childElement","id","depth","class","currentlyDragging","activeClass","style","indentStyle","activateElement","length","shouldShowChildrenNodes","undefined","$event","stopPropagation","toggleChildren","apply","arguments","_e","editingFriendlyName","baseElement","uiIcon","friendlyNameInputValue","elementName","enableEditingFriendlyName","_s","ref","domProps","updateFriendlyName","target","indexOf","_k","keyCode","showElementNameFallback","disableEditing","noop","isDraftSection","isShowingIdsInStructurePanel","showContextMenu","duplicate","remove","nestDeeperStyle","nestShallowerStyle","nodeIndentAmount","StructureNode","structurePanelNodeIsExpanded","ChildStructureNodes","whichSideToPutUiPanel","openUiPanel","indentAmt","marginLeft","width","left","name","documentStore","position","x","clientX","y","clientY","nodeId","newStructurePanelNodesExpandedState","SECTION_SLUG","friendlyName","trim","forceNextTick","$refs","friendlyNameInputRef","focus","select","snapshotLabel","ElementIcon","Icon","StructureContextMenu","_t","shouldShow","nativeOn","closeGlobalBlockDialog","saveGlobalBlockDialog","clipboardDialog","canPasteElement","canPasteElementProperties","menuState","findNode","permission","getClipboardStatus","state","copyElement","pasteElement","pasteElementProperties","deleteElement","openSaveGlobalBlockDialog","canSaveAsGlobalBlock","Watch","getFlattenedPropertiesByBreakpoint","propertiesData","breakpointId","allBreakpointIds","baseBreakpointId","whitelistedPropertyPaths","_getFattenPropertiesByDefault","parentPath","isObjectExcludingArray","accumulatorObj","propertyKey","includes","result","Array","isArray","accumulatorArray","forEach","property","push","isCurrentPathWhitelisted","some","propertyPath","isLight","color","isValidHex","hex","expandHexColor","r","parseInt","substr","g","b","alpha","brightness","stripColorSign","replace","split","join","isNaN","Number","isCSSVariable","findColorByVariableName","colors","extractVariableName","find","c","cssVariableName","regexp","match","exec","createVariableName","suffix","prefix","append","slugify","lower","uuid","uuidV4","getGlobalColorCode","pipe","GradientColorV","fold","gradient","isGlobalColorAGradient","ClipboardDataV","t","source","GlobalColorsV","presets","TypographyPresetV","TreeNodeV","getPathsByType","addPathToAccumulator","control","acc","curPath","paths","controls","contentSections","concat","designSections","moveExternalSiteGlobalsIntoElement","node","copiedPresets","copiedColors","builderElement","typographyPresets","presetId","foundCopiedPreset","maybeImportTypographyPresetFromClipboard","custom","colorPaths","maybeUpdateColor","foundCopiedColor","maybeImportColorFromClipboard","importClipboardMetadataToElement","clipboardData","recursiveImport","newElement","exportClipboardMetadataFromElement","location","hostname","presetIdToCopy","isPresetInGlobalPresets","preset","globalStore","isCssVar","isColorInGlobalColors","cssVar","clipboardEvents","EasyEvent","registerClipboardShortcuts","register","onNativeEventReceived","unbind","removeAll","event","iframeDoc","window","Breakdance","canvas","document","hasSelection","documentHasSelection","cutElement","determinePastingMethod","secure","safari","writeToClipboard","text","navigator","clipboard","writeText","console","debug","err","fallbackWriteToClipboard","writeToLocalStorage","readFromClipboard","eventText","getData","method","readFromLocalStorage","readText","getElementFromClipboard","elementAsJsonString","maybeClipboardData","fpJsonParseTypesafe","elementToCopy","exportedElement","exportNode","exportedElementWithMetadata","fpJsonStringify","error","toString","exportedElementAsJsonString","elementIdToPasteNodesIntoOrNear","elementToPaste","placeToAdd","findPlaceToAddNodes","getNestingRuleFromNode","uniqueId","transactionKey","legalPlaceToAdd","breakdanceUndo","pointerForCreatedNodeId","getDefaultTopLevelElementSlug","parentNodeId","pointer","placeToAddId","placeToAddIndex","breakdanceStoreActions","getBuilderElementNameBySlug","place","elementIdToPastePropertiesTo","elementToCopyPropertiesFrom","elementToPastePropertiesTo","copiedProperties","isRight","elementToPasteTo","maybeQueryClipboardPermission","permissions","query","allowWithoutGesture","isSecureContext","textArea","createElement","top","classList","add","body","appendChild","execCommand","removeChild","isHTMLInputElement","nodeName","isTextField","nonTextInputs","contentEditable","documentHasTextSelection","doc","selection","defaultView","getSelection","range","rangeCount","getRangeAt","collapsed","activeEl","loadDynamicData","dynamicShortcodes","overrideAjaxUrl","getFrontendUrl","hashedDynamicShortcodes","convertDynamicShortcodesToDynamicShortcodesAsHashmapWithHashedKeys","evaluatedShortcodesFromWp","makeWordPressAjaxRequest","action","dataToPost","shortcodes","decoder","DynamicDataV","resultKey","errors","NotificationLogger","msg","loadAllDynamicDataFromTreeIntoStore","getAllDynamicShortcodesFromTree","loadedDynamicData","getDynamicShortcodesFromPropertiesData","propertiesOrPropertyValue","existingDynamicDataToExclude","dynamicShortcodesToFetch","objectDeepMap","isDynamicShortcode","tree","Set","treeNodeReduce","root","hashmap","shortcode","hashedKey","hashDynamicShortcode","getHash","getElementPhpTemplate","namespace","phpClassName","tag","tagOptions","tagControlPath","className","category","badge","defaultChildrenElements","designControls","contentControls","settingsControls","dependencies","addPanelRules","actions","nestingRules","spacingBars","attributes","experimental","order","dynamicPropertyPaths","additionalClasses","projectManagement","propertyPathsToWhitelistInFlatProps","propertyPathsToSsrElementWhenValueChanges","getPresetPhpTemplate","getBlocksFromWordPress","GlobalBlocksV","nodeIdOfElementToConvert","blockName","nodeToConvert","globalBlockTree","createGlobalBlockTreeFromNode","isUpdating","saveGlobalBlockToWordPress","label","editInBreakdanceLink","savedBlockInfo","getNodeIndex","parent","getNodeParent","getNestingRuleFromElementSlug","GLOBAL_BLOCK_SLUG","getBlankTree","copiedNode","copyNode","isAllowedInsideRoot","isThisNodeAllowedInsideThatNode","moveNode","divWrapperNode","createNode","DIV_SLUG","exportTree","globalBlock","GlobalBlockV","nodeToSaveId","nodeToSave","tempTree","tempDiv","fetchGlobalSettings","maybeGlobalSettingsData","PropertiesDataV","logErrorsToUiStore","customNotificationToShow","keepOpen","loadedData","globalSettings","saveGlobalSettingsToWordPress","getElementAccordionState","accordionPath","setElementAccordionState","expand","newPanelState","accordionState","elementProperties","getSelectorAccordionState","selectorName","setSelectorAccordionState","selectors","setGlobalSettingsAccordionState","getGlobalSettingsAccordionState","setDynamicDataFieldAttributesAccordionState","dynamicDataFieldAttributes","getDynamicDataFieldAttributesAccordionState","isValidClassName","test","isValidSelectorName","createDocumentFragment","querySelector","addSelector","newSelector","selector","addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed","isUiPanelOpen","saveSelectorsToWordPress","createCssSelectorObjectFromSelectorName","isClass","right","refetchSelectorsFromServerToGlobalStore","selectorsFromServerOrErrors","CSSSelectorListV","expandOrCollapseAllNodes","expandNodesToShowActiveElement","activeElementId","activeNode","parentNodesReduce","structurePanelNodeIsCollapsed","appendProToProConditionsLabelInFreeMode","condition","proOnly","appendProToLabelInFreeMode","areProConditionsUsedInRules","ruleGroups","proOnlyConditions","flat","rule","ruleSlug","isDynamicFieldProOnlyAndUserIsOnFreeTier","field","getProBadge","backgroundColor","textColor","loadDocumentFromWordPress","ExpectedDataToLoadDocumentV","loadConfigFromWordPress","ExpectedDataToLoadConfigV","initializeAppWhenInitialModeIsBrowse","maybeLoadedData","browseModeOptions","initializeBreakdanceWindowObject","initAPI","plugins","putDataInStoreFromWordPressConfig","returnUrl","browseModeStore","precompileTwigMacrosTemplate","precompileTemplatesOfElements","enableBrowseMode","browseModeOpenUrl","initializeAppWhenInitialModeIsBuilder","setWindowBreakdanceObjectAssetsFunctionsForBuilderMode","putDataInStoreFromDocumentLoadedFromWordpress","d","environment","builderElements","elementsExternalAttrsDepsAndActions","builderElementCategories","preferences","dynamicFields","conditions","fonts","globalSettingsControlsAndTemplate","availableDocuments","availableMediaSizes","availablePermissions","template","neededData","elementPresets","builtinBreakpoints","twigMacros","twigMacrosHash","availableWordpressPlugins","designLibrary","subscriptionMode","documentSpecificNeededUrls","templatePreview","originalUrl","href","stores","getDocumentUrlFromId","documentId","updatedUrl","URL","searchParams","set","search","saveLastPreviewedItemInWp","reviewableItem","success","postId","item","InitialStoreState","setupHook","store","initialState","resetToInitialState","newState","replaceState","loadBuilderElementsFromWordPress","BuilderElementV","elements","chunked","elementsChunk","requestIdleCallback","isLastChunk","errorsPresent","interfaceState","_u","leftSidebarPanelState","onIframeLoaded","showTemplateDialog","templateId","templateName","isTemplateFallback","templatesPageUrl","showInvalidPostDialog","preferencesModalOpen","updatePreferencesModal","keyboardShortcutsHelpModalOpen","updateKeyboardShortcutsHelpModal","rightSidebarPanelState","elementStudioOpen","iframeURL","canvasPreviewWidth","iframeExited","canvasState","iframeMinWidth","currentBreakpoint","handlePreviewWidthChange","handlePreviewWidthChangeWithAdjustmentBar","mountCanvasInIframe","setIframeAsExited","reloadIframe","handleResetPreviewWidth","ELEMENT_NODE","TEXT_NODE","htmlToVNodes","html","functionToRenderChildren","enableContentEditableAndFocus","saveContentEditable","processNodes","arrayOfNodes","nodeType","nodeValue","Element","rawAttributes","attsObj","contentEditableEvents","classString","styleString","i","rawAttribute","attributeName","dblclick","blur","innerHTML","hasChildNodes","childNodes","domParser","DOMParser","decodedHtml","parseFromString","serializedXml","XMLSerializer","serializeToString","xmlWithoutBodyTag","documentElement","globalSettingsCssFilePath","globalSelectorsCssFilePath","defaultCssForAllElementsFilePath","PostGeneratedCssFilePathsV","postCssFilePath","postDefaultsCssFilePath","PostAssetsWithoutDependenciesV","postsGeneratedCssFilePaths","PostAssetsV","ElementDependencyAndConditionV","SsrNodeV","debounceTimeoutTable","promiseDebounce","interval","resolves","args","clearTimeout","setTimeout","resolve","Promise","serverSideRender","parentProperties","makeWordPressAjaxRequestFunction","triggeringDocument","canAddElement","openAddPanel","EmptyContainer","addColumns","_m","staticStyle","EmptyColumns","numberOfColumns","columnWidths","columnProperties","columnWidth","columnWidthSanitized","parseFloatAndFixTo2Digits","PATH_TO_WIDTH_PROPERTY","number","unit","COLUMN_SLUG","parentId","rewidthColumnsAndCommitToStore","excludedScripts","rerunAllScriptsInCanvasDocumentBody","canvasDocument","allScripts","querySelectorAll","script","excludedScript","toLowerCase","src","newScript","cloneScriptNode","scriptNode","newScriptNode","from","attr","setAttribute","emptyHtmlFromSsrMessage","ssrErrorMessage","requiredPluginsNotAvailableMessage","requiredPlugins","addDependenciesToHeadDebounced","addBuilderElementDependenciesToHead","BuilderElementComponent","isActive","lastModifiedPropertyPath","v4","ssrInnerHtml","oldSsrParentProperties","ssrParentProperties","oldTwigProps","dragMouseStartX","dragMouseStartY","easyEvent","isEmptyContainer","elementNestingRuleType","isContainer","isEmptyColumns","COLUMNS_SLUG","parentProps","sharePropsWithSSRChildren","design","props","__render","h","RootTag","rootTag","htmlId","activateAndMaybeStartDrag","disableDefaultDrag","maybePreventDefault","renderTags","processedTemplate","ssr","ssrValueOrMessage","shouldRenderContentAsHtml","contentEditablePropertyPath","arrayOfChildVNodes","mousedown","dragstart","click","handleDoubleClick","hasRequiredPluginsAndTheyAreAvailable","renderTwig","twigProps","getBuilderElementTemplateCacheKey","tags","shouldSsr","templateHasSsr","refreshSsr","thereIsNoWhitelist","availablePlugins","requiredPlugin","elementSelector","uniqueSlug","uniqueClassName","deepEqual","maybeRerenderFromServer","runActionsAfterSsr","$nextTick","updateSsrDependenciesAndStyles","_parentId","deletedElementNodeType","parentIdOfDeletedElement","ssrNode","maybeRerunAllScriptsInCanvasDocumentBody","dependsOnGlobalScripts","getBuilderCanvasDocument","addInlineScriptsAsUnique","addOrUpdateElementSubStylesComingFromSsr","applyFilters","breakpoints","onBreakpointsChange","generateElementsCSS","onTwigPropsChange","onCssTemplateChange","onDefaultCssChange","onInternalDependenciesChange","internalDependenciesWithoutInlineScripts","deps","inlineScripts","refreshIfTypographyPresetsChange","elementChildrenCount","elementChildrenCountChanged","css","generateCss","cssTemplate","getBuilderElementCssTemplateCacheKey","addOrUpdateGeneratedBuilderElementDefaultStylesInlineCSSInCanvasHead","defaultCss","addOrUpdateGeneratedBuilderElementStylesInlineCSSInCanvasHead","all","loadDependencies","destroyed","areThereNoOtherElementsOfThisType","countNodesOfTypeInTree","removeElementDefaultStylesFromCanvasHead","removeElementStylesFromCanvasHead","removeElementStylesCameFromSsrFromCanvasHead","customTag","htmlTag","pathToControl","advanced","isObject","entries","cachedDynamicData","uncachedDynamicShortcodes","dynamicShortcode","then","newDynamicData","isThereSomethingToPreview","getNodeHtmlId","getClassNameForNode","baseClassName","getBaseClassNameForBuilderElement","classes","bypassPointerEvents","classRule","getBuilderElementAdditionalClassTemplateCacheKey","include","isDefined","renderAttributeValue","attribute","getBuilderElementAttributeTemplateCacheKey","String","rawValue","atts","userAttSettings","userAtt","cleanAtts","isDragAndDropEnabled","lastModifiedTreeNodePropertyForWatcher","handleLastModifiedTreeNodePropertyChange","lastModified","currentlyDraggingForWatcher","handleCurrentlyDraggingChange","activeElementIdForWatcher","handleActiveElementIdChange","isElementUpdatingForWatcher","Boolean","handleLoadingElementIdChange","behaviorModeEnabled","builderBehaviorId","isDescendant","canDrag","elementsToIgnore","currentElement","tagName","elementsToPrevent","isAChild","el","closest","matches","dragging","removeDragListeners","isCanvasEvent","mouseX","mouseY","Math","abs","RICH_TEXT_SLUG","triggerShortcut","editableElement","dataset","maybeDynamicData","getDynamicMetaPath","elementValueIsDynamic","elementIsAlreadyActive","getAttribute","addEventListener","handleKeydownInsideContentEditable","pasteWithoutFormatting","removeEventListener","lastElement","textAreaWithTargetInnerHtml","prevValue","generateDocumentStorePropertyChangeSnapshotLabel","SnapshotLabelAction","paste","nl2br","code","ctrlKey","metaKey","deep","immediate","GLOBAL_SETTINGS_PATHS","hideClass","directives","rawName","dragDotsWrapperPositionStyle","dragStart","makeDragCallback","dragHandleBehavior","elementPositionAndSize","mouseDragInfo","combinatorFunction","a","xProperty","controlPath","lastXChange","yProperty","height","lastYChange","imageDragHandleBehavior","NodeChrome","display","dragCallback","unsubscribeFromStorePositionDotsWrapper","nextTickPositionDragDotsWrapper","positionDragDotsWrapper","beforeMount","$store","subscribe","beforeDestroy","startX","startY","currentX","currentY","totalXChange","totalYChange","dragEnd","getActiveElementPositionAndSize","bars","bar","isDragging","clickedHandle","DragMixin","throttledDragging","_throttle","unsubscribeFromStorePositionWrapper","wrapperPositionStyle","_elementPositionAndSize","_mouseDragInfo","_handle","warn","dragEndCallback","dragStartCallback","handle","requestAnimationFrame","_draggingFunc","positionWrapper","clearTextSelection","nextTickPositionsWrapper","isHovering","getSpacingPropertyValue","cssProperty","valInPx","getCurrentValueInPx","fullPath","fullPathToSpacingProp","currentValue","currentUnit","computedStyle","getElementComputedStyleFromNode","styleValue","getPropertyValue","breakpointSlug","SpacingBar","resizeObserver","ResizeObserver","onActiveElementResize","activeElementPositionAndSize","valueAtMomentOfElementPositionAndSizeCalculation","affectedPropertyPath","updateActiveElementPositionWhenItsPresent","activeElementDomNode","getDomElementFromTreeNode","getDomElementPositionAndSize","mounted","intervalHandle","setInterval","handleActiveElementChange","disconnect","observe","box","isActiveBar","barStyle","opacity","positionAndSize","valueMin5","cursor","clearInterval","SpacingBars","Mixins","originalValue","activeElementSpacingBars","pop","fullPathToSpacingProperty","isNotFarLeftColumn","resizedWidths","siblingWidth","resizedWidth","isNotFarRightColumn","getOnCanvasColumnWidthInPercent","column","columnWidthInPx","getOnCanvasColumnWidthInPixels","columnParentWidthInPx","getOnCanvasColumnParentWidthInPixels","columnWidthInPercent","calcNewPercentWidthForColumn","pixelsToAdd","currentWidthInPx","columnWidthPx","columnParentWidthPx","newColumnWidthInPercent","columnPosition","getTreeNodePositionAndSize","columnParent","columnParentPosition","getOnCanvasColumnMinWidthBasedOnPadding","paddingLeft","paddingRight","minColumnWidthInPercent","ceil","DEFAULT_MIN_WIDTH","resizeTwoColumnsAndCommit","columns","columnToResizeIndex","newWidth","adjustSibling","siblingToResizeIndex","siblingToResize","columnToResize","columnMinWidth","siblingMinWidth","MIN_WIDTH","max","unavailableWidth","getColumnWidth","changeColumnWidthAndCommitToStore","rewidthIfColumnsNotAddUpTo100","ColumnDragSizer","widthOnDragStart","columnsAreNotResizeableAtBaseBreakpoint","activeColumn","getColumnsElement","VERTICAL_STACKING_PATH","FIFTY_FIFTY_PATH","verticalStacking","fiftyFifty","BASE_BREAKPOINT_ID","columnIndex","adjustPx","toFixed","isColumnElement","titlebarClasses","titlebarPositionStyle","openContextMenu","elementTitle","hasParent","activateParent","hasSSr","isElementUpdating","updateCurrentlyDraggingElementId","OnCanvasDragHandle","lastSubmittedDrag","nestingPermissions","canvasElementDraggedId","watchCanvasElementDraggedId","maybeParent","setCanvasDragPlaceholderPosition","nodeIndex","onlyShowTargetOutline","canvasDragPlaceholderPosition","nodeMouseIsOverId","getNodeIdAtPointInCanvas","nodeMouseIsOver","dropTargetNode","findNearestParentThatWillAcceptNodes","dropTargetNodeId","foundNode","n","setDropPosition","handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget","handleDragWhenMouseIsOverAChildOfTheDropTarget","childOfDropTargetThatMouseIsReallyOver","getNodesIdsAtPointInCanvas","reduce","mouseOverNodeId","draggedNodeId","placeholderOnly","stackingStyle","getStackingStyle","insertBeforeOrAfter","shouldItBeInsertedBeforeOrAfter","nodesInDropTarget","dragPlaceholderIndex","findIndex","dropPlacementIndex","setPlaceholder","dropTargetId","beforeOrAfter","draggedElementId","droppedOnElementId","_mouseOverNodeId","rects","min","distance","nearestRect","r1","r2","xCenter","yCenter","leftOrRight","aboveOrBelow","nodesInDropTargetIds","placeholderPosition","movePlaceholder","dropPosition","dropTarget","maybeChildWherePlaceholderIs","maybeChildBeforeWherePlaceholderIs","maybeChildAFterWherePlaceholderIs","movedForwards","movedBackwards","getRightClickMenuPositionInCanvas","canvasX","canvasY","getCanvasPositionAndSize","iframe","getElementById","menuElement","iframeWidth","iframeHeight","getBoundingClientRect","menuWidth","menuHeight","getMenuSize","NodeTitlebar","refreshRate","calculateStylesAndTitle","isDraft","getNodeElementWrapperStyles","getNodeTitlebarStyles","activeElementBase","wrapperClassList","NodeHoverControls","shouldShowControls","throttledNextTickPositionWrapper","throttle","disableMouseHoverOnMouseLeaveCanvas","throttledShowHoverControlsOnMouseMoveCanvas","showHoverControlsOnMouseMoveCanvas","canvasElement","isNotDragging","lastHoveredElement","setHoveredNode","hoveredNodeId","hoveredNode","elementX","elementY","elementWidth","elementHeight","wrapperStyle","NodeContentEditable","lastModifiedDomElement","calculateWrapperStyles","domElement","contentEditableElement","childWithContentEditable","hideTitleBar","hideHoverControls","hoveredElement","onElementSelected","observer","observePositionChange","shouldHideElementNodeControls","onHoveredElementSelected","hoverObserver","destroyObserver","onMutate","mutations","record","MutationObserver","attributeFilter","DragDots","dragPlaceholderPositionStyle","dragTargetOutlineStyle","DragPlaceholder","parentNode","maybeNode","widthOrHeightNumber","widthOrHeightValue","ROOT_ELEMENT_ID","getEmptyContainerPositionAndSize","overNode","elementIdPresent","elementIdToSaveAsGlobalBlock","$$v","disabled","RightClickMenuItem","status","permissionGranted","ClipboardDialog","onchange","isAppleDevice","platform","close","RightClickMenu","handleRightClickInCanvas","closeRightClickMenuIfClickHappensOutsideRightClickMenu","capture","closestMenu","CanvasChrome","Canvas","rootElement","canvasKey","breakdance","onGlobalSettingsChanged","handleGlobalSettingsChanged","onSelectorsChanged","handleGlobalSelectorsChanged","BuilderElement","resetPreviewWidth","currentPreviewWidthIsSetByUser","pxAmount","PreviewWidthAdjustmentHandle","mouseXChange","lastMouseX","defaultPreviewWidth","previewWidth","iframeWrapperPosition","alreadyAtMaximumWidth","availableCanvasSize","pointerEvents","mainWrapper","adjustPreviewWidth","adjustX","newPreviewWidth","previousPreviewWidth","offsetWidth","StandardButton","active","showOverlay","overlayStyles","handleOverlayMouseLeave","foreignDocumentBuilderUrl","openBuilderUrl","foreignDocumentTitle","px","v","ForeignDocumentTypeLabels","ForeignDocumentsOverlay","hoveredForeignDocumentDomElement","hoveredForeignDocumentDomElementCoords","isScrolling","isScrollingCleanupTimerId","throttledHandleIframeScroll","handleIframeScroll","throttledHandleWatchedElementMouseMove","handleWatchedElementMouseMove","breakdanceForeignDocumentBuilderUrl","foreignDocumentTypeLabel","documentType","breakdanceForeignDocumentType","documentTitle","breakdanceForeignDocumentTitle","isThereHoveredElementAndItsCoords","addEventListenersToIframeDocument","addEventListenersToWatchedElements","removeEventListenersFromIframeDocument","removeEventListenersFromWatchedElements","iframeDocument","elementsToWatch","handleWatchedElementMouseLeave","setHoveredForeignDocumentDomElement","getCoords","childElementCount","child","firstElementChild","setIsScrolling","currentTarget","$el","contains","relatedTarget","builderUrl","title","mainWrapperStyle","iframePreviewWidth","handleReloadWanted","iframeWrapperStyles","iframeIsLoading","iframeUrl","iframeStyle","iframeId","handleIframeLoaded","CANVAS_PADDING","IframeWrapper","padding","overflow","scaledStyles","scaleFactor","minWidth","iframeState","contentWindow","onunload","setAvailableCanvasSize","iframeWrapper","setIframeWrapperPosition","rect","Ref","Loading","IframeCanvas","foreignDocumentsOverlayVueApp","canvasApp","previewWidthInPx","frames","reload","getMinimumWidth","mountForeignDocumentsOverlayVueAppInIframe","canvasEl","overlayMountpoint","vuetify","openDocument","docInfo","open","loadedIframe","contentDocument","setWindowBreakdanceCanvasDocument","initializeOrReinitializeCombokeys","canvasVueInstanceMountpoint","$mount","getBuilderCanvasHead","createStyleTagWithRawCssCodeInside","iframeCss","unbindClickEventOnInnerIframeLinks","allLinks","linksInsideBreakdanceCanvas","linksExcludingTheOnesInBreakdanceCanvas","link","$destroy","saveInProgress","save","saveToWordPressWithErrorsLoggedToUiStore","Save","unsubscribe","unsavedChangesPresent","dispatchEvent","Event","keyboardShortcuts","KEYBOARD_SHORTCUTS","mutationPayload","warnIfUnsavedFunction","warnIfExitingWithUnsavedChanges","removeChangesNotSavedWarning","getDeviceIcon","BreakpointsSelection","DEVICE_ICONS","icon","customBreakpointIcon","getDeviceIconRotation","rotate","isBase","changeBreakpoint","breakpoint","onBreakpointsChanged","IconButton","canUndo","undo","canRedo","redo","TopBarSection","borderLeft","borderRight","UndoRedo","snapshotStore","nothingToPreviewAndNoSearchQueryAndNotLoading","handleSearch","fetchTemplatePreviewableItems","TemplatePreviewableItemsV","PreviewContentChooserDialog","isLoading","debouncedSearchContentInWp","searchContentInWp","previews","currentPreviewedItem","newItem","searchValue","templatePreviewableItems","previewableItems","titleLabel","typeLabel","fetchAvailableDocuments","DocumentMetasV","DocumentChooser","currentDocument","currentlyEditingLabel","newDocumentId","SettingsDropdown","openPreferencesModal","toggleElementStudio","openGlobalSettingsPanel","openSelectorsPanel","elementsLoadingState","anySettingsPanelsOpen","openHistoryAndRevisionsPanel","backToAdmin","Exit","backToFrontend","isAddSectionOpen","toggleAdd","AddButton","toggleUiPanel","TopBar","BuilderTopBar","toggleElementProperties","isElementPropertiesOpen","toggleStructurePanel","isStructurePanelOpen","setScaleToFitAndGetSettings","handleChangeTab","tab","currentTab","updateCustomFontFamilies","updateBreakpoints","function","applyChanges","inProgress","internalValue","breakpointsEdited","deleteBreakpoint","edit","newBreakpointLabel","isEditing","setDefaultPreviewWidth","hasCancel","cancelText","discardIsEnabled","discardText","ConfirmDialog","EditBreakpoint","deleteDialog","maxWidth","enableEditing","previewWidthUnit","mediaQueryString","newBreakpoint","validateBreakpoint","NumberInput","DropdownInput","inserted","EditBreakpoints","editingBreakpointId","showAddForm","openAddBreakpointForm","toggleAddBreakpointForm","addBreakpoint","normalizedBreakpointLabel","newBreakpointId","updateOrAddBreakpoint","newBreakpoints","splice","addOrUpdateBreakpoint","EmptyStatePreferences","hideSaveButton","PreferencesPanel","CustomBreakpointsPanel","customBreakpoints","feature","deleteFontFamily","updateFontFamily","isFreeMode","toggleAddForm","toggleCssForm","saveFontFile","fontFile","file","FontFileResponseV","getFontFamiliesFromCssFile","cssUrl","FontFamiliesResponseV","sendFontsToBackend","customFontFamilies","addOrUpdateFontInStore","newFontData","newFonts","font","unshift","removeFontFromStore","editFontFamily","fontFace","fontFaceIndex","existingFontFaces","updateFontFace","deleteFontFace","newFontFileSuccessfullyUploaded","isFontFaceUnique","fileUrl","updateWeight","validateStyle","updateStyle","CSS_WEIGHTS","UpdateFontFace","validateWeight","weight","files","valueFormats","format","revalidateOnValueChange","form","validate","newWeight","newStyle","weights","currentWeight","w","handleFiles","FontFileUpload","fileReader","FileReader","onloadend","arr","Uint8Array","subarray","header","extension","isWoff","isWoff2","fileName","readAsArrayBuffer","FileUpload","FontFaces","newFontFace","fontFileToBlankFontFace","newFontFaces","newFontFaceFormats","indexOfMatchingFontFace","_","uuidv4","FontFamily","fallbackStringHasBeenEdited","toggleFaces","isOpen","editFallbackString","newFallbackString","fallbackString","faces","editCssUrl","newCssUrl","TextField","CustomFontFamilies","fontFamily","validForm","validCssForm","openedFontIndex","showCssForm","validFontFamily","validateAlphanumericHyphenUnderscore","fontFamiliesResponse","fontFamilyResponse","indexOfFontFamilyMatchingIds","fontId","cssName","fontRegistrationData","openFont","newOpenFontIndex","newFontFamily","fontIndex","saveNewFontFamily","family","hasExternalCssUrl","reset","cssForm","fontIDAlreadyPresent","isValidUrl","parsedUrl","protocol","ProOnlyAlertBox","AlertBox","displayShowExperimentalElementsSetting","panel","mandatory","arePanelPositionsDefault","CustomUiSettings","panelsState","getPanelsInitialState","panels","getPanelPositionPreferenceFromLocalStorage","setPanelPosition","panelState","savePanelPositionPreferenceToLocalStorage","closeAllUiPanels","resetUiPanelPositionsToDefault","isEqual","uiPanelDefaultPositions","panelPositionsAsItems","popoutPositionItems","isBreakdanceDevelopmentEnvironment","isDarkMode","isScaledToFit","isTinyMcePreferredForRichText","setScaleToFit","scaleToFit","setUiSettings","toggleTheme","theme","setDisableNoticeForEmptySSRElements","disable","disableNoticeForEmptySSRElements","showExperimentalElements","setShowExperimentalElements","setIsShowingIdsInStructurePanel","showElementIdInStructurePanel","disableCodeMirrorLineWrapping","setDisableCodeMirrorLineWrapping","setIsTinyMcePreferredForRichText","autoScrollEnabled","popoutPosition","setAutoScrollEnabled","setPopoutPosition","maybeSettingsAsJsonString","jsonStringifyOrUndefined","uiSettingsDefaults","UI_SETTINGS_LOCAL_STORAGE_KEY","ButtonBarInput","ToggleInput","PreferencesModal","uiSettingsTab","fontFamiliesTab","customBreakpointsTab","hasUnsavedChanges","newPrefs","newCustomFontFamilies","customFonts","handleClickOutside","checkForUnsavedChanges","exit","customFontFamiliesPanel","customBreakpointsPanel","KeyboardShortcutsHelpModal","getKeyboardShortcutValue","isMacLike","keyCombo","toUpperCase","styles","adjustWidth","activeItemType","updateData","updateWidth","updateActiveItemType","_g","_b","$attrs","$listeners","ElementStudioWidthAdjustmentBarAdjustmentHandle","draggingFunc","onDragging","ElementStudioWidthAdjustmentBar","currentlyEditingElement","saveLocations","elementsSlug","openElement","switchMode","saveOverride","saveAs","saveNewItem","discardChanges","resetCurrentlyEditingElement","mode","updateElement","showNewItemDialog","availableItemsSearch","handleNewItem","saveOverwrite","itemName","itemType","closeItemOrPanelDialog","newItemName","saveLocation","ElementStudioSaveNewDialog","newItemDialog","newItemSaveLocation","nameIsValid","newName","isValidItemName","showAdvancedFeatures","showSaveLocation","onlyForAdvancedUsers","closeNewItemDialog","ElementStudioTopBar","mainAppSaveButtonClicked","availableSaveLocations","availableItemsBySearch","itemsSlug","canDeleteElement","directoryPath","openItem","itemSlug","closeItem","closePanel","bypassPsalm","canSaveOrIsAdvancedUser","deleteItem","showNewMacroDialog","contextMenu","handleCreateMacro","updateElementName","nameHasChanged","updateSlug","updateClassName","cleanElement","badgeColors","updateElementValue","htmlTags","pathsToAllControls","useLocalIcon","updateUseLocalIcon","updateUiIcon","elementType","elementClass","nestingRuleTypeIsContainer","toggleActionAccordion","actionsAccordionState","sectionName","section","showNewPresetDialog","codeHelpOpen","keyToRerenderCodeHelp","isPresetSection","presetSectionSlug","shouldControlValueCauseSsr","updatePropertyPathsToSsrElementWhenValueChanges","updateOptions","datePickerOptions","updateDropdownItem","triggerActionsButtonOptions","mediaOptions","videoOptions","rangeOptions","shadowTypes","updateShadowType","updateTextOptionsMultiline","focusPointOptions","colorOptions","updateDynamicPropertyPaths","dynamicPathAcceptsItems","updateAddExtraElementsBySlug","updateCodeType","updateVariableItem","showContentEditableCode","enableMediaQueries","updateControlBoolean","controlLayouts","updateControlLayout","placeholder","updatePlaceholder","keywordsValue","deleteHideForElements","updateConditions","copy","controlAcceptsChildren","addControl","isNumber","inputOptions","newVal","parseFloat","codeForControl","shouldCopy","Copyable","input","textToCopy","$slots","wrapPathWithMustaches","twigPath","toggleCode","dropdownOrButtonBarCode","items","ifOrElseIf","multiselectCode","shadowCode","isText","shadowOptions","iconCode","repeaterCode","focusPointCode","presetsWithMacroOfTheSameNameAndBasicCodeHelp","spacingBarsPresetSlug","presetSectionCode","presetType","sectionOptions","codeForControls","trigger_action_button","border_complex","border_radius","breakpoint_dropdown","button_bar","dropdown","shadow","repeater","inline_repeater","richtext","toggle","spacing_complex","url","wpmedia","multiple","video","focus_point","multiselect","font_family","global_colors","global_block_chooser","typography","custom_typography","typography_preset","message","post_chooser","element_screenshot","slider","add_registered_children","builder_behavior","alert_box","pro_only_alert_box","date_picker","time_picker","api_key_input","media_size_dropdown","wp_query","conditional_form_field","wrapWithCondition","controlConditions","ifCondition","conditionsAcc","andCondition","TwigCodeHelper","inRepeater","twigParentPath","getHelperCodeForControl","codeHelpFromPreset","codeHelp","helperCode","enableHover","hoverCode","RegExp","addHoverToPath","defaultNewValue","forceDontProcessDefaultNewValueWhenAddingItemsHack","orRepeaterIndex","external","operand","getPossibleValues","ElementStudioConditionInput","emit","getBlankCondition","getOperands","getControl","operands","hasMultipleValues","getPathsToAllControls","pathStartsWith","getElementControlByElementControlPathWithPrefix","index1","index2","updateOperand","updateValue","updateOrCondition","ElementStudioUnitOptions","availableTypes","UNIT_TYPES","updateTypes","types","newOptions","updateDefaultType","defaultType","unitOptions","inputClass","step","updateStep","updateMin","updateMax","galleryMediaPath","DEFAULT_REPEATER_VALUE","ElementStudioRepeaterOptions","controlSlugs","mediaControlSlugs","appendVariableToTitle","variable","duplicated","newTitleTemplate","update","updateGalleryMode","galleryMode","updateEnablePopulate","updatePopulateValue","populate","refetchPaths","updateRefetchPaths","updateRefetchPath","dropdownItems","repeatedIndex","iconNames","ElementStudioIconsAutocomplete","DEFAULT_POPULATE","fetchDataAction","fetchContextPath","ElementStudioDropdownOptions","repeaterPaths","controlPaths","possibleValues","updateDropdownItems","newItems","enabled","updateCondition","newCondition","newPopulate","newRefetchPaths","dependency","populateWithHtmlTagOptions","option","dropdownOptions","ElementStudioBreakpointOptions","updateMultiple","newBreakpointOptions","updateEnableNever","enableNever","breakpointOptions","toggleEnabled","updateVariableItems","ElementStudioVariableOptions","variables","variableItems","variableOptions","fileTypesEnabled","updateEnableFileTypes","DEFAULT_MEDIA_OPTIONS","acceptedFileTypes","ElementStudioMediaOptions","MediaOptionsTypeV","updateType","imagePropertyPath","disableSrcset","toggleSrcset","ElementStudioMediaSizeOptions","ElementStudioIconOptions","updateSuggestions","newSuggestions","suggestions","getSpacingBarsFromPresetSlug","getSpaceBar","direction","controlType","marginAll","paddingAll","marginY","marginX","paddingY","paddingX","allNotResponsive","postType","DEFAULT_CHOOSER_OPTIONS","showThumbnails","DEFAULT_VIDEO_OPTIONS","providers","ElementStudioVideoOptions","OEmbedProviderV","updateProviders","content","updateContent","DEFAULT_OPTIONS","ElementStudioAlertBoxOptions","AlertBoxStyleV","alertBoxOptions","TipTapWrapper","updateGridMode","gridMode","savePresetToServer","filename","presetToPhp","slugToPhpSlug","getItemNamespaceFromSlug","getSlugFromNamespaceAndFilename","toggleControl","ElementStudioHideControlInput","ControlSectionOrControl","canHaveMediaQueries","parentControl","parentType","json","isSection","isRepeater","isControlTypeARepeater","isParentARepeater","doesControlTypeAcceptChildren","isInContentTab","spacingBarPresetSlug","dynamicPropertyPath","dynPropPathThatMatchesTwigPath","dynPropPath","getPathWithoutRepeaterIndex","twigPathWithoutRepeaterIndex","getDynamicPathAcceptsItems","contentEditableHelperCode","twigPathForContentEditable","DatePickerOptionsV","elementStudioData","getElementStudioData","newPreset","newSlug","logNotificationOfSameItem","presetSectionFromCurrentSection","newData","presetSections","updateElementStudioData","updateControl","toggleAccordion","handleDrag","newControls","replaceControls","canPaste","canReplace","controlToPaste","handlePaste","pasteControl","handleReplace","handleMakePreset","controlTypes","capitalize","s","charAt","slice","disallowedInContent","CONTROL_TYPES","removeDisallowedControlTypes","copiedControl","availablePresetSections","getPresetSections","updatePresetSectionSlug","newPresetSectionSlug","newPresetSection","getPresetSection","turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement","turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement","newControlSlugArg","relativePropertyPathsToWhitelistInFlatProps","newControlSlug","newPropertyPathsToWhitelistInFlatProps","absolutePathToWhitelistInFlatProps","relativePath","oldAbsolutePathToWhitelistInFlatProps","relativeDynamicPropertyPaths","newDynamicPropertyPaths","absoluteDynamicPropPaths","relativeDynamicPropertyPath","oldAbsoluteDynamicPropPaths","newDynPropPath","disallowedControlTypes","deleteControl","updateControlType","newType","newControl","controlTypesThatShouldHaveVerticalLayout","layout","optionsPath","availableDescendantElements","values","restrictedToBeADirectChildOf","newElementSlugs","addRegisteredChildrenOptions","addExtraElementsBySlug","autofocusSupported","codeTypes","language","codeOptions","ShadowOptionsV","multiline","textOptions","updateButtonBarOptionsSize","big","buttonBarOptions","size","updateButtonBarOptionsLayout","addPreset","newLayout","updateKeywords","newKeywords","keywords","newPlaceholder","updateColorType","newConditions","updateHideForElements","hideForElements","sectionLayouts","controlLayoutTypes","updateSectionLayoutType","updateLabelAndSlugOnFocusOut","newLabel","updateElementPropertiesNotTiedToControl","enable","accepts","propPath","isSpacingBarEnabled","spacingBarsAffectedPropertyPaths","spaceBar","enabledSpaceBar","elementSpaceBar","updateSpacingBar","newSpacingBars","updatePropertyPathsToWhitelistInFlatProps","shouldControlValueBeAddedInAllBreakpoints","propertyPathIndex","hasSsr","newPropertyPathsToSsrElementWhenValueChanges","ElementStudioFocusPointOptions","InlineRepeater","ElementStudioPostChooserOptions","ElementStudioRangeOptions","CopyButton","ShittyTextInput","ElementStudioControls","addSection","updateDependency","jsLocalDependencies","dependencyIsNotLocal","twigVariables","cssLocalDependencies","conditionInfoOpen","TextWithChevron","TagsV","TAGS_AVAILABLE","ElementStudioDependencies","getLocalDependenciesFilesFromWordpress","AvailableDependencyFilesV","localDependencyFiles","updateDependenciesRoot","updateDependencies","newDependencies","executeInlineScript","inlineScript","addOrRerunInlineScriptInHead","origin","localDepsItems","localDep","localDependenciesAsVuetifySelectShape","fileType","localDependencies","dependencyFile","CodeInput","getElementWithoutExternalValues","elementArg","getElementWithoutExternalControls","settingsSections","objectGetTypedKeys","isExternal","repeaterIndex2","value2","ElementStudioAction","actionInfoOpen","dependencyInfoOpen","actionName","actionKey","getValueOrDefault","newActions","updateActions","newValues","updateAction","ElementStudioAttributes","updateAttributes","updateName","newAttributeName","htmlAttributeNameRule","updateTemplateValue","newTemplate","updatePropertyPathValue","updateRawValue","inputTextValidationRules","ElementStudioAdditionalClasses","updateClasses","newClassName","htmlClassNameRule","updateValueForKey","ElementStudioProjectManagement","newBuilderElementProjectManagementValue","updateNotes","newNotes","notes","ElementStudioPropertyPaths","newValueWithNewEntryChangedToEmptyString","updatePropertyPathByIndex","newPath","pathRules","propertyPathRule","allPaths","updateElementValuePropPath","allPathsWithDesignAndContent","ElementStudioDynPropPaths","updateDynamicPropertyPath","newAccepts","updateSpaceBars","updateSpaceBar","cssProperties","$set","newSpaceBar","saveNewSpaceBar","ElementStudioSpacingBar","propertiesLocationsKeyPair","locations","SpacingBarLocationV","SpacingBarCssProperty","updateLocationAndProperty","newProperty","SpacingBarDescriptionV","iotsErrorsToCustomErrorType","ElementStudioSpacingBars","spaceBars","newSpaceBars","ElementStudioManagePropertyPaths","propertyName","setTwigMacrosInStoreAndRecompile","compileTwigTemplate","getAllTwigMacrosString","TWIG_MACROS_CACHE_KEY","updateStoreActionsThrottled","ElementStudioTabsAndPanels","iconName","savedCssSelection","elementStudioContext","currentControls","internalElementControls","mergeElementControlsWithExternalControls","presetSection","parentControls","available","controlTypesToIgnore","contentPaths","getPathToAllControls","designPaths","handleRightClickInCodeInput","onElementSlugChange","selectedText","selectedCss","macroName","getMacroName","macroText","macro","macros","notifications","clipboardCopy","newMacros","getElementSlug","updateUiOrder","newOrder","safeOrder","newIcon","newUseLocalIcon","unwrapControlValue","updateTab","newTab","newElementControls","elementWithAllControls","requiredPluginItems","RequiredPluginV","getNestingRuleTypesThatAreAllowedInside","elementCategories","k","correctValue","NestingRuleTypeV","containerRestrictedElements","elementsThisElementIsAllowedToBeInsideOf","allElementSlugs","defaultTag","Provide","BLANK_ELEMENT","defaultChildren","ElementStudioElements","lastSavedElement","throttledUpdateElement","updateElementAndPrecompileItsTemplates","updateCurrentlyEditingElement","newCurrentlyEditingElement","updateAvailableElementsAndStore","deleteElementFromServer","existingElement","slugChanged","getFinalDirectoryPath","removeElementPathFromDirectoryPath","deleteElementFromStore","elementSlugToDelete","indexOfElementToDelete","elementToDelete","successCallback","newStudioElement","activeSaveLocation","saveToServer","namespaceArg","elementToPhp","word","substring","ElementStudioTopbar","ElementStudioItemV","SaveLocationTypesV","ElementStudioSaveLocationV","PresetSectionV","ControlV","ElementStudioExpectedDataToLoadV","currentlyEditingMacro","currentMacroName","deleteMacro","resetCurrentlyEditingMacro","activeTab","updateMacroValue","autoRefresh","ElementStudioMacros","lastSavedMacro","updateMacroAndRecompileTwigTemplates","macrosSlug","updateCurrentlyEditingMacro","newCurrentlyEditingMacro","updateMacroName","macroData","updateAutoRefresh","newAutoRefresh","newMacro","deleteMacroFromServer","deleteMacroAndRecompileTwigTemplates","deletedMacroSlug","storeIndex","valueIndex","getItemNameFromSlug","macroToDelete","openMacro","macroSlug","macroSaveLocation","macroString","currentlyEditingPreset","currentPresetName","openPreset","deletePreset","resetCurrentlyEditingPreset","currentPresetWithoutPresetSlug","codeHelpPlaceholder","updateCodeHelp","ElementStudioPresets","lastSavedPreset","reactiveContext","newEditingPreset","correctPath","getCorrectPathForPresetFromContextPath","presetData","updateCurrentlyEditingPreset","getParentControlOrControls","getBlankControl","sectionSlug","getEmptyElement","codeHelpValue","potentialMacroName","presetsSlug","presetRelativePropertyPathsToWhitelistInFlatProps","newCurrentlyEditingPreset","getPresetWithRestoredSectionSlug","allElementsWithModifiedPresetUpdated","updateSectionWithCurrentPresetSection","newSection","filterOutCurrentSection","updatePresetSlug","updatePreset","newPresetArg","presetsIndex","presetSectionsIndex","deletePresetFromServer","deletePresetAndRecompileTwigTemplates","deletedPresetSlug","deletedPresetType","allElementsWithDeletedPresetRemoved","presetToDelete","presetSlug","presetSaveLocation","getBlankControlSection","ElementStudio","expectedDataToLoad","adjustAmount","isProdEnv","elementIsActive","Titlebar","elementBadges","badges","duplicateElement","ElementBadge","BlankSidebarContent","hasSearchParameters","noSearchResults","hasContentControls","editQuery","clearQuery","modifiedOnly","editModified","includeSettingsToggle","includeSettings","editSettings","SearchFilter","SearchBox","newQuery","modified","hasDesignControls","hasSettingsControls","savePresetDialogOpen","hasIconSlot","hasContextMenuSlot","contextMenuX","contextMenuY","Tab","contextmenu","TabsRow","newPresetName","newPresetScreenshot","triggerDownload","blob","Blob","anchor","download","webkitURL","createObjectURL","downloadurl","SavePreset","newPresets","makePreset","designProps","getControlValue","availableForType","designPropertiesData","screenshotUrl","savePreset","saveToLibrary","clearAndClose","exportPreset","WPMediaInput","DesignContentSettingsTabs","setTab","resetToDefault","resetElementProperties","defaultAtPath","CONTROL_CLEAR_VALUE","changeMode","applyPreset","applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset","PresetsInDesignTab","DesignTabContent","newMode","p","ControlsTree","filterBuilderElementControls","onlyShowModified","searchQuery","regexSearchQuery","valuePresent","_filterControls","filterControls","controls_","outcome","flattenAndCount","SearchBoxEmptyState","clearSearch","TabsAndControls","searchBoxState","editingElementControlsTreeContext","searchString","updateSearchBoxState","newSearchBoxState","controlsFilteredBySearchParams","filterControlsThatCanBeModified","elementPropertiesPanelActiveTab","dynamicProperty","controlPathWithoutRepeaterIndexAndBreakpoint","dynPropPathThatMatchesControlPath","setControlValue","controlPathProbablyWithBreakpointIdAndHoverSuffix","addMetadataToDocumentPropertyChangeBasingOnControlValueChangeMetadata","controlsTree","getControls","splittedPath","separatePathPrefixFromElementControlPath","getElementControlsListBasedOnPathPrefix","setAccordionState","getAccordionState","ElementPropertiesPanel","isAddPanelOpen","addSelectedSearchItem","nextOrPreviousSelectedSearchElement","goToSelectedSearchElement","advancedSearchDialogOpen","advancedSearchHasDynamicStuff","advancedSearchDropdownItems","advancedSearchLooksGood","advancedSearchOptionsGood","advancedSearchOptionsWork","advancedSearchDynamicBehaviorWorks","hasSearchParams","elementCategory","categoryLabel","WebsiteDialog","elementIconIsLocal","alwaysHide","sort","localeCompare","RawIcon","ElementsList","openCategoriesIndex","selectedSearchElementIndex","advancedSearchAvailable","elementsForSearch","isElementAvailable","searchResultsCount","nextIndex","scrollToActive","shiftKey","newSearch","scrollTo","panelContext","resetSearchWhenPanelOpens","resetSelectedSearchItemIndex","ignoreKeys","elementsCount","chooseCategory","newIndex","existingCategoryIndex","elementsInActiveCategory","categorySlug","isElementHidden","results","getFuzzySearchedElements","resultsAfterInternalSearchTool","pm","looksGood","optionsGood","optionsWork","dynamicBehaviorWorks","hasDynamicStuff","scrollIntoView","block","dumpSearchResults","log","updateAdvancedSearchValue","isElementStudioOpen","SearchInput","AddElement","selectedProvider","importAll","toggleFullscreen","selectedUrl","onPostSelected","reliesOnGlobalSettings","globalSettingsLastImportedFromUrl","requiresPassword","password","iframeStyles","previewLoaded","DesignLibrarySkeleton","pasteElements","getLastUsedDesignProviderUrl","maybeProviderUrl","setLastUsedDesignProviderUrl","providerUrl","treeItems","DesignLibrarySidebar","filteredItems","fuse","Fuse","threshold","orphans","groupedByTags","create","filteredProviders","DesignProviderDropdown","onSearchChange","scrollable","scrollTop","provider","chooseProvider","DesignLibraryModal","selectedPostId","providerElements","providerPosts","importingPage","passwordValid","checkedPassword","checkingPassword","DEFAULT_MINIMUM_BREAKPOINT_WIDTH","canvasSize","loading","fullscreen","loadingDesignSetData","loadingExternalGlobalSettings","importGlobalSettingsScreen","setSelectedProviderToLastUsedProvider","unbindListeners","foundProvider","defaultProvider","sidebarItems","selectedPost","post","currentProviderPassword","canImportAll","get","onDialogOpen","modalOpened","onProviderChange","newProvider","oldProvider","getDesignSetData","calculateSizeAfterTransition","handleIframeMessage","setCanvasSize","toggleImportGlobalSettingsScreen","transitionDuration","wrapper","goHome","getElements","importElement","navigatedAway","posts","selectedId","onProviderLoaded","elementsAsString","maybeElements","els","elementAsString","maybeElement","insertElements","smoothScrollToLastElement","isLocal","DesignSetDataV","designSetData","externalGlobalSettings","validated","suppressErrorLogging","getAllProvidersAndReloadSelected","getUpdatedDesignProviders","DesignLibraryDataV","LoadingSpinner","PanelHeader","Add","closeUiPanel","openDesignLibrary","viewMode","toggleViewMode","isBrowseModeEnabled","toggleBrowseMode","PanelHeaderButton","BrowseModeToggle","panelToOpen","GlobalSettingsPanelControlsViewMode","editingGlobalSettingsControlsTreeContext","addMetadataToSettingPropertyChangeBasingOnControlValueChangeMetadata","revisionUiItems","onRevisionSelected","RevisionCommonDataV","date","author","GlobalSettingsRevisionV","GlobalSettingsRevisionsListV","SelectorsRevisionV","SelectorsRevisionsListV","DocumentRevisionWithJsonTreeV","DocumentRevisionV","ExportedTreeV","DocumentRevisionsDataFromServerV","revisions","unsupported","fetchRemoteGlobalSettingsRevisions","mapLeft","toUnion","revisionsNotSupportedMessage","revision","revisionData","isSelected","selected","RevisionItem","RevisionsList","GlobalSettingsPanelHistoryViewMode","remoteRevisions","selectedIndex","unsubscribeFromStore","currentUnsavedRevision","loadRemoteRevisions","recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch","setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData","moduleName","getModuleNameFromMutation","findSelectedIndexBasedOnStoreDataMatch","currentGlobalSettings","isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData","setCurrentUnsavedRevisionFromCurrentStoreData","mostRecentRemoteRevision","revisionUiItem","GlobalSettingsPanel","storedData","isStoringData","isLoadingData","globalSettingsPanelActiveViewMode","loadSettings","isSuccessful","requestPanelClosingConfirmation","subject","confirmationDefinition","handleUnsavedChangesPresentChange","confirmationChosenOption","chosenOption","isDiscarding","isSaving","storeSettings","updateSelectors","newSelectorName","AddSelector","fetchRemoteSelectorsRevisions","SelectorsPanelHistoryViewMode","currentSelectors","ManageSelectors","selectorsPanelPanelActiveViewMode","newSelectors","FreeModeAlertForSelectors","SelectorsList","activeSelector","editingClassOrClassHover","highlight","EditSelector","attemptingToRename","editingClassControlsTreeContext","howManyOnPage","selectorToFind","editingClassHover","matchingElements","editingClass","endsWith","findClass","selectorIsHighlightable","toggleHighlight","clearHighlight","setHighlight","selectorToHighlight","addOrUpdateInlineCSSAtEndOfHead","deleteSelector","indexToDelete","backToAllSelectors","activeElementTitle","openElementProperties","isAttemptedRenameValid","tryToRenameActiveSelector","activeSelectorIndex","toggleHover","hoverSelectorName","findHoverSelector","hoverSelector","foundClass","addMetadataToSelectorPropertyChangeBasingOnControlValueChangeMetadata","activeSelectorName","SelectorsPanel","load","toggleNodes","toggleStage","onContextMenu","initialMouseDragStatus","overTopHalf","overBottomHalf","overIndex","overNodeId","overNodeParentId","overSelf","overNestDeeper","overNestShallower","getNodeIdAtPointInStructurePanel","draggedElement","elementsFromPoint","filterByClass","sortByDepth","reverse","elementA","elementB","getElementIdDataAttrFromFirstElementThatMatchesClass","elementsList","getMouseDragStatus","dragStatus","getNewNodePosition","mouseDragStatus","maybeNodePosition","draggedNode","isLastChild","positionInsideParentNodeId","getPositionBelowParent","getPositionAtEndInside","hasPrecedingSibling","getPositionAtEndInsidePrecedingSibling","getPositionOfNode","getIdOfPrecedingSibling","precedingSiblingId","nodeChildrenCount","getPositionAfterNode","getPositionAtStartInside","parentToPositionAfter","parentToPositionAfter_","draggedNodeIndex","lastRecursedItemIndex","dragAllowed","childCount","StructurePanel","forceGrabbingCursor","firstDragMovement","didMoveElement","unsubscribeFromActivateElementMutation","delayedExpandNodeTimeout","hasPermission","expandToShowActiveElementWatch","expandedNodesWithActiveElementInside","panelHeader","activeElementDomEl","scrollToHtmlElementInsidePanel","button","dragPayload","nodeParent","ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt","newNodePosition","droppedOnElement","isDroppedOnExpandedOrEmpty","elementMoved","wrapWithTransaction","delayedExpandNode","collapseAllNodes","expandAllNodes","collapseAllNodesExcept","idOfNodeToKeepOpen","allNodesCollapsedState","nodesToExpandState","activeElementParent","disableRevisions","scrollToActiveElement","snapshots","snapshot","currentIndex","onSnapshotSelected","SnapshotItem","History","snapshotIndex","handleCurrentIndexChange","scrollToActiveSnapshotElement","activeSnapshotItemDomEl","Revisions","selectedRevisionIndex","fetchRemoteRevisions","getCurrentUnsavedRevision","setActiveRevision","currentTree","activeRevisionIndex","getActiveRevisionIndex","scrollToActiveRevision","treesEqual","activeRevision","isCurrentRevisionTheSameAsTheMostRecentRevision","maybeTree","decodedTree","behavior","HistoryAndRevisionsPanel","AppLayoutBodyPanelArea","width288","borderOnLeft","borderOnRight","SidebarPanels","reactivePanelContext","updatePanelContext","AppLayout","closingConfirmations","hasDiscard","actionText","show","markClosingConfirmationAs","hideClosingConfirmation","ClosingConfirmations","fromEntries","confirmation","TemplateDialog","decodedTemplateName","txt","templateUrl","InvalidPostDialog","invalidPostData","showDialog","FirstTimeVisit","isBuilderFirstTimeVisit","isTreeEmpty","closeForever","BuilderLayout","registerGlobalShortcuts","isRenderedWithTemplate","containsTemplateContentArea","getTemplateAttribute","templateElement","templateIdString","Error","Builder","broadcastChannel","initialMode","initialDocumentToLoadId","listenForNonceUpdates","currentDocumentMetaId","handleCurrentDocumentChange","titleParts","NO_DOCUMENT_ID","requestClosingConfirmation","removeClosingConfirmation","UnrecoverableErrors","iframeUrlToDisplay","toggleGlobalSettingsPanel","toggleSelectorsPanel","toggleHistoryAndRevisionsPanel","iframeID","BrowseModeSidebarPanels","BrowseModeSave","BrowseMode","handleBrowseModeIframeLoaded","iframeDocumentTitleToDisplay","isAnyBrowseModeSupportedPanelOpen","exitBrowseMode","disableBrowseMode","updateBrowseModePageTitle","App","useDarkMode","darkModeWatcher","$vuetify","dark","Notifications","ConditionValueV","OperandsV","RuleV","ruleDynamic","ruleDynamicMeta","DynamicFieldOutputV","valueDynamicMeta","RuleGroupV","ConditionItemGroupV","ConditionV","valueInputType","supports","ConditionsV","TriggerOptionsV","delay","percent","scrollType","clickType","limit","TriggerV","FontFileV","FontFaceV","CustomFontFamilyV","FontV","DesignProviderMetaV","thumbnailUrl","DesignProviderV","designProviders","fullSiteLastImportedFromUrl","DesignSetPostV","ScreenshotV","DynamicFieldV","returnTypes","DynamicFieldReturnTypeV","subcategory","defaultAttributes","DynamicDataAttributesV","fallback","beforeContent","afterContent","DynamicFieldsV","BuilderElementControlsV","BuilderElementAttributeTemplatedV","BuilderElementAttributePropertyPathBasedV","BuilderElementAttributeWithRawValueV","BuilderElementAttributeV","BuilderElementAttributesV","BuilderElementAdditionalClassV","BuilderElementAdditionalClassesV","BuilderElementDefaultPropertiesV","BuilderActionDataV","runForAllChildren","actionData","scripts","inlineStyles","builderCondition","frontendCondition","googleFonts","DependencyFiles","js","BuilderActionsV","onPropertyChange","onAfterDeletedElement","onMovedElement","onMountedElement","onCreatedElement","onBeforeDeletingElement","onActivatedElement","BuilderElementNestingRuleV","restrictedToBeADescendantOf","notAllowedWhenNodeTypeIsPresentInTree","PropertyPathsPropertyV","DefaultChildElementV","ElementSettingsV","AddPanelRulesV","allowedPostTypes","BuilderElementProjectManagementValueV","BuilderElementProjectManagementV","BadgeV","DynamicPropertyPathV","BuilderElementCategoryV","BuilderElementCategoriesV","ElementsExternalAttrsDepsAndActionsV","MacrosDataV","InvalidPostsErrorV","InvalidPostDataV","errorType","backToAdminUrl","SubscriptionModeV","getIoTsStringsUnionFromConstStringArray","EnvironmentV","ConfigDataLoadedFromWordPressV","ElementPresetsV","BreakdanceNeededDataV","PreferencesV","FontsV","GlobalSettingsControlsAndTemplateV","BreakdancePluginsV","LoadedSelectorDataV","GlobalMediaSizeV","PermissionV","BreakpointV","DocumentDataLoadedFromWordPressV","BreakdanceDocumentWithExportedTreeV","BreakdanceDocumentSpecificNeededUrlsV","TemplatePreviewV","SelectorCSSNameV","CSSSelectorV","RepeaterFieldV","TemplatePreviewableItemV","lastPreviewedItem","TreeNodeDataV","PartialTreeV","_nextNodeId","_lookupTable","MaybeExportedTreeV","FontWeightV","CustomTypographyInputValueV","customTypography","TypographyPresetIdV","TypographyPresetLabelAndIdV","previousCustom","jsonWhichMightBeInvalid","ioTsType","fpJsonParse","flow","decode","flatten","jsonParseOrUndefined","valueToDecode","JSON","parse","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","getter","__esModule","definition","o","defineProperty","enumerable","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}